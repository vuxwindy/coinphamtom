import{_ as A,r as u,f as k,h as a,p as w,i as n,k as s,q as y,m as i,aZ as H,L as T,j as N,B as _,N as I,F as z,n as j,s as q,l as E}from"./index-W7O16Knq.js";const Y={name:"TaskNotification",props:{show:{type:Boolean,default:!1},type:{type:String,default:"success",validator:d=>["success","error","info","warning"].includes(d)},title:{type:String,default:""},message:{type:String,default:""},reward:{type:Number,default:0},newBalance:{type:Number,default:0}},emits:["close"],setup(d,{emit:t}){const r=u(d.show),e=k(()=>`notification-${d.type}`),v=k(()=>{const o={success:"fas fa-check-circle",error:"fas fa-exclamation-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation-triangle"};return o[d.type]||o.info});return{showNotification:r,notificationType:e,iconClass:v,closeNotification:()=>{r.value=!1,t("close")},updateShow:o=>{r.value=o}}},watch:{show(d){this.showNotification=d}}},Z={class:"notification-content"},G={class:"notification-icon"},J={class:"notification-text"},K={key:0,class:"reward-info"},Q={class:"reward-amount"},U={class:"new-balance"};function X(d,t,r,e,v,m){return e.showNotification?(n(),a("div",{key:0,class:y(["task-notification",e.notificationType])},[s("div",Z,[s("div",G,[s("i",{class:y(e.iconClass)},null,2)]),s("div",J,[s("h4",null,i(r.title),1),s("p",null,i(r.message),1),r.reward?(n(),a("div",K,[s("span",Q,"+"+i(r.reward)+" PPO",1),s("span",U,"New Balance: "+i(r.newBalance)+" PPO",1)])):w("",!0)]),s("button",{onClick:t[0]||(t[0]=(...f)=>e.closeNotification&&e.closeNotification(...f)),class:"close-btn"},t[1]||(t[1]=[s("i",{class:"fas fa-times"},null,-1)]))])],2)):w("",!0)}const $=A(Y,[["render",X],["__scopeId","data-v-783f5ec2"]]),ss={name:"TaskSystem",components:{TaskNotification:$},setup(){const{tasks:d,userBalance:t,isLoading:r,error:e,isWalletConnected:v,walletAddress:m,completeTask:f,totalRewards:o,completedTasksCount:p,totalTasksCount:R,progressPercentage:x}=H(),F=k(()=>m.value?`${m.value.slice(0,6)}...${m.value.slice(-4)}`:""),O=k(()=>v.value),D=l=>l.type==="one_time"&&l.completed?!1:l.lastCompleted?Date.now()-l.lastCompleted>=l.cooldown:!0,M=k(()=>{const l=d.value.find(c=>c.id==="connect_wallet");return l?l.completed:!1}),h=u(!1),B=u("success"),P=u(""),S=u(""),W=u(0),L=u(0),b=(l,c,C,g=0,V=0)=>{B.value=l,P.value=c,S.value=C,W.value=g,L.value=V,h.value=!0,setTimeout(()=>{h.value=!1},5e3)};return{tasks:d,userBalance:t,isLoading:r,error:e,totalRewards:o,isConnected:O,shortAddress:F,completeTask:async l=>{const c=await f(l);c.success?b("success","Task Completed!",`${c.task.name} has been completed successfully!`,c.reward,c.newBalance):b("error","Task Failed",c.error||"Failed to complete task")},claimAllRewards:async()=>{b("info","Feature Coming Soon","Claim all rewards feature will be implemented soon!")},syncWalletBalance:async()=>{b("info","Sync Feature","Wallet balance sync feature will be implemented soon!")},isTaskAvailable:D,getCooldownTime:l=>{if(!l.lastCompleted)return"";const c=l.cooldown-(Date.now()-l.lastCompleted);if(c<=0)return"";const C=Math.floor(c/(1e3*60*60)),g=Math.floor(c%(1e3*60*60)/(1e3*60));return C>0?`${C}h ${g}m`:`${g}m`},showNotification:h,notificationType:B,notificationTitle:P,notificationMessage:S,notificationReward:W,notificationNewBalance:L,closeNotification:()=>{h.value=!1},isConnectWalletCompleted:M,completedTasksCount:p,totalTasksCount:R,progressPercentage:x}}},es={class:"task-system"},ts={key:0,class:"alert alert-danger"},os={class:"balance-section"},as={class:"balance-card"},ns={class:"balance-amount"},is={class:"amount"},ls={class:"balance-actions"},cs=["disabled"],ds={class:"progress-section"},rs={class:"progress-card"},fs={class:"progress-info"},ms={class:"percentage"},_s={class:"progress-bar"},us={key:1,class:"rewards-section"},vs={class:"rewards-card"},ws={class:"rewards-amount"},ks={class:"amount"},ys=["disabled"],ps={key:0,class:"fas fa-spinner fa-spin"},hs={key:1,class:"fas fa-gift"},bs={class:"tasks-section"},Cs={class:"tasks-grid"},gs={class:"task-header"},Ts={class:"task-icon"},Ns={class:"task-info"},As={class:"task-reward"},Bs={class:"reward-amount"},Ps={class:"task-status"},Ss={key:0,class:"status-completed"},Ws={key:1,class:"status-cooldown"},Ls={key:2,class:"status-available"},Rs={class:"task-actions"},xs=["onClick","disabled"],Fs={key:0,class:"fas fa-spinner fa-spin"},Os={key:1,class:"fas fa-check"},Ds={key:1,class:"btn btn-success btn-sm",disabled:""},Ms={key:2,class:"btn btn-secondary btn-sm",disabled:""},Vs={key:0,class:"cooldown-timer"},Hs={class:"wallet-status"},Is={class:"status-icon"},zs={key:0,class:"fas fa-wallet"},js={key:1,class:"fas fa-wallet-slash"},qs={class:"status-info"},Es={key:0},Ys={key:1},Zs={key:0,class:"task-reminder"},Gs={class:"reminder-card"},Js={class:"reminder-content"},Ks=["disabled"],Qs={key:0,class:"fas fa-spinner fa-spin"},Us={key:1,class:"fas fa-check"};function Xs(d,t,r,e,v,m){const f=T("TaskNotification");return n(),a("div",es,[N(f,{show:e.showNotification,type:e.notificationType,title:e.notificationTitle,message:e.notificationMessage,reward:e.notificationReward,"new-balance":e.notificationNewBalance,onClose:e.closeNotification},null,8,["show","type","title","message","reward","new-balance","onClose"]),e.error?(n(),a("div",ts,[t[3]||(t[3]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),_(" "+i(e.error),1)])):w("",!0),s("div",os,[s("div",as,[t[6]||(t[6]=s("div",{class:"balance-header"},[s("i",{class:"fas fa-coins"}),s("h3",null,"Your Balance")],-1)),s("div",ns,[s("span",is,i(e.userBalance),1),t[4]||(t[4]=s("span",{class:"currency"},"PPO",-1))]),s("div",ls,[s("button",{onClick:t[0]||(t[0]=(...o)=>e.syncWalletBalance&&e.syncWalletBalance(...o)),class:"btn btn-outline-primary btn-sm",disabled:!e.isConnected},t[5]||(t[5]=[s("i",{class:"fas fa-sync-alt"},null,-1),_(" Sync Wallet ",-1)]),8,cs)])])]),s("div",ds,[t[7]||(t[7]=s("h4",null,"Daily Progress",-1)),s("div",rs,[s("div",fs,[s("span",null,i(e.completedTasksCount)+"/"+i(e.totalTasksCount)+" tasks completed",1),s("span",ms,i(e.progressPercentage)+"%",1)]),s("div",_s,[s("div",{class:"progress-fill",style:I({width:`${e.progressPercentage}%`})},null,4)])])]),e.totalRewards>0?(n(),a("div",us,[s("div",vs,[t[9]||(t[9]=s("div",{class:"rewards-header"},[s("i",{class:"fas fa-gift"}),s("h4",null,"Available Rewards")],-1)),s("div",ws,[s("span",ks,i(e.totalRewards),1),t[8]||(t[8]=s("span",{class:"currency"},"PPO",-1))]),s("button",{onClick:t[1]||(t[1]=(...o)=>e.claimAllRewards&&e.claimAllRewards(...o)),class:"btn btn-success",disabled:!e.isConnected||e.isLoading},[e.isLoading?(n(),a("i",ps)):(n(),a("i",hs)),_(" "+i(e.isLoading?"Claiming...":"Claim All Rewards"),1)],8,ys)])])):w("",!0),s("div",bs,[t[16]||(t[16]=s("h4",null,"Available Tasks",-1)),s("div",Cs,[(n(!0),a(z,null,j(e.tasks,o=>(n(),a("div",{key:o.id,class:y(["task-card",{completed:o.completed,unavailable:!e.isTaskAvailable(o)&&!o.completed}])},[s("div",gs,[s("div",Ts,[s("i",{class:y(o.icon)},null,2)]),s("div",Ns,[s("h5",null,i(o.name),1),s("p",null,i(o.description),1)]),s("div",As,[s("span",Bs,i(o.reward),1),t[10]||(t[10]=s("span",{class:"reward-currency"},"PPO",-1))])]),s("div",Ps,[o.completed?(n(),a("div",Ss,t[11]||(t[11]=[s("i",{class:"fas fa-check-circle"},null,-1),s("span",null,"Completed",-1)]))):e.isTaskAvailable(o)?(n(),a("div",Ls,t[13]||(t[13]=[s("i",{class:"fas fa-play-circle"},null,-1),s("span",null,"Available",-1)]))):(n(),a("div",Ws,t[12]||(t[12]=[s("i",{class:"fas fa-clock"},null,-1),s("span",null,"On Cooldown",-1)])))]),s("div",Rs,[!o.completed&&e.isTaskAvailable(o)?(n(),a("button",{key:0,onClick:p=>e.completeTask(o.id),class:"btn btn-primary btn-sm",disabled:!e.isConnected||e.isLoading},[e.isLoading?(n(),a("i",Fs)):(n(),a("i",Os)),_(" "+i(e.isLoading?"Completing...":"Complete Task"),1)],8,xs)):o.completed?(n(),a("button",Ds,t[14]||(t[14]=[s("i",{class:"fas fa-check-circle"},null,-1),_(" Completed ",-1)]))):(n(),a("button",Ms,t[15]||(t[15]=[s("i",{class:"fas fa-clock"},null,-1),_(" On Cooldown ",-1)])))]),o.lastCompleted&&!e.isTaskAvailable(o)?(n(),a("div",Vs,[s("small",null," Available in: "+i(e.getCooldownTime(o)),1)])):w("",!0)],2))),128))])]),s("div",Hs,[s("div",{class:y(["status-card",{connected:e.isConnected,disconnected:!e.isConnected}])},[s("div",Is,[e.isConnected?(n(),a("i",zs)):(n(),a("i",js))]),s("div",qs,[s("h5",null,i(e.isConnected?"Wallet Connected":"Wallet Disconnected"),1),e.isConnected?(n(),a("p",Es,i(e.shortAddress),1)):(n(),a("p",Ys,"Connect your wallet to complete tasks"))])],2),e.isConnected&&!e.isConnectWalletCompleted?(n(),a("div",Zs,[s("div",Gs,[t[19]||(t[19]=s("div",{class:"reminder-icon"},[s("i",{class:"fas fa-lightbulb"})],-1)),s("div",Js,[t[17]||(t[17]=s("h6",null,"Complete Connect Wallet Task",-1)),t[18]||(t[18]=s("p",null,`Don't forget to complete the "Connect Wallet" task to earn 50 PPO!`,-1)),s("button",{onClick:t[2]||(t[2]=o=>e.completeTask("connect_wallet")),class:"btn btn-primary btn-sm",disabled:e.isLoading},[e.isLoading?(n(),a("i",Qs)):(n(),a("i",Us)),_(" "+i(e.isLoading?"Completing...":"Complete Task"),1)],8,Ks)])])])):w("",!0)])])}const $s=A(ss,[["render",Xs],["__scopeId","data-v-a4d1a6a8"]]),se={name:"Tasks",components:{Header:E,Footer:q,TaskSystem:$s}},ee={class:"tasks-page"},te={class:"page-content"},oe={class:"container"};function ae(d,t,r,e,v,m){const f=T("Header"),o=T("TaskSystem"),p=T("Footer");return n(),a("div",ee,[N(f),s("div",te,[s("div",oe,[t[0]||(t[0]=s("div",{class:"page-header"},[s("h1",null,"Daily Tasks & Rewards"),s("p",null,"Complete tasks to earn PPO tokens and boost your balance")],-1)),N(o)])]),N(p)])}const fe=A(se,[["render",ae],["__scopeId","data-v-4fa62c45"]]);export{fe as default};
