const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/resolveImplementation-uUgWN51h.js","assets/index-r-K8bCt4.js","assets/index-BwMRwPhq.css","assets/read-contract-DpACvx2n.js","assets/utils-GbVwyc3t.js","assets/extractIPFS-EreY7UGy.js","assets/getInstalledModules-CIxrj8iH.js","assets/eth_estimateGas-CoKRJiDQ.js","assets/send-eip712-transaction-FYI7wW-w.js","assets/eth_sendRawTransaction-DPdnXbFR.js","assets/concat-hex-C8eryf6L.js","assets/eth_getTransactionCount-Dy3UYLy3.js"])))=>i.map(i=>d[i]);
import{aB as Se,aC as Be,I as M,aD as Fe,aE as b,aF as ne,aG as Te,aH as f,aI as Ge,aJ as Re,aK as Le,aL as Me,aM as Ce,aN as Oe,aO as E,aP as Ue,aQ as ze,aR as Ne,aS as ke,aT as O,a9 as _,aU as N,aV as De,aW as je,aX as Ve,aY as re,aZ as Ze,a_ as He,a$ as We,b0 as Ke,b1 as Ye,a0 as Je,am as ie,aa as V,ap as y,O as P,a7 as se,ag as Qe,as as Xe,az as qe,aA as et,ac as tt,J as nt,S as $,b2 as Y,ax as rt,ao as it}from"./index-r-K8bCt4.js";const st="1.0.8";class p extends Error{constructor(t,n={}){const r=n.cause instanceof p?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof p&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${st}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}}function A(e,t){return e.exec(t)?.groups}const ae=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,oe=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ce=/^\(.+?\).*?$/,J=/^tuple(?<array>(\[(\d*)\])*)$/;function k(e){let t=e.type;if(J.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=k(s),i<n-1&&(t+=", ")}const r=A(J,e.type);return t+=`)${r?.array??""}`,k({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function G(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=k(i),r!==n-1&&(t+=", ")}return t}function ue(e){return e.type==="function"?`function ${e.name}(${G(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${G(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${G(e.inputs)})`:e.type==="error"?`error ${e.name}(${G(e.inputs)})`:e.type==="constructor"?`constructor(${G(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}function at(e){const t=[],n=e.length;for(let r=0;r<n;r++){const i=e[r],s=ue(i);t.push(s)}return t}const de=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ot(e){return de.test(e)}function ct(e){return A(de,e)}const le=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ut(e){return le.test(e)}function dt(e){return A(le,e)}const fe=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function lt(e){return fe.test(e)}function ft(e){return A(fe,e)}const pe=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function ye(e){return pe.test(e)}function pt(e){return A(pe,e)}const he=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function yt(e){return he.test(e)}function ht(e){return A(he,e)}const me=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function mt(e){return me.test(e)}function gt(e){return A(me,e)}const bt=/^receive\(\) external payable$/;function Pt(e){return bt.test(e)}const wt=new Set(["indexed"]),D=new Set(["calldata","memory","storage"]);class hr extends p{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class xt extends p{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class vt extends p{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class It extends p{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class At extends p{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class $t extends p{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Et extends p{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class _t extends p{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class T extends p{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class St extends p{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Bt extends p{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ft extends p{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Tt extends p{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Gt(e,t,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const a of i[1])s+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${i[0]}{${s}})`}return t?`${t}:${e}${r}`:e}const U=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Rt(e,t={}){if(lt(e))return Lt(e,t);if(ut(e))return Mt(e,t);if(ot(e))return Ct(e,t);if(yt(e))return Ot(e,t);if(mt(e))return Ut(e);if(Pt(e))return{type:"receive",stateMutability:"payable"};throw new St({signature:e})}function Lt(e,t={}){const n=ft(e);if(!n)throw new T({signature:e,type:"function"});const r=x(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(S(r[o],{modifiers:D,structs:t,type:"function"}));const a=[];if(n.returns){const o=x(n.returns),c=o.length;for(let u=0;u<c;u++)a.push(S(o[u],{modifiers:D,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:a}}function Mt(e,t={}){const n=dt(e);if(!n)throw new T({signature:e,type:"event"});const r=x(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(S(r[a],{modifiers:wt,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}function Ct(e,t={}){const n=ct(e);if(!n)throw new T({signature:e,type:"error"});const r=x(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(S(r[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}function Ot(e,t={}){const n=ht(e);if(!n)throw new T({signature:e,type:"constructor"});const r=x(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(S(r[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function Ut(e){const t=gt(e);if(!t)throw new T({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const zt=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Nt=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,kt=/^u?int$/;function S(e,t){const n=Gt(e,t?.type,t?.structs);if(U.has(n))return U.get(n);const r=ce.test(e),i=A(r?Nt:zt,e);if(!i)throw new It({param:e});if(i.name&&jt(i.name))throw new At({param:e,name:i.name});const s=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},o=t?.structs??{};let c,u={};if(r){c="tuple";const m=x(i.type),g=[],v=m.length;for(let d=0;d<v;d++)g.push(S(m[d],{structs:o}));u={components:g}}else if(i.type in o)c="tuple",u={components:o[i.type]};else if(kt.test(i.type))c=`${i.type}256`;else if(c=i.type,t?.type!=="struct"&&!ge(c))throw new vt({type:c});if(i.modifier){if(!t?.modifiers?.has?.(i.modifier))throw new $t({param:e,type:t?.type,modifier:i.modifier});if(D.has(i.modifier)&&!Vt(c,!!i.array))throw new Et({param:e,type:t?.type,modifier:i.modifier})}const l={type:`${c}${i.array??""}`,...s,...a,...u};return U.set(n,l),l}function x(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const a=e[s],o=e.slice(s+1);switch(a){case",":return r===0?x(o,[...t,n.trim()]):x(o,t,`${n}${a}`,r);case"(":return x(o,t,`${n}${a}`,r+1);case")":return x(o,t,`${n}${a}`,r-1);default:return x(o,t,`${n}${a}`,r)}}if(n==="")return t;if(r!==0)throw new Tt({current:n,depth:r});return t.push(n.trim()),t}function ge(e){return e==="address"||e==="bool"||e==="function"||e==="string"||ae.test(e)||oe.test(e)}const Dt=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function jt(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||ae.test(e)||oe.test(e)||Dt.test(e)}function Vt(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Zt(e){const t={},n=e.length;for(let a=0;a<n;a++){const o=e[a];if(!ye(o))continue;const c=pt(o);if(!c)throw new T({signature:o,type:"struct"});const u=c.properties.split(";"),l=[],m=u.length;for(let g=0;g<m;g++){const d=u[g].trim();if(!d)continue;const h=S(d,{type:"struct"});l.push(h)}if(!l.length)throw new Bt({signature:o});t[c.name]=l}const r={},i=Object.entries(t),s=i.length;for(let a=0;a<s;a++){const[o,c]=i[a];r[o]=be(c,t)}return r}const Ht=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function be(e,t,n=new Set){const r=[],i=e.length;for(let s=0;s<i;s++){const a=e[s];if(ce.test(a.type))r.push(a);else{const c=A(Ht,a.type);if(!c?.type)throw new _t({abiParameter:a});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new Ft({type:l});r.push({...a,type:`tuple${u??""}`,components:be(t[l]??[],t,new Set([...n,l]))})}else if(ge(l))r.push(a);else throw new xt({type:l})}}return r}function Wt(e){const t=Zt(e),n=[],r=e.length;for(let i=0;i<r;i++){const s=e[i];ye(s)||n.push(Rt(s,t))}return n}function Z(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const Kt=e=>Se(Be(e));function Yt(e){return Kt(e)}function Jt(e){let t=!0,n="",r=0,i="",s=!1;for(let a=0;a<e.length;a++){const o=e[a];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function",""].includes(i))i="";else if(i+=o,o===")"){s=!0;break}continue}if(o===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=o,n+=o}}if(!s)throw new M("Unable to normalize signature.");return i}const Qt=e=>{const t=typeof e=="string"?e:ue(e);return Jt(t)};function Xt(e){return Yt(Qt(e))}function F(e){return typeof e[0]=="string"?en(e):qt(e)}function qt(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function en(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function C(e,t,n,{strict:r}={}){return Fe(e,{strict:!1})?tn(e,t,n,{strict:r}):xe(e,t,n,{strict:r})}function Pe(e,t){if(typeof t=="number"&&t>0&&t>b(e)-1)throw new ne({offset:t,position:"start",size:b(e)})}function we(e,t,n){if(typeof t=="number"&&typeof n=="number"&&b(e)!==n-t)throw new ne({offset:n,position:"end",size:b(e)})}function xe(e,t,n,{strict:r}={}){Pe(e,t);const i=e.slice(t,n);return r&&we(i,t,n),i}function tn(e,t,n,{strict:r}={}){Pe(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&we(i,t,n),i}function mr(e,t){if(e.length!==t.length)throw new Te({expectedLength:e.length,givenLength:t.length});const n=nn({params:e,values:t}),r=W(n);return r.length===0?"0x":r}function nn({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(H({param:e[r],value:t[r]}));return n}function H({param:e,value:t}){const n=K(e.type);if(n){const[r,i]=n;return sn(t,{length:r,param:{...e,type:i}})}if(e.type==="tuple")return dn(t,{param:e});if(e.type==="address")return rn(t);if(e.type==="bool")return on(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,i="256"]=Ge.exec(e.type)??[];return cn(t,{signed:r,size:Number(i)})}if(e.type.startsWith("bytes"))return an(t,{param:e});if(e.type==="string")return un(t);throw new Re(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function W(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:o}=e[s];a?t+=32:t+=b(o)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:o}=e[s];a?(n.push(f(t+i,{size:32})),r.push(o),i+=b(o)):n.push(o)}return F([...n,...r])}function rn(e){if(!Ce(e))throw new Oe({address:e});return{dynamic:!1,encoded:E(e.toLowerCase())}}function sn(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Le(e);if(!r&&e.length!==t)throw new Me({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const s=[];for(let a=0;a<e.length;a++){const o=H({param:n,value:e[a]});o.dynamic&&(i=!0),s.push(o)}if(r||i){const a=W(s);if(r){const o=f(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?F([o,a]):o}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:F(s.map(({encoded:a})=>a))}}function an(e,{param:t}){const[,n]=t.type.split("bytes"),r=b(e);if(!n){let i=e;return r%32!==0&&(i=E(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:F([E(f(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new Ne({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:E(e,{dir:"right"})}}function on(e){if(typeof e!="boolean")throw new M(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:E(Ue(e))}}function cn(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new ze({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:f(e,{size:32,signed:t})}}function un(e){const t=ke(e),n=Math.ceil(b(t)/32),r=[];for(let i=0;i<n;i++)r.push(E(C(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:F([E(f(b(t),{size:32})),...r])}}function dn(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],a=Array.isArray(e)?i:s.name,o=H({param:s,value:e[a]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?W(r):F(r.map(({encoded:i})=>i))}}function K(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const ln=e=>C(Xt(e),0,4),fn={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},pn={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class Q extends M{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class yn extends M{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class hn extends M{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const mn={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new hn({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new yn({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Q({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Q({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function gn(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(mn);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function bn(e,t={}){typeof t.size<"u"&&O(e,{size:t.size});const n=_(e,t);return je(n,t)}function Pn(e,t={}){let n=e;if(typeof t.size<"u"&&(O(n,{size:t.size}),n=Z(n)),n.length>1||n[0]>1)throw new De(n);return!!n[0]}function I(e,t={}){typeof t.size<"u"&&O(e,{size:t.size});const n=_(e,t);return N(n,t)}function wn(e,t={}){let n=e;return typeof t.size<"u"&&(O(n,{size:t.size}),n=Z(n,{dir:"right"})),new TextDecoder().decode(n)}function xn(e,t){const n=typeof t=="string"?Ve(t):t,r=gn(n);if(b(n)===0&&e.length>0)throw new re;if(b(t)&&b(t)<32)throw new Ze({data:typeof t=="string"?t:_(t),params:e,size:b(t)});let i=0;const s=[];for(let a=0;a<e.length;++a){const o=e[a];r.setPosition(i);const[c,u]=B(r,o,{staticPosition:0});i+=u,s.push(c)}return s}function B(e,t,{staticPosition:n}){const r=K(t.type);if(r){const[i,s]=r;return In(e,{...t,type:s},{length:i,staticPosition:n})}if(t.type==="tuple")return _n(e,t,{staticPosition:n});if(t.type==="address")return vn(e);if(t.type==="bool")return An(e);if(t.type.startsWith("bytes"))return $n(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return En(e,t);if(t.type==="string")return Sn(e,{staticPosition:n});throw new He(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const X=32,j=32;function vn(e){const t=e.readBytes(32);return[We(_(xe(t,-20))),32]}function In(e,t,{length:n,staticPosition:r}){if(!n){const a=I(e.readBytes(j)),o=r+a,c=o+X;e.setPosition(o);const u=I(e.readBytes(X)),l=L(t);let m=0;const g=[];for(let v=0;v<u;++v){e.setPosition(c+(l?v*32:m));const[d,h]=B(e,t,{staticPosition:c});m+=h,g.push(d)}return e.setPosition(r+32),[g,32]}if(L(t)){const a=I(e.readBytes(j)),o=r+a,c=[];for(let u=0;u<n;++u){e.setPosition(o+u*32);const[l]=B(e,t,{staticPosition:o});c.push(l)}return e.setPosition(r+32),[c,32]}let i=0;const s=[];for(let a=0;a<n;++a){const[o,c]=B(e,t,{staticPosition:r+i});i+=c,s.push(o)}return[s,i]}function An(e){return[Pn(e.readBytes(32),{size:32}),32]}function $n(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const a=I(e.readBytes(32));e.setPosition(n+a);const o=I(e.readBytes(32));if(o===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(o);return e.setPosition(n+32),[_(c),32]}return[_(e.readBytes(Number.parseInt(i),32)),32]}function En(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[r>48?bn(i,{signed:n}):I(i,{signed:n}),32]}function _n(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),i=r?[]:{};let s=0;if(L(t)){const a=I(e.readBytes(j)),o=n+a;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(o+s);const[l,m]=B(e,u,{staticPosition:o});s+=m,i[r?c:u?.name]=l}return e.setPosition(n+32),[i,32]}for(let a=0;a<t.components.length;++a){const o=t.components[a],[c,u]=B(e,o,{staticPosition:n});i[r?a:o?.name]=c,s+=u}return[i,s]}function Sn(e,{staticPosition:t}){const n=I(e.readBytes(32)),r=t+n;e.setPosition(r);const i=I(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),a=wn(Z(s));return e.setPosition(t+32),[a,32]}function L(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(L);const n=K(e.type);return!!(n&&L({...e,type:n[1]}))}function Bn(e){const{abi:t,data:n}=e,r=C(n,0,4);if(r==="0x")throw new re;const s=[...t||[],fn,pn].find(a=>a.type==="error"&&r===ln(Ke(a)));if(!s)throw new Ye(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?xn(s.inputs,C(n,4)):void 0,errorName:s.name}}const Fn={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Tn(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=Gn(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>_(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=f(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=f(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=f(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=f(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=f(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=f(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Fn[e.type]),typeof e.value<"u"&&(t.value=f(e.value)),t}function Gn(e){return e.map(t=>({address:t.address,r:t.r?f(BigInt(t.r)):t.r,s:t.s?f(BigInt(t.s)):t.s,chainId:f(t.chainId),nonce:f(t.nonce),...typeof t.yParity<"u"?{yParity:f(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:f(t.v)}:{}}))}const Rn={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ln(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?N(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?N(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Rn[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=Mn(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function Mn(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Cn(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:Ln(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}function On(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}async function Un(e,t){const n=t.blockTag??"latest",r=t.includeTransactions??!1,i=t.blockNumber!==void 0?Je(t.blockNumber):void 0,s=await e({method:"eth_getBlockByNumber",params:[i||n,r]});if(!s)throw new Error("Block not found");return Cn(s)}async function zn(e){const t=await e({method:"eth_maxPriorityFeePerGas"});return ie(t)}function ve(e,t){let[n,r=""]=e.split(".");const i=n.startsWith("-")?"-":"";if(i&&(n=n.slice(1)),r=r.padEnd(t,"0"),t===0)r[0]&&Number.parseInt(r[0])>=5&&(n=(BigInt(n)+1n).toString()),r="";else if(r.length>t){const s=r[t];s&&Number.parseInt(s,10)>=5?(r=(BigInt(r.substring(0,t))+1n).toString().padStart(t,"0"),r.length>t&&(n=(BigInt(n)+1n).toString(),r=r.substring(r.length-t))):r=r.substring(0,t)}return BigInt(`${i}${n}${r}`)}function gr(e){return ve(e,18)}async function Nn(e){const t=await e({method:"eth_gasPrice"});return ie(t)}async function q(e){const{client:t,chain:n,percentMultiplier:r}=e,i=V({chain:n,client:t}),s=await Nn(i),a=r?s/BigInt(100)*BigInt(r):0n;return s+a}function R(e){if(e===0n||(e&e-1n)===0n)return e;let t=1n;for(;e>0n;)e>>=1n,t<<=1n;return t}const kn=[78600,2040,248,9372,841,842,2016,9768,2442,1942999413,1952959480,994873017,19011,40875,1511670449,5464,2020,2021,98866];async function Dn(e){const[t,n,r,i]=await Promise.all([y(e.maxFeePerGas),y(e.maxPriorityFeePerGas),y(e.gasPrice),y(e.type)]);if(t!==void 0&&n!==void 0)return{maxFeePerGas:t,maxPriorityFeePerGas:n};if(typeof r=="bigint")return{gasPrice:r};const s=await jn(e.client,e.chain,i==="legacy"?"legacy":"eip1559");return e.chain.experimental?.increaseZeroByteCount?s.gasPrice?{gasPrice:R(s.gasPrice)}:{maxFeePerGas:t??R(s.maxFeePerGas??0n),maxPriorityFeePerGas:n??R(s.maxPriorityFeePerGas??0n)}:s.gasPrice!==void 0?s:{maxFeePerGas:t??s.maxFeePerGas,maxPriorityFeePerGas:n??s.maxPriorityFeePerGas}}async function jn(e,t,n){if((n??t.feeType)==="legacy"||kn.includes(t.id))return{gasPrice:await q({chain:t,client:e,percentMultiplier:10})};const i=await Vn(e,t);return i.maxFeePerGas!==null&&i.maxPriorityFeePerGas!==null?{maxFeePerGas:i.maxFeePerGas,maxPriorityFeePerGas:i.maxPriorityFeePerGas}:{gasPrice:await q({chain:t,client:e,percentMultiplier:10})}}async function Vn(e,t,n=10){let r=null,i=null;const s=V({chain:t,client:e}),[a,o]=await Promise.all([Un(s,{blockTag:"latest"}),zn(s).catch(()=>null)]),c=a?.baseFeePerGas,u=t.id;return u===220||u===1220?{maxFeePerGas:null,maxPriorityFeePerGas:null}:(u===80002||u===137?i=await Kn(u):o!==null&&(i=o),i==null||c==null?{maxFeePerGas:null,maxPriorityFeePerGas:null}:(i=Zn(i,n),r=c*2n+i,(u===42220||u===44787||u===62320)&&(i=r),{maxFeePerGas:r,maxPriorityFeePerGas:i}))}function Zn(e,t=10){const n=e/BigInt(100)*BigInt(t);return e+n}function Hn(e){switch(e){case 137:return"https://gasstation.polygon.technology/v2";case 80002:return"https://gasstation-testnet.polygon.technology/v2"}}const Wn=31n;async function Kn(e){const t=Hn(e);try{const r=(await(await fetch(t)).json()).fast.maxPriorityFee;if(r>0){const i=Number.parseFloat(r).toFixed(9);return ve(i,9)}}catch(n){console.error("failed to fetch gas",n)}return Wn}const Yn=On({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),Jn="https://{clientId}.ipfscdn.io/ipfs/{cid}";function Qn(e){if(e.uri.startsWith("ipfs://")){const t=e.client.config?.storage?.gatewayUrl??Jn,n=e.client.clientId,r=Xn(e.uri);let i;return typeof globalThis<"u"&&"Application"in globalThis&&(i=globalThis.Application.applicationId),`${t.replace("{clientId}",n).split("/ipfs")[0]}/ipfs/${r}${i?`?bundleId=${i}`:""}`}if(e.uri.startsWith("http"))return e.uri;throw new Error('Invalid URI scheme, expected "ipfs://" or "http(s)://"')}function Xn(e){if(!e.startsWith("ipfs://"))return e;const t=e.search(/\/(Qm|baf)/i);return e.slice(t+1)}async function qn(e){let t;if(e.uri.startsWith("ar://")){const{resolveArweaveScheme:r}=await P(async()=>{const{resolveArweaveScheme:i}=await import("./arweave-CAGvOb64.js");return{resolveArweaveScheme:i}},[]);t=r(e)}else t=Qn(e);const n=await se(e.client)(t,{headers:e.client.config?.storage?.fetch?.headers,keepalive:e.client.config?.storage?.fetch?.keepalive,requestTimeoutMs:e.requestTimeoutMs??e.client.config?.storage?.fetch?.requestTimeoutMs??6e4});if(!n.ok){const r=await n.text();throw new Error(`Failed to download file: ${n.status} ${n.statusText} ${r||""}`)}return n}function er(e,t="https://contract.thirdweb.com/abi"){return Qe(async()=>{if(e.abi)return e.abi;if(e.chain.id===31337||e.chain.id===1337||e.chain.id===Yn.id)return await ee(e);try{return await tr(e,t)}catch{return await ee(e)}},{cacheKey:`${e.chain.id}-${e.address}`,cacheTime:1e3*60*60*1})}async function tr(e,t="https://contract.thirdweb.com/abi"){const r=await(await se(e.client)(`${t}/${e.chain.id}/${e.address}`)).json();if(!r||r.error)throw new Error(`Failed to resolve ABI from contract API. ${r.error||""}`);return r}async function Ie(e){const[{resolveImplementation:t},{extractIPFSUri:n}]=await Promise.all([P(()=>import("./resolveImplementation-uUgWN51h.js"),__vite__mapDeps([0,1,2,3,4])),P(()=>import("./extractIPFS-EreY7UGy.js"),__vite__mapDeps([5,1,2]))]),{bytecode:r}=await t(e);if(r==="0x"){const{id:s,name:a}=e.chain;throw new Error(`Failed to load contract bytecode. Make sure the contract [${e.address}] exists on the chain [${a||"Unknown Chain"} (chain id: ${s})]`)}const i=n(r);if(!i)return[];try{return(await(await qn({client:e.client,uri:i})).json()).output.abi}catch{return[]}}const nr={inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"},rr={inputs:[],name:"getAllExtensions",outputs:[{components:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IExtension.ExtensionMetadata",name:"metadata",type:"tuple"},{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"}],internalType:"struct IExtension.ExtensionFunction[]",name:"functions",type:"tuple[]"}],internalType:"struct IExtension.Extension[]",name:"allExtensions",type:"tuple[]"}],stateMutability:"view",type:"function"},ir={inputs:[],name:"facets",outputs:[{components:[{internalType:"address",name:"facetAddress",type:"address"},{internalType:"bytes4[]",name:"functionSelectors",type:"bytes4[]"}],type:"tuple[]"}],stateMutability:"view",type:"function"};async function ee(e,t,n){const[r,i,s,a,o]=await Promise.all([Ie(e),sr(e),ar(e),or(e),cr(e)]),c=[...new Set([...i,...s,...a,...o])];if(!c.length)return r;const u=await ur({contract:e,plugins:c,resolveSubAbi:n});return dr({pluginAbis:u,rootAbi:r})}async function sr(e){try{const{readContract:t}=await P(async()=>{const{readContract:r}=await import("./read-contract-DpACvx2n.js");return{readContract:r}},__vite__mapDeps([3,1,2,4])),n=await t({contract:e,method:nr});return n.length?[...new Set(n.map(r=>r.pluginAddress))]:[]}catch{}return[]}async function ar(e){try{const{readContract:t}=await P(async()=>{const{readContract:r}=await import("./read-contract-DpACvx2n.js");return{readContract:r}},__vite__mapDeps([3,1,2,4])),n=await t({contract:e,method:rr});return n.length?[...new Set(n.map(r=>r.metadata.implementation))]:[]}catch{}return[]}async function or(e){try{const{getInstalledModules:t}=await P(async()=>{const{getInstalledModules:r}=await import("./getInstalledModules-CIxrj8iH.js");return{getInstalledModules:r}},__vite__mapDeps([6,3,1,2,4])),n=await t({contract:e});return n.length?[...new Set(n.map(r=>r.implementation))]:[]}catch{}return[]}async function cr(e){try{const{readContract:t}=await P(async()=>{const{readContract:r}=await import("./read-contract-DpACvx2n.js");return{readContract:r}},__vite__mapDeps([3,1,2,4])),n=await t({contract:e,method:ir});return n.length?n.map(r=>r.facetAddress):[]}catch{}return[]}async function ur(e){return Promise.all(e.plugins.map(t=>{const n=Xe({...e.contract,address:t});return e.resolveSubAbi?e.resolveSubAbi(n):Ie(n)}))}function dr(e){let t=e.pluginAbis.flat().filter(r=>r.type!=="constructor");e.rootAbi&&(t=[...e.rootAbi,...t].filter(r=>r.type!=="fallback"&&r.type!=="receive").filter(Boolean));const n=[...new Set(at(t))];return Wt(n)}async function te(e){const{error:t,contract:n,fromAddress:r}=e;qe(t)&&n&&et({chainId:n.chain?.id,client:n.client,contractAddress:n.address,error:t,walletAddress:r});const i=await lr({contract:n,error:t});return i?new fr(i,n):t}async function lr(e){const{error:t,contract:n}=e;if(typeof t=="object"){const r=t;if(r.data&&r.data!=="0x"&&tt(r.data)){let i=n?.abi;n&&!i&&(i=await er(n).catch(()=>{}));const s=Bn({abi:i,data:r.data});return`${s.errorName}${s.args?` - ${s.args}`:""}`}}return`Execution Reverted: ${nt(t)}`}class fr extends Error{constructor(t,n){let r=t;super(r),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chainId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TransactionError",this.contractAddress=n?.address,this.chainId=n?.chain?.id,this.message=r}}const z=new WeakMap;async function pr(e){const t=typeof e.from=="string"?e.from??void 0:e.from?.address??e.account?.address,n={...e.transaction,from:t};if(z.has(n))return z.get(n);const{account:r}=e,i=(async()=>{const s=await y(e.transaction.gas);if(s!==void 0)return s;if(r?.estimateGas)try{let d=await r.estimateGas(e.transaction);return e.transaction.chain.experimental?.increaseZeroByteCount&&(d=R(d)),d}catch(d){throw await te({contract:e.transaction.__contract,error:d,fromAddress:t})}const{encode:a}=await P(async()=>{const{encode:d}=await import("./index-r-K8bCt4.js").then(h=>h.bA);return{encode:d}},__vite__mapDeps([1,2])),[o,c,u,l]=await Promise.all([a(e.transaction),y(e.transaction.to),y(e.transaction.value),y(e.transaction.authorizationList)]),[{getRpcClient:m},{eth_estimateGas:g}]=await Promise.all([P(()=>import("./index-r-K8bCt4.js").then(d=>d.bB),__vite__mapDeps([1,2])),P(()=>import("./eth_estimateGas-CoKRJiDQ.js"),__vite__mapDeps([7,1,2]))]),v=m(e.transaction);try{const d=Tn({authorizationList:l?.map(w=>({...w,contractAddress:$(w.address),nonce:Number(w.nonce),r:Y(w.r),s:Y(w.s)})),data:o,from:t?$(t):void 0,to:c?$(c):void 0,value:u});let h=await g(v,d);return e.transaction.chain.experimental?.increaseZeroByteCount&&(h=R(h)),h}catch(d){throw await te({contract:e.transaction.__contract,error:d,fromAddress:t})}})();return z.set(n,i),i}async function br(e){if(await rt(e.transaction.chain)){const{getZkGasFees:h}=await P(async()=>{const{getZkGasFees:Ee}=await import("./send-eip712-transaction-FYI7wW-w.js").then(_e=>_e.a);return{getZkGasFees:Ee}},__vite__mapDeps([8,9,1,2,10])),{gas:w,maxFeePerGas:Ae,maxPriorityFeePerGas:$e}=await h({from:typeof e.from=="string"?$(e.from):e.from!==void 0?$(e.from.address):void 0,transaction:e.transaction});e.transaction={...e.transaction,gas:w,maxFeePerGas:Ae,maxPriorityFeePerGas:$e}}const n=V(e.transaction),r=e.transaction.chain.id,i=e.from;let[s,a,o,c,u,l,m,g,v]=await Promise.all([it(e.transaction),(async()=>{const h=await y(e.transaction.nonce);return h!==void 0?h:i?await P(async()=>{const{eth_getTransactionCount:w}=await import("./eth_getTransactionCount-Dy3UYLy3.js");return{eth_getTransactionCount:w}},__vite__mapDeps([11,1,2])).then(({eth_getTransactionCount:w})=>w(n,{address:typeof i=="string"?$(i):$(i.address),blockTag:"pending"})):void 0})(),pr({...e,from:e.from}),Dn(e.transaction),y(e.transaction.to),y(e.transaction.accessList),y(e.transaction.value),y(e.transaction.authorizationList),y(e.transaction.type)]);const d=await y(e.transaction.extraGas);return d&&(o+=d),{accessList:l,authorizationList:g,chainId:r,data:s,gas:o,nonce:a,to:u,type:v,value:m,...c}}export{hr as I,yn as P,gr as a,br as b,F as c,gn as d,xn as e,Xt as f,jn as g,ln as h,mr as i,Bn as j,Zt as k,ye as l,Rn as m,Rt as p,ve as t};
