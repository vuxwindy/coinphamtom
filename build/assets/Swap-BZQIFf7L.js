import{_ as ls,r as l,o as R,y as is,l as y,c as r,a as q,d as cs,b as s,f as D,H as rs,e as _,p as h,s as T,z as f,t as a,F as E,g as P,q as us,i as ds,A as vs,j as u,k as B}from"./index-r-K8bCt4.js";const ms={class:"swap-page"},ps={class:"swap-interface padding-large"},fs={class:"container"},bs={class:"row justify-content-center"},ws={class:"col-lg-6 col-md-8"},ks={class:"swap-card"},Cs={key:0,class:"wallet-notice"},gs={key:1,class:"swap-form"},ys={class:"token-input"},_s={class:"input-group"},hs=["src","alt"],Ts={class:"token-symbol"},As={class:"balance-info"},Ss={class:"token-input"},xs={class:"input-group"},Fs=["src","alt"],Ds={class:"token-symbol"},Es={class:"balance-info"},Ps={key:0,class:"swap-details"},Bs={class:"detail-row"},Ms={class:"detail-row"},Ls={class:"detail-row"},Us=["disabled"],Vs={key:0,class:"fas fa-spinner fa-spin me-2"},Ws={key:1,class:"fas fa-exchange-alt me-2"},Hs={class:"swap-settings"},$s={key:1,class:"settings-panel"},Ns={class:"setting-item"},Os={class:"slippage-inputs"},Is=["onClick"],js={class:"modal-body"},Rs={class:"search-box"},qs={class:"token-list"},zs=["onClick"],Js=["src","alt"],Ys={class:"token-info"},Gs={class:"token-symbol"},Ks={class:"token-name"},Qs={class:"token-balance"},Xs={class:"recent-transactions padding-large bg-dark"},Zs={class:"container"},se={class:"row"},ee={class:"col-12"},te={class:"transactions-list"},oe={class:"tx-details"},ae={class:"tx-pair"},ne={class:"tx-time"},le={__name:"Swap",setup(ie){const{isWalletConnected:M,connectWallet:L}=vs(),d=l(!1),U=l(null),z=l("0"),V=o=>{const{address:e}=o.detail;d.value=!0,U.value=e},W=()=>{d.value=!1,U.value=null,z.value="0"};R(()=>{window.addEventListener("wallet-connected",V),window.addEventListener("wallet-disconnected",W)}),is(()=>{window.removeEventListener("wallet-connected",V),window.removeEventListener("wallet-disconnected",W)});const m=l(!1),b=l(!1),A=l(!1),S=l(!1),v=l(""),w=l(.5),k=l(""),n=reactive({fromAmount:"",toAmount:""}),C=l([{symbol:"ETH",name:"Ethereum",address:"0x0000000000000000000000000000000000000000",icon:"/src/assets/images/eth-icon.png",decimals:18},{symbol:"PPO",name:"PixelPayot Token",address:"0x1234567890123456789012345678901234567890",icon:"/src/assets/images/ppo-icon.png",decimals:18},{symbol:"USDT",name:"Tether USD",address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",icon:"/src/assets/images/usdt-icon.png",decimals:6},{symbol:"USDC",name:"USD Coin",address:"0xA0b86a33E6441b8C4C8C8C8C8C8C8C8C8C8C8C8",icon:"/src/assets/images/usdc-icon.png",decimals:6}]),i=l(C.value[0]),c=l(C.value[1]),H=l({}),p=l(0),$=l(0),J=[.1,.5,1],N=l([{hash:"0x123...",fromAmount:"1.5",fromToken:"ETH",toAmount:"2500",toToken:"PPO",timestamp:Date.now()-36e5,status:"completed"},{hash:"0x456...",fromAmount:"100",fromToken:"PPO",toAmount:"0.06",toToken:"ETH",timestamp:Date.now()-72e5,status:"pending"}]),Y=y(()=>v.value?C.value.filter(o=>o.symbol.toLowerCase().includes(v.value.toLowerCase())||o.name.toLowerCase().includes(v.value.toLowerCase())):C.value),O=y(()=>i.value.symbol==="ETH"&&c.value.symbol==="PPO"?1666.67:i.value.symbol==="PPO"&&c.value.symbol==="ETH"?6e-4:1),G=y(()=>"0.005"),I=y(()=>n.fromAmount>0&&parseFloat(n.fromAmount)<=p.value&&i.value.address!==c.value.address),K=async()=>{try{d.value?await L():await L()}catch(o){console.error("Failed to connect wallet:",o)}},g=()=>{if(n.fromAmount>0){const o=O.value;n.toAmount=(parseFloat(n.fromAmount)*o).toFixed(6)}else n.toAmount=""},Q=()=>{const o=i.value;i.value=c.value,c.value=o,g()},X=()=>{n.fromAmount=p.value.toString(),g()},Z=async()=>{if(I.value)try{m.value=!0,await new Promise(o=>setTimeout(o,2e3)),N.value.unshift({hash:"0x"+Math.random().toString(36).substr(2,9),fromAmount:n.fromAmount,fromToken:i.value.symbol,toAmount:n.toAmount,toToken:c.value.symbol,timestamp:Date.now(),status:"completed"}),n.fromAmount="",n.toAmount="",await j()}catch(o){console.error("Swap failed:",o)}finally{m.value=!1}},ss=o=>{b.value?i.value=o:c.value=o,x(),g()},x=()=>{b.value=!1,A.value=!1,v.value=""},es=()=>{k.value>0&&(w.value=parseFloat(k.value))},F=o=>H.value[o]||0,j=async()=>{if(!(!d.value&&!M.value))try{H.value={"0x0000000000000000000000000000000000000000":2.5,"0x1234567890123456789012345678901234567890":5e3,"0xdAC17F958D2ee523a2206206994597C13D831ec7":100,"0xA0b86a33E6441b8C4C8C8C8C8C8C8C8C8C8C8C8":50},p.value=F(i.value.address),$.value=F(c.value.address)}catch(o){console.error("Failed to load balances:",o)}},ts=()=>m.value?"Swapping...":!d.value&&!M.value?"Connect Wallet":n.fromAmount?parseFloat(n.fromAmount)>p.value?"Insufficient Balance":i.value.address===c.value.address?"Select different tokens":"Swap":"Enter an amount",os=o=>{const t=Date.now()-o;return t<6e4?"Just now":t<36e5?`${Math.floor(t/6e4)}m ago`:t<864e5?`${Math.floor(t/36e5)}h ago`:`${Math.floor(t/864e5)}d ago`},as=o=>{switch(o){case"completed":return"fas fa-check-circle";case"pending":return"fas fa-clock";case"failed":return"fas fa-times-circle";default:return"fas fa-question-circle"}};return R(()=>{j()}),(o,e)=>(u(),r("div",ms,[q(rs),e[26]||(e[26]=cs('<section class="swap-hero padding-large" data-v-f1bc8159><div class="container" data-v-f1bc8159><div class="row justify-content-center" data-v-f1bc8159><div class="col-lg-8 col-md-10" data-v-f1bc8159><div class="swap-header text-center" data-v-f1bc8159><h1 class="swap-title" data-v-f1bc8159>Token Swap</h1><p class="swap-subtitle" data-v-f1bc8159>Swap tokens instantly with the best rates</p></div></div></div></div></section>',1)),s("section",ps,[s("div",fs,[s("div",bs,[s("div",ws,[s("div",ks,[d.value?(u(),r("div",gs,[s("div",ys,[e[13]||(e[13]=s("label",null,"From",-1)),s("div",_s,[h(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>f(n).fromAmount=t),type:"number",class:"form-control",placeholder:"0.0",onInput:g},null,544),[[T,f(n).fromAmount]]),s("div",{class:"token-selector",onClick:e[1]||(e[1]=t=>b.value=!0)},[s("img",{src:i.value.icon,alt:i.value.symbol,class:"token-icon"},null,8,hs),s("span",Ts,a(i.value.symbol),1),e[12]||(e[12]=s("i",{class:"fas fa-chevron-down"},null,-1))])]),s("div",As,[s("span",null,"Balance: "+a(p.value)+" "+a(i.value.symbol),1),s("button",{class:"btn-link",onClick:X},"Max")])]),s("div",{class:"swap-direction"},[s("button",{class:"direction-btn",onClick:Q},e[14]||(e[14]=[s("i",{class:"fas fa-exchange-alt"},null,-1)]))]),s("div",Ss,[e[16]||(e[16]=s("label",null,"To",-1)),s("div",xs,[h(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>f(n).toAmount=t),type:"number",class:"form-control",placeholder:"0.0",readonly:""},null,512),[[T,f(n).toAmount]]),s("div",{class:"token-selector",onClick:e[3]||(e[3]=t=>A.value=!0)},[s("img",{src:c.value.icon,alt:c.value.symbol,class:"token-icon"},null,8,Fs),s("span",Ds,a(c.value.symbol),1),e[15]||(e[15]=s("i",{class:"fas fa-chevron-down"},null,-1))])]),s("div",Es,[s("span",null,"Balance: "+a($.value)+" "+a(c.value.symbol),1)])]),f(n).fromAmount>0?(u(),r("div",Ps,[s("div",Bs,[e[17]||(e[17]=s("span",null,"Rate",-1)),s("span",null,"1 "+a(i.value.symbol)+" = "+a(O.value)+" "+a(c.value.symbol),1)]),s("div",Ms,[e[18]||(e[18]=s("span",null,"Slippage",-1)),s("span",null,a(w.value)+"%",1)]),s("div",Ls,[e[19]||(e[19]=s("span",null,"Network Fee",-1)),s("span",null,a(G.value)+" ETH",1)])])):D("",!0),s("button",{class:"btn btn-linear btn-large w-100",onClick:Z,disabled:!I.value||m.value},[m.value?(u(),r("i",Vs)):(u(),r("i",Ws)),_(" "+a(ts()),1)],8,Us),s("div",Hs,[s("button",{class:"btn-link",onClick:e[4]||(e[4]=t=>S.value=!S.value)},e[20]||(e[20]=[s("i",{class:"fas fa-cog me-2"},null,-1),_("Settings ",-1)]))]),S.value?(u(),r("div",$s,[s("div",Ns,[e[21]||(e[21]=s("label",null,"Slippage Tolerance",-1)),s("div",Os,[(u(),r(E,null,P(J,t=>s("button",{key:t,onClick:ns=>w.value=t,class:B(["slippage-btn",{active:w.value===t}])},a(t)+"% ",11,Is)),64)),h(s("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>k.value=t),type:"number",class:"form-control",placeholder:"Custom",onInput:es},null,544),[[T,k.value]])])])])):D("",!0)])):(u(),r("div",Cs,[s("div",{class:"notice-content"},[e[9]||(e[9]=s("i",{class:"fas fa-wallet"},null,-1)),e[10]||(e[10]=s("h4",null,"Connect Your Wallet",-1)),e[11]||(e[11]=s("p",null,"Please connect your wallet to start swapping tokens",-1)),s("button",{class:"btn btn-linear",onClick:K},e[8]||(e[8]=[s("i",{class:"fas fa-plug me-2"},null,-1),_("Connect Wallet ",-1)]))])]))])])])])]),b.value||A.value?(u(),r("div",{key:0,class:"modal-overlay",onClick:x},[s("div",{class:"token-modal",onClick:e[7]||(e[7]=us(()=>{},["stop"]))},[s("div",{class:"modal-header"},[e[23]||(e[23]=s("h3",null,"Select Token",-1)),s("button",{class:"close-btn",onClick:x},e[22]||(e[22]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("div",js,[s("div",Rs,[h(s("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>v.value=t),type:"text",class:"form-control",placeholder:"Search tokens..."},null,512),[[T,v.value]])]),s("div",qs,[(u(!0),r(E,null,P(Y.value,t=>(u(),r("div",{key:t.address,class:"token-item",onClick:ns=>ss(t)},[s("img",{src:t.icon,alt:t.symbol,class:"token-icon"},null,8,Js),s("div",Ys,[s("span",Gs,a(t.symbol),1),s("span",Ks,a(t.name),1)]),s("div",Qs,a(F(t.address)),1)],8,zs))),128))])])])])):D("",!0),s("section",Xs,[s("div",Zs,[s("div",se,[s("div",ee,[e[25]||(e[25]=s("h2",{class:"section-title text-center mb-5"},"Recent Transactions",-1)),s("div",te,[(u(!0),r(E,null,P(N.value,t=>(u(),r("div",{key:t.hash,class:"transaction-item"},[e[24]||(e[24]=s("div",{class:"tx-icon"},[s("i",{class:"fas fa-exchange-alt"})],-1)),s("div",oe,[s("div",ae,a(t.fromAmount)+" "+a(t.fromToken)+" â†’ "+a(t.toAmount)+" "+a(t.toToken),1),s("div",ne,a(os(t.timestamp)),1)]),s("div",{class:B(["tx-status",t.status])},[s("i",{class:B(as(t.status))},null,2),_(" "+a(t.status),1)],2)]))),128))])])])])]),q(ds)]))}},re=ls(le,[["__scopeId","data-v-f1bc8159"]]);export{re as default};
