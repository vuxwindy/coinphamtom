import{_ as U,r,l as N,o as S,c as d,a as F,d as b,b as e,H,p as _,v as h,e as g,F as A,g as T,k as y,q as w,i as L,m as G,u as E,j as p,t as v}from"./index-r-K8bCt4.js";const R={class:"marketplace-page"},W={class:"filters-section padding-large bg-dark"},q={class:"container"},I={class:"row"},z={class:"col-12"},J={class:"filters-container"},K={class:"row align-items-center"},Q={class:"col-md-3"},X={class:"col-md-3"},Y={class:"col-md-3"},Z={class:"nft-grid-section padding-large"},ee={class:"container"},te={class:"row"},ae={class:"col-12"},se={class:"nft-grid"},ie={class:"nft-image-container"},oe=["src","alt"],ne={class:"nft-overlay"},re=["onClick"],le={class:"nft-info"},ce={class:"nft-name"},de={class:"nft-description"},pe={class:"nft-meta"},ve={class:"nft-category"},ue={class:"nft-price"},ge={class:"nft-actions"},me=["onClick","disabled"],fe=["onClick"],be={class:"pagination-section padding-large"},_e={class:"container"},he={class:"row"},ye={class:"col-12"},we={"aria-label":"NFT pagination"},ke={class:"pagination justify-content-center"},Pe=["onClick"],Ce=12,Ne={__name:"Marketplace",setup(Fe){E();const{currentUser:k,getUserData:$,updateUserData:B}=G(),l=r(""),c=r(""),u=r("newest"),o=r(1),M=r([{id:1,name:"Cosmic Archer",description:"A legendary archer from the cosmic realm",image:"/src/assets/images/nft-item1.jpg",category:"gaming",price:25,creator:"PixelPayot",rarity:"rare"},{id:2,name:"Digital Landscape",description:"Beautiful digital art landscape",image:"/src/assets/images/nft-item2.jpg",category:"art",price:15,creator:"ArtMaster",rarity:"common"},{id:3,name:"Golden Bow",description:"Rare golden bow with magical properties",image:"/src/assets/images/nft-item3.jpg",category:"gaming",price:50,creator:"GameDev",rarity:"epic"},{id:4,name:"Neon City",description:"Cyberpunk cityscape at night",image:"/src/assets/images/nft-item4.jpg",category:"art",price:30,creator:"CyberArtist",rarity:"rare"},{id:5,name:"Mystic Arrow",description:"Enchanted arrow with elemental powers",image:"/src/assets/images/nft1.jpg",category:"gaming",price:40,creator:"MagicCraft",rarity:"epic"},{id:6,name:"Abstract Harmony",description:"Abstract art representing harmony",image:"/src/assets/images/nft2.jpg",category:"art",price:20,creator:"AbstractMind",rarity:"common"},{id:7,name:"Dragon Slayer",description:"Legendary dragon slayer armor",image:"/src/assets/images/nft3.jpg",category:"gaming",price:75,creator:"EpicGames",rarity:"legendary"},{id:8,name:"Ocean Waves",description:"Peaceful ocean waves at sunset",image:"/src/assets/images/nft4.jpg",category:"art",price:18,creator:"NatureArt",rarity:"common"}]),n=r({tokenBalance:0,ownedNFTs:[]}),P=N(()=>{let s=[...M.value];if(l.value&&(s=s.filter(t=>t.category===l.value)),c.value){const[t,a]=c.value.split("-").map(Number);a?s=s.filter(i=>i.price>=t&&i.price<=a):s=s.filter(i=>i.price>=t)}switch(u.value){case"oldest":s.sort((t,a)=>t.id-a.id);break;case"price-low":s.sort((t,a)=>t.price-a.price);break;case"price-high":s.sort((t,a)=>a.price-t.price);break;default:s.sort((t,a)=>a.id-t.id)}return s}),m=N(()=>Math.ceil(P.value.length/Ce)),D=()=>{l.value="",c.value="",u.value="newest",o.value=1},f=s=>{s>=1&&s<=m.value&&(o.value=s)},j=s=>{console.log("Viewing NFT:",s)},C=s=>n.value.tokenBalance>=s,O=async s=>{if(!k.value){alert("Please connect your wallet first!");return}if(!C(s.price)){alert("Insufficient $PPO balance!");return}try{const t=n.value.tokenBalance-s.price,a=[...n.value.ownedNFTs,s.id];await B({tokenBalance:t,ownedNFTs:a}),n.value.tokenBalance=t,n.value.ownedNFTs=a,alert(`Successfully purchased ${s.name}!`)}catch(t){console.error("Purchase failed:",t),alert("Purchase failed. Please try again.")}},V=s=>{console.log("Added to wishlist:",s),alert("Added to wishlist!")},x=async()=>{if(k.value){const s=await $();s.success&&(n.value=s.data)}};return S(()=>{x()}),(s,t)=>(p(),d("div",R,[F(H),t[14]||(t[14]=b('<section class="marketplace-hero padding-large" data-v-5decfb72><div class="container" data-v-5decfb72><div class="row" data-v-5decfb72><div class="col-12" data-v-5decfb72><div class="marketplace-header text-center" data-v-5decfb72><h1 class="marketplace-title" data-v-5decfb72>NFT Marketplace</h1><p class="marketplace-subtitle" data-v-5decfb72>Discover, collect, and trade unique digital assets</p></div></div></div></div></section>',1)),e("section",W,[e("div",q,[e("div",I,[e("div",z,[e("div",J,[e("div",K,[e("div",Q,[_(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>l.value=a),class:"form-select filter-select"},t[5]||(t[5]=[b('<option value="" data-v-5decfb72>All Categories</option><option value="art" data-v-5decfb72>Art</option><option value="gaming" data-v-5decfb72>Gaming</option><option value="collectibles" data-v-5decfb72>Collectibles</option><option value="music" data-v-5decfb72>Music</option>',5)]),512),[[h,l.value]])]),e("div",X,[_(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),class:"form-select filter-select"},t[6]||(t[6]=[b('<option value="" data-v-5decfb72>All Prices</option><option value="0-10" data-v-5decfb72>0-10 $PPO</option><option value="10-50" data-v-5decfb72>10-50 $PPO</option><option value="50-100" data-v-5decfb72>50-100 $PPO</option><option value="100+" data-v-5decfb72>100+ $PPO</option>',5)]),512),[[h,c.value]])]),e("div",Y,[_(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>u.value=a),class:"form-select filter-select"},t[7]||(t[7]=[e("option",{value:"newest"},"Newest First",-1),e("option",{value:"oldest"},"Oldest First",-1),e("option",{value:"price-low"},"Price: Low to High",-1),e("option",{value:"price-high"},"Price: High to Low",-1)]),512),[[h,u.value]])]),e("div",{class:"col-md-3"},[e("button",{class:"btn btn-linear",onClick:D},t[8]||(t[8]=[e("i",{class:"fas fa-refresh me-2"},null,-1),g("Reset Filters ",-1)]))])])])])])])]),e("section",Z,[e("div",ee,[e("div",te,[e("div",ae,[e("div",se,[(p(!0),d(A,null,T(P.value,a=>(p(),d("div",{key:a.id,class:"nft-card"},[e("div",ie,[e("img",{src:a.image,alt:a.name,class:"nft-image"},null,8,oe),e("div",ne,[e("button",{class:"btn btn-linear btn-sm",onClick:i=>j(a)},t[9]||(t[9]=[e("i",{class:"fas fa-eye me-2"},null,-1),g("View Details ",-1)]),8,re)])]),e("div",le,[e("h4",ce,v(a.name),1),e("p",de,v(a.description),1),e("div",pe,[e("span",ve,v(a.category),1),e("span",ue,v(a.price)+" $PPO",1)]),e("div",ge,[e("button",{class:"btn btn-linear btn-sm",onClick:i=>O(a),disabled:!C(a.price)},t[10]||(t[10]=[e("i",{class:"fas fa-shopping-cart me-2"},null,-1),g("Buy Now ",-1)]),8,me),e("button",{class:"btn btn-outline-linear btn-sm",onClick:i=>V(a)},t[11]||(t[11]=[e("i",{class:"fas fa-heart me-2"},null,-1),g("Wishlist ",-1)]),8,fe)])])]))),128))])])])])]),e("section",be,[e("div",_e,[e("div",he,[e("div",ye,[e("nav",we,[e("ul",ke,[e("li",{class:y(["page-item",{disabled:o.value===1}])},[e("a",{class:"page-link",href:"#",onClick:t[3]||(t[3]=w(a=>f(o.value-1),["prevent"]))},t[12]||(t[12]=[e("i",{class:"fas fa-chevron-left"},null,-1)]))],2),(p(!0),d(A,null,T(m.value,a=>(p(),d("li",{key:a,class:y(["page-item",{active:a===o.value}])},[e("a",{class:"page-link",href:"#",onClick:w(i=>f(a),["prevent"])},v(a),9,Pe)],2))),128)),e("li",{class:y(["page-item",{disabled:o.value===m.value}])},[e("a",{class:"page-link",href:"#",onClick:t[4]||(t[4]=w(a=>f(o.value+1),["prevent"]))},t[13]||(t[13]=[e("i",{class:"fas fa-chevron-right"},null,-1)]))],2)])])])])])]),F(L)]))}},Te=U(Ne,[["__scopeId","data-v-5decfb72"]]);export{Te as default};
