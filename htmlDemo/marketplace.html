<!DOCTYPE html>
<html>

<head>
  <title>NFT Marketplace - COINPAYOT NFT</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <meta name="description" content="">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

  <link rel="stylesheet" type="text/css" href="css/normalize.css">
  <link rel="stylesheet" type="text/css" href="css/vendor.css">
  <link rel="stylesheet" type="text/css" href="fonts/icomoon.css">
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700;800;900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/responsive-text.css">
  
  <script src="js/modernizr.js"></script>
</head>

<body class="bg-dark">

  <header id="header">
    <nav class="navbar navbar-expand-lg padding-small px-lg-4">
      <div class="container-fluid">

        <div class="main-logo">
          <a href="index.html">
            <img src="images/header-icon.png" alt="logo">
          </a>
        </div>

                              <button class="navbar-toggler mb-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                        aria-controls="offcanvasNavbar">
                        <img src="images/menu.png" alt="Menu" class="hamburger-menu" style="width: 24px; height: 24px;">
                      </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title text-white" id="offcanvasNavbarLabel">Menu</h5>
            <button type="button" class="btn-close btn-close-white text-reset" data-bs-dismiss="offcanvas"
              aria-label="Close"></button>
          </div>
          <div class="offcanvas-body ">
            <div class="main-menu text-center d-lg-flex align-items-center">
              <ul class="menu-list list-unstyled d-lg-flex m-0" id="optimizedMenu">
                <!-- Menu will be dynamically generated by optimized-menu.js -->
              </ul>
            </div>
            <div class="btn-wrap d-flex my-4 my-lg-0">
              <a class="btn btn-linear btn-medium connect-wallet-btn" onclick="connectWallet()">Connect Wallet</a>
              <button class="btn btn-success btn-medium ms-2" id="addToWalletBtn" onclick="addToWallet()">
                <i class="fas fa-plus me-2"></i>Add PPO to Wallet
              </button>

            </div>
          </div>
        </div>

      </div>
    </nav>
  </header>

  <!-- Hero Section -->
  <section id="marketplace-hero" class="padding-large overflow-hidden">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <div class="banner-content content-light">
            <h1 class="banner-title">NFT Marketplace</h1>
            <p class="grey">Discover, buy, and sell unique archery NFTs from legendary creators</p>
            
            <!-- Search Bar -->
            <div class="search-section mt-4">
              <div class="row justify-content-center">
                <div class="col-md-6">
                  <div class="input-group">
                    <input type="text" class="form-control" id="searchInput" placeholder="Search by name, creator, or collection...">
                    <button class="btn btn-primary" type="button" id="searchBtn">
                      <i class="fas fa-search"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons mt-4">
              <div class="row justify-content-center">
                <div class="col-md-8">
                  <div class="d-flex justify-content-center gap-3">
                    <button class="btn btn-success btn-lg" onclick="MarketplaceIntegration.showCreateListingModal()">
                      <i class="fas fa-plus me-2"></i>Đăng sản phẩm thường
                    </button>
                    <button class="btn btn-warning btn-lg" onclick="MarketplaceIntegration.showNFTListingModal()">
                      <i class="fas fa-gem me-2"></i>Đăng sản phẩm NFT
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Stats -->
            <div class="marketplace-stats d-flex justify-content-center mt-5">
              <div class="stat-item mx-4 text-center">
                <h3 class="text-primary" id="totalItems">1,234</h3>
                <small class="text-white-50">Total Items</small>
              </div>
              <div class="stat-item mx-4 text-center">
                <h3 class="text-success" id="totalSales">567</h3>
                <small class="text-white-50">Total Sales</small>
              </div>
              <div class="stat-item mx-4 text-center">
                <h3 class="text-warning" id="floorPrice">0.5 PPO</h3>
                <small class="text-white-50">Floor Price</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Filter Section -->
  <section id="filter-section" class="padding-large pt-0">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="filter-card bg-dark border border-primary rounded p-4">
            <div class="row align-items-center">
              <!-- Category Filter -->
              <div class="col-md-3 mb-3 mb-md-0">
                <label class="text-white mb-2">Category</label>
                <select class="form-select" id="categoryFilter">
                  <option value="">All Categories</option>
                  <option value="bows">Bows</option>
                  <option value="arrows">Arrows</option>
                  <option value="accessories">Accessories</option>
                  <option value="characters">Characters</option>
                </select>
              </div>

              <!-- Rarity Filter -->
              <div class="col-md-3 mb-3 mb-md-0">
                <label class="text-white mb-2">Rarity</label>
                <select class="form-select" id="rarityFilter">
                  <option value="">All Rarities</option>
                  <option value="basic">Basic (1-3★)</option>
                  <option value="premium">Premium (4-5★)</option>
                  <option value="mega">Mega (SSS)</option>
                </select>
              </div>

              <!-- Price Range -->
              <div class="col-md-3 mb-3 mb-md-0">
                <label class="text-white mb-2">Price Range (PPO)</label>
                <div class="d-flex">
                  <input type="number" class="form-control me-2" id="minPrice" placeholder="Min" step="0.01">
                  <input type="number" class="form-control" id="maxPrice" placeholder="Max" step="0.01">
                </div>
              </div>

              <!-- Sort By -->
              <div class="col-md-3">
                <label class="text-white mb-2">Sort By</label>
                <select class="form-select" id="sortBy">
                  <option value="recent">Recently Listed</option>
                  <option value="price-low">Price: Low to High</option>
                  <option value="price-high">Price: High to Low</option>
                  <option value="rarity">Rarity</option>
                  <option value="popular">Most Popular</option>
                </select>
              </div>
            </div>

            <!-- Filter Buttons -->
            <div class="row mt-3">
              <div class="col-12 d-flex justify-content-between">
                <button class="btn btn-outline-primary" id="clearFilters">
                  <i class="fas fa-times me-2"></i>Clear Filters
                </button>
                <button class="btn btn-outline-primary" id="applyFilters">
                  <i class="fas fa-filter me-2"></i>Apply Filters
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- NFT Grid Section -->
  <section id="nft-grid" class="padding-large pt-0">
    <div class="container">
      <!-- Loading State -->
      <div id="loadingState" class="text-center d-none">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="text-white mt-3">Loading NFTs...</p>
      </div>

      <!-- Marketplace Listings -->
      <div class="marketplace-listings row">
        <!-- Marketplace listings will be dynamically loaded here -->
      </div>

      <!-- User Listings (if needed) -->
      <div class="user-listings row mt-5" style="display: none;">
        <div class="col-12">
          <h3 class="text-white mb-4">Sản phẩm của bạn</h3>
          <div class="row">
            <!-- User listings will be loaded here -->
          </div>
        </div>
      </div>

      <!-- Pagination -->
      <div class="row mt-5">
        <div class="col-12">
          <nav aria-label="NFT pagination">
            <ul class="pagination justify-content-center" id="pagination">
              <!-- Pagination will be dynamically generated -->
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer id="footer" class="padding-large">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <p class="text-white-50">&copy; 2025 COINPAYOT NFT. All rights reserved.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
  <script src="js/jquery-1.11.0.min.js"></script>
  <script src="js/plugins.js"></script>
  <script src="js/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
  <!-- Firebase SDK -->
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";
    import { getAuth } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCoDtDcP6vRaDBzHmxsqrqArCML0dsxjNE",
      authDomain: "coinphantom-e995b.firebaseapp.com",
      projectId: "coinphantom-e995b",
      storageBucket: "coinphantom-e995b.firebasestorage.app",
      messagingSenderId: "784143371426",
      appId: "1:784143371426:web:0185e75229808663331bfb",
      measurementId: "G-ZPL33FRZNP"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getFirestore(app);
    const auth = getAuth(app);

    // Make Firebase available globally
    window.firebase = { app, analytics, db, auth };
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.4-rc.1/web3.min.js"></script>
  <script src="js/simple-wallet.js"></script>

  <!-- Marketplace JavaScript -->
  <script src="js/firebase-service.js"></script>
  <script src="js/optimized-menu.js"></script>
  <script src="js/marketplace-integration.js"></script>
    <script src="js/responsive-text.js"></script>
  

  <script>
    // Initialize Marketplace when page loads
    document.addEventListener('DOMContentLoaded', async () => {
      console.log('🛒 Initializing Marketplace page...');
      
      try {
        // Wait for Firebase to be available
        if (window.MarketplaceIntegration) {
          await window.MarketplaceIntegration.init();
          console.log('✅ Marketplace initialized successfully');
        } else {
          console.error('❌ MarketplaceIntegration not available');
        }
      } catch (error) {
        console.error('❌ Error initializing marketplace:', error);
      }
    });
  </script>

  <style>
    body {
      background: url('images/background.png') no-repeat center center fixed;
      background-size: cover;
    }
    
     .filter-card {
      background: linear-gradient(45deg, #4f0270, #2b0246) !important;
      backdrop-filter: blur(10px);
      border: 1px solid #d739ff !important;
    }
    
    .stat-item {
      background: rgba(255, 255, 255, 0.05);
      padding: 20px;
      border-radius: 10px;
      min-width: 120px;
    }
    
    .nft-card {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 15px;
      overflow: hidden;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .nft-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      border-color: #cc00ff;
    }
    
    .nft-image {
      width: 100%;
      height: 250px;
      object-fit: cover;
      transition: transform 0.3s ease;
    }
    
    .nft-card:hover .nft-image {
      transform: scale(1.05);
    }
    
    .nft-info {
      padding: 20px;
    }
    
    .nft-title {
      color: #ffffff;
      font-weight: 600;
      margin-bottom: 10px;
    }
    
    .nft-creator {
      color: #cccccc;
      font-size: 14px;
      margin-bottom: 15px;
    }
    
    .nft-price {
      color: #cc00ff;
      font-weight: 700;
      font-size: 18px;
      margin-bottom: 15px;
    }
    
    .rarity-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 10;
    }
    
    .action-buttons {
      display: flex;
      gap: 10px;
    }
    
    .btn-buy {
      background: linear-gradient(45deg, #cc00ff, #d739ff);
      border: none;
      color: white;
      flex: 1;
    }
    
    .btn-bid {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid #ffffff;
      color: white;
      flex: 1;
    }
    
    .pagination .page-link {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
    }
    
    .pagination .page-link:hover {
      background: #cc00ff;
      border-color: #cc00ff;
    }
    
    .pagination .page-item.active .page-link {
      background: #cc00ff;
      border-color: #cc00ff;
    }
    
    .connect-wallet-btn.connected {
      background: linear-gradient(45deg, #2ecc71, #27ae60);
      border-color: #27ae60;
    }
  </style>

    <script src="js/system-integration.js"></script>
    
    <script src="js/system-validator.js"></script>
    </body>

</html> 