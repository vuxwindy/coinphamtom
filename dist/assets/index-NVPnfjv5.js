const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-BYKzEPzQ.js","assets/hmac-D6U1g_eU.js","assets/ccip-CqcU68HP.js","assets/localBatchGatewayRequest-D4NMnxiv.js","assets/secp256k1-m3XfKFPW.js","assets/embedded-wallet-CrVPYVor.js","assets/class-map-BfYkPkqt.js","assets/index-CLkz0d9K.js","assets/index-CpoP7b4K.js","assets/if-defined-Cb88xRGe.js","assets/index-C42XPWu1.js","assets/index-BcQ7MX80.js","assets/HelpersUtil-C0uqyoDt.js","assets/index-BCnPW0XB.js","assets/index-FfCblDQy.js","assets/index-Da51eeM5.js","assets/index-Don5Gzm1.js","assets/NavigationUtil-DmfK5sOV.js","assets/email-RhXKmBiJ.js","assets/index-CtjIuvZP.js","assets/index-DcLNVisz.js","assets/socials-B3PpSaIp.js","assets/index-Bi55VQdS.js","assets/index-DBOeMB9a.js","assets/index-DpPH1O9-.js","assets/index-BlrLXFjb.js","assets/swaps-Cj0ipojx.js","assets/index-BFSKGv0e.js","assets/index-I5B69LTJ.js","assets/SwapController-DE9zMn-9.js","assets/index-Omz1xuYD.js","assets/send-Didm9ue2.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-BVEavnt9.js","assets/index-Crrykp8S.js","assets/receive-BwFV6CBN.js","assets/onramp-TTyEKmkd.js","assets/index-Brt7e2bZ.js","assets/index-CH321sU9.js","assets/index-BsWWBOlI.js","assets/ExchangeController-BD5bra-K.js","assets/pay-with-exchange-D-aeso86.js","assets/transactions-BZA68DhN.js","assets/index-DcMoR11f.js","assets/index-jHRu-p46.js","assets/data-capture-B1cRIEMg.js","assets/features-BM33puWf.js","assets/index-CII9CtsN.js","assets/index-57LFhWgF.js","assets/w3m-modal-D5HpxsgF.js","assets/Game-CXdA4YU4.js","assets/Game-BJqVfKV0.css","assets/Dashboard-Io2tKA_b.js","assets/Dashboard-BmJhser6.css","assets/Marketplace-iQ-7zSLz.js","assets/Marketplace-DCo6coG7.css","assets/Collection-Cswe0XNi.js","assets/Collection-BOomjxGS.css","assets/Blindbox-CZLybPFp.js","assets/Blindbox-Dkg24vtA.css","assets/Investment-BzZmAdKe.js","assets/units-DNEuDEAD.js","assets/Investment-daQov1yZ.css","assets/NFTInvestment-XtKI_eXp.js","assets/NFTInvestment-EyA3MwZb.css","assets/Referral-wEKTMU2H.js","assets/Referral-D4a9Mp2w.css","assets/Profile-B4uIMS8I.js","assets/Profile-BODa9En0.css","assets/Whitepaper-DM3Vd0sp.js","assets/Whitepaper-DS0CC0fL.css","assets/Swap-CdJMGBhe.js","assets/Swap-DIdq7BcK.css","assets/Creators-sv8ZqFhD.js","assets/Creators-CD3l6Kd6.css","assets/Tasks-CAOekiaQ.js","assets/Tasks-DJFFcmSg.css","assets/Signup-DmHkI9Dq.js","assets/Signup-lc-YKkg3.css","assets/ArrowGame-B1n31aOS.js","assets/ArrowGame-Bw2fZZdi.css","assets/ArrowGameModern-OBw93fP8.js","assets/ArrowGameModern-Hkby1mi4.css","assets/WalletTest-DUbzr0Zi.js","assets/WalletTest-C9-ct6PE.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function w0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function H9(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var OS={},Py={},nD;function aee(){if(nD)return Py;nD=1,Py.byteLength=a,Py.toByteArray=l,Py.fromByteArray=h;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=r.length;s<i;++s)t[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function o(f){var p=f.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=f.indexOf("=");g===-1&&(g=p);var y=g===p?0:4-g%4;return[g,y]}function a(f){var p=o(f),g=p[0],y=p[1];return(g+y)*3/4-y}function c(f,p,g){return(p+g)*3/4-g}function l(f){var p,g=o(f),y=g[0],v=g[1],b=new n(c(f,y,v)),_=0,S=v>0?y-4:y,C;for(C=0;C<S;C+=4)p=e[f.charCodeAt(C)]<<18|e[f.charCodeAt(C+1)]<<12|e[f.charCodeAt(C+2)]<<6|e[f.charCodeAt(C+3)],b[_++]=p>>16&255,b[_++]=p>>8&255,b[_++]=p&255;return v===2&&(p=e[f.charCodeAt(C)]<<2|e[f.charCodeAt(C+1)]>>4,b[_++]=p&255),v===1&&(p=e[f.charCodeAt(C)]<<10|e[f.charCodeAt(C+1)]<<4|e[f.charCodeAt(C+2)]>>2,b[_++]=p>>8&255,b[_++]=p&255),b}function u(f){return t[f>>18&63]+t[f>>12&63]+t[f>>6&63]+t[f&63]}function d(f,p,g){for(var y,v=[],b=p;b<g;b+=3)y=(f[b]<<16&16711680)+(f[b+1]<<8&65280)+(f[b+2]&255),v.push(u(y));return v.join("")}function h(f){for(var p,g=f.length,y=g%3,v=[],b=16383,_=0,S=g-y;_<S;_+=b)v.push(d(f,_,_+b>S?S:_+b));return y===1?(p=f[g-1],v.push(t[p>>2]+t[p<<4&63]+"==")):y===2&&(p=(f[g-2]<<8)+f[g-1],v.push(t[p>>10]+t[p>>4&63]+t[p<<2&63]+"=")),v.join("")}return Py}var l1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var rD;function cee(){return rD||(rD=1,l1.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?s-1:0,h=n?-1:1,f=t[e+d];for(d+=h,i=f&(1<<-u)-1,f>>=-u,u+=a;u>0;i=i*256+t[e+d],d+=h,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=o*256+t[e+d],d+=h,u-=8);if(i===0)i=1-l;else{if(i===c)return o?NaN:(f?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-l}return(f?-1:1)*o*Math.pow(2,i-r)},l1.write=function(t,e,n,r,s,i){var o,a,c,l=i*8-s-1,u=(1<<l)-1,d=u>>1,h=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,p=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=h/c:e+=h*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*c-1)*Math.pow(2,s),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;t[n+f]=a&255,f+=p,a/=256,s-=8);for(o=o<<s|a,l+=s;l>0;t[n+f]=o&255,f+=p,o/=256,l-=8);t[n+f-p]|=g*128}),l1}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var sD;function lee(){return sD||(sD=1,(function(t){const e=aee(),n=cee(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const j=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(j,P),j.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(j){if(j>s)throw new RangeError('The value "'+j+'" is invalid for option "size"');const P=new Uint8Array(j);return Object.setPrototypeOf(P,a.prototype),P}function a(j,P,O){if(typeof j=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(j)}return c(j,P,O)}a.poolSize=8192;function c(j,P,O){if(typeof j=="string")return h(j,P);if(ArrayBuffer.isView(j))return p(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(Xe(j,ArrayBuffer)||j&&Xe(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xe(j,SharedArrayBuffer)||j&&Xe(j.buffer,SharedArrayBuffer)))return g(j,P,O);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=j.valueOf&&j.valueOf();if(G!=null&&G!==j)return a.from(G,P,O);const te=y(j);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return a.from(j[Symbol.toPrimitive]("string"),P,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}a.from=function(j,P,O){return c(j,P,O)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function u(j,P,O){return l(j),j<=0?o(j):P!==void 0?typeof O=="string"?o(j).fill(P,O):o(j).fill(P):o(j)}a.alloc=function(j,P,O){return u(j,P,O)};function d(j){return l(j),o(j<0?0:v(j)|0)}a.allocUnsafe=function(j){return d(j)},a.allocUnsafeSlow=function(j){return d(j)};function h(j,P){if((typeof P!="string"||P==="")&&(P="utf8"),!a.isEncoding(P))throw new TypeError("Unknown encoding: "+P);const O=_(j,P)|0;let G=o(O);const te=G.write(j,P);return te!==O&&(G=G.slice(0,te)),G}function f(j){const P=j.length<0?0:v(j.length)|0,O=o(P);for(let G=0;G<P;G+=1)O[G]=j[G]&255;return O}function p(j){if(Xe(j,Uint8Array)){const P=new Uint8Array(j);return g(P.buffer,P.byteOffset,P.byteLength)}return f(j)}function g(j,P,O){if(P<0||j.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<P+(O||0))throw new RangeError('"length" is outside of buffer bounds');let G;return P===void 0&&O===void 0?G=new Uint8Array(j):O===void 0?G=new Uint8Array(j,P):G=new Uint8Array(j,P,O),Object.setPrototypeOf(G,a.prototype),G}function y(j){if(a.isBuffer(j)){const P=v(j.length)|0,O=o(P);return O.length===0||j.copy(O,0,0,P),O}if(j.length!==void 0)return typeof j.length!="number"||$e(j.length)?o(0):f(j);if(j.type==="Buffer"&&Array.isArray(j.data))return f(j.data)}function v(j){if(j>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return j|0}function b(j){return+j!=j&&(j=0),a.alloc(+j)}a.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==a.prototype},a.compare=function(P,O){if(Xe(P,Uint8Array)&&(P=a.from(P,P.offset,P.byteLength)),Xe(O,Uint8Array)&&(O=a.from(O,O.offset,O.byteLength)),!a.isBuffer(P)||!a.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===O)return 0;let G=P.length,te=O.length;for(let ce=0,ge=Math.min(G,te);ce<ge;++ce)if(P[ce]!==O[ce]){G=P[ce],te=O[ce];break}return G<te?-1:te<G?1:0},a.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(P,O){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return a.alloc(0);let G;if(O===void 0)for(O=0,G=0;G<P.length;++G)O+=P[G].length;const te=a.allocUnsafe(O);let ce=0;for(G=0;G<P.length;++G){let ge=P[G];if(Xe(ge,Uint8Array))ce+ge.length>te.length?(a.isBuffer(ge)||(ge=a.from(ge)),ge.copy(te,ce)):Uint8Array.prototype.set.call(te,ge,ce);else if(a.isBuffer(ge))ge.copy(te,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=ge.length}return te};function _(j,P){if(a.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||Xe(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);const O=j.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&O===0)return 0;let te=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return me(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return Oe(j).length;default:if(te)return G?-1:me(j).length;P=(""+P).toLowerCase(),te=!0}}a.byteLength=_;function S(j,P,O){let G=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,P>>>=0,O<=P))return"";for(j||(j="utf8");;)switch(j){case"hex":return J(this,P,O);case"utf8":case"utf-8":return Z(this,P,O);case"ascii":return H(this,P,O);case"latin1":case"binary":return F(this,P,O);case"base64":return B(this,P,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,P,O);default:if(G)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),G=!0}}a.prototype._isBuffer=!0;function C(j,P,O){const G=j[P];j[P]=j[O],j[O]=G}a.prototype.swap16=function(){const P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<P;O+=2)C(this,O,O+1);return this},a.prototype.swap32=function(){const P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<P;O+=4)C(this,O,O+3),C(this,O+1,O+2);return this},a.prototype.swap64=function(){const P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<P;O+=8)C(this,O,O+7),C(this,O+1,O+6),C(this,O+2,O+5),C(this,O+3,O+4);return this},a.prototype.toString=function(){const P=this.length;return P===0?"":arguments.length===0?Z(this,0,P):S.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(P){if(!a.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:a.compare(this,P)===0},a.prototype.inspect=function(){let P="";const O=t.INSPECT_MAX_BYTES;return P=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(P+=" ... "),"<Buffer "+P+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(P,O,G,te,ce){if(Xe(P,Uint8Array)&&(P=a.from(P,P.offset,P.byteLength)),!a.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(O===void 0&&(O=0),G===void 0&&(G=P?P.length:0),te===void 0&&(te=0),ce===void 0&&(ce=this.length),O<0||G>P.length||te<0||ce>this.length)throw new RangeError("out of range index");if(te>=ce&&O>=G)return 0;if(te>=ce)return-1;if(O>=G)return 1;if(O>>>=0,G>>>=0,te>>>=0,ce>>>=0,this===P)return 0;let ge=ce-te,$t=G-O;const Ft=Math.min(ge,$t),nn=this.slice(te,ce),Wn=P.slice(O,G);for(let un=0;un<Ft;++un)if(nn[un]!==Wn[un]){ge=nn[un],$t=Wn[un];break}return ge<$t?-1:$t<ge?1:0};function x(j,P,O,G,te){if(j.length===0)return-1;if(typeof O=="string"?(G=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,$e(O)&&(O=te?0:j.length-1),O<0&&(O=j.length+O),O>=j.length){if(te)return-1;O=j.length-1}else if(O<0)if(te)O=0;else return-1;if(typeof P=="string"&&(P=a.from(P,G)),a.isBuffer(P))return P.length===0?-1:I(j,P,O,G,te);if(typeof P=="number")return P=P&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(j,P,O):Uint8Array.prototype.lastIndexOf.call(j,P,O):I(j,[P],O,G,te);throw new TypeError("val must be string, number or Buffer")}function I(j,P,O,G,te){let ce=1,ge=j.length,$t=P.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(j.length<2||P.length<2)return-1;ce=2,ge/=2,$t/=2,O/=2}function Ft(Wn,un){return ce===1?Wn[un]:Wn.readUInt16BE(un*ce)}let nn;if(te){let Wn=-1;for(nn=O;nn<ge;nn++)if(Ft(j,nn)===Ft(P,Wn===-1?0:nn-Wn)){if(Wn===-1&&(Wn=nn),nn-Wn+1===$t)return Wn*ce}else Wn!==-1&&(nn-=nn-Wn),Wn=-1}else for(O+$t>ge&&(O=ge-$t),nn=O;nn>=0;nn--){let Wn=!0;for(let un=0;un<$t;un++)if(Ft(j,nn+un)!==Ft(P,un)){Wn=!1;break}if(Wn)return nn}return-1}a.prototype.includes=function(P,O,G){return this.indexOf(P,O,G)!==-1},a.prototype.indexOf=function(P,O,G){return x(this,P,O,G,!0)},a.prototype.lastIndexOf=function(P,O,G){return x(this,P,O,G,!1)};function E(j,P,O,G){O=Number(O)||0;const te=j.length-O;G?(G=Number(G),G>te&&(G=te)):G=te;const ce=P.length;G>ce/2&&(G=ce/2);let ge;for(ge=0;ge<G;++ge){const $t=parseInt(P.substr(ge*2,2),16);if($e($t))return ge;j[O+ge]=$t}return ge}function A(j,P,O,G){return Ce(me(P,j.length-O),j,O,G)}function T(j,P,O,G){return Ce(He(P),j,O,G)}function k(j,P,O,G){return Ce(Oe(P),j,O,G)}function M(j,P,O,G){return Ce(De(P,j.length-O),j,O,G)}a.prototype.write=function(P,O,G,te){if(O===void 0)te="utf8",G=this.length,O=0;else if(G===void 0&&typeof O=="string")te=O,G=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(G)?(G=G>>>0,te===void 0&&(te="utf8")):(te=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-O;if((G===void 0||G>ce)&&(G=ce),P.length>0&&(G<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");let ge=!1;for(;;)switch(te){case"hex":return E(this,P,O,G);case"utf8":case"utf-8":return A(this,P,O,G);case"ascii":case"latin1":case"binary":return T(this,P,O,G);case"base64":return k(this,P,O,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,P,O,G);default:if(ge)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),ge=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(j,P,O){return P===0&&O===j.length?e.fromByteArray(j):e.fromByteArray(j.slice(P,O))}function Z(j,P,O){O=Math.min(j.length,O);const G=[];let te=P;for(;te<O;){const ce=j[te];let ge=null,$t=ce>239?4:ce>223?3:ce>191?2:1;if(te+$t<=O){let Ft,nn,Wn,un;switch($t){case 1:ce<128&&(ge=ce);break;case 2:Ft=j[te+1],(Ft&192)===128&&(un=(ce&31)<<6|Ft&63,un>127&&(ge=un));break;case 3:Ft=j[te+1],nn=j[te+2],(Ft&192)===128&&(nn&192)===128&&(un=(ce&15)<<12|(Ft&63)<<6|nn&63,un>2047&&(un<55296||un>57343)&&(ge=un));break;case 4:Ft=j[te+1],nn=j[te+2],Wn=j[te+3],(Ft&192)===128&&(nn&192)===128&&(Wn&192)===128&&(un=(ce&15)<<18|(Ft&63)<<12|(nn&63)<<6|Wn&63,un>65535&&un<1114112&&(ge=un))}}ge===null?(ge=65533,$t=1):ge>65535&&(ge-=65536,G.push(ge>>>10&1023|55296),ge=56320|ge&1023),G.push(ge),te+=$t}return L(G)}const N=4096;function L(j){const P=j.length;if(P<=N)return String.fromCharCode.apply(String,j);let O="",G=0;for(;G<P;)O+=String.fromCharCode.apply(String,j.slice(G,G+=N));return O}function H(j,P,O){let G="";O=Math.min(j.length,O);for(let te=P;te<O;++te)G+=String.fromCharCode(j[te]&127);return G}function F(j,P,O){let G="";O=Math.min(j.length,O);for(let te=P;te<O;++te)G+=String.fromCharCode(j[te]);return G}function J(j,P,O){const G=j.length;(!P||P<0)&&(P=0),(!O||O<0||O>G)&&(O=G);let te="";for(let ce=P;ce<O;++ce)te+=dt[j[ce]];return te}function ee(j,P,O){const G=j.slice(P,O);let te="";for(let ce=0;ce<G.length-1;ce+=2)te+=String.fromCharCode(G[ce]+G[ce+1]*256);return te}a.prototype.slice=function(P,O){const G=this.length;P=~~P,O=O===void 0?G:~~O,P<0?(P+=G,P<0&&(P=0)):P>G&&(P=G),O<0?(O+=G,O<0&&(O=0)):O>G&&(O=G),O<P&&(O=P);const te=this.subarray(P,O);return Object.setPrototypeOf(te,a.prototype),te};function W(j,P,O){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+P>O)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(P,O,G){P=P>>>0,O=O>>>0,G||W(P,O,this.length);let te=this[P],ce=1,ge=0;for(;++ge<O&&(ce*=256);)te+=this[P+ge]*ce;return te},a.prototype.readUintBE=a.prototype.readUIntBE=function(P,O,G){P=P>>>0,O=O>>>0,G||W(P,O,this.length);let te=this[P+--O],ce=1;for(;O>0&&(ce*=256);)te+=this[P+--O]*ce;return te},a.prototype.readUint8=a.prototype.readUInt8=function(P,O){return P=P>>>0,O||W(P,1,this.length),this[P]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(P,O){return P=P>>>0,O||W(P,2,this.length),this[P]|this[P+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(P,O){return P=P>>>0,O||W(P,2,this.length),this[P]<<8|this[P+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(P,O){return P=P>>>0,O||W(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(P,O){return P=P>>>0,O||W(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},a.prototype.readBigUInt64LE=ot(function(P){P=P>>>0,X(P,"offset");const O=this[P],G=this[P+7];(O===void 0||G===void 0)&&ne(P,this.length-8);const te=O+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24,ce=this[++P]+this[++P]*2**8+this[++P]*2**16+G*2**24;return BigInt(te)+(BigInt(ce)<<BigInt(32))}),a.prototype.readBigUInt64BE=ot(function(P){P=P>>>0,X(P,"offset");const O=this[P],G=this[P+7];(O===void 0||G===void 0)&&ne(P,this.length-8);const te=O*2**24+this[++P]*2**16+this[++P]*2**8+this[++P],ce=this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+G;return(BigInt(te)<<BigInt(32))+BigInt(ce)}),a.prototype.readIntLE=function(P,O,G){P=P>>>0,O=O>>>0,G||W(P,O,this.length);let te=this[P],ce=1,ge=0;for(;++ge<O&&(ce*=256);)te+=this[P+ge]*ce;return ce*=128,te>=ce&&(te-=Math.pow(2,8*O)),te},a.prototype.readIntBE=function(P,O,G){P=P>>>0,O=O>>>0,G||W(P,O,this.length);let te=O,ce=1,ge=this[P+--te];for(;te>0&&(ce*=256);)ge+=this[P+--te]*ce;return ce*=128,ge>=ce&&(ge-=Math.pow(2,8*O)),ge},a.prototype.readInt8=function(P,O){return P=P>>>0,O||W(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},a.prototype.readInt16LE=function(P,O){P=P>>>0,O||W(P,2,this.length);const G=this[P]|this[P+1]<<8;return G&32768?G|4294901760:G},a.prototype.readInt16BE=function(P,O){P=P>>>0,O||W(P,2,this.length);const G=this[P+1]|this[P]<<8;return G&32768?G|4294901760:G},a.prototype.readInt32LE=function(P,O){return P=P>>>0,O||W(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},a.prototype.readInt32BE=function(P,O){return P=P>>>0,O||W(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},a.prototype.readBigInt64LE=ot(function(P){P=P>>>0,X(P,"offset");const O=this[P],G=this[P+7];(O===void 0||G===void 0)&&ne(P,this.length-8);const te=this[P+4]+this[P+5]*2**8+this[P+6]*2**16+(G<<24);return(BigInt(te)<<BigInt(32))+BigInt(O+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24)}),a.prototype.readBigInt64BE=ot(function(P){P=P>>>0,X(P,"offset");const O=this[P],G=this[P+7];(O===void 0||G===void 0)&&ne(P,this.length-8);const te=(O<<24)+this[++P]*2**16+this[++P]*2**8+this[++P];return(BigInt(te)<<BigInt(32))+BigInt(this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+G)}),a.prototype.readFloatLE=function(P,O){return P=P>>>0,O||W(P,4,this.length),n.read(this,P,!0,23,4)},a.prototype.readFloatBE=function(P,O){return P=P>>>0,O||W(P,4,this.length),n.read(this,P,!1,23,4)},a.prototype.readDoubleLE=function(P,O){return P=P>>>0,O||W(P,8,this.length),n.read(this,P,!0,52,8)},a.prototype.readDoubleBE=function(P,O){return P=P>>>0,O||W(P,8,this.length),n.read(this,P,!1,52,8)};function ue(j,P,O,G,te,ce){if(!a.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>te||P<ce)throw new RangeError('"value" argument is out of bounds');if(O+G>j.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(P,O,G,te){if(P=+P,O=O>>>0,G=G>>>0,!te){const $t=Math.pow(2,8*G)-1;ue(this,P,O,G,$t,0)}let ce=1,ge=0;for(this[O]=P&255;++ge<G&&(ce*=256);)this[O+ge]=P/ce&255;return O+G},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(P,O,G,te){if(P=+P,O=O>>>0,G=G>>>0,!te){const $t=Math.pow(2,8*G)-1;ue(this,P,O,G,$t,0)}let ce=G-1,ge=1;for(this[O+ce]=P&255;--ce>=0&&(ge*=256);)this[O+ce]=P/ge&255;return O+G},a.prototype.writeUint8=a.prototype.writeUInt8=function(P,O,G){return P=+P,O=O>>>0,G||ue(this,P,O,1,255,0),this[O]=P&255,O+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(P,O,G){return P=+P,O=O>>>0,G||ue(this,P,O,2,65535,0),this[O]=P&255,this[O+1]=P>>>8,O+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(P,O,G){return P=+P,O=O>>>0,G||ue(this,P,O,2,65535,0),this[O]=P>>>8,this[O+1]=P&255,O+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(P,O,G){return P=+P,O=O>>>0,G||ue(this,P,O,4,4294967295,0),this[O+3]=P>>>24,this[O+2]=P>>>16,this[O+1]=P>>>8,this[O]=P&255,O+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(P,O,G){return P=+P,O=O>>>0,G||ue(this,P,O,4,4294967295,0),this[O]=P>>>24,this[O+1]=P>>>16,this[O+2]=P>>>8,this[O+3]=P&255,O+4};function Ee(j,P,O,G,te){Y(P,G,te,j,O,7);let ce=Number(P&BigInt(4294967295));j[O++]=ce,ce=ce>>8,j[O++]=ce,ce=ce>>8,j[O++]=ce,ce=ce>>8,j[O++]=ce;let ge=Number(P>>BigInt(32)&BigInt(4294967295));return j[O++]=ge,ge=ge>>8,j[O++]=ge,ge=ge>>8,j[O++]=ge,ge=ge>>8,j[O++]=ge,O}function ye(j,P,O,G,te){Y(P,G,te,j,O,7);let ce=Number(P&BigInt(4294967295));j[O+7]=ce,ce=ce>>8,j[O+6]=ce,ce=ce>>8,j[O+5]=ce,ce=ce>>8,j[O+4]=ce;let ge=Number(P>>BigInt(32)&BigInt(4294967295));return j[O+3]=ge,ge=ge>>8,j[O+2]=ge,ge=ge>>8,j[O+1]=ge,ge=ge>>8,j[O]=ge,O+8}a.prototype.writeBigUInt64LE=ot(function(P,O=0){return Ee(this,P,O,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ot(function(P,O=0){return ye(this,P,O,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(P,O,G,te){if(P=+P,O=O>>>0,!te){const Ft=Math.pow(2,8*G-1);ue(this,P,O,G,Ft-1,-Ft)}let ce=0,ge=1,$t=0;for(this[O]=P&255;++ce<G&&(ge*=256);)P<0&&$t===0&&this[O+ce-1]!==0&&($t=1),this[O+ce]=(P/ge>>0)-$t&255;return O+G},a.prototype.writeIntBE=function(P,O,G,te){if(P=+P,O=O>>>0,!te){const Ft=Math.pow(2,8*G-1);ue(this,P,O,G,Ft-1,-Ft)}let ce=G-1,ge=1,$t=0;for(this[O+ce]=P&255;--ce>=0&&(ge*=256);)P<0&&$t===0&&this[O+ce+1]!==0&&($t=1),this[O+ce]=(P/ge>>0)-$t&255;return O+G},a.prototype.writeInt8=function(P,O,G){return P=+P,O=O>>>0,G||ue(this,P,O,1,127,-128),P<0&&(P=255+P+1),this[O]=P&255,O+1},a.prototype.writeInt16LE=function(P,O,G){return P=+P,O=O>>>0,G||ue(this,P,O,2,32767,-32768),this[O]=P&255,this[O+1]=P>>>8,O+2},a.prototype.writeInt16BE=function(P,O,G){return P=+P,O=O>>>0,G||ue(this,P,O,2,32767,-32768),this[O]=P>>>8,this[O+1]=P&255,O+2},a.prototype.writeInt32LE=function(P,O,G){return P=+P,O=O>>>0,G||ue(this,P,O,4,2147483647,-2147483648),this[O]=P&255,this[O+1]=P>>>8,this[O+2]=P>>>16,this[O+3]=P>>>24,O+4},a.prototype.writeInt32BE=function(P,O,G){return P=+P,O=O>>>0,G||ue(this,P,O,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[O]=P>>>24,this[O+1]=P>>>16,this[O+2]=P>>>8,this[O+3]=P&255,O+4},a.prototype.writeBigInt64LE=ot(function(P,O=0){return Ee(this,P,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ot(function(P,O=0){return ye(this,P,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ie(j,P,O,G,te,ce){if(O+G>j.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function Ve(j,P,O,G,te){return P=+P,O=O>>>0,te||Ie(j,P,O,4),n.write(j,P,O,G,23,4),O+4}a.prototype.writeFloatLE=function(P,O,G){return Ve(this,P,O,!0,G)},a.prototype.writeFloatBE=function(P,O,G){return Ve(this,P,O,!1,G)};function oe(j,P,O,G,te){return P=+P,O=O>>>0,te||Ie(j,P,O,8),n.write(j,P,O,G,52,8),O+8}a.prototype.writeDoubleLE=function(P,O,G){return oe(this,P,O,!0,G)},a.prototype.writeDoubleBE=function(P,O,G){return oe(this,P,O,!1,G)},a.prototype.copy=function(P,O,G,te){if(!a.isBuffer(P))throw new TypeError("argument should be a Buffer");if(G||(G=0),!te&&te!==0&&(te=this.length),O>=P.length&&(O=P.length),O||(O=0),te>0&&te<G&&(te=G),te===G||P.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),P.length-O<te-G&&(te=P.length-O+G);const ce=te-G;return this===P&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(O,G,te):Uint8Array.prototype.set.call(P,this.subarray(G,te),O),ce},a.prototype.fill=function(P,O,G,te){if(typeof P=="string"){if(typeof O=="string"?(te=O,O=0,G=this.length):typeof G=="string"&&(te=G,G=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!a.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(P.length===1){const ge=P.charCodeAt(0);(te==="utf8"&&ge<128||te==="latin1")&&(P=ge)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(O<0||this.length<O||this.length<G)throw new RangeError("Out of range index");if(G<=O)return this;O=O>>>0,G=G===void 0?this.length:G>>>0,P||(P=0);let ce;if(typeof P=="number")for(ce=O;ce<G;++ce)this[ce]=P;else{const ge=a.isBuffer(P)?P:a.from(P,te),$t=ge.length;if($t===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(ce=0;ce<G-O;++ce)this[ce+O]=ge[ce%$t]}return this};const _e={};function se(j,P,O){_e[j]=class extends O{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${j}]`,this.stack,delete this.name}get code(){return j}set code(te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:te,writable:!0})}toString(){return`${this.name} [${j}]: ${this.message}`}}}se("ERR_BUFFER_OUT_OF_BOUNDS",function(j){return j?`${j} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),se("ERR_INVALID_ARG_TYPE",function(j,P){return`The "${j}" argument must be of type number. Received type ${typeof P}`},TypeError),se("ERR_OUT_OF_RANGE",function(j,P,O){let G=`The value of "${j}" is out of range.`,te=O;return Number.isInteger(O)&&Math.abs(O)>2**32?te=Pe(String(O)):typeof O=="bigint"&&(te=String(O),(O>BigInt(2)**BigInt(32)||O<-(BigInt(2)**BigInt(32)))&&(te=Pe(te)),te+="n"),G+=` It must be ${P}. Received ${te}`,G},RangeError);function Pe(j){let P="",O=j.length;const G=j[0]==="-"?1:0;for(;O>=G+4;O-=3)P=`_${j.slice(O-3,O)}${P}`;return`${j.slice(0,O)}${P}`}function mt(j,P,O){X(P,"offset"),(j[P]===void 0||j[P+O]===void 0)&&ne(P,j.length-(O+1))}function Y(j,P,O,G,te,ce){if(j>O||j<P){const ge=typeof P=="bigint"?"n":"";let $t;throw P===0||P===BigInt(0)?$t=`>= 0${ge} and < 2${ge} ** ${(ce+1)*8}${ge}`:$t=`>= -(2${ge} ** ${(ce+1)*8-1}${ge}) and < 2 ** ${(ce+1)*8-1}${ge}`,new _e.ERR_OUT_OF_RANGE("value",$t,j)}mt(G,te,ce)}function X(j,P){if(typeof j!="number")throw new _e.ERR_INVALID_ARG_TYPE(P,"number",j)}function ne(j,P,O){throw Math.floor(j)!==j?(X(j,O),new _e.ERR_OUT_OF_RANGE("offset","an integer",j)):P<0?new _e.ERR_BUFFER_OUT_OF_BOUNDS:new _e.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${P}`,j)}const pe=/[^+/0-9A-Za-z-_]/g;function we(j){if(j=j.split("=")[0],j=j.trim().replace(pe,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function me(j,P){P=P||1/0;let O;const G=j.length;let te=null;const ce=[];for(let ge=0;ge<G;++ge){if(O=j.charCodeAt(ge),O>55295&&O<57344){if(!te){if(O>56319){(P-=3)>-1&&ce.push(239,191,189);continue}else if(ge+1===G){(P-=3)>-1&&ce.push(239,191,189);continue}te=O;continue}if(O<56320){(P-=3)>-1&&ce.push(239,191,189),te=O;continue}O=(te-55296<<10|O-56320)+65536}else te&&(P-=3)>-1&&ce.push(239,191,189);if(te=null,O<128){if((P-=1)<0)break;ce.push(O)}else if(O<2048){if((P-=2)<0)break;ce.push(O>>6|192,O&63|128)}else if(O<65536){if((P-=3)<0)break;ce.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((P-=4)<0)break;ce.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return ce}function He(j){const P=[];for(let O=0;O<j.length;++O)P.push(j.charCodeAt(O)&255);return P}function De(j,P){let O,G,te;const ce=[];for(let ge=0;ge<j.length&&!((P-=2)<0);++ge)O=j.charCodeAt(ge),G=O>>8,te=O%256,ce.push(te),ce.push(G);return ce}function Oe(j){return e.toByteArray(we(j))}function Ce(j,P,O,G){let te;for(te=0;te<G&&!(te+O>=P.length||te>=j.length);++te)P[te+O]=j[te];return te}function Xe(j,P){return j instanceof P||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===P.name}function $e(j){return j!==j}const dt=(function(){const j="0123456789abcdef",P=new Array(256);for(let O=0;O<16;++O){const G=O*16;for(let te=0;te<16;++te)P[G+te]=j[O]+j[te]}return P})();function ot(j){return typeof BigInt>"u"?at:j}function at(){throw new Error("BigInt not supported")}})(OS)),OS}lee();var DS={exports:{}},iD;function uee(){if(iD)return DS.exports;iD=1;var t=DS.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=s}catch{n=s}})();function i(g){if(e===setTimeout)return setTimeout(g,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(g,0);try{return e(g,0)}catch{try{return e.call(null,g,0)}catch{return e.call(this,g,0)}}}function o(g){if(n===clearTimeout)return clearTimeout(g);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(g);try{return n(g)}catch{try{return n.call(null,g)}catch{return n.call(this,g)}}}var a=[],c=!1,l,u=-1;function d(){!c||!l||(c=!1,l.length?a=l.concat(a):u=-1,a.length&&h())}function h(){if(!c){var g=i(d);c=!0;for(var y=a.length;y;){for(l=a,a=[];++u<y;)l&&l[u].run();u=-1,y=a.length}l=null,c=!1,o(g)}}t.nextTick=function(g){var y=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)y[v-1]=arguments[v];a.push(new f(g,y)),a.length===1&&!c&&i(h)};function f(g,y){this.fun=g,this.array=y}f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function p(){}return t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(g){return[]},t.binding=function(g){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(g){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},DS.exports}uee();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ik(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ar={},ug=[],jc=()=>{},q9=()=>!1,yI=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Tk=t=>t.startsWith("onUpdate:"),hs=Object.assign,Sk=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},dee=Object.prototype.hasOwnProperty,Hn=(t,e)=>dee.call(t,e),bt=Array.isArray,dg=t=>zv(t)==="[object Map]",b0=t=>zv(t)==="[object Set]",oD=t=>zv(t)==="[object Date]",qt=t=>typeof t=="function",Lr=t=>typeof t=="string",Ya=t=>typeof t=="symbol",lr=t=>t!==null&&typeof t=="object",z9=t=>(lr(t)||qt(t))&&qt(t.then)&&qt(t.catch),W9=Object.prototype.toString,zv=t=>W9.call(t),hee=t=>zv(t).slice(8,-1),G9=t=>zv(t)==="[object Object]",xk=t=>Lr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_w=Ik(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wI=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},fee=/-(\w)/g,wa=wI(t=>t.replace(fee,(e,n)=>n?n.toUpperCase():"")),pee=/\B([A-Z])/g,Op=wI(t=>t.replace(pee,"-$1").toLowerCase()),bI=wI(t=>t.charAt(0).toUpperCase()+t.slice(1)),oE=wI(t=>t?`on${bI(t)}`:""),Gd=(t,e)=>!Object.is(t,e),aE=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},K9=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},XE=t=>{const e=parseFloat(t);return isNaN(e)?t:e},mee=t=>{const e=Lr(t)?Number(t):NaN;return isNaN(e)?t:e};let aD;const vI=()=>aD||(aD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{});function v0(t){if(bt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Lr(r)?bee(r):v0(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Lr(t)||lr(t))return t}const gee=/;(?![^(]*\))/g,yee=/:([^]+)/,wee=/\/\*[^]*?\*\//g;function bee(t){const e={};return t.replace(wee,"").split(gee).forEach(n=>{if(n){const r=n.split(yee);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Jn(t){let e="";if(Lr(t))e=t;else if(bt(t))for(let n=0;n<t.length;n++){const r=Jn(t[n]);r&&(e+=r+" ")}else if(lr(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const vee="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_ee=Ik(vee);function Q9(t){return!!t||t===""}function Eee(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Wv(t[r],e[r]);return n}function Wv(t,e){if(t===e)return!0;let n=oD(t),r=oD(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ya(t),r=Ya(e),n||r)return t===e;if(n=bt(t),r=bt(e),n||r)return n&&r?Eee(t,e):!1;if(n=lr(t),r=lr(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Wv(t[o],e[o]))return!1}}return String(t)===String(e)}function Pk(t,e){return t.findIndex(n=>Wv(n,e))}const Y9=t=>!!(t&&t.__v_isRef===!0),ii=t=>Lr(t)?t:t==null?"":bt(t)||lr(t)&&(t.toString===W9||!qt(t.toString))?Y9(t)?ii(t.value):JSON.stringify(t,Z9,2):String(t),Z9=(t,e)=>Y9(e)?Z9(t,e.value):dg(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[MS(r,i)+" =>"]=s,n),{})}:b0(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>MS(n))}:Ya(e)?MS(e):lr(e)&&!bt(e)&&!G9(e)?String(e):e,MS=(t,e="")=>{var n;return Ya(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ri;class Aee{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ri,!e&&ri&&(this.index=(ri.scopes||(ri.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ri;try{return ri=this,e()}finally{ri=n}}}on(){++this._on===1&&(this.prevScope=ri,ri=this)}off(){this._on>0&&--this._on===0&&(ri=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Cee(){return ri}function Dp(t,e=!1){ri&&ri.cleanups.push(t)}let pr;const LS=new WeakSet;class J9{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ri&&ri.active&&ri.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,LS.has(this)&&(LS.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||eF(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cD(this),tF(this);const e=pr,n=za;pr=this,za=!0;try{return this.fn()}finally{nF(this),pr=e,za=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)kk(e);this.deps=this.depsTail=void 0,cD(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?LS.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){n2(this)&&this.run()}get dirty(){return n2(this)}}let X9=0,Ew,Aw;function eF(t,e=!1){if(t.flags|=8,e){t.next=Aw,Aw=t;return}t.next=Ew,Ew=t}function Rk(){X9++}function Nk(){if(--X9>0)return;if(Aw){let e=Aw;for(Aw=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ew;){let e=Ew;for(Ew=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function tF(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function nF(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),kk(r),Iee(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function n2(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(rF(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function rF(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===tb)||(t.globalVersion=tb,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!n2(t))))return;t.flags|=2;const e=t.dep,n=pr,r=za;pr=t,za=!0;try{tF(t);const s=t.fn(t._value);(e.version===0||Gd(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{pr=n,za=r,nF(t),t.flags&=-3}}function kk(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)kk(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Iee(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let za=!0;const sF=[];function pu(){sF.push(za),za=!1}function mu(){const t=sF.pop();za=t===void 0?!0:t}function cD(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=pr;pr=void 0;try{e()}finally{pr=n}}}let tb=0;class Tee{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ok{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!pr||!za||pr===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==pr)n=this.activeLink=new Tee(pr,this),pr.deps?(n.prevDep=pr.depsTail,pr.depsTail.nextDep=n,pr.depsTail=n):pr.deps=pr.depsTail=n,iF(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=pr.depsTail,n.nextDep=void 0,pr.depsTail.nextDep=n,pr.depsTail=n,pr.deps===n&&(pr.deps=r)}return n}trigger(e){this.version++,tb++,this.notify(e)}notify(e){Rk();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Nk()}}}function iF(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)iF(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const eA=new WeakMap,jf=Symbol(""),r2=Symbol(""),nb=Symbol("");function oi(t,e,n){if(za&&pr){let r=eA.get(t);r||eA.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ok),s.map=r,s.key=n),s.track()}}function Zl(t,e,n,r,s,i){const o=eA.get(t);if(!o){tb++;return}const a=c=>{c&&c.trigger()};if(Rk(),e==="clear")o.forEach(a);else{const c=bt(t),l=c&&xk(n);if(c&&n==="length"){const u=Number(r);o.forEach((d,h)=>{(h==="length"||h===nb||!Ya(h)&&h>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),l&&a(o.get(nb)),e){case"add":c?l&&a(o.get("length")):(a(o.get(jf)),dg(t)&&a(o.get(r2)));break;case"delete":c||(a(o.get(jf)),dg(t)&&a(o.get(r2)));break;case"set":dg(t)&&a(o.get(jf));break}}Nk()}function See(t,e){const n=eA.get(t);return n&&n.get(e)}function mm(t){const e=Cn(t);return e===t?e:(oi(e,"iterate",nb),pa(t)?e:e.map($s))}function _I(t){return oi(t=Cn(t),"iterate",nb),t}const xee={__proto__:null,[Symbol.iterator](){return BS(this,Symbol.iterator,$s)},concat(...t){return mm(this).concat(...t.map(e=>bt(e)?mm(e):e))},entries(){return BS(this,"entries",t=>(t[1]=$s(t[1]),t))},every(t,e){return Al(this,"every",t,e,void 0,arguments)},filter(t,e){return Al(this,"filter",t,e,n=>n.map($s),arguments)},find(t,e){return Al(this,"find",t,e,$s,arguments)},findIndex(t,e){return Al(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Al(this,"findLast",t,e,$s,arguments)},findLastIndex(t,e){return Al(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Al(this,"forEach",t,e,void 0,arguments)},includes(...t){return $S(this,"includes",t)},indexOf(...t){return $S(this,"indexOf",t)},join(t){return mm(this).join(t)},lastIndexOf(...t){return $S(this,"lastIndexOf",t)},map(t,e){return Al(this,"map",t,e,void 0,arguments)},pop(){return Ry(this,"pop")},push(...t){return Ry(this,"push",t)},reduce(t,...e){return lD(this,"reduce",t,e)},reduceRight(t,...e){return lD(this,"reduceRight",t,e)},shift(){return Ry(this,"shift")},some(t,e){return Al(this,"some",t,e,void 0,arguments)},splice(...t){return Ry(this,"splice",t)},toReversed(){return mm(this).toReversed()},toSorted(t){return mm(this).toSorted(t)},toSpliced(...t){return mm(this).toSpliced(...t)},unshift(...t){return Ry(this,"unshift",t)},values(){return BS(this,"values",$s)}};function BS(t,e,n){const r=_I(t),s=r[e]();return r!==t&&!pa(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const Pee=Array.prototype;function Al(t,e,n,r,s,i){const o=_I(t),a=o!==t&&!pa(t),c=o[e];if(c!==Pee[e]){const d=c.apply(t,i);return a?$s(d):d}let l=n;o!==t&&(a?l=function(d,h){return n.call(this,$s(d),h,t)}:n.length>2&&(l=function(d,h){return n.call(this,d,h,t)}));const u=c.call(o,l,r);return a&&s?s(u):u}function lD(t,e,n,r){const s=_I(t);let i=n;return s!==t&&(pa(t)?n.length>3&&(i=function(o,a,c){return n.call(this,o,a,c,t)}):i=function(o,a,c){return n.call(this,o,$s(a),c,t)}),s[e](i,...r)}function $S(t,e,n){const r=Cn(t);oi(r,"iterate",nb);const s=r[e](...n);return(s===-1||s===!1)&&Dk(n[0])?(n[0]=Cn(n[0]),r[e](...n)):s}function Ry(t,e,n=[]){pu(),Rk();const r=Cn(t)[e].apply(t,n);return Nk(),mu(),r}const Ree=Ik("__proto__,__v_isRef,__isVue"),oF=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ya));function Nee(t){Ya(t)||(t=String(t));const e=Cn(this);return oi(e,"has",t),e.hasOwnProperty(t)}class aF{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?fF:hF:i?dF:uF).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=bt(e);if(!s){let c;if(o&&(c=xee[n]))return c;if(n==="hasOwnProperty")return Nee}const a=Reflect.get(e,n,qr(e)?e:r);return(Ya(n)?oF.has(n):Ree(n))||(s||oi(e,"get",n),i)?a:qr(a)?o&&xk(n)?a:a.value:lr(a)?s?Mp(a):Th(a):a}}class cF extends aF{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=oh(i);if(!pa(r)&&!oh(r)&&(i=Cn(i),r=Cn(r)),!bt(e)&&qr(i)&&!qr(r))return c||(i.value=r),!0}const o=bt(e)&&xk(n)?Number(n)<e.length:Hn(e,n),a=Reflect.set(e,n,r,qr(e)?e:s);return e===Cn(s)&&(o?Gd(r,i)&&Zl(e,"set",n,r):Zl(e,"add",n,r)),a}deleteProperty(e,n){const r=Hn(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Zl(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Ya(n)||!oF.has(n))&&oi(e,"has",n),r}ownKeys(e){return oi(e,"iterate",bt(e)?"length":jf),Reflect.ownKeys(e)}}class lF extends aF{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const kee=new cF,Oee=new lF,Dee=new cF(!0),Mee=new lF(!0),s2=t=>t,u1=t=>Reflect.getPrototypeOf(t);function Lee(t,e,n){return function(...r){const s=this.__v_raw,i=Cn(s),o=dg(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),u=n?s2:e?tA:$s;return!e&&oi(i,"iterate",c?r2:jf),{next(){const{value:d,done:h}=l.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function d1(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Bee(t,e){const n={get(s){const i=this.__v_raw,o=Cn(i),a=Cn(s);t||(Gd(s,a)&&oi(o,"get",s),oi(o,"get",a));const{has:c}=u1(o),l=e?s2:t?tA:$s;if(c.call(o,s))return l(i.get(s));if(c.call(o,a))return l(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&oi(Cn(s),"iterate",jf),s.size},has(s){const i=this.__v_raw,o=Cn(i),a=Cn(s);return t||(Gd(s,a)&&oi(o,"has",s),oi(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=Cn(a),l=e?s2:t?tA:$s;return!t&&oi(c,"iterate",jf),a.forEach((u,d)=>s.call(i,l(u),l(d),o))}};return hs(n,t?{add:d1("add"),set:d1("set"),delete:d1("delete"),clear:d1("clear")}:{add(s){!e&&!pa(s)&&!oh(s)&&(s=Cn(s));const i=Cn(this);return u1(i).has.call(i,s)||(i.add(s),Zl(i,"add",s,s)),this},set(s,i){!e&&!pa(i)&&!oh(i)&&(i=Cn(i));const o=Cn(this),{has:a,get:c}=u1(o);let l=a.call(o,s);l||(s=Cn(s),l=a.call(o,s));const u=c.call(o,s);return o.set(s,i),l?Gd(i,u)&&Zl(o,"set",s,i):Zl(o,"add",s,i),this},delete(s){const i=Cn(this),{has:o,get:a}=u1(i);let c=o.call(i,s);c||(s=Cn(s),c=o.call(i,s)),a&&a.call(i,s);const l=i.delete(s);return c&&Zl(i,"delete",s,void 0),l},clear(){const s=Cn(this),i=s.size!==0,o=s.clear();return i&&Zl(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Lee(s,t,e)}),n}function EI(t,e){const n=Bee(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Hn(n,s)&&s in r?n:r,s,i)}const $ee={get:EI(!1,!1)},Uee={get:EI(!1,!0)},Fee={get:EI(!0,!1)},jee={get:EI(!0,!0)},uF=new WeakMap,dF=new WeakMap,hF=new WeakMap,fF=new WeakMap;function Vee(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hee(t){return t.__v_skip||!Object.isExtensible(t)?0:Vee(hee(t))}function Th(t){return oh(t)?t:CI(t,!1,kee,$ee,uF)}function AI(t){return CI(t,!1,Dee,Uee,dF)}function Mp(t){return CI(t,!0,Oee,Fee,hF)}function pF(t){return CI(t,!0,Mee,jee,fF)}function CI(t,e,n,r,s){if(!lr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Hee(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function hg(t){return oh(t)?hg(t.__v_raw):!!(t&&t.__v_isReactive)}function oh(t){return!!(t&&t.__v_isReadonly)}function pa(t){return!!(t&&t.__v_isShallow)}function Dk(t){return t?!!t.__v_raw:!1}function Cn(t){const e=t&&t.__v_raw;return e?Cn(e):t}function qee(t){return!Hn(t,"__v_skip")&&Object.isExtensible(t)&&K9(t,"__v_skip",!0),t}const $s=t=>lr(t)?Th(t):t,tA=t=>lr(t)?Mp(t):t;function qr(t){return t?t.__v_isRef===!0:!1}function Ct(t){return mF(t,!1)}function zee(t){return mF(t,!0)}function mF(t,e){return qr(t)?t:new Wee(t,e)}class Wee{constructor(e,n){this.dep=new Ok,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Cn(e),this._value=n?e:$s(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||pa(e)||oh(e);e=r?e:Cn(e),Gd(e,n)&&(this._rawValue=e,this._value=r?e:$s(e),this.dep.trigger())}}function ln(t){return qr(t)?t.value:t}const Gee={get:(t,e,n)=>e==="__v_raw"?t:ln(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return qr(s)&&!qr(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function gF(t){return hg(t)?t:new Proxy(t,Gee)}function Mk(t){const e=bt(t)?new Array(t.length):{};for(const n in t)e[n]=Qee(t,n);return e}class Kee{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return See(Cn(this._object),this._key)}}function Qee(t,e,n){const r=t[e];return qr(r)?r:new Kee(t,e,n)}class Yee{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ok(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=tb-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&pr!==this)return eF(this,!0),!0}get value(){const e=this.dep.track();return rF(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Zee(t,e,n=!1){let r,s;return qt(t)?r=t:(r=t.get,s=t.set),new Yee(r,s,n)}const h1={},nA=new WeakMap;let pf;function Jee(t,e=!1,n=pf){if(n){let r=nA.get(n);r||nA.set(n,r=[]),r.push(t)}}function Xee(t,e,n=ar){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=n,l=S=>s?S:pa(S)||s===!1||s===0?Jl(S,1):Jl(S);let u,d,h,f,p=!1,g=!1;if(qr(t)?(d=()=>t.value,p=pa(t)):hg(t)?(d=()=>l(t),p=!0):bt(t)?(g=!0,p=t.some(S=>hg(S)||pa(S)),d=()=>t.map(S=>{if(qr(S))return S.value;if(hg(S))return l(S);if(qt(S))return c?c(S,2):S()})):qt(t)?e?d=c?()=>c(t,2):t:d=()=>{if(h){pu();try{h()}finally{mu()}}const S=pf;pf=u;try{return c?c(t,3,[f]):t(f)}finally{pf=S}}:d=jc,e&&s){const S=d,C=s===!0?1/0:s;d=()=>Jl(S(),C)}const y=Cee(),v=()=>{u.stop(),y&&y.active&&Sk(y.effects,u)};if(i&&e){const S=e;e=(...C)=>{S(...C),v()}}let b=g?new Array(t.length).fill(h1):h1;const _=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const C=u.run();if(s||p||(g?C.some((x,I)=>Gd(x,b[I])):Gd(C,b))){h&&h();const x=pf;pf=u;try{const I=[C,b===h1?void 0:g&&b[0]===h1?[]:b,f];b=C,c?c(e,3,I):e(...I)}finally{pf=x}}}else u.run()};return a&&a(_),u=new J9(d),u.scheduler=o?()=>o(_,!1):_,f=S=>Jee(S,!1,u),h=u.onStop=()=>{const S=nA.get(u);if(S){if(c)c(S,4);else for(const C of S)C();nA.delete(u)}},e?r?_(!0):b=u.run():o?o(_.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function Jl(t,e=1/0,n){if(e<=0||!lr(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,qr(t))Jl(t.value,e,n);else if(bt(t))for(let r=0;r<t.length;r++)Jl(t[r],e,n);else if(b0(t)||dg(t))t.forEach(r=>{Jl(r,e,n)});else if(G9(t)){for(const r in t)Jl(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Jl(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gv(t,e,n,r){try{return r?t(...r):t()}catch(s){II(s,e,n)}}function Za(t,e,n,r){if(qt(t)){const s=Gv(t,e,n,r);return s&&z9(s)&&s.catch(i=>{II(i,e,n)}),s}if(bt(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Za(t[i],e,n,r));return s}}function II(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ar;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,c,l)===!1)return}a=a.parent}if(i){pu(),Gv(i,null,10,[t,c,l]),mu();return}}ete(t,n,s,r,o)}function ete(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const vi=[];let Cc=-1;const fg=[];let Id=null,Hm=0;const yF=Promise.resolve();let rA=null;function Kv(t){const e=rA||yF;return t?e.then(this?t.bind(this):t):e}function tte(t){let e=Cc+1,n=vi.length;for(;e<n;){const r=e+n>>>1,s=vi[r],i=rb(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Lk(t){if(!(t.flags&1)){const e=rb(t),n=vi[vi.length-1];!n||!(t.flags&2)&&e>=rb(n)?vi.push(t):vi.splice(tte(e),0,t),t.flags|=1,wF()}}function wF(){rA||(rA=yF.then(vF))}function nte(t){bt(t)?fg.push(...t):Id&&t.id===-1?Id.splice(Hm+1,0,t):t.flags&1||(fg.push(t),t.flags|=1),wF()}function uD(t,e,n=Cc+1){for(;n<vi.length;n++){const r=vi[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;vi.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function bF(t){if(fg.length){const e=[...new Set(fg)].sort((n,r)=>rb(n)-rb(r));if(fg.length=0,Id){Id.push(...e);return}for(Id=e,Hm=0;Hm<Id.length;Hm++){const n=Id[Hm];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Id=null,Hm=0}}const rb=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vF(t){try{for(Cc=0;Cc<vi.length;Cc++){const e=vi[Cc];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Gv(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Cc<vi.length;Cc++){const e=vi[Cc];e&&(e.flags&=-2)}Cc=-1,vi.length=0,bF(),rA=null,(vi.length||fg.length)&&vF()}}let js=null,_F=null;function sA(t){const e=js;return js=t,_F=t&&t.type.__scopeId||null,e}function Dr(t,e=js,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&_D(-1);const i=sA(e);let o;try{o=t(...s)}finally{sA(i),r._d&&_D(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function BKe(t,e){if(js===null)return t;const n=NI(js),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=ar]=e[s];i&&(qt(i)&&(i={mounted:i,updated:i}),i.deep&&Jl(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function nf(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(pu(),Za(c,n,8,[t.el,a,t,e]),mu())}}const rte=Symbol("_vte"),EF=t=>t.__isTeleport,Wl=Symbol("_leaveCb"),f1=Symbol("_enterCb");function AF(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Lp(()=>{t.isMounted=!0}),NF(()=>{t.isUnmounting=!0}),t}const Wo=[Function,Array],CF={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wo,onEnter:Wo,onAfterEnter:Wo,onEnterCancelled:Wo,onBeforeLeave:Wo,onLeave:Wo,onAfterLeave:Wo,onLeaveCancelled:Wo,onBeforeAppear:Wo,onAppear:Wo,onAfterAppear:Wo,onAppearCancelled:Wo},IF=t=>{const e=t.subTree;return e.component?IF(e.component):e},ste={name:"BaseTransition",props:CF,setup(t,{slots:e}){const n=Yv(),r=AF();return()=>{const s=e.default&&Bk(e.default(),!0);if(!s||!s.length)return;const i=TF(s),o=Cn(t),{mode:a}=o;if(r.isLeaving)return US(i);const c=dD(i);if(!c)return US(i);let l=sb(c,o,r,n,d=>l=d);c.type!==ci&&Xf(c,l);let u=n.subTree&&dD(n.subTree);if(u&&u.type!==ci&&!bf(c,u)&&IF(n).type!==ci){let d=sb(u,o,r,n);if(Xf(u,d),a==="out-in"&&c.type!==ci)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},US(i);a==="in-out"&&c.type!==ci?d.delayLeave=(h,f,p)=>{const g=SF(r,u);g[String(u.key)]=u,h[Wl]=()=>{f(),h[Wl]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{p(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function TF(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==ci){e=n;break}}return e}const ite=ste;function SF(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function sb(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:y,onAppear:v,onAfterAppear:b,onAppearCancelled:_}=e,S=String(t.key),C=SF(n,t),x=(A,T)=>{A&&Za(A,r,9,T)},I=(A,T)=>{const k=T[1];x(A,T),bt(A)?A.every(M=>M.length<=1)&&k():A.length<=1&&k()},E={mode:o,persisted:a,beforeEnter(A){let T=c;if(!n.isMounted)if(i)T=y||c;else return;A[Wl]&&A[Wl](!0);const k=C[S];k&&bf(t,k)&&k.el[Wl]&&k.el[Wl](),x(T,[A])},enter(A){let T=l,k=u,M=d;if(!n.isMounted)if(i)T=v||l,k=b||u,M=_||d;else return;let B=!1;const Z=A[f1]=N=>{B||(B=!0,N?x(M,[A]):x(k,[A]),E.delayedLeave&&E.delayedLeave(),A[f1]=void 0)};T?I(T,[A,Z]):Z()},leave(A,T){const k=String(t.key);if(A[f1]&&A[f1](!0),n.isUnmounting)return T();x(h,[A]);let M=!1;const B=A[Wl]=Z=>{M||(M=!0,T(),Z?x(g,[A]):x(p,[A]),A[Wl]=void 0,C[k]===t&&delete C[k])};C[k]=t,f?I(f,[A,B]):B()},clone(A){const T=sb(A,e,n,r,s);return s&&s(T),T}};return E}function US(t){if(TI(t))return t=ah(t),t.children=null,t}function dD(t){if(!TI(t))return EF(t.type)&&t.children?TF(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&qt(n.default))return n.default()}}function Xf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Xf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Bk(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Pr?(o.patchFlag&128&&s++,r=r.concat(Bk(o.children,e,a))):(e||o.type!==ci)&&r.push(a!=null?ah(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Pu(t,e){return qt(t)?hs({name:t.name},e,{setup:t}):t}function xF(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Cw(t,e,n,r,s=!1){if(bt(t)){t.forEach((p,g)=>Cw(p,e&&(bt(e)?e[g]:e),n,r,s));return}if(pg(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Cw(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?NI(r.component):r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===ar?a.refs={}:a.refs,d=a.setupState,h=Cn(d),f=d===ar?q9:p=>Hn(h,p);if(l!=null&&l!==c){if(Lr(l))u[l]=null,f(l)&&(d[l]=null);else if(qr(l)){l.value=null;const p=e;p.k&&(u[p.k]=null)}}if(qt(c))Gv(c,a,12,[o,u]);else{const p=Lr(c),g=qr(c);if(p||g){const y=()=>{if(t.f){const v=p?f(c)?d[c]:u[c]:c.value;if(s)bt(v)&&Sk(v,i);else if(bt(v))v.includes(i)||v.push(i);else if(p)u[c]=[i],f(c)&&(d[c]=u[c]);else{const b=[i];c.value=b,t.k&&(u[t.k]=b)}}else p?(u[c]=o,f(c)&&(d[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,ho(y,n)):y()}}}vI().requestIdleCallback;vI().cancelIdleCallback;const pg=t=>!!t.type.__asyncLoader,TI=t=>t.type.__isKeepAlive;function ote(t,e){PF(t,"a",e)}function ate(t,e){PF(t,"da",e)}function PF(t,e,n=li){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(SI(e,r,n),n){let s=n.parent;for(;s&&s.parent;)TI(s.parent.vnode)&&cte(r,e,n,s),s=s.parent}}function cte(t,e,n,r){const s=SI(e,t,r,!0);Qv(()=>{Sk(r[e],s)},n)}function SI(t,e,n=li,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{pu();const a=Zv(n),c=Za(e,n,t,o);return a(),mu(),c});return r?s.unshift(i):s.push(i),i}}const Ru=t=>(e,n=li)=>{(!ab||t==="sp")&&SI(t,(...r)=>e(...r),n)},lte=Ru("bm"),Lp=Ru("m"),ute=Ru("bu"),RF=Ru("u"),NF=Ru("bum"),Qv=Ru("um"),dte=Ru("sp"),hte=Ru("rtg"),fte=Ru("rtc");function pte(t,e=li){SI("ec",t,e)}const kF="components";function Wa(t,e){return DF(kF,t,!0,e)||t}const OF=Symbol.for("v-ndc");function $k(t){return Lr(t)?DF(kF,t,!1)||t:t||OF}function DF(t,e,n=!0,r=!1){const s=js||li;if(s){const i=s.type;{const a=tne(i,!1);if(a&&(a===e||a===wa(e)||a===bI(wa(e))))return i}const o=hD(s[t]||i[t],e)||hD(s.appContext[t],e);return!o&&r?i:o}}function hD(t,e){return t&&(t[e]||t[wa(e)]||t[bI(wa(e))])}function Cf(t,e,n,r){let s;const i=n,o=bt(t);if(o||Lr(t)){const a=o&&hg(t);let c=!1,l=!1;a&&(c=!pa(t),l=oh(t),t=_I(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(c?l?tA($s(t[u])):$s(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(lr(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];s[c]=e(t[u],u,c,i)}}else s=[];return s}function mte(t,e,n={},r,s){if(js.ce||js.parent&&pg(js.parent)&&js.parent.ce)return pt(),Eo(Pr,null,[Xt("slot",n,r)],64);let i=t[e];i&&i._c&&(i._d=!1),pt();const o=i&&MF(i(n)),a=n.key||o&&o.key,c=Eo(Pr,{key:(a&&!Ya(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||[],o&&t._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function MF(t){return t.some(e=>ob(e)?!(e.type===ci||e.type===Pr&&!MF(e.children)):!0)?t:null}function gte(t,e){const n={};for(const r in t)n[oE(r)]=t[r];return n}const i2=t=>t?n7(t)?NI(t):i2(t.parent):null,Iw=hs(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>i2(t.parent),$root:t=>i2(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>BF(t),$forceUpdate:t=>t.f||(t.f=()=>{Lk(t.update)}),$nextTick:t=>t.n||(t.n=Kv.bind(t.proxy)),$watch:t=>Bte.bind(t)}),FS=(t,e)=>t!==ar&&!t.__isScriptSetup&&Hn(t,e),yte={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(FS(r,e))return o[e]=1,r[e];if(s!==ar&&Hn(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&Hn(l,e))return o[e]=3,i[e];if(n!==ar&&Hn(n,e))return o[e]=4,n[e];o2&&(o[e]=0)}}const u=Iw[e];let d,h;if(u)return e==="$attrs"&&oi(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==ar&&Hn(n,e))return o[e]=4,n[e];if(h=c.config.globalProperties,Hn(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return FS(s,e)?(s[e]=n,!0):r!==ar&&Hn(r,e)?(r[e]=n,!0):Hn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},a){let c,l;return!!(n[a]||t!==ar&&a[0]!=="$"&&Hn(t,a)||FS(e,a)||(c=i[0])&&Hn(c,a)||Hn(r,a)||Hn(Iw,a)||Hn(s.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Hn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function fD(t){return bt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let o2=!0;function wte(t){const e=BF(t),n=t.proxy,r=t.ctx;o2=!1,e.beforeCreate&&pD(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:y,beforeDestroy:v,beforeUnmount:b,destroyed:_,unmounted:S,render:C,renderTracked:x,renderTriggered:I,errorCaptured:E,serverPrefetch:A,expose:T,inheritAttrs:k,components:M,directives:B,filters:Z}=e;if(l&&bte(l,r,null),o)for(const H in o){const F=o[H];qt(F)&&(r[H]=F.bind(n))}if(s){const H=s.call(n,n);lr(H)&&(t.data=Th(H))}if(o2=!0,i)for(const H in i){const F=i[H],J=qt(F)?F.bind(n,n):qt(F.get)?F.get.bind(n,n):jc,ee=!qt(F)&&qt(F.set)?F.set.bind(n):jc,W=xn({get:J,set:ee});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>W.value,set:ue=>W.value=ue})}if(a)for(const H in a)LF(a[H],r,n,H);if(c){const H=qt(c)?c.call(n):c;Reflect.ownKeys(H).forEach(F=>{cE(F,H[F])})}u&&pD(u,t,"c");function L(H,F){bt(F)?F.forEach(J=>H(J.bind(n))):F&&H(F.bind(n))}if(L(lte,d),L(Lp,h),L(ute,f),L(RF,p),L(ote,g),L(ate,y),L(pte,E),L(fte,x),L(hte,I),L(NF,b),L(Qv,S),L(dte,A),bt(T))if(T.length){const H=t.exposed||(t.exposed={});T.forEach(F=>{Object.defineProperty(H,F,{get:()=>n[F],set:J=>n[F]=J,enumerable:!0})})}else t.exposed||(t.exposed={});C&&t.render===jc&&(t.render=C),k!=null&&(t.inheritAttrs=k),M&&(t.components=M),B&&(t.directives=B),A&&xF(t)}function bte(t,e,n=jc){bt(t)&&(t=a2(t));for(const r in t){const s=t[r];let i;lr(s)?"default"in s?i=Io(s.from||r,s.default,!0):i=Io(s.from||r):i=Io(s),qr(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function pD(t,e,n){Za(bt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function LF(t,e,n,r){let s=r.includes(".")?ZF(n,r):()=>n[r];if(Lr(t)){const i=e[t];qt(i)&&vo(s,i)}else if(qt(t))vo(s,t.bind(n));else if(lr(t))if(bt(t))t.forEach(i=>LF(i,e,n,r));else{const i=qt(t.handler)?t.handler.bind(n):e[t.handler];qt(i)&&vo(s,i,t)}}function BF(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>iA(c,l,o,!0)),iA(c,e,o)),lr(e)&&i.set(e,c),c}function iA(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&iA(t,i,n,!0),s&&s.forEach(o=>iA(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=vte[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const vte={data:mD,props:gD,emits:gD,methods:ow,computed:ow,beforeCreate:wi,created:wi,beforeMount:wi,mounted:wi,beforeUpdate:wi,updated:wi,beforeDestroy:wi,beforeUnmount:wi,destroyed:wi,unmounted:wi,activated:wi,deactivated:wi,errorCaptured:wi,serverPrefetch:wi,components:ow,directives:ow,watch:Ete,provide:mD,inject:_te};function mD(t,e){return e?t?function(){return hs(qt(t)?t.call(this,this):t,qt(e)?e.call(this,this):e)}:e:t}function _te(t,e){return ow(a2(t),a2(e))}function a2(t){if(bt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function wi(t,e){return t?[...new Set([].concat(t,e))]:e}function ow(t,e){return t?hs(Object.create(null),t,e):e}function gD(t,e){return t?bt(t)&&bt(e)?[...new Set([...t,...e])]:hs(Object.create(null),fD(t),fD(e??{})):e}function Ete(t,e){if(!t)return e;if(!e)return t;const n=hs(Object.create(null),t);for(const r in e)n[r]=wi(t[r],e[r]);return n}function $F(){return{app:null,config:{isNativeTag:q9,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ate=0;function Cte(t,e){return function(r,s=null){qt(r)||(r=hs({},r)),s!=null&&!lr(s)&&(s=null);const i=$F(),o=new WeakSet,a=[];let c=!1;const l=i.app={_uid:Ate++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:rne,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&qt(u.install)?(o.add(u),u.install(l,...d)):qt(u)&&(o.add(u),u(l,...d))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,d){return d?(i.components[u]=d,l):i.components[u]},directive(u,d){return d?(i.directives[u]=d,l):i.directives[u]},mount(u,d,h){if(!c){const f=l._ceVNode||Xt(r,s);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),c=!0,l._container=u,u.__vue_app__=l,NI(f.component)}},onUnmount(u){a.push(u)},unmount(){c&&(Za(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,d){return i.provides[u]=d,l},runWithContext(u){const d=Vf;Vf=l;try{return u()}finally{Vf=d}}};return l}}let Vf=null;function cE(t,e){if(li){let n=li.provides;const r=li.parent&&li.parent.provides;r===n&&(n=li.provides=Object.create(r)),n[t]=e}}function Io(t,e,n=!1){const r=Yv();if(r||Vf){let s=Vf?Vf._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&qt(e)?e.call(r&&r.proxy):e}}function UF(){return!!(Yv()||Vf)}const FF={},jF=()=>Object.create(FF),VF=t=>Object.getPrototypeOf(t)===FF;function Ite(t,e,n,r=!1){const s={},i=jF();t.propsDefaults=Object.create(null),HF(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:AI(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Tte(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Cn(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(xI(t.emitsOptions,h))continue;const f=e[h];if(c)if(Hn(i,h))f!==i[h]&&(i[h]=f,l=!0);else{const p=wa(h);s[p]=c2(c,a,p,f,t,!1)}else f!==i[h]&&(i[h]=f,l=!0)}}}else{HF(t,e,s,i)&&(l=!0);let u;for(const d in a)(!e||!Hn(e,d)&&((u=Op(d))===d||!Hn(e,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=c2(c,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!Hn(e,d))&&(delete i[d],l=!0)}l&&Zl(t.attrs,"set","")}function HF(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(_w(c))continue;const l=e[c];let u;s&&Hn(s,u=wa(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:xI(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=Cn(n),l=a||ar;for(let u=0;u<i.length;u++){const d=i[u];n[d]=c2(s,c,d,l[d],t,!Hn(l,d))}}return o}function c2(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Hn(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&qt(c)){const{propsDefaults:l}=s;if(n in l)r=l[n];else{const u=Zv(s);r=l[n]=c.call(null,e),u()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Op(n))&&(r=!0))}return r}const Ste=new WeakMap;function qF(t,e,n=!1){const r=n?Ste:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!qt(t)){const u=d=>{c=!0;const[h,f]=qF(d,e,!0);hs(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return lr(t)&&r.set(t,ug),ug;if(bt(i))for(let u=0;u<i.length;u++){const d=wa(i[u]);yD(d)&&(o[d]=ar)}else if(i)for(const u in i){const d=wa(u);if(yD(d)){const h=i[u],f=o[d]=bt(h)||qt(h)?{type:h}:hs({},h),p=f.type;let g=!1,y=!0;if(bt(p))for(let v=0;v<p.length;++v){const b=p[v],_=qt(b)&&b.name;if(_==="Boolean"){g=!0;break}else _==="String"&&(y=!1)}else g=qt(p)&&p.name==="Boolean";f[0]=g,f[1]=y,(g||Hn(f,"default"))&&a.push(d)}}const l=[o,a];return lr(t)&&r.set(t,l),l}function yD(t){return t[0]!=="$"&&!_w(t)}const Uk=t=>t==="_"||t==="_ctx"||t==="$stable",Fk=t=>bt(t)?t.map(Rc):[Rc(t)],xte=(t,e,n)=>{if(e._n)return e;const r=Dr((...s)=>Fk(e(...s)),n);return r._c=!1,r},zF=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Uk(s))continue;const i=t[s];if(qt(i))e[s]=xte(s,i,r);else if(i!=null){const o=Fk(i);e[s]=()=>o}}},WF=(t,e)=>{const n=Fk(e);t.slots.default=()=>n},GF=(t,e,n)=>{for(const r in e)(n||!Uk(r))&&(t[r]=e[r])},Pte=(t,e,n)=>{const r=t.slots=jF();if(t.vnode.shapeFlag&32){const s=e._;s?(GF(r,e,n),n&&K9(r,"_",s,!0)):zF(e,r)}else e&&WF(t,e)},Rte=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=ar;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:GF(s,e,n):(i=!e.$stable,zF(e,s)),o=e}else e&&(WF(t,e),o={default:1});if(i)for(const a in s)!Uk(a)&&o[a]==null&&delete s[a]},ho=qte;function Nte(t){return kte(t)}function kte(t,e){const n=vI();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=jc,insertStaticContent:p}=t,g=(Y,X,ne,pe=null,we=null,me=null,He=void 0,De=null,Oe=!!X.dynamicChildren)=>{if(Y===X)return;Y&&!bf(Y,X)&&(pe=oe(Y),ue(Y,we,me,!0),Y=null),X.patchFlag===-2&&(Oe=!1,X.dynamicChildren=null);const{type:Ce,ref:Xe,shapeFlag:$e}=X;switch(Ce){case PI:y(Y,X,ne,pe);break;case ci:v(Y,X,ne,pe);break;case lE:Y==null&&b(X,ne,pe,He);break;case Pr:M(Y,X,ne,pe,we,me,He,De,Oe);break;default:$e&1?C(Y,X,ne,pe,we,me,He,De,Oe):$e&6?B(Y,X,ne,pe,we,me,He,De,Oe):($e&64||$e&128)&&Ce.process(Y,X,ne,pe,we,me,He,De,Oe,Pe)}Xe!=null&&we?Cw(Xe,Y&&Y.ref,me,X||Y,!X):Xe==null&&Y&&Y.ref!=null&&Cw(Y.ref,null,me,Y,!0)},y=(Y,X,ne,pe)=>{if(Y==null)r(X.el=a(X.children),ne,pe);else{const we=X.el=Y.el;X.children!==Y.children&&l(we,X.children)}},v=(Y,X,ne,pe)=>{Y==null?r(X.el=c(X.children||""),ne,pe):X.el=Y.el},b=(Y,X,ne,pe)=>{[Y.el,Y.anchor]=p(Y.children,X,ne,pe,Y.el,Y.anchor)},_=({el:Y,anchor:X},ne,pe)=>{let we;for(;Y&&Y!==X;)we=h(Y),r(Y,ne,pe),Y=we;r(X,ne,pe)},S=({el:Y,anchor:X})=>{let ne;for(;Y&&Y!==X;)ne=h(Y),s(Y),Y=ne;s(X)},C=(Y,X,ne,pe,we,me,He,De,Oe)=>{X.type==="svg"?He="svg":X.type==="math"&&(He="mathml"),Y==null?x(X,ne,pe,we,me,He,De,Oe):A(Y,X,we,me,He,De,Oe)},x=(Y,X,ne,pe,we,me,He,De)=>{let Oe,Ce;const{props:Xe,shapeFlag:$e,transition:dt,dirs:ot}=Y;if(Oe=Y.el=o(Y.type,me,Xe&&Xe.is,Xe),$e&8?u(Oe,Y.children):$e&16&&E(Y.children,Oe,null,pe,we,jS(Y,me),He,De),ot&&nf(Y,null,pe,"created"),I(Oe,Y,Y.scopeId,He,pe),Xe){for(const j in Xe)j!=="value"&&!_w(j)&&i(Oe,j,null,Xe[j],me,pe);"value"in Xe&&i(Oe,"value",null,Xe.value,me),(Ce=Xe.onVnodeBeforeMount)&&fc(Ce,pe,Y)}ot&&nf(Y,null,pe,"beforeMount");const at=Ote(we,dt);at&&dt.beforeEnter(Oe),r(Oe,X,ne),((Ce=Xe&&Xe.onVnodeMounted)||at||ot)&&ho(()=>{Ce&&fc(Ce,pe,Y),at&&dt.enter(Oe),ot&&nf(Y,null,pe,"mounted")},we)},I=(Y,X,ne,pe,we)=>{if(ne&&f(Y,ne),pe)for(let me=0;me<pe.length;me++)f(Y,pe[me]);if(we){let me=we.subTree;if(X===me||XF(me.type)&&(me.ssContent===X||me.ssFallback===X)){const He=we.vnode;I(Y,He,He.scopeId,He.slotScopeIds,we.parent)}}},E=(Y,X,ne,pe,we,me,He,De,Oe=0)=>{for(let Ce=Oe;Ce<Y.length;Ce++){const Xe=Y[Ce]=De?Td(Y[Ce]):Rc(Y[Ce]);g(null,Xe,X,ne,pe,we,me,He,De)}},A=(Y,X,ne,pe,we,me,He)=>{const De=X.el=Y.el;let{patchFlag:Oe,dynamicChildren:Ce,dirs:Xe}=X;Oe|=Y.patchFlag&16;const $e=Y.props||ar,dt=X.props||ar;let ot;if(ne&&rf(ne,!1),(ot=dt.onVnodeBeforeUpdate)&&fc(ot,ne,X,Y),Xe&&nf(X,Y,ne,"beforeUpdate"),ne&&rf(ne,!0),($e.innerHTML&&dt.innerHTML==null||$e.textContent&&dt.textContent==null)&&u(De,""),Ce?T(Y.dynamicChildren,Ce,De,ne,pe,jS(X,we),me):He||F(Y,X,De,null,ne,pe,jS(X,we),me,!1),Oe>0){if(Oe&16)k(De,$e,dt,ne,we);else if(Oe&2&&$e.class!==dt.class&&i(De,"class",null,dt.class,we),Oe&4&&i(De,"style",$e.style,dt.style,we),Oe&8){const at=X.dynamicProps;for(let j=0;j<at.length;j++){const P=at[j],O=$e[P],G=dt[P];(G!==O||P==="value")&&i(De,P,O,G,we,ne)}}Oe&1&&Y.children!==X.children&&u(De,X.children)}else!He&&Ce==null&&k(De,$e,dt,ne,we);((ot=dt.onVnodeUpdated)||Xe)&&ho(()=>{ot&&fc(ot,ne,X,Y),Xe&&nf(X,Y,ne,"updated")},pe)},T=(Y,X,ne,pe,we,me,He)=>{for(let De=0;De<X.length;De++){const Oe=Y[De],Ce=X[De],Xe=Oe.el&&(Oe.type===Pr||!bf(Oe,Ce)||Oe.shapeFlag&198)?d(Oe.el):ne;g(Oe,Ce,Xe,null,pe,we,me,He,!0)}},k=(Y,X,ne,pe,we)=>{if(X!==ne){if(X!==ar)for(const me in X)!_w(me)&&!(me in ne)&&i(Y,me,X[me],null,we,pe);for(const me in ne){if(_w(me))continue;const He=ne[me],De=X[me];He!==De&&me!=="value"&&i(Y,me,De,He,we,pe)}"value"in ne&&i(Y,"value",X.value,ne.value,we)}},M=(Y,X,ne,pe,we,me,He,De,Oe)=>{const Ce=X.el=Y?Y.el:a(""),Xe=X.anchor=Y?Y.anchor:a("");let{patchFlag:$e,dynamicChildren:dt,slotScopeIds:ot}=X;ot&&(De=De?De.concat(ot):ot),Y==null?(r(Ce,ne,pe),r(Xe,ne,pe),E(X.children||[],ne,Xe,we,me,He,De,Oe)):$e>0&&$e&64&&dt&&Y.dynamicChildren?(T(Y.dynamicChildren,dt,ne,we,me,He,De),(X.key!=null||we&&X===we.subTree)&&KF(Y,X,!0)):F(Y,X,ne,Xe,we,me,He,De,Oe)},B=(Y,X,ne,pe,we,me,He,De,Oe)=>{X.slotScopeIds=De,Y==null?X.shapeFlag&512?we.ctx.activate(X,ne,pe,He,Oe):Z(X,ne,pe,we,me,He,Oe):N(Y,X,Oe)},Z=(Y,X,ne,pe,we,me,He)=>{const De=Y.component=Yte(Y,pe,we);if(TI(Y)&&(De.ctx.renderer=Pe),Zte(De,!1,He),De.asyncDep){if(we&&we.registerDep(De,L,He),!Y.el){const Oe=De.subTree=Xt(ci);v(null,Oe,X,ne),Y.placeholder=Oe.el}}else L(De,Y,X,ne,we,me,He)},N=(Y,X,ne)=>{const pe=X.component=Y.component;if(Vte(Y,X,ne))if(pe.asyncDep&&!pe.asyncResolved){H(pe,X,ne);return}else pe.next=X,pe.update();else X.el=Y.el,pe.vnode=X},L=(Y,X,ne,pe,we,me,He)=>{const De=()=>{if(Y.isMounted){let{next:$e,bu:dt,u:ot,parent:at,vnode:j}=Y;{const ce=QF(Y);if(ce){$e&&($e.el=j.el,H(Y,$e,He)),ce.asyncDep.then(()=>{Y.isUnmounted||De()});return}}let P=$e,O;rf(Y,!1),$e?($e.el=j.el,H(Y,$e,He)):$e=j,dt&&aE(dt),(O=$e.props&&$e.props.onVnodeBeforeUpdate)&&fc(O,at,$e,j),rf(Y,!0);const G=bD(Y),te=Y.subTree;Y.subTree=G,g(te,G,d(te.el),oe(te),Y,we,me),$e.el=G.el,P===null&&Hte(Y,G.el),ot&&ho(ot,we),(O=$e.props&&$e.props.onVnodeUpdated)&&ho(()=>fc(O,at,$e,j),we)}else{let $e;const{el:dt,props:ot}=X,{bm:at,m:j,parent:P,root:O,type:G}=Y,te=pg(X);rf(Y,!1),at&&aE(at),!te&&($e=ot&&ot.onVnodeBeforeMount)&&fc($e,P,X),rf(Y,!0);{O.ce&&O.ce._def.shadowRoot!==!1&&O.ce._injectChildStyle(G);const ce=Y.subTree=bD(Y);g(null,ce,ne,pe,Y,we,me),X.el=ce.el}if(j&&ho(j,we),!te&&($e=ot&&ot.onVnodeMounted)){const ce=X;ho(()=>fc($e,P,ce),we)}(X.shapeFlag&256||P&&pg(P.vnode)&&P.vnode.shapeFlag&256)&&Y.a&&ho(Y.a,we),Y.isMounted=!0,X=ne=pe=null}};Y.scope.on();const Oe=Y.effect=new J9(De);Y.scope.off();const Ce=Y.update=Oe.run.bind(Oe),Xe=Y.job=Oe.runIfDirty.bind(Oe);Xe.i=Y,Xe.id=Y.uid,Oe.scheduler=()=>Lk(Xe),rf(Y,!0),Ce()},H=(Y,X,ne)=>{X.component=Y;const pe=Y.vnode.props;Y.vnode=X,Y.next=null,Tte(Y,X.props,pe,ne),Rte(Y,X.children,ne),pu(),uD(Y),mu()},F=(Y,X,ne,pe,we,me,He,De,Oe=!1)=>{const Ce=Y&&Y.children,Xe=Y?Y.shapeFlag:0,$e=X.children,{patchFlag:dt,shapeFlag:ot}=X;if(dt>0){if(dt&128){ee(Ce,$e,ne,pe,we,me,He,De,Oe);return}else if(dt&256){J(Ce,$e,ne,pe,we,me,He,De,Oe);return}}ot&8?(Xe&16&&Ve(Ce,we,me),$e!==Ce&&u(ne,$e)):Xe&16?ot&16?ee(Ce,$e,ne,pe,we,me,He,De,Oe):Ve(Ce,we,me,!0):(Xe&8&&u(ne,""),ot&16&&E($e,ne,pe,we,me,He,De,Oe))},J=(Y,X,ne,pe,we,me,He,De,Oe)=>{Y=Y||ug,X=X||ug;const Ce=Y.length,Xe=X.length,$e=Math.min(Ce,Xe);let dt;for(dt=0;dt<$e;dt++){const ot=X[dt]=Oe?Td(X[dt]):Rc(X[dt]);g(Y[dt],ot,ne,null,we,me,He,De,Oe)}Ce>Xe?Ve(Y,we,me,!0,!1,$e):E(X,ne,pe,we,me,He,De,Oe,$e)},ee=(Y,X,ne,pe,we,me,He,De,Oe)=>{let Ce=0;const Xe=X.length;let $e=Y.length-1,dt=Xe-1;for(;Ce<=$e&&Ce<=dt;){const ot=Y[Ce],at=X[Ce]=Oe?Td(X[Ce]):Rc(X[Ce]);if(bf(ot,at))g(ot,at,ne,null,we,me,He,De,Oe);else break;Ce++}for(;Ce<=$e&&Ce<=dt;){const ot=Y[$e],at=X[dt]=Oe?Td(X[dt]):Rc(X[dt]);if(bf(ot,at))g(ot,at,ne,null,we,me,He,De,Oe);else break;$e--,dt--}if(Ce>$e){if(Ce<=dt){const ot=dt+1,at=ot<Xe?X[ot].el:pe;for(;Ce<=dt;)g(null,X[Ce]=Oe?Td(X[Ce]):Rc(X[Ce]),ne,at,we,me,He,De,Oe),Ce++}}else if(Ce>dt)for(;Ce<=$e;)ue(Y[Ce],we,me,!0),Ce++;else{const ot=Ce,at=Ce,j=new Map;for(Ce=at;Ce<=dt;Ce++){const Ft=X[Ce]=Oe?Td(X[Ce]):Rc(X[Ce]);Ft.key!=null&&j.set(Ft.key,Ce)}let P,O=0;const G=dt-at+1;let te=!1,ce=0;const ge=new Array(G);for(Ce=0;Ce<G;Ce++)ge[Ce]=0;for(Ce=ot;Ce<=$e;Ce++){const Ft=Y[Ce];if(O>=G){ue(Ft,we,me,!0);continue}let nn;if(Ft.key!=null)nn=j.get(Ft.key);else for(P=at;P<=dt;P++)if(ge[P-at]===0&&bf(Ft,X[P])){nn=P;break}nn===void 0?ue(Ft,we,me,!0):(ge[nn-at]=Ce+1,nn>=ce?ce=nn:te=!0,g(Ft,X[nn],ne,null,we,me,He,De,Oe),O++)}const $t=te?Dte(ge):ug;for(P=$t.length-1,Ce=G-1;Ce>=0;Ce--){const Ft=at+Ce,nn=X[Ft],Wn=X[Ft+1],un=Ft+1<Xe?Wn.el||Wn.placeholder:pe;ge[Ce]===0?g(null,nn,ne,un,we,me,He,De,Oe):te&&(P<0||Ce!==$t[P]?W(nn,ne,un,2):P--)}}},W=(Y,X,ne,pe,we=null)=>{const{el:me,type:He,transition:De,children:Oe,shapeFlag:Ce}=Y;if(Ce&6){W(Y.component.subTree,X,ne,pe);return}if(Ce&128){Y.suspense.move(X,ne,pe);return}if(Ce&64){He.move(Y,X,ne,Pe);return}if(He===Pr){r(me,X,ne);for(let $e=0;$e<Oe.length;$e++)W(Oe[$e],X,ne,pe);r(Y.anchor,X,ne);return}if(He===lE){_(Y,X,ne);return}if(pe!==2&&Ce&1&&De)if(pe===0)De.beforeEnter(me),r(me,X,ne),ho(()=>De.enter(me),we);else{const{leave:$e,delayLeave:dt,afterLeave:ot}=De,at=()=>{Y.ctx.isUnmounted?s(me):r(me,X,ne)},j=()=>{me._isLeaving&&me[Wl](!0),$e(me,()=>{at(),ot&&ot()})};dt?dt(me,at,j):j()}else r(me,X,ne)},ue=(Y,X,ne,pe=!1,we=!1)=>{const{type:me,props:He,ref:De,children:Oe,dynamicChildren:Ce,shapeFlag:Xe,patchFlag:$e,dirs:dt,cacheIndex:ot}=Y;if($e===-2&&(we=!1),De!=null&&(pu(),Cw(De,null,ne,Y,!0),mu()),ot!=null&&(X.renderCache[ot]=void 0),Xe&256){X.ctx.deactivate(Y);return}const at=Xe&1&&dt,j=!pg(Y);let P;if(j&&(P=He&&He.onVnodeBeforeUnmount)&&fc(P,X,Y),Xe&6)Ie(Y.component,ne,pe);else{if(Xe&128){Y.suspense.unmount(ne,pe);return}at&&nf(Y,null,X,"beforeUnmount"),Xe&64?Y.type.remove(Y,X,ne,Pe,pe):Ce&&!Ce.hasOnce&&(me!==Pr||$e>0&&$e&64)?Ve(Ce,X,ne,!1,!0):(me===Pr&&$e&384||!we&&Xe&16)&&Ve(Oe,X,ne),pe&&Ee(Y)}(j&&(P=He&&He.onVnodeUnmounted)||at)&&ho(()=>{P&&fc(P,X,Y),at&&nf(Y,null,X,"unmounted")},ne)},Ee=Y=>{const{type:X,el:ne,anchor:pe,transition:we}=Y;if(X===Pr){ye(ne,pe);return}if(X===lE){S(Y);return}const me=()=>{s(ne),we&&!we.persisted&&we.afterLeave&&we.afterLeave()};if(Y.shapeFlag&1&&we&&!we.persisted){const{leave:He,delayLeave:De}=we,Oe=()=>He(ne,me);De?De(Y.el,me,Oe):Oe()}else me()},ye=(Y,X)=>{let ne;for(;Y!==X;)ne=h(Y),s(Y),Y=ne;s(X)},Ie=(Y,X,ne)=>{const{bum:pe,scope:we,job:me,subTree:He,um:De,m:Oe,a:Ce}=Y;wD(Oe),wD(Ce),pe&&aE(pe),we.stop(),me&&(me.flags|=8,ue(He,Y,X,ne)),De&&ho(De,X),ho(()=>{Y.isUnmounted=!0},X)},Ve=(Y,X,ne,pe=!1,we=!1,me=0)=>{for(let He=me;He<Y.length;He++)ue(Y[He],X,ne,pe,we)},oe=Y=>{if(Y.shapeFlag&6)return oe(Y.component.subTree);if(Y.shapeFlag&128)return Y.suspense.next();const X=h(Y.anchor||Y.el),ne=X&&X[rte];return ne?h(ne):X};let _e=!1;const se=(Y,X,ne)=>{Y==null?X._vnode&&ue(X._vnode,null,null,!0):g(X._vnode||null,Y,X,null,null,null,ne),X._vnode=Y,_e||(_e=!0,uD(),bF(),_e=!1)},Pe={p:g,um:ue,m:W,r:Ee,mt:Z,mc:E,pc:F,pbc:T,n:oe,o:t};return{render:se,hydrate:void 0,createApp:Cte(se)}}function jS({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function rf({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ote(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function KF(t,e,n=!1){const r=t.children,s=e.children;if(bt(r)&&bt(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Td(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&KF(o,a)),a.type===PI&&a.patchFlag!==-1&&(a.el=o.el),a.type===ci&&!a.el&&(a.el=o.el)}}function Dte(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function QF(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:QF(e)}function wD(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Mte=Symbol.for("v-scx"),Lte=()=>Io(Mte);function vo(t,e,n){return YF(t,e,n)}function YF(t,e,n=ar){const{immediate:r,deep:s,flush:i,once:o}=n,a=hs({},n),c=e&&r||!e&&i!=="post";let l;if(ab){if(i==="sync"){const f=Lte();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!c){const f=()=>{};return f.stop=jc,f.resume=jc,f.pause=jc,f}}const u=li;a.call=(f,p,g)=>Za(f,u,p,g);let d=!1;i==="post"?a.scheduler=f=>{ho(f,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(f,p)=>{p?f():Lk(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=Xee(t,e,a);return ab&&(l?l.push(h):c&&h()),h}function Bte(t,e,n){const r=this.proxy,s=Lr(t)?t.includes(".")?ZF(r,t):()=>r[t]:t.bind(r,r);let i;qt(e)?i=e:(i=e.handler,n=e);const o=Zv(this),a=YF(s,i.bind(r),n);return o(),a}function ZF(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const $te=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${wa(e)}Modifiers`]||t[`${Op(e)}Modifiers`];function Ute(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ar;let s=n;const i=e.startsWith("update:"),o=i&&$te(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>Lr(u)?u.trim():u)),o.number&&(s=n.map(XE)));let a,c=r[a=oE(e)]||r[a=oE(wa(e))];!c&&i&&(c=r[a=oE(Op(e))]),c&&Za(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Za(l,t,6,s)}}function JF(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!qt(t)){const c=l=>{const u=JF(l,e,!0);u&&(a=!0,hs(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(lr(t)&&r.set(t,null),null):(bt(i)?i.forEach(c=>o[c]=null):hs(o,i),lr(t)&&r.set(t,o),o)}function xI(t,e){return!t||!yI(e)?!1:(e=e.slice(2).replace(/Once$/,""),Hn(t,e[0].toLowerCase()+e.slice(1))||Hn(t,Op(e))||Hn(t,e))}function bD(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=t,y=sA(t);let v,b;try{if(n.shapeFlag&4){const S=s||r,C=S;v=Rc(l.call(C,S,u,d,f,h,p)),b=a}else{const S=e;v=Rc(S.length>1?S(d,{attrs:a,slots:o,emit:c}):S(d,null)),b=e.props?a:Fte(a)}}catch(S){Tw.length=0,II(S,t,1),v=Xt(ci)}let _=v;if(b&&g!==!1){const S=Object.keys(b),{shapeFlag:C}=_;S.length&&C&7&&(i&&S.some(Tk)&&(b=jte(b,i)),_=ah(_,b,!1,!0))}return n.dirs&&(_=ah(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&Xf(_,n.transition),v=_,sA(y),v}const Fte=t=>{let e;for(const n in t)(n==="class"||n==="style"||yI(n))&&((e||(e={}))[n]=t[n]);return e},jte=(t,e)=>{const n={};for(const r in t)(!Tk(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Vte(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?vD(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==r[h]&&!xI(l,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?vD(r,o,l):!0:!!o;return!1}function vD(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!xI(n,i))return!0}return!1}function Hte({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const XF=t=>t.__isSuspense;function qte(t,e){e&&e.pendingBranch?bt(t)?e.effects.push(...t):e.effects.push(t):nte(t)}const Pr=Symbol.for("v-fgt"),PI=Symbol.for("v-txt"),ci=Symbol.for("v-cmt"),lE=Symbol.for("v-stc"),Tw=[];let _o=null;function pt(t=!1){Tw.push(_o=t?null:[])}function zte(){Tw.pop(),_o=Tw[Tw.length-1]||null}let ib=1;function _D(t,e=!1){ib+=t,t<0&&_o&&e&&(_o.hasOnce=!0)}function e7(t){return t.dynamicChildren=ib>0?_o||ug:null,zte(),ib>0&&_o&&_o.push(t),t}function Lt(t,e,n,r,s,i){return e7(Q(t,e,n,r,s,i,!0))}function Eo(t,e,n,r,s){return e7(Xt(t,e,n,r,s,!0))}function ob(t){return t?t.__v_isVNode===!0:!1}function bf(t,e){return t.type===e.type&&t.key===e.key}const t7=({key:t})=>t??null,uE=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Lr(t)||qr(t)||qt(t)?{i:js,r:t,k:e,f:!!n}:t:null);function Q(t,e=null,n=null,r=0,s=null,i=t===Pr?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&t7(e),ref:e&&uE(e),scopeId:_F,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:js};return a?(jk(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Lr(n)?8:16),ib>0&&!o&&_o&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&_o.push(c),c}const Xt=Wte;function Wte(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===OF)&&(t=ci),ob(t)){const a=ah(t,e,!0);return n&&jk(a,n),ib>0&&!i&&_o&&(a.shapeFlag&6?_o[_o.indexOf(t)]=a:_o.push(a)),a.patchFlag=-2,a}if(nne(t)&&(t=t.__vccOpts),e){e=Gte(e);let{class:a,style:c}=e;a&&!Lr(a)&&(e.class=Jn(a)),lr(c)&&(Dk(c)&&!bt(c)&&(c=hs({},c)),e.style=v0(c))}const o=Lr(t)?1:XF(t)?128:EF(t)?64:lr(t)?4:qt(t)?2:0;return Q(t,e,n,r,s,o,i,!0)}function Gte(t){return t?Dk(t)||VF(t)?hs({},t):t:null}function ah(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,l=e?RI(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&t7(l),ref:e&&e.ref?n&&i?bt(i)?i.concat(uE(e)):[i,uE(e)]:uE(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pr?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ah(t.ssContent),ssFallback:t.ssFallback&&ah(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Xf(u,c.clone(u)),u}function Qr(t=" ",e=0){return Xt(PI,null,t,e)}function _c(t,e){const n=Xt(lE,null,t);return n.staticCount=e,n}function Kd(t="",e=!1){return e?(pt(),Eo(ci,null,t)):Xt(ci,null,t)}function Rc(t){return t==null||typeof t=="boolean"?Xt(ci):bt(t)?Xt(Pr,null,t.slice()):ob(t)?Td(t):Xt(PI,null,String(t))}function Td(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ah(t)}function jk(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(bt(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),jk(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!VF(e)?e._ctx=js:s===3&&js&&(js.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else qt(e)?(e={default:e,_ctx:js},n=32):(e=String(e),r&64?(n=16,e=[Qr(e)]):n=8);t.children=e,t.shapeFlag|=n}function RI(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Jn([e.class,r.class]));else if(s==="style")e.style=v0([e.style,r.style]);else if(yI(s)){const i=e[s],o=r[s];o&&i!==o&&!(bt(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function fc(t,e,n,r=null){Za(t,e,7,[n,r])}const Kte=$F();let Qte=0;function Yte(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Kte,i={uid:Qte++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Aee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qF(r,s),emitsOptions:JF(r,s),emit:null,emitted:null,propsDefaults:ar,inheritAttrs:r.inheritAttrs,ctx:ar,data:ar,props:ar,attrs:ar,slots:ar,refs:ar,setupState:ar,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Ute.bind(null,i),t.ce&&t.ce(i),i}let li=null;const Yv=()=>li||js;let oA,l2;{const t=vI(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};oA=e("__VUE_INSTANCE_SETTERS__",n=>li=n),l2=e("__VUE_SSR_SETTERS__",n=>ab=n)}const Zv=t=>{const e=li;return oA(t),t.scope.on(),()=>{t.scope.off(),oA(e)}},ED=()=>{li&&li.scope.off(),oA(null)};function n7(t){return t.vnode.shapeFlag&4}let ab=!1;function Zte(t,e=!1,n=!1){e&&l2(e);const{props:r,children:s}=t.vnode,i=n7(t);Ite(t,r,i,e),Pte(t,s,n||e);const o=i?Jte(t,e):void 0;return e&&l2(!1),o}function Jte(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,yte);const{setup:r}=n;if(r){pu();const s=t.setupContext=r.length>1?ene(t):null,i=Zv(t),o=Gv(r,t,0,[t.props,s]),a=z9(o);if(mu(),i(),(a||t.sp)&&!pg(t)&&xF(t),a){if(o.then(ED,ED),e)return o.then(c=>{AD(t,c)}).catch(c=>{II(c,t,0)});t.asyncDep=o}else AD(t,o)}else r7(t)}function AD(t,e,n){qt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:lr(e)&&(t.setupState=gF(e)),r7(t)}function r7(t,e,n){const r=t.type;t.render||(t.render=r.render||jc);{const s=Zv(t);pu();try{wte(t)}finally{mu(),s()}}}const Xte={get(t,e){return oi(t,"get",""),t[e]}};function ene(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Xte),slots:t.slots,emit:t.emit,expose:e}}function NI(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(gF(qee(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Iw)return Iw[n](t)},has(e,n){return n in e||n in Iw}})):t.proxy}function tne(t,e=!0){return qt(t)?t.displayName||t.name:t.name||e&&t.__name}function nne(t){return qt(t)&&"__vccOpts"in t}const xn=(t,e)=>Zee(t,e,ab);function Vk(t,e,n){const r=arguments.length;return r===2?lr(e)&&!bt(e)?ob(e)?Xt(t,null,[e]):Xt(t,e):Xt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ob(n)&&(n=[n]),Xt(t,e,n))}const rne="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let u2;const CD=typeof window<"u"&&window.trustedTypes;if(CD)try{u2=CD.createPolicy("vue",{createHTML:t=>t})}catch{}const s7=u2?t=>u2.createHTML(t):t=>t,sne="http://www.w3.org/2000/svg",ine="http://www.w3.org/1998/Math/MathML",ql=typeof document<"u"?document:null,ID=ql&&ql.createElement("template"),one={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?ql.createElementNS(sne,t):e==="mathml"?ql.createElementNS(ine,t):n?ql.createElement(t,{is:n}):ql.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>ql.createTextNode(t),createComment:t=>ql.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ql.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{ID.innerHTML=s7(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=ID.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},rd="transition",Ny="animation",Sg=Symbol("_vtc"),i7={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},o7=hs({},CF,i7),ane=t=>(t.displayName="Transition",t.props=o7,t),$Ke=ane((t,{slots:e})=>Vk(ite,a7(t),e)),sf=(t,e=[])=>{bt(t)?t.forEach(n=>n(...e)):t&&t(...e)},TD=t=>t?bt(t)?t.some(e=>e.length>1):t.length>1:!1;function a7(t){const e={};for(const M in t)M in i7||(e[M]=t[M]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=cne(s),g=p&&p[0],y=p&&p[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:_,onLeave:S,onLeaveCancelled:C,onBeforeAppear:x=v,onAppear:I=b,onAppearCancelled:E=_}=e,A=(M,B,Z,N)=>{M._enterCancelled=N,Ad(M,B?u:a),Ad(M,B?l:o),Z&&Z()},T=(M,B)=>{M._isLeaving=!1,Ad(M,d),Ad(M,f),Ad(M,h),B&&B()},k=M=>(B,Z)=>{const N=M?I:b,L=()=>A(B,M,Z);sf(N,[B,L]),SD(()=>{Ad(B,M?c:i),Ec(B,M?u:a),TD(N)||xD(B,r,g,L)})};return hs(e,{onBeforeEnter(M){sf(v,[M]),Ec(M,i),Ec(M,o)},onBeforeAppear(M){sf(x,[M]),Ec(M,c),Ec(M,l)},onEnter:k(!1),onAppear:k(!0),onLeave(M,B){M._isLeaving=!0;const Z=()=>T(M,B);Ec(M,d),M._enterCancelled?(Ec(M,h),d2()):(d2(),Ec(M,h)),SD(()=>{M._isLeaving&&(Ad(M,d),Ec(M,f),TD(S)||xD(M,r,y,Z))}),sf(S,[M,Z])},onEnterCancelled(M){A(M,!1,void 0,!0),sf(_,[M])},onAppearCancelled(M){A(M,!0,void 0,!0),sf(E,[M])},onLeaveCancelled(M){T(M),sf(C,[M])}})}function cne(t){if(t==null)return null;if(lr(t))return[VS(t.enter),VS(t.leave)];{const e=VS(t);return[e,e]}}function VS(t){return mee(t)}function Ec(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Sg]||(t[Sg]=new Set)).add(e)}function Ad(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Sg];n&&(n.delete(e),n.size||(t[Sg]=void 0))}function SD(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let lne=0;function xD(t,e,n,r){const s=t._endId=++lne,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=c7(t,e);if(!o)return r();const l=o+"end";let u=0;const d=()=>{t.removeEventListener(l,h),i()},h=f=>{f.target===t&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},a+1),t.addEventListener(l,h)}function c7(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),s=r(`${rd}Delay`),i=r(`${rd}Duration`),o=PD(s,i),a=r(`${Ny}Delay`),c=r(`${Ny}Duration`),l=PD(a,c);let u=null,d=0,h=0;e===rd?o>0&&(u=rd,d=o,h=i.length):e===Ny?l>0&&(u=Ny,d=l,h=c.length):(d=Math.max(o,l),u=d>0?o>l?rd:Ny:null,h=u?u===rd?i.length:c.length:0);const f=u===rd&&/\b(transform|all)(,|$)/.test(r(`${rd}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function PD(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>RD(n)+RD(t[r])))}function RD(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function d2(){return document.body.offsetHeight}function une(t,e,n){const r=t[Sg];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const aA=Symbol("_vod"),l7=Symbol("_vsh"),UKe={name:"show",beforeMount(t,{value:e},{transition:n}){t[aA]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ky(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ky(t,!0),r.enter(t)):r.leave(t,()=>{ky(t,!1)}):ky(t,e))},beforeUnmount(t,{value:e}){ky(t,e)}};function ky(t,e){t.style.display=e?t[aA]:"none",t[l7]=!e}const dne=Symbol(""),hne=/(^|;)\s*display\s*:/;function fne(t,e,n){const r=t.style,s=Lr(n);let i=!1;if(n&&!s){if(e)if(Lr(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&dE(r,a,"")}else for(const o in e)n[o]==null&&dE(r,o,"");for(const o in n)o==="display"&&(i=!0),dE(r,o,n[o])}else if(s){if(e!==n){const o=r[dne];o&&(n+=";"+o),r.cssText=n,i=hne.test(n)}}else e&&t.removeAttribute("style");aA in t&&(t[aA]=i?r.display:"",t[l7]&&(r.display="none"))}const ND=/\s*!important$/;function dE(t,e,n){if(bt(n))n.forEach(r=>dE(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=pne(t,e);ND.test(n)?t.setProperty(Op(r),n.replace(ND,""),"important"):t[r]=n}}const kD=["Webkit","Moz","ms"],HS={};function pne(t,e){const n=HS[e];if(n)return n;let r=wa(e);if(r!=="filter"&&r in t)return HS[e]=r;r=bI(r);for(let s=0;s<kD.length;s++){const i=kD[s]+r;if(i in t)return HS[e]=i}return e}const OD="http://www.w3.org/1999/xlink";function DD(t,e,n,r,s,i=_ee(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(OD,e.slice(6,e.length)):t.setAttributeNS(OD,e,n):n==null||i&&!Q9(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Ya(n)?String(n):n)}function MD(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?s7(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Q9(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Od(t,e,n,r){t.addEventListener(e,n,r)}function mne(t,e,n,r){t.removeEventListener(e,n,r)}const LD=Symbol("_vei");function gne(t,e,n,r,s=null){const i=t[LD]||(t[LD]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=yne(e);if(r){const l=i[e]=vne(r,s);Od(t,a,l,c)}else o&&(mne(t,a,o,c),i[e]=void 0)}}const BD=/(?:Once|Passive|Capture)$/;function yne(t){let e;if(BD.test(t)){e={};let r;for(;r=t.match(BD);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Op(t.slice(2)),e]}let qS=0;const wne=Promise.resolve(),bne=()=>qS||(wne.then(()=>qS=0),qS=Date.now());function vne(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Za(_ne(r,n.value),e,5,[r])};return n.value=t,n.attached=bne(),n}function _ne(t,e){if(bt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const $D=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ene=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?une(t,r,o):e==="style"?fne(t,n,r):yI(e)?Tk(e)||gne(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ane(t,e,r,o))?(MD(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&DD(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Lr(r))?MD(t,wa(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),DD(t,e,r,o))};function Ane(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&$D(e)&&qt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return $D(e)&&Lr(n)?!1:e in t}const u7=new WeakMap,d7=new WeakMap,cA=Symbol("_moveCb"),UD=Symbol("_enterCb"),Cne=t=>(delete t.props.mode,t),Ine=Cne({name:"TransitionGroup",props:hs({},o7,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Yv(),r=AF();let s,i;return RF(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Rne(s[0].el,n.vnode.el,o)){s=[];return}s.forEach(Sne),s.forEach(xne);const a=s.filter(Pne);d2(),a.forEach(c=>{const l=c.el,u=l.style;Ec(l,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=l[cA]=h=>{h&&h.target!==l||(!h||/transform$/.test(h.propertyName))&&(l.removeEventListener("transitionend",d),l[cA]=null,Ad(l,o))};l.addEventListener("transitionend",d)}),s=[]}),()=>{const o=Cn(t),a=a7(o);let c=o.tag||Pr;if(s=[],i)for(let l=0;l<i.length;l++){const u=i[l];u.el&&u.el instanceof Element&&(s.push(u),Xf(u,sb(u,a,r,n)),u7.set(u,u.el.getBoundingClientRect()))}i=e.default?Bk(e.default()):[];for(let l=0;l<i.length;l++){const u=i[l];u.key!=null&&Xf(u,sb(u,a,r,n))}return Xt(c,null,i)}}}),Tne=Ine;function Sne(t){const e=t.el;e[cA]&&e[cA](),e[UD]&&e[UD]()}function xne(t){d7.set(t,t.el.getBoundingClientRect())}function Pne(t){const e=u7.get(t),n=d7.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function Rne(t,e,n){const r=t.cloneNode(),s=t[Sg];s&&s.forEach(a=>{a.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=c7(r);return i.removeChild(r),o}const xg=t=>{const e=t.props["onUpdate:modelValue"]||!1;return bt(e)?n=>aE(e,n):e};function Nne(t){t.target.composing=!0}function FD(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const su=Symbol("_assign"),FKe={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[su]=xg(s);const i=r||s.props&&s.props.type==="number";Od(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=XE(a)),t[su](a)}),n&&Od(t,"change",()=>{t.value=t.value.trim()}),e||(Od(t,"compositionstart",Nne),Od(t,"compositionend",FD),Od(t,"change",FD))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[su]=xg(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?XE(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},jKe={deep:!0,created(t,e,n){t[su]=xg(n),Od(t,"change",()=>{const r=t._modelValue,s=cb(t),i=t.checked,o=t[su];if(bt(r)){const a=Pk(r,s),c=a!==-1;if(i&&!c)o(r.concat(s));else if(!i&&c){const l=[...r];l.splice(a,1),o(l)}}else if(b0(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(h7(t,i))})},mounted:jD,beforeUpdate(t,e,n){t[su]=xg(n),jD(t,e,n)}};function jD(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(bt(e))s=Pk(e,r.props.value)>-1;else if(b0(e))s=e.has(r.props.value);else{if(e===n)return;s=Wv(e,h7(t,!0))}t.checked!==s&&(t.checked=s)}const VKe={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=b0(e);Od(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?XE(cb(o)):cb(o));t[su](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,Kv(()=>{t._assigning=!1})}),t[su]=xg(r)},mounted(t,{value:e}){VD(t,e)},beforeUpdate(t,e,n){t[su]=xg(n)},updated(t,{value:e}){t._assigning||VD(t,e)}};function VD(t,e){const n=t.multiple,r=bt(e);if(!(n&&!r&&!b0(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=cb(o);if(n)if(r){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(l=>String(l)===String(a)):o.selected=Pk(e,a)>-1}else o.selected=e.has(a);else if(Wv(cb(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function cb(t){return"_value"in t?t._value:t.value}function h7(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const kne=["ctrl","shift","alt","meta"],One={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>kne.some(n=>t[`${n}Key`]&&!e.includes(n))},f7=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=One[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},Dne=hs({patchProp:Ene},one);let HD;function Mne(){return HD||(HD=Nte(Dne))}const p7=((...t)=>{const e=Mne().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Bne(r);if(!s)return;const i=e._component;!qt(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Lne(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function Lne(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Bne(t){return Lr(t)?document.querySelector(t):t}function $ne(){const t=console.error,e=console.warn,n=console.log,r=["chrome-extension://","gomekmidlodglbbmalcneegieacbdmki","gpcWindowSetting.js","gpc.js","web_accessible_resources","manifest key","net::ERR_FAILED","message port closed","runtime.lastError","Unchecked runtime.lastError","injectScript","injectContentScript","execute @ gpc.js","Promise.then step @ gpc.js"];function s(i){return typeof i!="string"?!1:r.some(o=>i.toLowerCase().includes(o.toLowerCase()))}console.error=function(...i){const o=i.join(" ");s(o)||t.apply(console,i)},console.warn=function(...i){const o=i.join(" ");s(o)||e.apply(console,i)},console.log=function(...i){const o=i.join(" ");s(o)||n.apply(console,i)}}typeof window<"u"&&$ne();const kI=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},Une=Symbol(),qD=Object.getPrototypeOf,h2=new WeakMap,Fne=t=>t&&(h2.has(t)?h2.get(t):qD(t)===Object.prototype||qD(t)===Array.prototype),jne=t=>Fne(t)&&t[Une]||null,zD=(t,e=!0)=>{h2.set(t,e)},lA={},Hk=t=>typeof t=="object"&&t!==null,Vne=t=>Hk(t)&&!Jv.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),m7=(t,e)=>{const n=f2.get(t);if(n?.[0]===e)return n[1];const r=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return zD(r,!0),f2.set(t,[e,r]),Reflect.ownKeys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(t,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,s),a={value:i,enumerable:o,configurable:!0};if(Jv.has(i))zD(i,!1);else if(ch.has(i)){const[c,l]=ch.get(i);a.value=m7(c,l())}Object.defineProperty(r,s,a)}),Object.preventExtensions(r)},Hne=(t,e,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const a=Reflect.deleteProperty(s,i);return a&&r(["delete",[i],o]),a},set(s,i,o,a){const c=!t()&&Reflect.has(s,i),l=Reflect.get(s,i,a);if(c&&(WD(l,o)||lb.has(o)&&WD(l,lb.get(o))))return!0;n(i),Hk(o)&&(o=jne(o)||o);const u=!ch.has(o)&&zne(o)?ur(o):o;return e(i,u),Reflect.set(s,i,u,a),r(["set",[i],o,l]),!0}}),ch=new WeakMap,Jv=new WeakSet,f2=new WeakMap,aw=[1,1],lb=new WeakMap;let WD=Object.is,qne=(t,e)=>new Proxy(t,e),zne=Vne,Wne=m7,Gne=Hne;function ur(t={}){if(!Hk(t))throw new Error("object required");const e=lb.get(t);if(e)return e;let n=aw[0];const r=new Set,s=(y,v=++aw[0])=>{n!==v&&(n=v,r.forEach(b=>b(y,v)))};let i=aw[1];const o=(y=++aw[1])=>(i!==y&&!r.size&&(i=y,c.forEach(([v])=>{const b=v[1](y);b>n&&(n=b)})),n),a=y=>(v,b)=>{const _=[...v];_[1]=[y,..._[1]],s(_,b)},c=new Map,l=(y,v)=>{const b=!Jv.has(v)&&ch.get(v);if(b){if((lA?"production":void 0)!=="production"&&c.has(y))throw new Error("prop listener already exists");if(r.size){const _=b[2](a(y));c.set(y,[b,_])}else c.set(y,[b])}},u=y=>{var v;const b=c.get(y);b&&(c.delete(y),(v=b[1])==null||v.call(b))},d=y=>(r.add(y),r.size===1&&c.forEach(([b,_],S)=>{if((lA?"production":void 0)!=="production"&&_)throw new Error("remove already exists");const C=b[2](a(S));c.set(S,[b,C])}),()=>{r.delete(y),r.size===0&&c.forEach(([b,_],S)=>{_&&(_(),c.set(S,[b]))})});let h=!0;const f=Gne(()=>h,l,u,s),p=qne(t,f);lb.set(t,p);const g=[t,o,d];return ch.set(p,g),Reflect.ownKeys(t).forEach(y=>{const v=Object.getOwnPropertyDescriptor(t,y);"value"in v&&v.writable&&(p[y]=t[y])}),h=!1,p}function Vs(t,e,n){const r=ch.get(t);(lA?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[2];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function ub(t){const e=ch.get(t);(lA?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,r]=e;return Wne(n,r())}function ep(t){return Jv.add(t),t}function Kne(){return{proxyStateMap:ch,refSet:Jv,snapCache:f2,versionHolder:aw,proxyCache:lb}}function qs(t,e,n,r){let s=t[e];return Vs(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}const{proxyStateMap:Qne,snapCache:Yne}=Kne(),p1=t=>Qne.has(t);function Zne(t){const e=[];let n=0;const r=new Map,s=new WeakMap,i=()=>{const l=Yne.get(a),u=l?.[1];if(u&&!s.has(u)){const d=new Map(r);s.set(u,d)}},o=l=>s.get(l)||r,a={data:e,index:n,epoch:0,get size(){return p1(this)||i(),o(this).size},get(l){const d=o(this).get(l);if(d===void 0){this.epoch;return}return this.data[d]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!p1(this))throw new Error("Cannot perform mutations on a snapshot");const d=r.get(l);return d===void 0?(r.set(l,this.index),this.data[this.index++]=u):this.data[d]=u,this.epoch++,this},delete(l){if(!p1(this))throw new Error("Cannot perform mutations on a snapshot");const u=r.get(l);return u===void 0?!1:(delete this.data[u],r.delete(l),this.epoch++,!0)},clear(){if(!p1(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(l){this.epoch,o(this).forEach((d,h)=>{l(this.data[d],h,this)})},*entries(){this.epoch;const l=o(this);for(const[u,d]of l)yield[u,this.data[d]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=ur(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var GD={};const le={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof GD<"u"?GD.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},db={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(n=>n.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const n=t.find(s=>s.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return le.CHAIN_NAME_MAP?.[r]||void 0}},g7=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var Jne=20,Xne=1,tp=1e6,KD=1e6,ere=-7,tre=21,nre=!1,Xv="[big.js] ",Bp=Xv+"Invalid ",OI=Bp+"decimal places",rre=Bp+"rounding mode",y7=Xv+"Division by zero",Xn={},Vc=void 0,sre=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function w7(){function t(e){var n=this;if(!(n instanceof t))return e===Vc?w7():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Bp+"value");e=e===0&&1/e<0?"-0":String(e)}ire(n,e)}n.constructor=t}return t.prototype=Xn,t.DP=Jne,t.RM=Xne,t.NE=ere,t.PE=tre,t.strict=nre,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function ire(t,e){var n,r,s;if(!sre.test(e))throw Error(Bp+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function $p(t,e,n,r){var s=t.c;if(n===Vc&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(rre);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Vc))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==Vc||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function Up(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}Xn.abs=function(){var t=new this.constructor(this);return t.s=1,t};Xn.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};Xn.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>tp)throw Error(OI);if(!s[0])throw Error(y7);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,h=s.slice(),f=a=s.length,p=r.length,g=r.slice(0,a),y=g.length,v=t,b=v.c=[],_=0,S=o+(v.e=e.e-t.e)+1;for(v.s=i,i=S<0?0:S,h.unshift(0);y++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(y=g.length))u=a>y?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=y==a?s:h;y;){if(g[--y]<c[y]){for(d=y;d&&!g[--d];)g[d]=9;--g[d],g[y]+=10}g[y]-=c[y]}for(;!g[0];)g.shift()}else break}b[_++]=u?l:++l,g[0]&&u?g[y]=r[f]||0:g=[r[f]]}while((f++<p||g[0]!==Vc)&&i--);return!b[0]&&_!=1&&(b.shift(),v.e--,S--),_>S&&$p(v,S,n.RM,g[0]!==Vc),v};Xn.eq=function(t){return this.cmp(t)===0};Xn.gt=function(t){return this.cmp(t)>0};Xn.gte=function(t){return this.cmp(t)>-1};Xn.lt=function(t){return this.cmp(t)<0};Xn.lte=function(t){return this.cmp(t)<1};Xn.minus=Xn.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-h){for((s=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};Xn.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(y7);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};Xn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Xn.plus=Xn.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Xn.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-KD||t>KD)throw Error(Bp+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};Xn.prec=function(t,e){if(t!==~~t||t<1||t>tp)throw Error(Bp+"precision");return $p(new this.constructor(this),t,e)};Xn.round=function(t,e){if(t===Vc)t=0;else if(t!==~~t||t<-tp||t>tp)throw Error(OI);return $p(new this.constructor(this),t+this.e+1,e)};Xn.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Xv+"No square root");i=Math.sqrt(+Up(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return $p(t,(s.DP-=4)+t.e+1,s.RM)};Xn.times=Xn.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Xn.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Vc){if(t!==~~t||t<0||t>tp)throw Error(OI);for(n=$p(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Up(n,!0,!!r)};Xn.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Vc){if(t!==~~t||t<0||t>tp)throw Error(OI);for(n=$p(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Up(n,!1,!!r)};Xn[Symbol.for("nodejs.util.inspect.custom")]=Xn.toJSON=Xn.toString=function(){var t=this,e=t.constructor;return Up(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Xn.toNumber=function(){var t=+Up(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Xv+"Imprecise conversion");return t};Xn.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==Vc){if(t!==~~t||t<1||t>tp)throw Error(Bp+"precision");for(n=$p(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Up(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Xn.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Xv+"valueOf disallowed");return Up(t,t.e<=e.NE||t.e>=e.PE,!0)};var sd=w7();const ore={bigNumber(t){return t?new sd(t):new sd(0)},multiply(t,e){if(t===void 0||e===void 0)return new sd(0);const n=new sd(t),r=new sd(e);return n.times(r)},toFixed(t,e=2){return t===void 0||t===""?new sd(0).toFixed(e):new sd(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new sd(e).toNumber()}},are=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],cre=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],lre=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ure={getERC20Abi:t=>le.USDT_CONTRACT_ADDRESSES.includes(t)?lre:are,getSwapAbi:()=>cre},Wi={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},vt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function zS(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const gt={setItem(t,e){ng()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(ng())return localStorage.getItem(t)||void 0},removeItem(t){ng()&&localStorage.removeItem(t)},clear(){ng()&&localStorage.clear()}};function ng(){return typeof window<"u"&&typeof localStorage<"u"}function hb(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var QD={};const WS=(typeof process<"u"&&typeof QD<"u"?QD.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",b7=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],dre="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",In={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:WS,SECURE_SITE_DASHBOARD:`${WS}/dashboard`,SECURE_SITE_FAVICON:`${WS}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[le.CHAIN.EVM,le.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[le.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[le.CHAIN.EVM,le.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[le.CHAIN.EVM,le.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[le.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[le.CHAIN.EVM,le.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},Se={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Se.getActiveNamespace(),e=Se.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{gt.setItem(vt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=gt.getItem(vt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{gt.removeItem(vt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{gt.setItem(vt.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{gt.setItem(vt.ACTIVE_CAIP_NETWORK_ID,t),Se.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return gt.getItem(vt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{gt.removeItem(vt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=zS(t);gt.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Se.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),gt.setItem(vt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=gt.getItem(vt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=zS(t);gt.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return gt.getItem(vt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=zS(t);return gt.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{gt.setItem(vt.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return gt.getItem(vt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{gt.removeItem(vt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return gt.getItem(vt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return gt.getItem(vt.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{gt.setItem(vt.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return gt.getItem(vt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=gt.getItem(vt.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));gt.setItem(vt.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Se.getConnectedNamespaces();e.includes(t)||(e.push(t),Se.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Se.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),Se.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return gt.getItem(vt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{gt.setItem(vt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{gt.removeItem(vt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=gt.getItem(vt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Se.getBalanceCache();gt.setItem(vt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=Se.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Se.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Se.getBalanceCache();e[t.caipAddress]=t,gt.setItem(vt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=gt.getItem(vt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Se.getBalanceCache();gt.setItem(vt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=Se.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),Se.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Se.getNativeBalanceCache();e[t.caipAddress]=t,gt.setItem(vt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=gt.getItem(vt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=Se.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Se.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Se.getEnsCache();e[t.address]=t,gt.setItem(vt.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Se.getEnsCache();gt.setItem(vt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=gt.getItem(vt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=Se.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Se.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Se.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},gt.setItem(vt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Se.getIdentityCache();gt.setItem(vt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{gt.removeItem(vt.PORTFOLIO_CACHE),gt.removeItem(vt.NATIVE_BALANCE_CACHE),gt.removeItem(vt.ENS_CACHE),gt.removeItem(vt.IDENTITY_CACHE),gt.removeItem(vt.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{gt.setItem(vt.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=gt.getItem(vt.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=Se.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===le.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};gt.setItem(vt.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=gt.getItem(vt.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=Se.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),gt.setItem(vt.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=gt.getItem(vt.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=Se.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),gt.setItem(vt.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=Se.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),gt.setItem(vt.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(Se.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=gt.getItem(vt.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const r=Se.getTransactionsCache()[t]?.[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;Se.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:n,transactions:r}){try{const s=Se.getTransactionsCache();s[t]={...s[t],[e]:{timestamp:n,transactions:r}},gt.setItem(vt.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:n,transactions:r})}},removeTransactionsCache({address:t,chainId:e}){try{const n=Se.getTransactionsCache(),r=n?.[t]||{},{[e]:s,...i}=r;gt.setItem(vt.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[t]:i}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=gt.getItem(vt.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const n=Se.getTokenPriceCache()[t.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;Se.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=Se.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},gt.setItem(vt.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=Se.getTokenPriceCache();gt.setItem(vt.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},rt={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return rt.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=In.TEN_SEC_MS:!0},isAllowedRetry(t,e=In.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(rt.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const n=new URL(t),r=new URL(e);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+In.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(rt.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!s?.endsWith("/")&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!rt.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Se.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,rt.wait(2e3)])},parseBalance(t,e){let n="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(n=l)}}const[r,s]=n.split("."),i=r||"0",o=s||"000";return{formattedText:`${i}.${o}${e?` ${e}`:""}`,value:i,decimals:o,symbol:e}},getApiUrl(){return le.W3M_API_URL},getBlockchainApiUrl(){return le.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return le.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?In.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in le.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function Oy(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class e_{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await Oy(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await Oy(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Oy(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Oy(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Oy(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const hre={getFeatureValue(t,e){const n=e?.[t];return n===void 0?In.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(rt.isTelegram()){if(rt.isIos())return t.filter(e=>e!=="google");if(rt.isMac())return t.filter(e=>e!=="x");if(rt.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},ft=ur({features:In.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:In.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),ve={state:ft,subscribeKey(t,e){return qs(ft,t,e)},setOptions(t){Object.assign(ft,t)},setRemoteFeatures(t){if(!t)return;const e={...ft.remoteFeatures,...t};ft.remoteFeatures=e,ft.remoteFeatures?.socials&&(ft.remoteFeatures.socials=hre.filterSocialsByPlatform(ft.remoteFeatures.socials)),ft.features?.pay&&(ft.remoteFeatures.email=!1,ft.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;ft.features||(ft.features=In.DEFAULT_FEATURES);const e={...ft.features,...t};ft.features=e,ft.features?.pay&&ft.remoteFeatures&&(ft.remoteFeatures.email=!1,ft.remoteFeatures.socials=!1)},setProjectId(t){ft.projectId=t},setCustomRpcUrls(t){ft.customRpcUrls=t},setAllWallets(t){ft.allWallets=t},setIncludeWalletIds(t){ft.includeWalletIds=t},setExcludeWalletIds(t){ft.excludeWalletIds=t},setFeaturedWalletIds(t){ft.featuredWalletIds=t},setTokens(t){ft.tokens=t},setTermsConditionsUrl(t){ft.termsConditionsUrl=t},setPrivacyPolicyUrl(t){ft.privacyPolicyUrl=t},setCustomWallets(t){ft.customWallets=t},setIsSiweEnabled(t){ft.isSiweEnabled=t},setIsUniversalProvider(t){ft.isUniversalProvider=t},setSdkVersion(t){ft.sdkVersion=t},setMetadata(t){ft.metadata=t},setDisableAppend(t){ft.disableAppend=t},setEIP6963Enabled(t){ft.enableEIP6963=t},setDebug(t){ft.debug=t},setEnableWalletConnect(t){ft.enableWalletConnect=t},setEnableWalletGuide(t){ft.enableWalletGuide=t},setEnableAuthLogger(t){ft.enableAuthLogger=t},setEnableWallets(t){ft.enableWallets=t},setPreferUniversalLinks(t){ft.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,n]of Object.entries(In.SIWX_DEFAULTS))t[e]??=n;ft.siwx=t},setConnectMethodsOrder(t){ft.features={...ft.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){ft.features={...ft.features,walletFeaturesOrder:t}},setSocialsOrder(t){ft.remoteFeatures={...ft.remoteFeatures,socials:t}},setCollapseWallets(t){ft.features={...ft.features,collapseWallets:t}},setEnableEmbedded(t){ft.enableEmbedded=t},setAllowUnsupportedChain(t){ft.allowUnsupportedChain=t},setManualWCControl(t){ft.manualWCControl=t},setEnableNetworkSwitch(t){ft.enableNetworkSwitch=t},setEnableReconnect(t){ft.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(ft.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){ft.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return ft.universalProviderConfigOverride},getSnapshot(){return ub(ft)}},fre=Object.freeze({enabled:!0,events:[]}),pre=new e_({baseUrl:rt.getAnalyticsUrl(),clientId:null}),mre=5,gre=60*1e3,id=ur({...fre}),yre={state:id,subscribeKey(t,e){return qs(id,t,e)},async sendError(t,e){if(!id.enabled)return;const n=Date.now();if(id.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<gre}).length>=mre)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};id.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=ve.state;await pre.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:rt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){id.enabled=!0},disable(){id.enabled=!1},clearEvents(){id.events=[]}};class Pg extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Pg.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Pg):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function YD(t,e){let n="";try{t instanceof Error?n=t.message:typeof t=="string"?n=t:typeof t=="object"&&t!==null?n=JSON.stringify(t):n=String(t)}catch(s){n="Unknown error",console.error("Error parsing error message",s)}const r=t instanceof Pg?t:new Pg(n,e,t);throw yre.sendError(r,r.category),r}function Do(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return YD(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return YD(a,e)}},n[r]=i}else n[r]=s}),n}var Rg={};const wre="https://secure.walletconnect.org/sdk",bre=(typeof process<"u"&&typeof Rg<"u"?Rg.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||wre,vre=(typeof process<"u"&&typeof Rg<"u"?Rg.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",_re=(typeof process<"u"&&typeof Rg<"u"?Rg.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",lt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},us={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},bi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},Ere={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===bi.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${bi.PHANTOM.url}/ul/browse/${r}?ref=${o}`}if(t===bi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${bi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===le.CHAIN.SOLANA&&t===bi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${bi.COINBASE.url}/dapp?cb_url=${r}`),e===le.CHAIN.BITCOIN&&t===bi.BINANCE.id&&!("binancew3w"in window)){const s=K.state.activeCaipNetwork,i=window.btoa("/pages/browser/index"),o=window.btoa(`url=${r}&defaultChainId=${s?.id??1}`),a=new URL(bi.BINANCE.deeplink);a.searchParams.set("appId",bi.BINANCE.appId),a.searchParams.set("startPagePath",i),a.searchParams.set("startPageQuery",o);const c=new URL(bi.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},lo=ur({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Are={state:lo,subscribeNetworkImages(t){return Vs(lo.networkImages,()=>t(lo.networkImages))},subscribeKey(t,e){return qs(lo,t,e)},subscribe(t){return Vs(lo,()=>t(lo))},setWalletImage(t,e){lo.walletImages[t]=e},setNetworkImage(t,e){lo.networkImages[t]=e},setChainImage(t,e){lo.chainImages[t]=e},setConnectorImage(t,e){lo.connectorImages={...lo.connectorImages,[t]:e}},setTokenImage(t,e){lo.tokenImages[t]=e},setCurrencyImage(t,e){lo.currencyImages[t]=e}},$a=Do(Are),Cre={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},GS=ur({networkImagePromises:{}}),v7={async fetchWalletImage(t){if(t)return await wt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(GS.networkImagePromises[t]||(GS.networkImagePromises[t]=wt._fetchNetworkImage(t)),await GS.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return $a.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return $a.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return $a.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return $a.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return $a.state.connectorImages[t.imageId]},getChainImage(t){return $a.state.networkImages[Cre[t]]}},Ra=ur({message:"",variant:"info",open:!1}),Ire={state:Ra,subscribeKey(t,e){return qs(Ra,t,e)},open(t,e){const{debug:n}=ve.state,{code:r,displayMessage:s,debugMessage:i}=t;s&&n&&(Ra.message=s,Ra.variant=e,Ra.open=!0),i&&console.error(typeof i=="function"?i():i,r?{code:r}:void 0)},warn(t,e,n){Ra.open=!0,Ra.message=t,Ra.variant="warning",e&&console.warn(e,n)},close(){Ra.open=!1,Ra.message="",Ra.variant="info"}},Sr=Do(Ire),Tre=rt.getAnalyticsUrl(),Sre=new e_({baseUrl:Tre,clientId:null}),xre=["MODAL_CREATED"],Cl=ur({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Rn={state:Cl,subscribe(t){return Vs(Cl,()=>t(Cl))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ve.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{let e=ut.state.address;if("address"in t.data&&t.data.address&&(e=t.data.address),xre.includes(t.data.event)||typeof window>"u")return;const n=K.getActiveCaipNetwork()?.caipNetworkId;await Sre.post({path:"/e",params:Rn.getSdkProperties(),body:{eventId:rt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:n}}}}),Cl.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===le.HTTP_STATUS_CODES.FORBIDDEN&&!Cl.reportedErrors.FORBIDDEN&&(Sr.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${ng()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Cl.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){Cl.timestamp=Date.now(),Cl.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(ve.state.features?.analytics||e.includes(t.event))&&Rn._sendAnalyticsEvent(Cl)}},Pre=rt.getApiUrl(),ki=new e_({baseUrl:Pre,clientId:null}),Rre=40,ZD=4,Nre=20,Gt=ur({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),wt={state:Gt,subscribeKey(t,e){return qs(Gt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ve.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return ve.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${ki.baseUrl}/getWalletImage/${t}`,n=await ki.getBlob({path:e,params:wt._getSdkProperties()});$a.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${ki.baseUrl}/public/getAssetImage/${t}`,n=await ki.getBlob({path:e,params:wt._getSdkProperties()});$a.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${ki.baseUrl}/public/getAssetImage/${t}`,n=await ki.getBlob({path:e,params:wt._getSdkProperties()});$a.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${ki.baseUrl}/public/getCurrencyImage/${t}`,n=await ki.getBlob({path:e,params:wt._getSdkProperties()});$a.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${ki.baseUrl}/public/getTokenImage/${t}`,n=await ki.getBlob({path:e,params:wt._getSdkProperties()});$a.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return rt.isMobile()?t?.filter(n=>n.mobile_link||n.id===bi.COINBASE.id||n.id===bi.BINANCE.id?!0:K.state.activeChain==="solana"&&(n.id===bi.SOLFLARE.id||n.id===bi.PHANTOM.id)):t},async fetchProjectConfig(){return(await ki.get({path:"/appkit/v1/config",params:wt._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await ki.get({path:"/projects/v1/origins",params:wt._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===le.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=le.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=K.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!v7.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>wt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Le.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>wt._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>wt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>wt._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];wt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(bi).map(i=>i.id));const r=await ki.get({path:"/getWallets",params:{...wt._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:wt._filterWalletsByPlatform(r?.data)||[],count:r?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=ve.state;if(t?.length){const e={...wt._getSdkProperties(),page:1,entries:t?.length??ZD,include:t},{data:n}=await wt.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>wt._fetchWalletImage(i))),Gt.featured=r,Gt.allFeatured=r}},async fetchRecommendedWallets(){try{Gt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=ve.state,r=[...e??[],...n??[]].filter(Boolean),s=K.getRequestedCaipNetworkIds().join(","),i={page:1,entries:ZD,include:t,exclude:r,chains:s},{data:o,count:a}=await wt.fetchWallets(i),c=Se.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>wt._fetchWalletImage(d))),Gt.recommended=o,Gt.allRecommended=o,Gt.count=a??0}catch{}finally{Gt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=ve.state,s=K.getRequestedCaipNetworkIds().join(","),i=[...Gt.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:Rre,include:e,exclude:i,chains:s},{data:a,count:c}=await wt.fetchWallets(o),l=a.slice(0,Nre).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>wt._fetchWalletImage(u))),Gt.wallets=rt.uniqueBy([...Gt.wallets,...wt._filterOutExtensions(a)],"id").filter(u=>u.chains?.some(d=>s.includes(d))),Gt.count=c>Gt.count?c:Gt.count,Gt.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await wt.fetchWallets(e);n&&n.forEach(r=>{Gt.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=ve.state,s=K.getRequestedCaipNetworkIds().join(",");Gt.search=[];const i={page:1,entries:100,search:t?.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await wt.fetchWallets(i);Rn.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>wt._fetchWalletImage(c)),rt.wait(300)]),Gt.search=wt._filterOutExtensions(o)},initPromise(t,e){const n=Gt.promises[t];return n||(Gt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&wt.initPromise("connectorImages",wt.fetchConnectorImages),e&&wt.initPromise("featuredWallets",wt.fetchFeaturedWallets),n&&wt.initPromise("recommendedWallets",wt.fetchRecommendedWallets),r&&wt.initPromise("networkImages",wt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){ve.state.features?.analytics&&wt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await ki.get({path:"/getAnalyticsConfig",params:wt._getSdkProperties()});ve.setFeatures({analytics:t})}catch{ve.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){Gt.featured=Gt.allFeatured,Gt.recommended=Gt.allRecommended;return}const e=K.getRequestedCaipNetworkIds().join(",");Gt.featured=Gt.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),Gt.recommended=Gt.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),Gt.filteredWallets=Gt.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))},clearFilterByNamespaces(){Gt.filteredWallets=[]},setFilterByNamespace(t){if(!t){Gt.featured=Gt.allFeatured,Gt.recommended=Gt.allRecommended;return}const e=K.getRequestedCaipNetworkIds().join(",");Gt.featured=Gt.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),Gt.recommended=Gt.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),Gt.filteredWallets=Gt.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))}},nr=ur({view:"Connect",history:["Connect"],transactionStack:[]}),kre={state:nr,subscribeKey(t,e){return qs(nr,t,e)},pushTransactionStack(t){nr.transactionStack.push(t)},popTransactionStack(t){const e=nr.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n?.();break;case"error":r?.(),Tt.goBack();break;case"cancel":s?.(),Tt.goBack();break}},push(t,e){t!==nr.view&&(nr.view=t,nr.history.push(t),nr.data=e)},reset(t,e){nr.view=t,nr.history=[t],nr.data=e},replace(t,e){nr.history.at(-1)===t||(nr.view=t,nr.history[nr.history.length-1]=t,nr.data=e)},goBack(){const t=K.state.activeCaipAddress,e=Tt.state.view==="ConnectingFarcaster",n=!t&&e;if(nr.history.length>1){nr.history.pop();const[r]=nr.history.slice(-1);r&&(t&&r==="Connect"?nr.view="Account":nr.view=r)}else vn.close();nr.data?.wallet&&(nr.data.wallet=void 0),setTimeout(()=>{if(n){ut.setFarcasterUrl(void 0,K.state.activeChain);const r=Le.getAuthConnector();r?.provider?.reload();const s=ub(ve.state);r?.provider?.syncDappData?.({metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(t){if(nr.history.length>1){nr.history=nr.history.slice(0,t+1);const[e]=nr.history.slice(-1);e&&(nr.view=e)}},goBackOrCloseModal(){Tt.state.history.length>1?Tt.goBack():vn.close()}},Tt=Do(kre),Il=ur({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),p2={state:Il,subscribe(t){return Vs(Il,()=>t(Il))},setThemeMode(t){Il.themeMode=t;try{const e=Le.getAuthConnector();if(e){const n=p2.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:hb(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Il.themeVariables={...Il.themeVariables,...t};try{const e=Le.getAuthConnector();if(e){const n=p2.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:hb(Il.themeVariables,Il.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return ub(Il)}},Fi=Do(p2),_7=Object.fromEntries(g7.map(t=>[t,void 0])),Ore=Object.fromEntries(g7.map(t=>[t,!0])),Nn=ur({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:_7,filterByNamespaceMap:Ore}),Dre={state:Nn,subscribe(t){return Vs(Nn,()=>{t(Nn)})},subscribeKey(t,e){return qs(Nn,t,e)},initialize(t){t.forEach(e=>{const n=Se.getConnectedConnectorId(e);n&&Le.setConnectorId(n,e)})},setActiveConnector(t){t&&(Nn.activeConnector=ep(t))},setConnectors(t){t.filter(s=>!Nn.allConnectors.some(i=>i.id===s.id&&Le.getConnectorName(i.name)===Le.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&Nn.allConnectors.push(ep(s))});const n=Le.getEnabledNamespaces(),r=Le.getEnabledConnectors(n);Nn.connectors=Le.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(Nn.filterByNamespaceMap).forEach(e=>{Nn.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Nn.filterByNamespaceMap[e]=!0}),Le.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Nn.filterByNamespaceMap[t]=e,Le.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Le.getEnabledNamespaces(),e=Le.getEnabledConnectors(t),n=Le.areAllNamespacesEnabled();Nn.connectors=Le.mergeMultiChainConnectors(e),n?wt.clearFilterByNamespaces():wt.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Nn.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Nn.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Nn.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Le.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=s?.id===le.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:s?.id||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=Le.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){if(t.id===le.CONNECTOR_ID.AUTH){const e=t,n=ub(ve.state),r=Fi.getSnapshot().themeMode,s=Fi.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:hb(s,r)}),Le.setConnectors([t])}else Le.setConnectors([t])},getAuthConnector(t){const e=t||K.state.activeChain,n=Nn.connectors.find(r=>r.id===le.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return Nn.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return Nn.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:n}){const r=n||K.state.activeChain;return Nn.allConnectors.filter(i=>i.chain===r).find(i=>i.explorerId===t||i.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,n=ub(ve.state),r=Fi.getSnapshot().themeMode,s=Fi.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:hb(s,r)})},getConnectorsByNamespace(t){const e=Nn.allConnectors.filter(n=>n.chain===t);return Le.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return K.checkIfSmartAccountEnabled()&&Po(t)===us.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=Le.getConnector({id:t.id,rdns:t.rdns});Ere.handleMobileDeeplinkRedirect(e?.explorerId||t.id,K.state.activeChain),e?Tt.push("ConnectingExternal",{connector:e,wallet:t}):Tt.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?Le.getConnectorsByNamespace(t):Le.mergeMultiChainConnectors(Nn.allConnectors)},setFilterByNamespace(t){Nn.filterByNamespace=t,Nn.connectors=Le.getConnectors(t),wt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Nn.activeConnectorIds={...Nn.activeConnectorIds,[e]:t},Se.setConnectedConnectorId(e,t))},removeConnectorId(t){Nn.activeConnectorIds={...Nn.activeConnectorIds,[t]:void 0},Se.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Nn.activeConnectorIds[t]},isConnected(t){return t?!!Nn.activeConnectorIds[t]:Object.values(Nn.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Nn.activeConnectorIds={..._7}}},Le=Do(Dre),Mre=1e3,Dy={checkNamespaceConnectorId(t,e){return Le.getConnectorId(t)===e},isSocialProvider(t){return In.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&Le.setActiveConnector(e),s?.(rt.isMobile()&&t),r){const l=vn.subscribeKey("open",u=>{u||(Tt.state.view!==r&&Tt.replace(r),l(),a(new Error("Modal closed")))})}const c=K.subscribeKey("activeCaipAddress",l=>{l&&(i?.(),n&&vn.close(),c(),o(Wi.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=K.subscribeKey("activeCaipAddress",s=>{s&&(vn.close(),r(),e(Wi.parseCaipAddress(s)))});qe.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let i=ut.state.socialWindow,o=ut.state.socialProvider,a=!1,c=null;const l=e||K.state.activeChain,u=K.subscribeKey("activeCaipAddress",d=>{d&&(n&&vn.close(),u())});return new Promise((d,h)=>{async function f(g){if(g.data?.resultUri)if(g.origin===le.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",f,!1);try{const y=Le.getAuthConnector(l);if(y&&!a){i&&(i.close(),ut.setSocialWindow(void 0,l),i=ut.state.socialWindow),a=!0;const v=g.data.resultUri;if(o&&Rn.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){Se.setConnectedSocialProvider(o),await qe.connectExternal({id:y.id,type:y.type,socialUri:v},y.chain);const b=K.state.activeCaipAddress;if(!b){h(new Error("Failed to connect"));return}d(Wi.parseCaipAddress(b)),Rn.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o}})}}}catch{o&&Rn.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}}),h(new Error("Failed to connect"))}}else o&&Rn.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}})}async function p(){if(t&&(ut.setSocialProvider(t,l),o=ut.state.socialProvider,Rn.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){r?.();const g=vn.subscribeKey("open",v=>{!v&&t==="farcaster"&&(h(new Error("Popup closed")),s?.(),g())}),y=Le.getAuthConnector();if(y&&!ut.state.farcasterUrl)try{const{url:v}=await y.provider.getFarcasterUri();ut.setFarcasterUrl(v,l)}catch{h(new Error("Failed to connect to farcaster"))}}else{const g=Le.getAuthConnector();c=rt.returnOpenHref(`${le.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(g&&o){const{uri:y}=await g.provider.getSocialRedirectUri({provider:o});if(c&&y){ut.setSocialWindow(c,l),i=ut.state.socialWindow,c.location.href=y;const v=setInterval(()=>{i?.closed&&!a&&(h(new Error("Popup closed")),clearInterval(v))},1e3);window.addEventListener("message",f,!1)}else c?.close(),h(new Error("Failed to initiate social connection"))}}catch{h(new Error("Failed to initiate social connection")),c?.close()}}}p()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n?.(),e){const a=vn.subscribeKey("open",c=>{c||(Tt.state.view!==e&&Tt.replace(e),a(),i(new Error("Modal closed")))})}const o=K.subscribeKey("activeCaipAddress",a=>{a&&(r?.(),t&&vn.close(),o(),s(Wi.parseCaipAddress(a)))})})},async updateEmail(){const t=Se.getConnectedConnectorId(K.state.activeChain),e=Le.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==le.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return await vn.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(vn.close(),clearInterval(i),o(),r({email:a}))},Mre),o=vn.subscribeKey("open",a=>{a||(Tt.state.view!=="Connect"&&Tt.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return K.checkIfSmartAccountEnabled()&&Po(t)===us.ACCOUNT_TYPES.EOA}};function E7(){const t=K.state.activeCaipNetwork?.chainNamespace||"eip155",e=K.state.activeCaipNetwork?.id||1,n=In.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}function Po(t){return K.getAccountData(t)?.preferredAccountType}function tu(t){return t?K.state.chains.get(t)?.networkState?.caipNetwork:K.state.activeCaipNetwork}const uA={getConnectionStatus(t,e){const n=Le.state.activeConnectorIds[e],r=qe.getConnections(e);return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!ve.state.remoteFeatures?.multiWallet,n=Le.state.activeConnectorIds[t],r=qe.getConnections(t),i=(qe.state.recentConnections.get(t)??[]).filter(a=>Le.getConnectorById(a.connectorId)),o=uA.excludeExistingConnections([...r.map(a=>a.connectorId),...n?[n]:[]],i);return e?{connections:r,recentConnections:o}:{connections:r.filter(a=>a.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},mf=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),ts=ur({...mf}),Lre={state:ts,subscribeKey(t,e){return qs(ts,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=rt.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){ts.message=mf.message,ts.variant=mf.variant,ts.svg=mf.svg,ts.open=mf.open,ts.autoClose=mf.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=mf.autoClose}){ts.open?(ts.open=!1,setTimeout(()=>{ts.message=t,ts.variant=n,ts.svg=e,ts.open=!0,ts.autoClose=r},150)):(ts.message=t,ts.variant=n,ts.svg=e,ts.open=!0,ts.autoClose=r)}},Bc=Lre,_r=ur({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Bre={state:_r,subscribe(t){return Vs(_r,()=>t(_r))},setLastNetworkInView(t){_r.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");_r.loading=!0;try{const e=await At.fetchTransactions({account:t,cursor:_r.next,chainId:K.state.activeCaipNetwork?.caipNetworkId}),n=hE.filterSpamTransactions(e.data),r=hE.filterByConnectedChain(n),s=[..._r.transactions,...r];_r.loading=!1,_r.transactions=s,_r.transactionsByYear=hE.groupTransactionsByYearAndMonth(_r.transactionsByYear,r),_r.empty=s.length===0,_r.next=e.next?e.next:void 0}catch{const n=K.state.activeChain;Rn.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:ve.state.projectId,cursor:_r.next,isSmartAccount:Po(n)===us.ACCOUNT_TYPES.SMART_ACCOUNT}}),Bc.showError("Failed to fetch transactions"),_r.loading=!1,_r.empty=!0,_r.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=K.state.activeCaipNetwork?.caipNetworkId;return t.filter(r=>r.metadata.chain===e)},clearCursor(){_r.next=void 0},resetTransactions(){_r.transactions=[],_r.transactionsByYear={},_r.lastNetworkInView=void 0,_r.loading=!1,_r.empty=!1,_r.next=void 0}},hE=Do(Bre,"API_ERROR"),kn=ur({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let of;const $re={state:kn,subscribe(t){return Vs(kn,()=>t(kn))},subscribeKey(t,e){return qs(kn,t,e)},_getClient(){return kn._client},setClient(t){kn._client=ep(t)},initialize(t){const e=t.filter(n=>!!n.namespace).map(n=>n.namespace);qe.syncStorageConnections(e)},syncStorageConnections(t){const e=Se.getConnections(),n=t??Array.from(K.state.chains.keys());for(const r of n){const s=e[r]??[],i=new Map(kn.recentConnections);i.set(r,s),kn.recentConnections=i}},getConnections(t){return t?kn.connections.get(t)??[]:[]},hasAnyConnection(t){const e=qe.state.connections;return Array.from(e.values()).flatMap(n=>n).some(({connectorId:n})=>n===t)},async connectWalletConnect({cache:t="auto"}={}){const e=rt.isTelegram()||rt.isSafari()&&rt.isIos();if(t==="always"||t==="auto"&&e){if(of){await of,of=void 0;return}if(!rt.isPairingExpired(kn?.wcPairingExpiry)){const n=kn.wcUri;kn.wcUri=n;return}of=qe._getClient()?.connectWalletConnect?.().catch(()=>{}),qe.state.status="connecting",await of,of=void 0,kn.wcPairingExpiry=void 0,qe.state.status="connected"}else await qe._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,n=!0){const r=await qe._getClient()?.connectExternal?.(t);return n&&K.setActiveNamespace(e),r},async reconnectExternal(t){await qe._getClient()?.reconnectExternal?.(t);const e=t.chain||K.state.activeChain;e&&Le.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;vn.setLoading(!0,K.state.activeChain);const n=Le.getAuthConnector();n&&(ut.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),Se.setPreferredAccountTypes(Object.entries(K.state.chains).reduce((r,[s,i])=>{const o=s,a=Po(o);return a!==void 0&&(r[o]=a),r},{})),await qe.reconnectExternal(n),vn.setLoading(!1,K.state.activeChain),Rn.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:K.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return qe._getClient()?.signMessage(t)},parseUnits(t,e){return qe._getClient()?.parseUnits(t,e)},formatUnits(t,e){return qe._getClient()?.formatUnits(t,e)},updateBalance(t){return qe._getClient()?.updateBalance(t)},async sendTransaction(t){return qe._getClient()?.sendTransaction(t)},async getCapabilities(t){return qe._getClient()?.getCapabilities(t)},async grantPermissions(t){return qe._getClient()?.grantPermissions(t)},async walletGetAssets(t){return qe._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return qe._getClient()?.estimateGas(t)},async writeContract(t){return qe._getClient()?.writeContract(t)},async getEnsAddress(t){return qe._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return qe._getClient()?.getEnsAvatar(t)},checkInstalled(t){return qe._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){kn.wcUri=void 0,kn.wcPairingExpiry=void 0,kn.wcLinking=void 0,kn.recentWallet=void 0,kn.status="disconnected",hE.resetTransactions(),Se.deleteWalletConnectDeepLink()},resetUri(){kn.wcUri=void 0,kn.wcPairingExpiry=void 0,of=void 0},finalizeWcConnection(t){const{wcLinking:e,recentWallet:n}=qe.state;e&&Se.setWalletConnectDeepLink(e),n&&Se.setAppKitRecent(n),t&&Rn.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:Tt.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){kn.wcBasic=t},setUri(t){kn.wcUri=t,kn.wcPairingExpiry=rt.getPairingExpiry()},setWcLinking(t){kn.wcLinking=t},setWcError(t){kn.wcError=t,kn.buffering=!1},setRecentWallet(t){kn.recentWallet=t},setBuffering(t){kn.buffering=t},setStatus(t){kn.status=t},setIsSwitchingConnection(t){kn.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:n}={}){try{await qe._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:n})}catch(r){throw new Pg("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){const n=new Map(kn.connections);n.set(e,t),kn.connections=n},async handleAuthAccountSwitch({address:t,namespace:e}){const n=ut.state.user?.accounts?.find(s=>s.type==="smartAccount"),r=n&&n.address.toLowerCase()===t.toLowerCase()&&Dy.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await qe.setPreferredAccountType(r,e)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=Le.getConnectorById(t.connectorId),s=t.connectorId===le.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);if(s)s&&n&&await qe.handleAuthAccountSwitch({address:n,namespace:e});else return(await qe.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e))?.address;return n},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){const s=Le.getConnectorById(t.connectorId),i=t.auth?.name?.toLowerCase(),o=t.connectorId===le.CONNECTOR_ID.AUTH,a=t.connectorId===le.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&Dy.isSocialProvider(i)){const{address:l}=await Dy.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){vn.open({view:"ConnectingFarcaster"})},onConnect(){Tt.replace("ProfileWallets")}});c=l}else{const{address:l}=await Dy.connectEmail({closeModalOnConnect:r,onOpen(){vn.open({view:"EmailLogin"})},onConnect(){Tt.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await Dy.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(u){const d=u?"AllWallets":"ConnectingWalletConnect";vn.state.open?Tt.push(d):vn.open({view:d})},onConnect(){Tt.replace("ProfileWallets")}});c=l}else{const l=await qe.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);l&&(c=l.address)}return o&&n&&await qe.handleAuthAccountSwitch({address:n,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){let i;const o=ut.getCaipAddress(n);if(o){const{address:c}=Wi.parseCaipAddress(o);i=c}const a=uA.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await qe.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s?.({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await qe.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&s?.({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}},qe=Do($re),gm=ur({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ja={state:gm,subscribe(t){return Vs(gm,()=>t(gm))},subscribeOpen(t){return qs(gm,"open",t)},set(t){Object.assign(gm,{...gm,...t})}},Ure={async getTokenList(t){return(await At.fetchSwapTokens({chainId:t}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=K.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await qe?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await At.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await At.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s?.allowance&&n&&r){const i=qe.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await dO.getMyTokensWithBalance(t);return ut.setTokenBalance(e,K.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:E7(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Yn=ur({tokenBalances:[],loading:!1}),Fre={state:Yn,subscribe(t){return Vs(Yn,()=>t(Yn))},subscribeKey(t,e){return qs(Yn,t,e)},setToken(t){t&&(Yn.token=ep(t))},setTokenAmount(t){Yn.sendTokenAmount=t},setReceiverAddress(t){Yn.receiverAddress=t},setReceiverProfileImageUrl(t){Yn.receiverProfileImageUrl=t},setReceiverProfileName(t){Yn.receiverProfileName=t},setNetworkBalanceInUsd(t){Yn.networkBalanceInUSD=t},setLoading(t){Yn.loading=t},async sendToken(){try{switch(An.setLoading(!0),K.state.activeCaipNetwork?.chainNamespace){case"eip155":await An.sendEvmToken();return;case"solana":await An.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{An.setLoading(!1)}},async sendEvmToken(){const t=K.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=Po(t);if(!An.state.sendTokenAmount||!An.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!An.state.token)throw new Error("A token is required");An.state.token?.address?(Rn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===us.ACCOUNT_TYPES.SMART_ACCOUNT,token:An.state.token.address,amount:An.state.sendTokenAmount,network:K.state.activeCaipNetwork?.caipNetworkId||""}}),await An.sendERC20Token({receiverAddress:An.state.receiverAddress,tokenAddress:An.state.token.address,sendTokenAmount:An.state.sendTokenAmount,decimals:An.state.token.quantity.decimals})):(Rn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===us.ACCOUNT_TYPES.SMART_ACCOUNT,token:An.state.token.symbol||"",amount:An.state.sendTokenAmount,network:K.state.activeCaipNetwork?.caipNetworkId||""}}),await An.sendNativeToken({receiverAddress:An.state.receiverAddress,sendTokenAmount:An.state.sendTokenAmount,decimals:An.state.token.quantity.decimals}))},async fetchTokenBalance(t){Yn.loading=!0;const e=K.state.activeChain,n=K.state.activeCaipNetwork?.caipNetworkId,r=K.state.activeCaipNetwork?.chainNamespace,s=ut.getCaipAddress(e)??K.state.activeCaipAddress,i=s?rt.getPlainAddress(s):void 0;if(Yn.lastRetry&&!rt.isAllowedRetry(Yn.lastRetry,30*In.ONE_SEC_MS))return Yn.loading=!1,[];try{if(i&&n&&r){const o=await dO.getMyTokensWithBalance();return Yn.tokenBalances=o,Yn.lastRetry=void 0,o}}catch(o){Yn.lastRetry=Date.now(),t?.(o),Bc.showError("Token Balance Unavailable")}finally{Yn.loading=!1}return[]},fetchNetworkBalance(){if(Yn.tokenBalances.length===0)return;const t=Ure.mapBalancesToSwapTokens(Yn.tokenBalances);if(!t)return;const e=t.find(n=>n.address===E7());e&&(Yn.networkBalanceInUSD=e?ore.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){Tt.pushTransactionStack({});const e=t.receiverAddress,n=ut.state.address,r=qe.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await qe.sendTransaction({chainNamespace:le.CHAIN.EVM,to:e,address:n,data:"0x",value:r??BigInt(0)}),Rn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Po("eip155")===us.ACCOUNT_TYPES.SMART_ACCOUNT,token:An.state.token?.symbol||"",amount:t.sendTokenAmount,network:K.state.activeCaipNetwork?.caipNetworkId||""}}),qe._getClient()?.updateBalance("eip155"),An.resetSend()},async sendERC20Token(t){Tt.pushTransactionStack({onSuccess(){Tt.replace("Account")}});const e=qe.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(ut.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=rt.getPlainAddress(t.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await qe.writeContract({fromAddress:ut.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:ure.getERC20Abi(n),chainNamespace:le.CHAIN.EVM}),An.resetSend()}},async sendSolanaToken(){if(!An.state.sendTokenAmount||!An.state.receiverAddress)throw new Error("An amount and receiver address are required");Tt.pushTransactionStack({onSuccess(){Tt.replace("Account")}});let t;if(An.state.token&&rt.isCaipAddress(An.state.token.address)){const[,,e]=An.state.token.address.split(":");t=e}await qe.sendTransaction({chainNamespace:"solana",tokenMint:t,to:An.state.receiverAddress,value:An.state.sendTokenAmount}),qe._getClient()?.updateBalance("solana"),An.resetSend()},resetSend(){Yn.token=void 0,Yn.sendTokenAmount=void 0,Yn.receiverAddress=void 0,Yn.receiverProfileImageUrl=void 0,Yn.receiverProfileName=void 0,Yn.loading=!1,Yn.tokenBalances=[]}},An=Do(Fre),KS={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},m1={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ge=ur({chains:Zne(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),jre={state:Ge,subscribe(t){return Vs(Ge,()=>{t(Ge)})},subscribeKey(t,e){return qs(Ge,t,e)},subscribeChainProp(t,e,n){let r;return Vs(Ge.chains,()=>{const s=n||Ge.activeChain;if(s){const i=Ge.chains.get(s)?.[t];r!==i&&(r=i,e(i))}})},initialize(t,e,n){const{chainId:r,namespace:s}=Se.getActiveNetworkProps(),i=e?.find(u=>u.id.toString()===r?.toString()),a=t.find(u=>u?.namespace===s)||t?.[0],c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=ve.state.enableEmbedded?new Set([...c]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(t?.length===0||!a)&&(Ge.noAdapters=!0),Ge.noAdapters||(Ge.activeChain=a?.namespace,Ge.activeCaipNetwork=i,K.setChainNetworkData(a?.namespace,{caipNetwork:i}),Ge.activeChain&&ja.set({activeChain:a?.namespace})),l.forEach(u=>{const d=e?.filter(p=>p.chainNamespace===u),h=Se.getPreferredAccountTypes()||{},f={...ve.state.defaultAccountTypes,...h};K.state.chains.set(u,{namespace:u,networkState:ur({...m1,caipNetwork:d?.[0]}),accountState:ur({...KS,preferredAccountType:f[u]}),caipNetworks:d??[],...n}),K.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){if(Ge.activeChain===t){const e=Array.from(Ge.chains.entries()).find(([n])=>n!==t);if(e){const n=e[1]?.caipNetworks?.[0];n&&K.setActiveCaipNetwork(n)}}Ge.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Ge.chains.set(t.namespace,{namespace:t.namespace,networkState:{...m1,caipNetwork:r[0]},accountState:KS,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),K.setRequestedCaipNetworks(r?.filter(s=>s.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Ge.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];e.caipNetworks?.find(r=>r.id===t.id)||n.push(t),Ge.chains.set(t.chainNamespace,{...e,caipNetworks:n}),K.setRequestedCaipNetworks(n,t.chainNamespace),Le.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const n=Ge.chains.get(t);if(n){const r=Ge.activeCaipNetwork?.id===e,s=[...n.caipNetworks?.filter(i=>i.id!==e)||[]];r&&n?.caipNetworks?.[0]&&K.setActiveCaipNetwork(n.caipNetworks[0]),Ge.chains.set(t,{...n,caipNetworks:s}),K.setRequestedCaipNetworks(s||[],t),s.length===0&&Le.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=Ge.chains.get(t);n&&(n.networkState={...n.networkState||m1,...e},Ge.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=Ge.chains.get(t);if(r){const s={...r.accountState||KS,...e};Ge.chains.set(t,{...r,accountState:s}),(Ge.chains.size===1||Ge.activeChain===t)&&(e.caipAddress&&(Ge.activeCaipAddress=e.caipAddress),ut.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=Ge.chains.get(t);if(n){const r={...n.networkState||m1,...e};Ge.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){K.setChainAccountData(n,{[t]:e},r)},setActiveNamespace(t){Ge.activeChain=t;const e=t?Ge.chains.get(t):void 0,n=e?.networkState?.caipNetwork;n?.id&&t&&(Ge.activeCaipAddress=e?.accountState?.caipAddress,Ge.activeCaipNetwork=n,K.setChainNetworkData(t,{caipNetwork:n}),Se.setActiveCaipNetworkId(n?.caipNetworkId),ja.set({activeChain:t,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;Ge.activeChain!==t.chainNamespace&&K.setIsSwitchingNamespace(!0);const e=Ge.chains.get(t.chainNamespace);Ge.activeChain=t.chainNamespace,Ge.activeCaipNetwork=t,K.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?Ge.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:Ge.activeCaipAddress=void 0,K.setAccountProp("caipAddress",Ge.activeCaipAddress,t.chainNamespace),e&&ut.replaceState(e.accountState),An.resetSend(),ja.set({activeChain:Ge.activeChain,selectedNetworkId:Ge.activeCaipNetwork?.caipNetworkId}),Se.setActiveCaipNetworkId(t.caipNetworkId),!K.checkIfSupportedNetwork(t.chainNamespace)&&ve.state.enableNetworkSwitch&&!ve.state.allowUnsupportedChain&&!qe.state.wcBasic&&K.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Ge.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==K.state.activeChain,n=K.getNetworkData(t)?.caipNetwork,r=K.getCaipNetworkByNamespace(t,n?.id);e&&r&&await K.switchActiveNetwork(r)},async switchActiveNetwork(t){const e=K.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=!K.state.chains.get(e)?.caipNetworks?.some(i=>i.id===Ge.activeCaipNetwork?.id),s=K.getNetworkControllerClient(t.chainNamespace);if(s){try{await s.switchCaipNetwork(t),r&&vn.close()}catch{Tt.goBack()}Rn.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Ge.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=Ge.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Ge.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Ge.chains.get(e);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(t,e){const n=Ge.chains.get(e)?.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Ge.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=e?.networkState||{};return rt.sortRequestedNetworks(n,r).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const t=[];return Ge.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=K.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){K.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=K.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));Le.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return Ge.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=K.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(t){return t?Ge.chains.get(t)?.networkState?.caipNetwork:Ge.activeCaipNetwork},getActiveCaipAddress(){return Ge.activeCaipAddress},getApprovedCaipNetworkIds(t){return Ge.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const n=await K.getNetworkControllerClient()?.getApprovedCaipNetworksData();K.setAdapterNetworkState(t,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Ge.activeCaipNetwork?.caipNetworkId,r=K.getRequestedCaipNetworks(t);return r.length?r?.some(s=>s.caipNetworkId===n):!0},checkIfSupportedChainId(t){return Ge.activeChain?K.getRequestedCaipNetworks(Ge.activeChain)?.some(n=>n.id===t):!0},setSmartAccountEnabledNetworks(t,e){K.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=db.caipNetworkIdToNumber(Ge.activeCaipNetwork?.caipNetworkId),e=Ge.activeChain;return!e||!t?!1:!!K.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){vn.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ge.activeCaipNetwork;return!!(t?.chainNamespace&&In.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){K.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const n=K.state.chains.get(e)?.accountState?.preferredAccountType,r=ve.state.defaultAccountTypes[e];Ge.activeCaipAddress=void 0,K.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),Le.removeConnectorId(e)},setIsSwitchingNamespace(t){Ge.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Ge.chains.forEach(n=>{le.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?Ge.chains.get(n)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||Ge.activeChain;if(e)return K.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||Ge.activeChain;if(e)return K.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const n=K.state.chains.get(t),r=n?.caipNetworks?.find(s=>s.id===e);return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=Le.state.filterByNamespace;return(t?[Ge.chains.get(t)]:Array.from(Ge.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?K.getRequestedCaipNetworks(t):K.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){Ge.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Ge.lastConnectedSIWECaipNetwork}},K=Do(jre),Vre={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},A7=rt.getBlockchainApiUrl(),Oi=ur({clientId:null,api:new e_({baseUrl:A7,clientId:null}),supportedChains:{http:[],ws:[]}}),At={state:Oi,async get(t){const{st:e,sv:n}=At.getSdkProperties(),r=ve.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return Oi.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=ve.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Oi.supportedChains.http.length||await At.getSupportedNetworks()}catch{return!1}return Oi.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await At.get({path:"v1/supported-chains"});return Oi.supportedChains=t,t}catch{return Oi.supportedChains}},async fetchIdentity({address:t}){const e=Se.getIdentityFromCacheForAddress(t);if(e)return e;const n=await At.get({path:`/v1/identity/${t}`,params:{sender:K.state.activeCaipAddress?rt.getPlainAddress(K.state.activeCaipAddress):void 0}});return Se.updateIdentityCache({address:t,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:t,cursor:e,signal:n,cache:r,chainId:s}){if(!await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=Se.getTransactionsCacheForAddress({address:t,chainId:s});if(o)return o;const a=await At.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:s},signal:n,cache:r});return Se.updateTransactionsCache({address:t,chainId:s,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?At.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?At.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){if(!await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=Se.getTokenPriceCacheForAddresses(t);if(n)return n;const r=await Oi.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:ve.state.projectId},headers:{"Content-Type":"application/json"}});return Se.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?At.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:n}=At.getSdkProperties();if(!await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return At.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){if(!await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Oi.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:In.CONVERT_SLIPPAGE_TOLERANCE},projectId:ve.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){const{st:r,sv:s}=At.getSdkProperties();if(!await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return At.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){const{st:r,sv:s}=At.getSdkProperties();if(!await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId))return Bc.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Se.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await At.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return Se.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?At.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?At.get({path:`/v1/profile/reverse/${t}`,params:{sender:ut.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?At.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?Oi.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?(await Oi.api.post({path:"/v1/generators/onrampurl",params:{projectId:ve.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){if(!await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await At.get({path:"/v1/onramp/options"})}catch{return Vre}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){try{return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?await Oi.api.post({path:"/v1/onramp/quote",params:{projectId:ve.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?At.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){return await At.isNetworkSupported(K.state.activeCaipNetwork?.caipNetworkId)?Oi.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:ve.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Oi.clientId=t,Oi.api=new e_({baseUrl:A7,clientId:t})}},Hre="1.0.8";let Ea=class m2 extends Error{constructor(e,n={}){const r=n.cause instanceof m2?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof m2&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Hre}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Nu(t,e){return t.exec(e)?.groups}const C7=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,I7=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,T7=/^\(.+?\).*?$/,JD=/^tuple(?<array>(\[(\d*)\])*)$/;function g2(t){let e=t.type;if(JD.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=g2(i),s<n-1&&(e+=", ")}const r=Nu(JD,t.type);return e+=`)${r?.array??""}`,g2({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function My(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=g2(s),r!==n-1&&(e+=", ")}return e}function qre(t){return t.type==="function"?`function ${t.name}(${My(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${My(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${My(t.inputs)})`:t.type==="error"?`error ${t.name}(${My(t.inputs)})`:t.type==="constructor"?`constructor(${My(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const S7=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function zre(t){return S7.test(t)}function Wre(t){return Nu(S7,t)}const x7=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Gre(t){return x7.test(t)}function Kre(t){return Nu(x7,t)}const P7=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Qre(t){return P7.test(t)}function Yre(t){return Nu(P7,t)}const R7=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function N7(t){return R7.test(t)}function Zre(t){return Nu(R7,t)}const k7=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Jre(t){return k7.test(t)}function Xre(t){return Nu(k7,t)}const O7=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function ese(t){return O7.test(t)}function tse(t){return Nu(O7,t)}const nse=/^receive\(\) external payable$/;function rse(t){return nse.test(t)}const sse=new Set(["indexed"]),y2=new Set(["calldata","memory","storage"]);class ise extends Ea{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class ose extends Ea{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class ase extends Ea{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class cse extends Ea{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class lse extends Ea{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class use extends Ea{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class dse extends Ea{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}let _0=class extends Ea{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}};class hse extends Ea{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class fse extends Ea{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class pse extends Ea{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class mse extends Ea{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function gse(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const QS=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function yse(t,e={}){if(Qre(t))return wse(t,e);if(Gre(t))return bse(t,e);if(zre(t))return vse(t,e);if(Jre(t))return _se(t,e);if(ese(t))return Ese(t);if(rse(t))return{type:"receive",stateMutability:"payable"};throw new hse({signature:t})}function wse(t,e={}){const n=Yre(t);if(!n)throw new _0({signature:t,type:"function"});const r=Fa(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(np(r[a],{modifiers:y2,structs:e,type:"function"}));const o=[];if(n.returns){const a=Fa(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(np(a[l],{modifiers:y2,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function bse(t,e={}){const n=Kre(t);if(!n)throw new _0({signature:t,type:"event"});const r=Fa(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(np(r[o],{modifiers:sse,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function vse(t,e={}){const n=Wre(t);if(!n)throw new _0({signature:t,type:"error"});const r=Fa(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(np(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function _se(t,e={}){const n=Xre(t);if(!n)throw new _0({signature:t,type:"constructor"});const r=Fa(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(np(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Ese(t){const e=tse(t);if(!e)throw new _0({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Ase=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Cse=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ise=/^u?int$/;function np(t,e){const n=gse(t,e?.type,e?.structs);if(QS.has(n))return QS.get(n);const r=T7.test(t),s=Nu(r?Cse:Ase,t);if(!s)throw new ase({param:t});if(s.name&&Sse(s.name))throw new cse({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{};let c,l={};if(r){c="tuple";const d=Fa(s.type),h=[],f=d.length;for(let p=0;p<f;p++)h.push(np(d[p],{structs:a}));l={components:h}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(Ise.test(s.type))c=`${s.type}256`;else if(c=s.type,e?.type!=="struct"&&!D7(c))throw new ose({type:c});if(s.modifier){if(!e?.modifiers?.has?.(s.modifier))throw new lse({param:t,type:e?.type,modifier:s.modifier});if(y2.has(s.modifier)&&!xse(c,!!s.array))throw new use({param:t,type:e?.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return QS.set(n,u),u}function Fa(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?Fa(a,[...e,n.trim()]):Fa(a,e,`${n}${o}`,r);case"(":return Fa(a,e,`${n}${o}`,r+1);case")":return Fa(a,e,`${n}${o}`,r-1);default:return Fa(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new mse({current:n,depth:r});return e.push(n.trim()),e}function D7(t){return t==="address"||t==="bool"||t==="function"||t==="string"||C7.test(t)||I7.test(t)}const Tse=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Sse(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||C7.test(t)||I7.test(t)||Tse.test(t)}function xse(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Pse(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!N7(a))continue;const c=Zre(a);if(!c)throw new _0({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const g=np(p,{type:"struct"});u.push(g)}if(!u.length)throw new fse({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=M7(c,e)}return r}const Rse=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function M7(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(T7.test(o.type))r.push(o);else{const c=Nu(Rse,o.type);if(!c?.type)throw new dse({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new pse({type:u});r.push({...o,type:`tuple${l??""}`,components:M7(e[u]??[],e,new Set([...n,u]))})}else if(D7(u))r.push(o);else throw new ise({type:u})}}return r}function L7(t){const e=Pse(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];N7(i)||n.push(yse(i,e))}return n}function br(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}function lh(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Vse(t.type);return`${t.name}(${DI(t.inputs,{includeName:e})})`}function DI(t,{includeName:e=!1}={}){return t?t.map(n=>Nse(n,{includeName:e})).join(e?", ":","):""}function Nse(t,{includeName:e}){return t.type.startsWith("tuple")?`(${DI(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function uh(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function cs(t){return uh(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const B7="2.36.0";let YS={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${B7}`},ke=class w2 extends Error{constructor(e,n={}){const r=n.cause instanceof w2?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof w2&&n.cause.docsPath||n.docsPath,i=YS.getDocsUrl?.({...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...YS.version?[`Version: ${YS.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=B7}walk(e){return $7(this,e)}};function $7(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?$7(t.cause,e):e?null:t}class kse extends ke{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class XD extends ke{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class U7 extends ke{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${DI(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class MI extends ke{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Ose extends ke{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Dse extends ke{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${cs(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Mse extends ke{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class qKe extends ke{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class zKe extends ke{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class F7 extends ke{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Lse extends ke{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class j7 extends ke{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class WKe extends ke{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class dA extends ke{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Bse extends ke{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class GKe extends ke{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class $se extends ke{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${lh(e.abiItem)}\`, and`,`\`${n.type}\` in \`${lh(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class KKe extends ke{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class b2 extends ke{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${DI(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class V7 extends ke{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${lh(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Use extends ke{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Fse extends ke{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class jse extends ke{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class Vse extends ke{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class QKe extends ke{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let H7=class extends ke{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},q7=class extends ke{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class e8 extends ke{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function E0(t,{dir:e,size:n=32}={}){return typeof t=="string"?Qd(t,{dir:e,size:n}):Hse(t,{dir:e,size:n})}function Qd(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new q7({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Hse(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new q7({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}let z7=class extends ke{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class qse extends ke{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class zse extends ke{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Wse=class extends ke{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Yd(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Aa(t,{size:e}){if(cs(t)>e)throw new Wse({givenSize:cs(t),maxSize:e})}function Ng(t,e={}){const{signed:n}=e;e.size&&Aa(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function eQe(t,e={}){let n=t;if(e.size&&(Aa(n,{size:e.size}),n=Yd(n)),Yd(n)==="0x00")return!1;if(Yd(n)==="0x01")return!0;throw new zse(n)}function rp(t,e={}){return Number(Ng(t,e))}function W7(t,e={}){let n=tl(t);return e.size&&(Aa(n,{size:e.size}),n=Yd(n,{dir:"right"})),new TextDecoder().decode(n)}const Gse=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kg(t,e={}){return typeof t=="number"||typeof t=="bigint"?an(t,e):typeof t=="string"?LI(t,e):typeof t=="boolean"?G7(t,e):no(t,e)}function G7(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Aa(n,{size:e.size}),E0(n,{size:e.size})):n}function no(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Gse[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Aa(r,{size:e.size}),E0(r,{dir:"right",size:e.size})):r}function an(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new z7({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?E0(a,{size:r}):a}const Kse=new TextEncoder;function LI(t,e={}){const n=Kse.encode(t);return no(n,e)}const Qse=new TextEncoder;function BI(t,e={}){return typeof t=="number"||typeof t=="bigint"?Zse(t,e):typeof t=="boolean"?Yse(t,e):uh(t)?tl(t,e):K7(t,e)}function Yse(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Aa(n,{size:e.size}),E0(n,{size:e.size})):n}const Tl={zero:48,nine:57,A:65,F:70,a:97,f:102};function t8(t){if(t>=Tl.zero&&t<=Tl.nine)return t-Tl.zero;if(t>=Tl.A&&t<=Tl.F)return t-(Tl.A-10);if(t>=Tl.a&&t<=Tl.f)return t-(Tl.a-10)}function tl(t,e={}){let n=t;e.size&&(Aa(n,{size:e.size}),n=E0(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=t8(r.charCodeAt(a++)),l=t8(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new ke(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Zse(t,e){const n=an(t,e);return tl(n)}function K7(t,e={}){const n=Qse.encode(t);return typeof e.size=="number"?(Aa(n,{size:e.size}),E0(n,{dir:"right",size:e.size})):n}const g1=BigInt(2**32-1),n8=BigInt(32);function Jse(t,e=!1){return e?{h:Number(t&g1),l:Number(t>>n8&g1)}:{h:Number(t>>n8&g1)|0,l:Number(t&g1)|0}}function Q7(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=Jse(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const r8=(t,e,n)=>t>>>n,s8=(t,e,n)=>t<<32-n|e>>>n,ym=(t,e,n)=>t>>>n|e<<32-n,wm=(t,e,n)=>t<<32-n|e>>>n,y1=(t,e,n)=>t<<64-n|e>>>n-32,w1=(t,e,n)=>t>>>n-32|e<<64-n,Xse=(t,e,n)=>t<<n|e>>>32-n,eie=(t,e,n)=>e<<n|t>>>32-n,tie=(t,e,n)=>e<<n-32|t>>>64-n,nie=(t,e,n)=>t<<n-32|e>>>64-n;function Sl(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const rie=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),sie=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,iie=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),oie=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,aie=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),cie=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,bm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lie(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function sp(t,...e){if(!lie(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function tQe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hA(t.outputLen),hA(t.blockLen)}function fA(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Y7(t,e){sp(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function uie(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ip(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ZS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function pc(t,e){return t<<32-e|t>>>e}const die=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function hie(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function fie(t){for(let e=0;e<t.length;e++)t[e]=hie(t[e]);return t}const i8=die?t=>t:fie,Z7=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",pie=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nQe(t){if(sp(t),Z7)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=pie[t[n]];return e}const xl={_0:48,_9:57,A:65,F:70,a:97,f:102};function o8(t){if(t>=xl._0&&t<=xl._9)return t-xl._0;if(t>=xl.A&&t<=xl.F)return t-(xl.A-10);if(t>=xl.a&&t<=xl.f)return t-(xl.a-10)}function rQe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Z7)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=o8(t.charCodeAt(i)),a=o8(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function mie(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function qk(t){return typeof t=="string"&&(t=mie(t)),sp(t),t}function sQe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];sp(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let J7=class{};function $I(t){const e=r=>t().update(qk(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function oQe(t=32){if(bm&&typeof bm.getRandomValues=="function")return bm.getRandomValues(new Uint8Array(t));if(bm&&typeof bm.randomBytes=="function")return Uint8Array.from(bm.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const gie=BigInt(0),Ly=BigInt(1),yie=BigInt(2),wie=BigInt(7),bie=BigInt(256),vie=BigInt(113),X7=[],ej=[],tj=[];for(let t=0,e=Ly,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],X7.push(2*(5*r+n)),ej.push((t+1)*(t+2)/2%64);let s=gie;for(let i=0;i<7;i++)e=(e<<Ly^(e>>wie)*vie)%bie,e&yie&&(s^=Ly<<(Ly<<BigInt(i))-Ly);tj.push(s)}const nj=Q7(tj,!0),_ie=nj[0],Eie=nj[1],a8=(t,e,n)=>n>32?tie(t,e,n):Xse(t,e,n),c8=(t,e,n)=>n>32?nie(t,e,n):eie(t,e,n);function Aie(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=a8(l,u,1)^n[a],h=c8(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=ej[o],c=a8(s,i,a),l=c8(s,i,a),u=X7[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=_ie[r],t[1]^=Eie[r]}ip(n)}let Cie=class rj extends J7{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,hA(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=uie(this.state)}clone(){return this._cloneInto()}keccak(){i8(this.state32),Aie(this.state32,this.rounds),i8(this.state32),this.posOut=0,this.pos=0}update(e){fA(this),e=qk(e),sp(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){fA(this,!1),sp(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hA(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Y7(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ip(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new rj(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Iie=(t,e,n)=>$I(()=>new Cie(e,t,n)),sj=Iie(1,136,256/8);function t_(t,e){const n=e||"hex",r=sj(uh(t,{strict:!1})?BI(t):t);return n==="bytes"?r:kg(r)}const Tie=t=>t_(BI(t));function Sie(t){return Tie(t)}function xie(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new ke("Unable to normalize signature.");return s}const Pie=t=>{const e=typeof t=="string"?t:qre(t);return xie(e)};function ij(t){return Sie(Pie(t))}const zk=ij;let op=class extends ke{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},UI=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const JS=new UI(8192);function n_(t,e){if(JS.has(`${t}.${e}`))return JS.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=t_(K7(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return JS.set(`${t}.${e}`,i),i}function If(t,e){if(!nl(t,{strict:!1}))throw new op({address:t});return n_(t,e)}const Rie=/^0x[a-fA-F0-9]{40}$/,XS=new UI(8192);function nl(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(XS.has(r))return XS.get(r);const s=Rie.test(t)?t.toLowerCase()===t?!0:n?n_(t)===t:!0:!1;return XS.set(r,s),s}function Og(t){return typeof t[0]=="string"?FI(t):Nie(t)}function Nie(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function FI(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function pA(t,e,n,{strict:r}={}){return uh(t,{strict:!1})?kie(t,e,n,{strict:r}):cj(t,e,n,{strict:r})}function oj(t,e){if(typeof e=="number"&&e>0&&e>cs(t)-1)throw new H7({offset:e,position:"start",size:cs(t)})}function aj(t,e,n){if(typeof e=="number"&&typeof n=="number"&&cs(t)!==n-e)throw new H7({offset:n,position:"end",size:cs(t)})}function cj(t,e,n,{strict:r}={}){oj(t,e);const s=t.slice(e,n);return r&&aj(s,e,n),s}function kie(t,e,n,{strict:r}={}){oj(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&aj(s,e,n),s}const lQe=/^(.*)\[([0-9]*)\]$/,uQe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Oie=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function lj(t,e){if(t.length!==e.length)throw new Mse({expectedLength:t.length,givenLength:e.length});const n=Die({params:t,values:e}),r=Gk(n);return r.length===0?"0x":r}function Die({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(Wk({param:t[r],value:e[r]}));return n}function Wk({param:t,value:e}){const n=Kk(t.type);if(n){const[r,s]=n;return Lie(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return jie(e,{param:t});if(t.type==="address")return Mie(e);if(t.type==="bool")return $ie(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=Oie.exec(t.type)??[];return Uie(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return Bie(e,{param:t});if(t.type==="string")return Fie(e);throw new Use(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Gk(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=cs(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(an(e+s,{size:32})),r.push(a),s+=cs(a)):n.push(a)}return Og([...n,...r])}function Mie(t){if(!nl(t))throw new op({address:t});return{dynamic:!1,encoded:Qd(t.toLowerCase())}}function Lie(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new jse(t);if(!r&&t.length!==e)throw new Ose({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=Wk({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Gk(i);if(r){const a=an(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Og([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Og(i.map(({encoded:o})=>o))}}function Bie(t,{param:e}){const[,n]=e.type.split("bytes"),r=cs(t);if(!n){let s=t;return r%32!==0&&(s=Qd(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Og([Qd(an(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Dse({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Qd(t,{dir:"right"})}}function $ie(t){if(typeof t!="boolean")throw new ke(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Qd(G7(t))}}function Uie(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new z7({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:an(t,{size:32,signed:e})}}function Fie(t){const e=LI(t),n=Math.ceil(cs(e)/32),r=[];for(let s=0;s<n;s++)r.push(Qd(pA(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Og([Qd(an(cs(e),{size:32})),...r])}}function jie(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=Wk({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Gk(r):Og(r.map(({encoded:s})=>s))}}function Kk(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Qk=t=>pA(ij(t),0,4);function Yk(t){const{abi:e,args:n=[],name:r}=t,s=uh(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?Qk(a)===r:a.type==="event"?zk(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?v2(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=uj(a.inputs,o.inputs,n);if(l)throw new $se({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function v2(t,e){const n=typeof t,r=e.type;switch(r){case"address":return nl(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>v2(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>v2(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function uj(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return uj(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?nl(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?nl(n[r],{strict:!1}):!1)return o}}function Vie(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:s,status:i,transport:o})=>{i==="success"&&e===r&&(n[s]=o.request)}),(r=>n[r]||t.request)}function dl(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const l8="/docs/contract/encodeFunctionData";function Hie(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=Yk({abi:e,args:n,name:r});if(!i)throw new dA(r,{docsPath:l8});s=i}if(s.type!=="function")throw new dA(void 0,{docsPath:l8});return{abi:[s],functionName:Qk(lh(s))}}function jI(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:Hie(t),s=n[0],i=r,o="inputs"in s&&s.inputs?lj(s.inputs,e??[]):void 0;return FI([i,o??"0x"])}const qie={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},zie={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Wie={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class u8 extends ke{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class dj extends ke{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class Gie extends ke{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Kie={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Gie({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new dj({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new u8({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new u8({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Zk(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(Kie);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Qie(t,e={}){typeof e.size<"u"&&Aa(t,{size:e.size});const n=no(t,e);return Ng(n,e)}function Yie(t,e={}){let n=t;if(typeof e.size<"u"&&(Aa(n,{size:e.size}),n=Yd(n)),n.length>1||n[0]>1)throw new qse(n);return!!n[0]}function iu(t,e={}){typeof e.size<"u"&&Aa(t,{size:e.size});const n=no(t,e);return rp(n,e)}function Zie(t,e={}){let n=t;return typeof e.size<"u"&&(Aa(n,{size:e.size}),n=Yd(n,{dir:"right"})),new TextDecoder().decode(n)}function VI(t,e){const n=typeof e=="string"?tl(e):e,r=Zk(n);if(cs(n)===0&&t.length>0)throw new MI;if(cs(e)&&cs(e)<32)throw new U7({data:typeof e=="string"?e:no(e),params:t,size:cs(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=mg(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function mg(t,e,{staticPosition:n}){const r=Kk(e.type);if(r){const[s,i]=r;return Xie(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return roe(t,e,{staticPosition:n});if(e.type==="address")return Jie(t);if(e.type==="bool")return eoe(t);if(e.type.startsWith("bytes"))return toe(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return noe(t,e);if(e.type==="string")return soe(t,{staticPosition:n});throw new Fse(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const d8=32,_2=32;function Jie(t){const e=t.readBytes(32);return[n_(no(cj(e,-20))),32]}function Xie(t,e,{length:n,staticPosition:r}){if(!n){const o=iu(t.readBytes(_2)),a=r+o,c=a+d8;t.setPosition(a);const l=iu(t.readBytes(d8)),u=fb(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,g]=mg(t,e,{staticPosition:c});d+=g,h.push(p)}return t.setPosition(r+32),[h,32]}if(fb(e)){const o=iu(t.readBytes(_2)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=mg(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=mg(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function eoe(t){return[Yie(t.readBytes(32),{size:32}),32]}function toe(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=iu(t.readBytes(32));t.setPosition(n+o);const a=iu(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[no(c),32]}return[no(t.readBytes(Number.parseInt(s,10),32)),32]}function noe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?Qie(s,{signed:n}):iu(s,{signed:n}),32]}function roe(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(fb(e)){const o=iu(t.readBytes(_2)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=mg(t,l,{staticPosition:a});i+=d,s[r?c:l?.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=mg(t,a,{staticPosition:n});s[r?o:a?.name]=c,i+=l}return[s,i]}function soe(t,{staticPosition:e}){const n=iu(t.readBytes(32)),r=e+n;t.setPosition(r);const s=iu(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=Zie(Yd(i));return t.setPosition(e+32),[o,32]}function fb(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(fb);const n=Kk(t.type);return!!(n&&fb({...t,type:n[1]}))}function ioe(t){const{abi:e,data:n}=t,r=pA(n,0,4);if(r==="0x")throw new MI;const i=[...e||[],zie,Wie].find(o=>o.type==="error"&&r===Qk(lh(o)));if(!i)throw new F7(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?VI(i.inputs,pA(n,4)):void 0,errorName:i.name}}const ma=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n);function hj({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?ma(e[i]):e[i]}`).join(", ")})`}const ooe={gwei:9,wei:18},aoe={ether:-9,wei:9},coe={ether:-18,gwei:-9};function A0(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Jk(t,e="wei"){return A0(t,ooe[e])}function Xi(t,e="wei"){return A0(t,aoe[e])}class loe extends ke{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class uoe extends ke{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function h8(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function doe(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=h8(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=h8(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function r_(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class hoe extends ke{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class foe extends ke{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",r_(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class poe extends ke{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){const f=r_({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:d,value:typeof h<"u"&&`${Jk(h)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Xi(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xi(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Xi(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class fj extends ke{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class pj extends ke{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class moe extends ke{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const goe=t=>t,Xk=t=>t;class yoe extends ke{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){const p=n?dl(n):void 0;let g=r_({from:p?.address,to:d,value:typeof h<"u"&&`${Jk(h)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Xi(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xi(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Xi(l)} gwei`,nonce:u});f&&(g+=`
${doe(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class mj extends ke{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Yk({abi:n,args:r,name:o}),l=c?hj({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?lh(c,{includeName:!0}):void 0,d=r_({address:s&&goe(s),function:u,args:l&&l!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class woe extends ke{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=ioe({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=qie[f]}else{const f=u?lh(u,{includeName:!0}):void 0,p=u&&h?hj({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof F7&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class boe extends ke{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class voe extends ke{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class eO extends ke{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Sw extends ke{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Xk(o)}`,e&&`Request body: ${ma(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class tO extends ke{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Xk(r)}`,`Request body: ${ma(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class f8 extends ke{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Xk(n)}`,`Request body: ${ma(e)}`],name:"TimeoutError"})}}const _oe=-1;let oo=class extends ke{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||e?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof tO?e.code:n??_oe}};class Mo extends oo{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class pb extends oo{constructor(e){super(e,{code:pb.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(pb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class mb extends oo{constructor(e){super(e,{code:mb.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(mb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class gb extends oo{constructor(e,{method:n}={}){super(e,{code:gb.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(gb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class yb extends oo{constructor(e){super(e,{code:yb.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(yb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ap extends oo{constructor(e){super(e,{code:ap.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ap,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class wb extends oo{constructor(e){super(e,{code:wb.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(wb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class bb extends oo{constructor(e){super(e,{code:bb.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(bb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Zd extends oo{constructor(e){super(e,{code:Zd.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Dg extends oo{constructor(e){super(e,{code:Dg.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Dg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Tf extends oo{constructor(e,{method:n}={}){super(e,{code:Tf.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Tf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Mg extends oo{constructor(e){super(e,{code:Mg.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Mg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class vb extends oo{constructor(e){super(e,{code:vb.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(vb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Yr extends Mo{constructor(e){super(e,{code:Yr.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Yr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class _b extends Mo{constructor(e){super(e,{code:_b.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(_b,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Eb extends Mo{constructor(e,{method:n}={}){super(e,{code:Eb.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Eb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ab extends Mo{constructor(e){super(e,{code:Ab.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ab,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Cb extends Mo{constructor(e){super(e,{code:Cb.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Cb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class rl extends Mo{constructor(e){super(e,{code:rl.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(rl,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Ib extends Mo{constructor(e){super(e,{code:Ib.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Ib,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Tb extends Mo{constructor(e){super(e,{code:Tb.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Tb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Sb extends Mo{constructor(e){super(e,{code:Sb.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Sb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class xb extends Mo{constructor(e){super(e,{code:xb.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(xb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Pb extends Mo{constructor(e){super(e,{code:Pb.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Pb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Rb extends Mo{constructor(e){super(e,{code:Rb.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Rb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Nb extends Mo{constructor(e){super(e,{code:Nb.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Nb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Eoe extends oo{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Aoe=3;function mA(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof eO?t:t instanceof ke?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof MI?new boe({functionName:i}):[Aoe,ap.code].includes(c)&&(l||u||d||h)?new woe({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof tO?u:h??d}):t;return new mj(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}function Coe(t){const e=t_(`0x${t.substring(4)}`).substring(26);return n_(`0x${e}`)}const Ioe="modulepreload",Toe=function(t){return"/"+t},p8={},hn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=c(n.map(l=>{if(l=Toe(l),l in p8)return;p8[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ioe,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function Soe({hash:t,signature:e}){const n=uh(t)?t:kg(t),{secp256k1:r}=await hn(async()=>{const{secp256k1:o}=await import("./secp256k1-BYKzEPzQ.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=m8(f);return new r.Signature(Ng(l),Ng(u)).addRecoveryBit(p)}const o=uh(e)?e:kg(e);if(cs(o)!==65)throw new Error("invalid signature length");const a=rp(`0x${o.slice(130)}`),c=m8(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function m8(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function xoe({hash:t,signature:e}){return Coe(await Soe({hash:t,signature:e}))}function Poe(t,e="hex"){const n=gj(t),r=Zk(new Uint8Array(n.length));return n.encode(r),e==="hex"?no(r.bytes):r.bytes}function gj(t){return Array.isArray(t)?Roe(t.map(e=>gj(e))):Noe(t)}function Roe(t){const e=t.reduce((s,i)=>s+i.length,0),n=yj(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function Noe(t){const e=typeof t=="string"?tl(t):t,n=yj(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function yj(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ke("Length is too large.")}function koe(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=t_(FI(["0x05",Poe([e?an(e):"0x",s,n?an(n):"0x"])]));return r==="bytes"?tl(i):i}async function wj(t){const{authorization:e,signature:n}=t;return xoe({hash:koe(e),signature:n??e})}class Ooe extends ke{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){const f=r_({from:n?.address,to:d,value:typeof h<"u"&&`${Jk(h)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Xi(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xi(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Xi(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Sf extends ke{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Sf,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Sf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class gA extends ke{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Xi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(gA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class E2 extends ke{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Xi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(E2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class A2 extends ke{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(A2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class C2 extends ke{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(C2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class I2 extends ke{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(I2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class T2 extends ke{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(T2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class S2 extends ke{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(S2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class x2 extends ke{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(x2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class P2 extends ke{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(P2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class yA extends ke{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Xi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Xi(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(yA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class HI extends ke{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function nO(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ke?t.walk(s=>s?.code===Sf.code):t;return r instanceof ke?new Sf({cause:t,message:r.details}):Sf.nodeMessage.test(n)?new Sf({cause:t,message:t.details}):gA.nodeMessage.test(n)?new gA({cause:t,maxFeePerGas:e?.maxFeePerGas}):E2.nodeMessage.test(n)?new E2({cause:t,maxFeePerGas:e?.maxFeePerGas}):A2.nodeMessage.test(n)?new A2({cause:t,nonce:e?.nonce}):C2.nodeMessage.test(n)?new C2({cause:t,nonce:e?.nonce}):I2.nodeMessage.test(n)?new I2({cause:t,nonce:e?.nonce}):T2.nodeMessage.test(n)?new T2({cause:t}):S2.nodeMessage.test(n)?new S2({cause:t,gas:e?.gas}):x2.nodeMessage.test(n)?new x2({cause:t,gas:e?.gas}):P2.nodeMessage.test(n)?new P2({cause:t}):yA.nodeMessage.test(n)?new yA({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new HI({cause:t})}function Doe(t,{docsPath:e,...n}){const r=(()=>{const s=nO(t,n);return s instanceof HI?t:s})();return new Ooe(r,{docsPath:e,...n})}function rO(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const Moe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function sO(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=Loe(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>no(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=an(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=an(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=an(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=an(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=an(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=an(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=Moe[t.type]),typeof t.value<"u"&&(e.value=an(t.value)),e}function Loe(t){return t.map(e=>({address:e.address,r:e.r?an(BigInt(e.r)):e.r,s:e.s?an(BigInt(e.s)):e.s,chainId:an(e.chainId),nonce:an(e.nonce),...typeof e.yParity<"u"?{yParity:an(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:an(e.v)}:{}}))}function g8(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new e8({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new e8({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Boe(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=an(e)),n!==void 0&&(o.nonce=an(n)),r!==void 0&&(o.state=g8(r)),s!==void 0){if(o.state)throw new uoe;o.stateDiff=g8(s)}return o}function bj(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!nl(n,{strict:!1}))throw new op({address:n});if(e[n])throw new loe({address:n});e[n]=Boe(r)}return e}const $oe=2n**256n-1n;function qI(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?dl(e):void 0;if(o&&!nl(o.address))throw new op({address:o.address});if(i&&!nl(i))throw new op({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new hoe;if(r&&r>$oe)throw new gA({maxFeePerGas:r});if(s&&r&&s>r)throw new yA({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Uoe extends ke{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class iO extends ke{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Foe extends ke{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Xi(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class vj extends ke{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const _j={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ej(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?rp(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?rp(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?_j[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=joe(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function joe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Voe(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Ej(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function kb(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:s}={}){const i=s??!1,o=n!==void 0?an(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,i]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new vj({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||Voe)(a)}async function Aj(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function hQe(t,e){return Cj(t,e)}async function Cj(t,e){const{block:n,chain:r=t.chain,request:s}=e||{};try{const i=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof i=="function"){const a=n||await br(t,kb,"getBlock")({}),c=await i({block:a,client:t,request:s});if(c===null)throw new Error;return c}if(typeof i<"u")return i;const o=await t.request({method:"eth_maxPriorityFeePerGas"});return Ng(o)}catch{const[i,o]=await Promise.all([n?Promise.resolve(n):br(t,kb,"getBlock")({}),br(t,Aj,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new iO;const a=o-i.baseFeePerGas;return a<0n?0n:a}}async function fQe(t,e){return R2(t,e)}async function R2(t,e){const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new Uoe;const c=10**(o.toString().split(".")[1]?.length??0),l=h=>h*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await br(t,kb,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const h=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(h!==null)return h}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new iO;const h=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await Cj(t,{block:u,chain:r,request:s}),f=l(u.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??f+h,maxPriorityFeePerGas:h}}return{gasPrice:s?.gasPrice??l(await br(t,Aj,"getGasPrice")({}))}}async function Hoe(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?an(r):n]},{dedupe:!!r});return rp(s)}function Ij(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>tl(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>no(i))}function Tj(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>tl(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>tl(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>no(o))}function qoe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function zoe(t,e,n){return t&e^~t&n}function Woe(t,e,n){return t&e^t&n^e&n}let Sj=class extends J7{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=ZS(this.buffer)}update(e){fA(this),e=qk(e),sp(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=ZS(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fA(this),Y7(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,ip(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;qoe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=ZS(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const od=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ks=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Qs=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Goe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ad=new Uint32Array(64);let Koe=class extends Sj{constructor(e=32){super(64,e,8,!1),this.A=od[0]|0,this.B=od[1]|0,this.C=od[2]|0,this.D=od[3]|0,this.E=od[4]|0,this.F=od[5]|0,this.G=od[6]|0,this.H=od[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ad[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ad[d-15],f=ad[d-2],p=pc(h,7)^pc(h,18)^h>>>3,g=pc(f,17)^pc(f,19)^f>>>10;ad[d]=g+ad[d-7]+p+ad[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=pc(a,6)^pc(a,11)^pc(a,25),f=u+h+zoe(a,c,l)+Goe[d]+ad[d]|0,g=(pc(r,2)^pc(r,13)^pc(r,22))+Woe(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){ip(ad)}destroy(){this.set(0,0,0,0,0,0,0,0),ip(this.buffer)}};const xj=Q7(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qoe=xj[0],Yoe=xj[1],cd=new Uint32Array(80),ld=new Uint32Array(80);class Pj extends Sj{constructor(e=64){super(128,e,16,!1),this.Ah=Qs[0]|0,this.Al=Qs[1]|0,this.Bh=Qs[2]|0,this.Bl=Qs[3]|0,this.Ch=Qs[4]|0,this.Cl=Qs[5]|0,this.Dh=Qs[6]|0,this.Dl=Qs[7]|0,this.Eh=Qs[8]|0,this.El=Qs[9]|0,this.Fh=Qs[10]|0,this.Fl=Qs[11]|0,this.Gh=Qs[12]|0,this.Gl=Qs[13]|0,this.Hh=Qs[14]|0,this.Hl=Qs[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let _=0;_<16;_++,n+=4)cd[_]=e.getUint32(n),ld[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const S=cd[_-15]|0,C=ld[_-15]|0,x=ym(S,C,1)^ym(S,C,8)^r8(S,C,7),I=wm(S,C,1)^wm(S,C,8)^s8(S,C,7),E=cd[_-2]|0,A=ld[_-2]|0,T=ym(E,A,19)^y1(E,A,61)^r8(E,A,6),k=wm(E,A,19)^w1(E,A,61)^s8(E,A,6),M=iie(I,k,ld[_-7],ld[_-16]),B=oie(M,x,T,cd[_-7],cd[_-16]);cd[_]=B|0,ld[_]=M|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:v,Hl:b}=this;for(let _=0;_<80;_++){const S=ym(d,h,14)^ym(d,h,18)^y1(d,h,41),C=wm(d,h,14)^wm(d,h,18)^w1(d,h,41),x=d&f^~d&g,I=h&p^~h&y,E=aie(b,C,I,Yoe[_],ld[_]),A=cie(E,v,S,x,Qoe[_],cd[_]),T=E|0,k=ym(r,s,28)^y1(r,s,34)^y1(r,s,39),M=wm(r,s,28)^w1(r,s,34)^w1(r,s,39),B=r&i^r&a^i&a,Z=s&o^s&c^o&c;v=g|0,b=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=Sl(l|0,u|0,A|0,T|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=rie(T,M,Z);r=sie(N,A,k,B),s=N|0}({h:r,l:s}=Sl(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Sl(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Sl(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Sl(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Sl(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=Sl(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=Sl(this.Gh|0,this.Gl|0,g|0,y|0),{h:v,l:b}=Sl(this.Hh|0,this.Hl|0,v|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,v,b)}roundClean(){ip(cd,ld)}destroy(){ip(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Zoe extends Pj{constructor(){super(48),this.Ah=Ks[0]|0,this.Al=Ks[1]|0,this.Bh=Ks[2]|0,this.Bl=Ks[3]|0,this.Ch=Ks[4]|0,this.Cl=Ks[5]|0,this.Dh=Ks[6]|0,this.Dl=Ks[7]|0,this.Eh=Ks[8]|0,this.El=Ks[9]|0,this.Fh=Ks[10]|0,this.Fl=Ks[11]|0,this.Gh=Ks[12]|0,this.Gl=Ks[13]|0,this.Hh=Ks[14]|0,this.Hl=Ks[15]|0}}const Joe=$I(()=>new Koe),gQe=$I(()=>new Pj),yQe=$I(()=>new Zoe),Xoe=Joe;function eae(t,e){return Xoe(uh(t,{strict:!1})?BI(t):t)}function tae(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=eae(e);return s.set([n],0),r==="bytes"?s:no(s)}function nae(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(tae({commitment:i,to:r,version:n}));return s}const y8=6,Rj=32,oO=4096,Nj=Rj*oO,w8=Nj*y8-1-1*oO*y8;class rae extends ke{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class sae extends ke{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function iae(t){const e=typeof t.data=="string"?tl(t.data):t.data,n=cs(e);if(!n)throw new sae;if(n>w8)throw new rae({maxSize:w8,size:n});const r=[];let s=!0,i=0;for(;s;){const o=Zk(new Uint8Array(Nj));let a=0;for(;a<oO;){const c=e.slice(i,i+(Rj-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>no(o.bytes))}function oae(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??iae({data:e}),i=t.commitments??Ij({blobs:s,kzg:n,to:r}),o=t.proofs??Tj({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function aae(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new foe({transaction:t})}async function kj(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return rp(e)}const Oj=["blobVersionedHashes","chainId","fees","gas","nonce","type"],b8=new Map;async function aO(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=Oj,type:u}=e,d=n&&dl(n),h={...e,...d?{from:d?.address}:{}};let f;async function p(){return f||(f=await br(t,kb,"getBlock")({blockTag:"latest"}),f)}let g;async function y(){return g||(s?s.id:typeof e.chainId<"u"?e.chainId:(g=await br(t,kj,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const v=await y();h.nonce=await c.consume({address:d.address,chainId:v,client:t})}else h.nonce=await br(t,Hoe,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const v=Ij({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const b=nae({commitments:v,to:"hex"});h.blobVersionedHashes=b}if(l.includes("sidecars")){const b=Tj({blobs:r,commitments:v,kzg:o}),_=oae({blobs:r,commitments:v,proofs:b,to:"hex"});h.sidecars=_}}if(l.includes("chainId")&&(h.chainId=await y()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=aae(h)}catch{let v=b8.get(t.uid);typeof v>"u"&&(v=typeof(await p())?.baseFeePerGas=="bigint",b8.set(t.uid,v)),h.type=v?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const v=await p(),{maxFeePerGas:b,maxPriorityFeePerGas:_}=await R2(t,{block:v,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<_)throw new Foe({maxPriorityFeePerGas:_});h.maxPriorityFeePerGas=_,h.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new iO;if(typeof e.gasPrice>"u"){const v=await p(),{gasPrice:b}=await R2(t,{block:v,chain:s,request:h,type:"legacy"});h.gasPrice=b}}return l.includes("gas")&&typeof i>"u"&&(h.gas=await br(t,Mj,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),qI(h),delete h.parameters,h}async function Dj(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?an(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function Mj(t,e){const{account:n=t.account}=e,r=n?dl(n):void 0;try{let k=function(B){const{block:Z,request:N,rpcStateOverride:L}=B;return t.request({method:"eth_estimateGas",params:L?[N,Z??t.experimental_blockTag??"latest",L]:Z?[N,Z]:[N]})};const{accessList:s,authorizationList:i,blobs:o,blobVersionedHashes:a,blockNumber:c,blockTag:l,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:g,nonce:y,value:v,stateOverride:b,..._}=await aO(t,{...e,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),C=(typeof c=="bigint"?an(c):void 0)||l,x=bj(b),I=await(async()=>{if(_.to)return _.to;if(i&&i.length>0)return await wj({authorization:i[0]}).catch(()=>{throw new ke("`to` is required. Could not infer from `authorizationList`")})})();qI(e);const E=t.chain?.formatters?.transactionRequest?.format,T=(E||sO)({...rO(_,{format:E}),from:r?.address,accessList:s,authorizationList:i,blobs:o,blobVersionedHashes:a,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:g,nonce:y,to:I,value:v});let M=BigInt(await k({block:C,request:T,rpcStateOverride:x}));if(i){const B=await Dj(t,{address:T.from}),Z=await Promise.all(i.map(async N=>{const{address:L}=N,H=await k({block:C,request:{authorizationList:void 0,data:u,from:r?.address,to:L,value:an(B)},rpcStateOverride:x}).catch(()=>100000n);return 2n*BigInt(H)}));M+=Z.reduce((N,L)=>N+L,0n)}return M}catch(s){throw Doe(s,{...e,account:r,chain:t.chain})}}function cae(t,e){if(!nl(t,{strict:!1}))throw new op({address:t});if(!nl(e,{strict:!1}))throw new op({address:e});return t.toLowerCase()===e.toLowerCase()}const v8="/docs/contract/decodeEventLog";function lae(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new Lse({docsPath:v8});const c=e.find(g=>g.type==="event"&&o===zk(lh(g)));if(!(c&&"name"in c)||c.type!=="event")throw new j7(o,{docsPath:v8});const{name:l,inputs:u}=c,d=u?.some(g=>!("name"in g&&g.name)),h=d?[]:{},f=u.map((g,y)=>[g,y]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<f.length;g++){const[y,v]=f[g],b=a[g];if(!b)throw new V7({abiItem:c,param:y});h[d?v:y.name||v]=uae({param:y,value:b})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=VI(p,n);if(g)if(d)for(let y=0;y<u.length;y++)h[y]=h[y]??g.shift();else for(let y=0;y<p.length;y++)h[p[y].name]=g[y]}catch(g){if(i)throw g instanceof U7||g instanceof dj?new b2({abiItem:c,data:n,params:p,size:cs(n)}):g}else if(i)throw new b2({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function uae({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(VI([t],e)||[])[0]}function dae(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{try{const a=e.find(l=>l.type==="event"&&o.topics[0]===zk(l));if(!a)return null;const c=lae({...o,abi:[a],strict:s});return i&&!i.includes(c.eventName)||!hae({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...o}}catch(a){let c,l;if(a instanceof j7)return null;if(a instanceof b2||a instanceof V7){if(s)return null;c=a.abiItem.name,l=a.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return{...o,args:l?[]:{},eventName:c}}}).filter(Boolean)}function hae(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?cae(o,a):i.type==="string"||i.type==="bytes"?t_(BI(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function Lj(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const ex="/docs/contract/decodeFunctionResult";function cO(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=Yk({abi:e,args:n,name:r});if(!a)throw new dA(r,{docsPath:ex});i=a}if(i.type!=="function")throw new dA(void 0,{docsPath:ex});if(!i.outputs)throw new Bse(i.name,{docsPath:ex});const o=VI(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const fae="0.1.1";function pae(){return fae}let C0=class N2 extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof N2){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof N2&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${pae()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return Bj(this,e)}};function Bj(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Bj(t.cause,e):e?null:t}function $j(t,e){if(Lg(t)>e)throw new Iae({givenSize:Lg(t),maxSize:e})}function mae(t,e){if(typeof e=="number"&&e>0&&e>Lg(t)-1)throw new jj({offset:e,position:"start",size:Lg(t)})}function gae(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Lg(t)!==n-e)throw new jj({offset:n,position:"end",size:Lg(t)})}function Uj(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new Tae({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const yae="#__bigint";function wae(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+yae:s,n)}const bae=new TextEncoder,vae=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _ae(t,e={}){const{strict:n=!1}=e;if(!t)throw new _8(t);if(typeof t!="string")throw new _8(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new E8(t);if(!t.startsWith("0x"))throw new E8(t)}function wQe(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function bQe(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?($j(n,e.size),Fj(n,e.size)):n}function Eae(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=vae[t[s]];const r=`0x${n}`;return typeof e.size=="number"?($j(r,e.size),Aae(r,e.size)):r}function Gl(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new Cae({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Fj(c,r):c}function vQe(t,e={}){return Eae(bae.encode(t),e)}function Fj(t,e){return Uj(t,{dir:"left",size:e})}function Aae(t,e){return Uj(t,{dir:"right",size:e})}function _Qe(t,e,n,r={}){const{strict:s}=r;mae(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&gae(i,e,n),i}function Lg(t){return Math.ceil((t.length-2)/2)}function EQe(t,e={}){const{strict:n=!1}=e;try{return _ae(t,{strict:n}),!0}catch{return!1}}let Cae=class extends C0{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class _8 extends C0{constructor(e){super(`Value \`${typeof e=="object"?wae(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class E8 extends C0{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Iae=class extends C0{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class jj extends C0{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let Tae=class extends C0{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Sae(t){return{address:t.address,amount:Gl(t.amount),index:Gl(t.index),validatorIndex:Gl(t.validatorIndex)}}function xae(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Gl(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Gl(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Gl(t.gasLimit)},...typeof t.number=="bigint"&&{number:Gl(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Gl(t.prevRandao)},...typeof t.time=="bigint"&&{time:Gl(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Sae)}}}const k2=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],TQe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Vj=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],SQe=[...Vj,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],xQe=[...Vj,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],PQe=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],RQe=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],NQe=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],kQe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Pae="0x82ad56cb",Rae="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Nae="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",OQe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Hj="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class O2 extends ke{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}let kae=class extends ke{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}};class Oae extends ke{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class qj extends ke{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const tx="/docs/contract/encodeDeployData";function zj(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new kse({docsPath:tx});if(!("inputs"in s))throw new XD({docsPath:tx});if(!s.inputs||s.inputs.length===0)throw new XD({docsPath:tx});const i=lj(s.inputs,n);return FI([r,i])}function Wj({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new O2({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new O2({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Dae(t,{docsPath:e,...n}){const r=(()=>{const s=nO(t,n);return s instanceof HI?t:s})();return new yoe(r,{docsPath:e,...n})}function Gj(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const nx=new Map;function Kj({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p?.([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p?.(h)}})},o=()=>nx.delete(e),a=()=>c().map(({args:u})=>u),c=()=>nx.get(e)||[],l=u=>nx.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=Gj();return n?.([...a(),u])&&i(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(i,r),d)}}}async function Qj(t,e){const{account:n=t.account,authorizationList:r,batch:s=!!t.batch?.multicall,blockNumber:i,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:b,nonce:_,to:S,value:C,stateOverride:x,...I}=e,E=n?dl(n):void 0;if(u&&(h||f))throw new ke("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&S)throw new ke("Cannot provide both `code` & `to` as parameters.");const A=u&&d,T=h&&f&&S&&d,k=A||T,M=A?Yj({code:u,data:d}):T?Bae({data:d,factory:h,factoryData:f,to:S}):d;try{qI(e);const Z=(typeof i=="bigint"?an(i):void 0)||o,N=l?xae(l):void 0,L=bj(x),H=t.chain?.formatters?.transactionRequest?.format,J=(H||sO)({...rO(I,{format:H}),from:E?.address,accessList:a,authorizationList:r,blobs:c,data:M,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:b,nonce:_,to:k?void 0:S,value:C});if(s&&Mae({request:J})&&!L&&!N)try{return await Lae(t,{...J,blockNumber:i,blockTag:o})}catch(ue){if(!(ue instanceof qj)&&!(ue instanceof O2))throw ue}const ee=(()=>{const ue=[J,Z];return L&&N?[...ue,L,N]:L?[...ue,L]:N?[...ue,{},N]:ue})(),W=await t.request({method:"eth_call",params:ee});return W==="0x"?{data:void 0}:{data:W}}catch(B){const Z=$ae(B),{offchainLookup:N,offchainLookupSignature:L}=await hn(async()=>{const{offchainLookup:H,offchainLookupSignature:F}=await import("./ccip-CqcU68HP.js");return{offchainLookup:H,offchainLookupSignature:F}},__vite__mapDeps([2,3]));if(t.ccipRead!==!1&&Z?.slice(0,10)===L&&S)return{data:await N(t,{data:Z,to:S})};throw k&&Z?.slice(0,10)==="0x101bb98d"?new voe({factory:h}):Dae(B,{...e,account:E,chain:t.chain})}}function Mae({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Pae)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Lae(t,e){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o=t.experimental_blockTag??"latest",data:a,to:c}=e,l=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return Wj({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new qj})(),d=(typeof i=="bigint"?an(i):void 0)||o,{schedule:h}=Kj({id:`${t.uid}.${d}`,wait:s,shouldSplitBatch(g){return g.reduce((v,{data:b})=>v+(b.length-2),0)>n*2},fn:async g=>{const y=g.map(_=>({allowFailure:!0,callData:_.data,target:_.to})),v=jI({abi:k2,args:[y],functionName:"aggregate3"}),b=await t.request({method:"eth_call",params:[{...l===null?{data:Yj({code:Hj,data:v})}:{to:l,data:v}},d]});return cO({abi:k2,args:[y],functionName:"aggregate3",data:b||"0x"})}}),[{returnData:f,success:p}]=await h({data:a,to:c});if(!p)throw new eO({data:f});return f==="0x"?{data:void 0}:{data:f}}function Yj(t){const{code:e,data:n}=t;return zj({abi:L7(["constructor(bytes, bytes)"]),bytecode:Rae,args:[e,n]})}function Bae(t){const{data:e,factory:n,factoryData:r,to:s}=t;return zj({abi:L7(["constructor(address, bytes, address, bytes)"]),bytecode:Nae,args:[s,e,n,r]})}function $ae(t){if(!(t instanceof ke))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function Zj(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=jI({abi:n,args:s,functionName:i});try{const{data:c}=await br(t,Qj,"call")({...o,data:a,to:r});return cO({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw mA(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}const rx=new Map,A8=new Map;let Uae=0;function wA(t,e,n){const r=++Uae,s=()=>rx.get(t)||[],i=()=>{const u=s();rx.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(h=>h.id===r))return;const d=A8.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}i()},a=s();if(rx.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=((...d)=>{const h=s();if(h.length!==0)for(const f of h)f.fns[u]?.(...d)});const l=n(c);return typeof l=="function"&&A8.set(t,l),o}async function bA(t){return new Promise(e=>setTimeout(e,t))}function Jj(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await n?.(a)??r;await bA(c);const l=async()=>{s&&(await t({unpoll:i}),await bA(r),l())};l()})(),i}const Fae=new Map,jae=new Map;function Vae(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,Fae),r=e(t,jae);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Hae(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Vae(e),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const qae=t=>`blockNumber.${t}`;async function zae(t,{cacheTime:e=t.cacheTime}={}){const n=await Hae(()=>t.request({method:"eth_blockNumber"}),{cacheKey:qae(t.uid),cacheTime:e});return BigInt(n)}async function Wae(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>Lj(i));return!("abi"in e)||!e.abi?s:dae({abi:e.abi,logs:s,strict:n})}async function Gae(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}class lO extends ke{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class sx extends ke{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Kae({chain:t,currentChainId:e}){if(!t)throw new Oae;if(e!==t.id)throw new kae({chain:t,currentChainId:e})}function Qae(t,{docsPath:e,...n}){const r=(()=>{const s=nO(t,n);return s instanceof HI?t:s})();return new poe(r,{docsPath:e,...n})}async function Yae(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const ix=new UI(128);async function Xj(t,e){const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:p,value:g,...y}=e;if(typeof n>"u")throw new lO({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?dl(n):null;try{qI(e);const b=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await wj({authorization:i[0]}).catch(()=>{throw new ke("`to` is required. Could not infer from `authorizationList`.")})})();if(v?.type==="json-rpc"||v===null){let _;r!==null&&(_=await br(t,kj,"getChainId")({}),Kae({currentChainId:_,chain:r}));const S=t.chain?.formatters?.transactionRequest?.format,x=(S||sO)({...rO(y,{format:S}),accessList:s,authorizationList:i,blobs:o,chainId:_,data:a,from:v?.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:b,type:p,value:g}),I=ix.get(t.uid),E=I?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:E,params:[x]},{retryCount:0})}catch(A){if(I===!1)throw A;const T=A;if(T.name==="InvalidInputRpcError"||T.name==="InvalidParamsRpcError"||T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[x]},{retryCount:0}).then(k=>(ix.set(t.uid,!0),k)).catch(k=>{const M=k;throw M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError"?(ix.set(t.uid,!1),T):M});throw T}}if(v?.type==="local"){const _=await br(t,aO,"prepareTransactionRequest")({account:v,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:v.nonceManager,parameters:[...Oj,"sidecars"],type:p,value:g,...y,to:b}),S=r?.serializers?.transaction,C=await v.signTransaction(_,{serializer:S});return await br(t,Yae,"sendRawTransaction")({serializedTransaction:C})}throw v?.type==="smart"?new sx({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new sx({docsPath:"/docs/actions/wallet/sendTransaction",type:v?.type})}catch(b){throw b instanceof sx?b:Qae(b,{...e,account:v,chain:e.chain||void 0})}}async function Zae(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new lO({docsPath:"/docs/contract/writeContract"});const l=r?dl(r):null,u=jI({abi:n,args:i,functionName:a});try{return await br(t,Xj,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw mA(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l?.address})}}function vA(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await bA(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}const Jae={"0x0":"reverted","0x1":"success"};function Xae(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>Lj(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?rp(t.transactionIndex):null,status:t.status?Jae[t.status]:null,type:t.type?_j[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const D2=256;let b1=D2,v1;function eV(t=11){if(!v1||b1+t>D2*2){v1="",b1=0;for(let e=0;e<D2;e++)v1+=(256+Math.random()*256|0).toString(16).substring(1)}return v1.substring(b1,b1+++t)}function tV(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??l,d=t.cacheTime??u,h=t.account?dl(t.account):void 0,{config:f,request:p,value:g}=t.transport({chain:n,pollingInterval:u}),y={...f,...g},v={account:h,batch:e,cacheTime:d,ccipRead:r,chain:n,key:s,name:i,pollingInterval:u,request:p,transport:y,type:o,uid:eV(),...a?{experimental_blockTag:a}:{}};function b(_){return S=>{const C=S(_);for(const I in v)delete C[I];const x={..._,...C};return Object.assign(x,{extend:b(x)})}}return Object.assign(v,{extend:b(v)})}async function ece(t){const e=Vie(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const _1=new UI(8192);function tce(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(_1.get(n))return _1.get(n);const r=t().finally(()=>_1.delete(n));return _1.set(n,r),r}function nce(t,e={}){return async(n,r={})=>{const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if(i?.exclude?.includes(l))throw new Tf(new Error("method not supported"),{method:l});if(i?.include&&!i.include.includes(l))throw new Tf(new Error("method not supported"),{method:l});const u=s?LI(`${c}.${ma(n)}`):void 0;return tce(()=>vA(async()=>{try{return await t(n)}catch(d){const h=d;switch(h.code){case pb.code:throw new pb(h);case mb.code:throw new mb(h);case gb.code:throw new gb(h,{method:n.method});case yb.code:throw new yb(h);case ap.code:throw new ap(h);case wb.code:throw new wb(h);case bb.code:throw new bb(h);case Zd.code:throw new Zd(h);case Dg.code:throw new Dg(h);case Tf.code:throw new Tf(h,{method:n.method});case Mg.code:throw new Mg(h);case vb.code:throw new vb(h);case Yr.code:throw new Yr(h);case _b.code:throw new _b(h);case Eb.code:throw new Eb(h);case Ab.code:throw new Ab(h);case Cb.code:throw new Cb(h);case rl.code:throw new rl(h);case Ib.code:throw new Ib(h);case Tb.code:throw new Tb(h);case Sb.code:throw new Sb(h);case xb.code:throw new xb(h);case Pb.code:throw new Pb(h);case Rb.code:throw new Rb(h);case Nb.code:throw new Nb(h);case 5e3:throw new Yr(h);default:throw d instanceof ke?d:new Eoe(h)}}},{delay:({count:d,error:h})=>{if(h&&h instanceof Sw){const f=h?.headers?.get("Retry-After");if(f?.match(/\d/))return Number.parseInt(f,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>rce(d)}),{enabled:s,id:u})}}function rce(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Mg.code||t.code===ap.code:t instanceof Sw&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function nV(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function rV(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function sce(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const C8=sce();function ice(t,e={}){return{async request(n){const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const d=await rV(async({signal:f})=>{const p={...a,body:Array.isArray(r)?ma(r.map(b=>({jsonrpc:"2.0",id:b.id??C8.take(),...b}))):ma({jsonrpc:"2.0",id:r.id??C8.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?f:null)},g=new Request(t,p),y=await s?.(g,p)??{...p,url:t};return await fetch(y.url??t,y)},{errorInstance:new f8({body:r,url:t}),timeout:o,signal:!0});i&&await i(d);let h;if(d.headers.get("Content-Type")?.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(f){if(d.ok)throw f;h={error:h}}}if(!d.ok)throw new Sw({body:r,details:ma(h.error)||d.statusText,headers:d.headers,status:d.status,url:t});return h}catch(d){throw d instanceof Sw||d instanceof f8?d:new Sw({body:r,cause:d,url:t})}}}}class oce extends ke{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function ace(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new oce({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}async function sV(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){const o=r||"latest",a=n!==void 0?an(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,an(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,an(i)]},{dedupe:!!a}),!c)throw new fj({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(t.chain?.formatters?.transaction?.format||Ej)(c)}async function ox(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new pj({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||Xae)(n)}async function cce(t,e){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockTag:o,stateOverride:a}=e,c=e.contracts,{batchSize:l=e.batchSize??1024,deployless:u=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},d=(()=>{if(e.multicallAddress)return e.multicallAddress;if(u)return null;if(t.chain)return Wj({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let f=0,p=0;for(let v=0;v<c.length;v++){const{abi:b,address:_,args:S,functionName:C}=c[v];try{const x=jI({abi:b,args:S,functionName:C});p+=(x.length-2)/2,l>0&&p>l&&h[f].length>0&&(f++,p=(x.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:x,target:_}]}catch(x){const I=mA(x,{abi:b,address:_,args:S,docsPath:"/docs/contract/multicall",functionName:C,sender:n});if(!s)throw I;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:_}]}}const g=await Promise.allSettled(h.map(v=>br(t,Zj,"readContract")({...d===null?{code:Hj}:{address:d},abi:k2,account:n,args:[v],authorizationList:r,blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:a}))),y=[];for(let v=0;v<g.length;v++){const b=g[v];if(b.status==="rejected"){if(!s)throw b.reason;for(let S=0;S<h[v].length;S++)y.push({status:"failure",error:b.reason,result:void 0});continue}const _=b.value;for(let S=0;S<_.length;S++){const{returnData:C,success:x}=_[S],{callData:I}=h[v][S],{abi:E,address:A,functionName:T,args:k}=c[y.length];try{if(I==="0x")throw new MI;if(!x)throw new eO({data:C});const M=cO({abi:E,args:k,data:C,functionName:T});y.push(s?{result:M,status:"success"}:M)}catch(M){const B=mA(M,{abi:E,address:A,args:k,docsPath:"/docs/contract/multicall",functionName:T});if(!s)throw B;y.push({error:B,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new ke("multicall results mismatch");return y}function lce(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=ma(["watchBlockNumber",t.uid,e,n,o]);return wA(d,{onBlockNumber:r,onError:s},h=>Jj(async()=>{try{const f=await br(t,zae,"getBlockNumber")({cacheTime:0});if(c){if(f===c)return;if(f-c>1&&n)for(let p=c+1n;p<f;p++)h.onBlockNumber(p,c),c=p}(!c||f>c)&&(h.onBlockNumber(f,c),c=f)}catch(f){h.onError?.(f)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=ma(["watchBlockNumber",t.uid,e,n]);return wA(d,{onBlockNumber:r,onError:s},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return v?v.value:t.transport}return t.transport})(),{unsubscribe:y}=await g.subscribe({params:["newHeads"],onData(v){if(!f)return;const b=Ng(v.result?.number);h.onBlockNumber(b,c),c=b},onError(v){h.onError?.(v)}});p=y,f||p()}catch(g){s?.(g)}})(),()=>p()})})()}async function uce(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:C})=>~~(1<<C)*200,timeout:c=18e4}=e,l=ma(["waitForTransactionReceipt",t.uid,s]),u=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let d,h,f,p=!1,g,y;const{promise:v,resolve:b,reject:_}=Gj(),S=c?setTimeout(()=>{y?.(),g?.(),_(new moe({hash:s}))},c):void 0;return g=wA(l,{onReplaced:i,resolve:b,reject:_},async C=>{if(f=await br(t,ox,"getTransactionReceipt")({hash:s}).catch(()=>{}),f&&r<=1){clearTimeout(S),C.resolve(f),g?.();return}y=br(t,lce,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(x){const I=A=>{clearTimeout(S),y?.(),A(),g?.()};let E=x;if(!p)try{if(f){if(r>1&&(!f.blockNumber||E-f.blockNumber+1n<r))return;I(()=>C.resolve(f));return}if(n&&!d&&(p=!0,await vA(async()=>{d=await br(t,sV,"getTransaction")({hash:s}),d.blockNumber&&(E=d.blockNumber)},{delay:a,retryCount:o}),p=!1),f=await br(t,ox,"getTransactionReceipt")({hash:s}),r>1&&(!f.blockNumber||E-f.blockNumber+1n<r))return;I(()=>C.resolve(f))}catch(A){if(A instanceof fj||A instanceof pj){if(!d){p=!1;return}try{h=d,p=!0;const T=await vA(()=>br(t,kb,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:B})=>B instanceof vj});p=!1;const k=T.transactions.find(({from:B,nonce:Z})=>B===h.from&&Z===h.nonce);if(!k||(f=await br(t,ox,"getTransactionReceipt")({hash:k.hash}),r>1&&(!f.blockNumber||E-f.blockNumber+1n<r)))return;let M="replaced";k.to===h.to&&k.value===h.value&&k.input===h.input?M="repriced":k.from===k.to&&k.value===0n&&(M="cancelled"),I(()=>{C.onReplaced?.({reason:M,replacedTransaction:h,transaction:k,transactionReceipt:f}),C.resolve(f)})}catch(T){I(()=>C.reject(T))}}else I(()=>C.reject(A))}}})}),v}function dce(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=ma(["watchPendingTransactions",t.uid,e,i]);return wA(l,{onTransactions:r,onError:n},u=>{let d;const h=Jj(async()=>{try{if(!d)try{d=await br(t,ece,"createPendingTransactionFilter")({});return}catch(p){throw h(),p}const f=await br(t,Wae,"getFilterChanges")({filter:d});if(f.length===0)return;if(e)u.onTransactions(f);else for(const p of f)u.onTransactions([p])}catch(f){u.onError?.(f)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await br(t,Gae,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n?.(h)}});u=d,l||u()}catch(d){n?.(d)}})(),()=>u()})()}async function hce(t,{account:e=t.account,message:n}){if(!e)throw new lO({docsPath:"/docs/actions/wallet/signMessage"});const r=dl(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?LI(n):n.raw instanceof Uint8Array?kg(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}function uO({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=eV();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:nce(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function fce(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>uO({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function I8(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=pce,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=uO({key:n,name:r,async request({method:g,params:y}){let v;const b=async(_=0)=>{const S=h[_]({...d,chain:c,retryCount:0,timeout:u});try{const C=await S.request({method:g,params:y});return f({method:g,params:y,response:C,transport:S,status:"success"}),C}catch(C){if(f({error:C,method:g,params:y,transport:S,status:"error"}),i(C)||_===h.length-1||(v??=h.slice(_+1).some(x=>{const{include:I,exclude:E}=x({chain:c}).config.methods||{};return I?I.includes(g):E?!E.includes(g):!0}),!v))throw C;return b(_+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>f=g,transports:h.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};mce({chain:c,interval:g.interval??l,onTransports:y=>h=y,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:h,weights:g.weights})}return p})}function pce(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Dg.code||t.code===Yr.code||Sf.nodeMessage.test(t.message)||t.code===5e3))}function mce({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async g=>{const y=g({chain:t,retryCount:0,timeout:i}),v=Date.now();let b,_;try{await(r?r({transport:y}):y.request({method:"net_listening"})),_=1}catch{_=0}finally{b=Date.now()}return{latency:b-v,success:_}}));u.push(h),u.length>s&&u.shift();const f=Math.max(...u.map(g=>Math.max(...g.map(({latency:y})=>y)))),p=o.map((g,y)=>{const v=u.map(x=>x[y].latency),_=1-v.reduce((x,I)=>x+I,0)/v.length/f,S=u.map(x=>x[y].success),C=S.reduce((x,I)=>x+I,0)/S.length;return C===0?[0,y]:[l*_+c*C,y]}).sort((g,y)=>y[0]-g[0]);n(p.map(([,g])=>o[g])),await bA(e),d()};d()}class gce extends ke{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function rg(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},y=e.retryCount??h,v=f??e.timeout??1e4,b=t||d?.rpcUrls.default.http[0];if(!b)throw new gce;const _=ice(b,{fetchOptions:r,onRequest:a,onResponse:c,timeout:v});return uO({key:s,methods:i,name:o,async request({method:S,params:C}){const x={method:S,params:C},{schedule:I}=Kj({id:b,wait:g,shouldSplitBatch(k){return k.length>p},fn:k=>_.request({body:k}),sort:(k,M)=>k.id-M.id}),E=async k=>n?I(k):[await _.request({body:k})],[{error:A,result:T}]=await E(x);if(u)return{error:A,result:T};if(A)throw new tO({body:x,error:A,url:b});return T},retryCount:y,retryDelay:l,timeout:v,type:"http"},{fetchOptions:r,url:b})}}const ax={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return A0(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},dO={async getMyTokensWithBalance(t){const e=ut.state.address,n=K.state.activeCaipNetwork,r=Le.getConnectorId("eip155")===le.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=Se.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace===le.CHAIN.EVM&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await At.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){try{const n=ax.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await qe.getCapabilities(t))?.[n]?.assetDiscovery?.supported)return null;const s=await qe.walletGetAssets({account:t,chainFilter:[n]});if(!ax.isWalletGetAssetsResponse(s))return null;const o=(s[n]||[]).map(a=>ax.createBalance(a,e.caipNetworkId));return Se.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},mc=ur({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),yce={state:mc,replaceState(t){t&&Object.assign(mc,ep(t))},subscribe(t){return K.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return K.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){K.setAccountProp("status",t,e)},getCaipAddress(t){if(t)return K.state.chains.get(t)?.accountState?.caipAddress},setCaipAddress(t,e){const n=t?rt.getPlainAddress(t):void 0;e===K.state.activeChain&&(K.state.activeCaipAddress=t),K.setAccountProp("caipAddress",t,e),K.setAccountProp("address",n,e)},setBalance(t,e,n){K.setAccountProp("balance",t,n),K.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){K.setAccountProp("profileName",t,e)},setProfileImage(t,e){K.setAccountProp("profileImage",t,e)},setUser(t,e){K.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){K.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){K.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){K.setAccountProp("currentTab",t,K.state.activeChain)},setTokenBalance(t,e){t&&K.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){K.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,n){if(!n)return;const r=K.state.chains.get(n)?.accountState?.addressLabels||new Map;r.set(t,e),K.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){if(!e)return;const n=K.state.chains.get(e)?.accountState?.addressLabels||new Map;n.delete(t),K.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){K.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){K.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&K.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){K.setAccountProp("socialWindow",t?ep(t):void 0,e)},setFarcasterUrl(t,e){K.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){mc.balanceLoading=!0;const e=K.state.activeCaipNetwork?.caipNetworkId,n=K.state.activeCaipNetwork?.chainNamespace,r=K.state.activeCaipAddress,s=r?rt.getPlainAddress(r):void 0;if(mc.lastRetry&&!rt.isAllowedRetry(mc.lastRetry,30*In.ONE_SEC_MS))return mc.balanceLoading=!1,[];try{if(s&&e&&n){const i=await dO.getMyTokensWithBalance();return ut.setTokenBalance(i,n),mc.lastRetry=void 0,mc.balanceLoading=!1,i}}catch(i){mc.lastRetry=Date.now(),t?.(i),Bc.showError("Token Balance Unavailable")}finally{mc.balanceLoading=!1}return[]},resetAccount(t){K.resetAccount(t)}},ut=Do(yce),wce={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=K.state.activeCaipNetwork,r=Tt.state.data;if(t.id===n?.id)return;const i=ut.getCaipAddress(K.state.activeChain),o=t.chainNamespace!==K.state.activeChain,a=ut.getCaipAddress(t.chainNamespace),l=Le.getConnectorId(K.state.activeChain)===le.CONNECTOR_ID.AUTH,u=le.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?Tt.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?Tt.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Tt.push("SwitchNetwork",{...r,network:t})}},Di=ur({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),bce={state:Di,subscribe(t){return Vs(Di,()=>t(Di))},subscribeKey(t,e){return qs(Di,t,e)},async open(t){const e=t?.namespace,n=K.state.activeChain,r=e&&e!==n,s=K.getAccountData(t?.namespace)?.caipAddress,i=K.state.noAdapters;if(qe.state.wcBasic?wt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await wt.prefetch(),Le.setFilterByNamespace(t?.namespace),vn.setLoading(!0,e),e&&r){const o=K.getNetworkData(e)?.caipNetwork||K.getRequestedCaipNetworks(e)[0];o&&(i?(await K.switchActiveNetwork(o),Tt.push("ConnectingWalletConnectBasic")):wce.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else ve.state.manualWCControl||i&&!s?rt.isMobile()?Tt.reset("AllWallets"):Tt.reset("ConnectingWalletConnectBasic"):t?.view?Tt.reset(t.view,t.data):s?Tt.reset("Account"):Tt.reset("Connect");Di.open=!0,ja.set({open:!0}),Rn.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const t=ve.state.enableEmbedded,e=!!K.state.activeCaipAddress;Di.open&&Rn.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Di.open=!1,Tt.reset("Connect"),vn.clearLoading(),t?e?Tt.replace("Account"):Tt.push("Connect"):ja.set({open:!1}),qe.resetUri()},setLoading(t,e){e&&Di.loadingNamespaceMap.set(e,t),Di.loading=t,ja.set({loading:t})},clearLoading(){Di.loadingNamespaceMap.clear(),Di.loading=!1,ja.set({loading:!1})},shake(){Di.shake||(Di.shake=!0,setTimeout(()=>{Di.shake=!1},500))}},vn=Do(bce),xw={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},M2={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},vce={providers:b7,selectedProvider:null,error:null,purchaseCurrency:xw,paymentCurrency:M2,purchaseCurrencies:[xw],paymentCurrencies:[],quotesLoading:!1},Pn=ur(vce),_ce={state:Pn,subscribe(t){return Vs(Pn,()=>t(Pn))},subscribeKey(t,e){return qs(Pn,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=K.state.activeChain,n=e===le.CHAIN.SOLANA?"SOL":"USDC",r=e?K.state.chains.get(e)?.accountState?.address??"":"",s=new URL(t.url);s.searchParams.append("publicKey",dre),s.searchParams.append("destinationCurrencyCode",n),s.searchParams.append("walletAddress",r),s.searchParams.append("externalCustomerId",ve.state.projectId),Pn.selectedProvider={...t,url:s.toString()}}else Pn.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=b7.filter(r=>e.includes(r.name));Pn.providers=n}else Pn.providers=[]},setPurchaseCurrency(t){Pn.purchaseCurrency=t},setPaymentCurrency(t){Pn.paymentCurrency=t},setPurchaseAmount(t){L2.state.purchaseAmount=t},setPaymentAmount(t){L2.state.paymentAmount=t},async getAvailableCurrencies(){const t=await At.getOnrampOptions();Pn.purchaseCurrencies=t.purchaseCurrencies,Pn.paymentCurrencies=t.paymentCurrencies,Pn.paymentCurrency=t.paymentCurrencies[0]||M2,Pn.purchaseCurrency=t.purchaseCurrencies[0]||xw,await wt.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await wt.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){Pn.quotesLoading=!0;try{const t=await At.getOnrampQuote({purchaseCurrency:Pn.purchaseCurrency,paymentCurrency:Pn.paymentCurrency,amount:Pn.paymentAmount?.toString()||"0",network:Pn.purchaseCurrency?.symbol});return Pn.quotesLoading=!1,Pn.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return Pn.error=t.message,Pn.quotesLoading=!1,null}finally{Pn.quotesLoading=!1}},resetState(){Pn.selectedProvider=null,Pn.error=null,Pn.purchaseCurrency=xw,Pn.paymentCurrency=M2,Pn.purchaseCurrencies=[xw],Pn.paymentCurrencies=[],Pn.paymentAmount=void 0,Pn.purchaseAmount=void 0,Pn.quotesLoading=!1}},L2=Do(_ce),T8=2147483648,Ece={convertEVMChainIdToCoinType(t){if(t>=T8)throw new Error("Invalid chainId");return(T8|t)>>>0}},Go=ur({suggestions:[],loading:!1}),Ace={state:Go,subscribe(t){return Vs(Go,()=>t(Go))},subscribeKey(t,e){return qs(Go,t,e)},async resolveName(t){try{return await At.lookupEnsName(t)}catch(e){const n=e;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await At.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Go.loading=!0,Go.suggestions=[];const e=await At.getEnsNameSuggestions(t);return Go.suggestions=e.suggestions||[],Go.suggestions}catch(e){const n=Pw.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Go.loading=!1}},async getNamesForAddress(t){try{if(!K.state.activeCaipNetwork)return[];const n=Se.getEnsFromCacheForAddress(t);if(n)return n;const r=await At.reverseLookupEnsName({address:t});return Se.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=Pw.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=K.state.activeCaipNetwork,n=ut.state.address,r=Le.getAuthConnector();if(!e)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");Go.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Tt.pushTransactionStack({onCancel(){Tt.replace("RegisterAccountName")}});const i=await qe.signMessage(s);Go.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=Ece.convertEVMChainIdToCoinType(Number(o));await At.registerEnsName({coinType:a,address:n,signature:i,message:s}),ut.setProfileName(t,e.chainNamespace),Se.updateEnsCache({address:n,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),Tt.replace("RegisterAccountNameSuccess")}catch(s){const i=Pw.parseEnsApiError(s,`Error registering name ${t}`);throw Tt.replace("RegisterAccountName"),new Error(i)}finally{Go.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},Pw=Do(Ace);var E1={exports:{}},S8;function Cce(){if(S8)return E1.exports;S8=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,x,I){return Function.prototype.apply.call(C,x,I)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(S){console&&console.warn&&console.warn(S)}var s=Number.isNaN||function(C){return C!==C};function i(){i.init.call(this)}E1.exports=i,E1.exports.once=v,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function c(S){return S._maxListeners===void 0?i.defaultMaxListeners:S._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(C){for(var x=[],I=1;I<arguments.length;I++)x.push(arguments[I]);var E=C==="error",A=this._events;if(A!==void 0)E=E&&A.error===void 0;else if(!E)return!1;if(E){var T;if(x.length>0&&(T=x[0]),T instanceof Error)throw T;var k=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw k.context=T,k}var M=A[C];if(M===void 0)return!1;if(typeof M=="function")e(M,this,x);else for(var B=M.length,Z=p(M,B),I=0;I<B;++I)e(Z[I],this,x);return!0};function l(S,C,x,I){var E,A,T;if(a(x),A=S._events,A===void 0?(A=S._events=Object.create(null),S._eventsCount=0):(A.newListener!==void 0&&(S.emit("newListener",C,x.listener?x.listener:x),A=S._events),T=A[C]),T===void 0)T=A[C]=x,++S._eventsCount;else if(typeof T=="function"?T=A[C]=I?[x,T]:[T,x]:I?T.unshift(x):T.push(x),E=c(S),E>0&&T.length>E&&!T.warned){T.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=S,k.type=C,k.count=T.length,r(k)}return S}i.prototype.addListener=function(C,x){return l(this,C,x,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(C,x){return l(this,C,x,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(S,C,x){var I={fired:!1,wrapFn:void 0,target:S,type:C,listener:x},E=u.bind(I);return E.listener=x,I.wrapFn=E,E}i.prototype.once=function(C,x){return a(x),this.on(C,d(this,C,x)),this},i.prototype.prependOnceListener=function(C,x){return a(x),this.prependListener(C,d(this,C,x)),this},i.prototype.removeListener=function(C,x){var I,E,A,T,k;if(a(x),E=this._events,E===void 0)return this;if(I=E[C],I===void 0)return this;if(I===x||I.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete E[C],E.removeListener&&this.emit("removeListener",C,I.listener||x));else if(typeof I!="function"){for(A=-1,T=I.length-1;T>=0;T--)if(I[T]===x||I[T].listener===x){k=I[T].listener,A=T;break}if(A<0)return this;A===0?I.shift():g(I,A),I.length===1&&(E[C]=I[0]),E.removeListener!==void 0&&this.emit("removeListener",C,k||x)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(C){var x,I,E;if(I=this._events,I===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete I[C]),this;if(arguments.length===0){var A=Object.keys(I),T;for(E=0;E<A.length;++E)T=A[E],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=I[C],typeof x=="function")this.removeListener(C,x);else if(x!==void 0)for(E=x.length-1;E>=0;E--)this.removeListener(C,x[E]);return this};function h(S,C,x){var I=S._events;if(I===void 0)return[];var E=I[C];return E===void 0?[]:typeof E=="function"?x?[E.listener||E]:[E]:x?y(E):p(E,E.length)}i.prototype.listeners=function(C){return h(this,C,!0)},i.prototype.rawListeners=function(C){return h(this,C,!1)},i.listenerCount=function(S,C){return typeof S.listenerCount=="function"?S.listenerCount(C):f.call(S,C)},i.prototype.listenerCount=f;function f(S){var C=this._events;if(C!==void 0){var x=C[S];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(S,C){for(var x=new Array(C),I=0;I<C;++I)x[I]=S[I];return x}function g(S,C){for(;C+1<S.length;C++)S[C]=S[C+1];S.pop()}function y(S){for(var C=new Array(S.length),x=0;x<C.length;++x)C[x]=S[x].listener||S[x];return C}function v(S,C){return new Promise(function(x,I){function E(T){S.removeListener(C,A),I(T)}function A(){typeof S.removeListener=="function"&&S.removeListener("error",E),x([].slice.call(arguments))}_(S,C,A,{once:!0}),C!=="error"&&b(S,E,{once:!0})})}function b(S,C,x){typeof S.on=="function"&&_(S,"error",C,x)}function _(S,C,x,I){if(typeof S.on=="function")I.once?S.once(C,x):S.on(C,x);else if(typeof S.addEventListener=="function")S.addEventListener(C,function E(A){I.once&&S.removeEventListener(C,E),x(A)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return E1.exports}var Ca=Cce();const hO=w0(Ca);var cx={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var B2=function(t,e){return B2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},B2(t,e)};function Ice(t,e){B2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var $2=function(){return $2=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$2.apply(this,arguments)};function Tce(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Sce(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function xce(t,e){return function(n,r){e(n,r,t)}}function Pce(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Rce(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Nce(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function kce(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Oce(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function U2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function iV(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Dce(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(iV(arguments[e]));return t}function Mce(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Ob(t){return this instanceof Ob?(this.v=t,this):new Ob(t)}function Lce(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof Ob?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Bce(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Ob(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function $ce(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof U2=="function"?U2(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Uce(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Fce(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function jce(t){return t&&t.__esModule?t:{default:t}}function Vce(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Hce(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const qce=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return $2},__asyncDelegator:Bce,__asyncGenerator:Lce,__asyncValues:$ce,__await:Ob,__awaiter:Rce,__classPrivateFieldGet:Vce,__classPrivateFieldSet:Hce,__createBinding:kce,__decorate:Sce,__exportStar:Oce,__extends:Ice,__generator:Nce,__importDefault:jce,__importStar:Fce,__makeTemplateObject:Uce,__metadata:Pce,__param:xce,__read:iV,__rest:Tce,__spread:Dce,__spreadArrays:Mce,__values:U2},Symbol.toStringTag,{value:"Module"})),zI=H9(qce);var lx={},By={},x8;function zce(){if(x8)return By;x8=1,Object.defineProperty(By,"__esModule",{value:!0}),By.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return By.delay=t,By}var af={},ux={},cf={},P8;function Wce(){return P8||(P8=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.ONE_THOUSAND=cf.ONE_HUNDRED=void 0,cf.ONE_HUNDRED=100,cf.ONE_THOUSAND=1e3),cf}var dx={},R8;function Gce(){return R8||(R8=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(dx)),dx}var N8;function oV(){return N8||(N8=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=zI;e.__exportStar(Wce(),t),e.__exportStar(Gce(),t)})(ux)),ux}var k8;function Kce(){if(k8)return af;k8=1,Object.defineProperty(af,"__esModule",{value:!0}),af.fromMiliseconds=af.toMiliseconds=void 0;const t=oV();function e(r){return r*t.ONE_THOUSAND}af.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return af.fromMiliseconds=n,af}var O8;function Qce(){return O8||(O8=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=zI;e.__exportStar(zce(),t),e.__exportStar(Kce(),t)})(lx)),lx}var vm={},D8;function Yce(){if(D8)return vm;D8=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return vm.Watch=t,vm.default=t,vm}var hx={},$y={},M8;function Zce(){if(M8)return $y;M8=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.IWatch=void 0;class t{}return $y.IWatch=t,$y}var L8;function Jce(){return L8||(L8=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),zI.__exportStar(Zce(),t)})(hx)),hx}var B8;function Xce(){return B8||(B8=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=zI;e.__exportStar(Qce(),t),e.__exportStar(Yce(),t),e.__exportStar(Jce(),t),e.__exportStar(oV(),t)})(cx)),cx}var je=Xce();class Fp{}let ele=class extends Fp{constructor(e){super()}};const $8=je.FIVE_SECONDS,jp={pulse:"heartbeat_pulse"};let tle=class aV extends ele{constructor(e){super(e),this.events=new Ca.EventEmitter,this.interval=$8,this.interval=e?.interval||$8}static async init(e){const n=new aV(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),je.toMiliseconds(this.interval))}pulse(){this.events.emit(jp.pulse)}};const nle=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,rle=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,sle=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ile(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ole(t);return}return e}function ole(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function A1(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!sle.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(nle.test(t)||rle.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,ile)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function ale(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function vs(t,...e){try{return ale(t(...e))}catch(n){return Promise.reject(n)}}function cle(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function lle(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function fE(t){if(cle(t))return String(t);if(lle(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return fE(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const F2="base64:";function ule(t){return typeof t=="string"?t:F2+fle(t)}function dle(t){return typeof t!="string"||!t.startsWith(F2)?t:hle(t.slice(F2.length))}function hle(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function fle(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function $i(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function ple(...t){return $i(t.join(":"))}function C1(t){return t=$i(t),t?t+":":""}function mle(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function gle(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const yle="memory",wle=()=>{const t=new Map;return{name:yle,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function ble(t={}){const e={mounts:{"":t.driver||wle()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=$i(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await U8(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let g=h.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},h.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",y=$i(g?p:p.key),v=g?void 0:p.value,b=g||!p.options?u:{...u,...p.options},_=n(y);f(_).items.push({key:y,value:v,relativeKey:_.relativeKey,options:b})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=$i(l);const{relativeKey:d,driver:h}=n(l);return vs(h.hasItem,d,u)},getItem(l,u={}){l=$i(l);const{relativeKey:d,driver:h}=n(l);return vs(h.getItem,d,u).then(f=>A1(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?vs(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:ple(d.base,f.key),value:A1(f.value)}))):Promise.all(d.items.map(h=>vs(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:A1(f)})))))},getItemRaw(l,u={}){l=$i(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?vs(h.getItemRaw,d,u):vs(h.getItem,d,u).then(f=>dle(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=$i(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await vs(f.setItem,h,fE(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return vs(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:fE(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>vs(d.driver.setItem,h.relativeKey,fE(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=$i(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await vs(f.setItemRaw,h,u,d);else if(f.setItem)await vs(f.setItem,h,ule(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=$i(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await vs(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await vs(h.removeItem,d+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=$i(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await vs(h.getMeta,d,u)),!u.nativeOnly){const p=await vs(h.getItem,d+"$",u).then(g=>A1(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=C1(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const y of d){y.driver.flags?.maxDepth||(p=!1);const v=await vs(y.driver.getKeys,y.relativeBase,u);for(const b of v){const _=y.mountpoint+$i(b);h.some(S=>_.startsWith(S))||f.push(_)}h=[y.mountpoint,...h.filter(b=>!b.startsWith(y.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return f.filter(y=>(!g||mle(y,u.maxDepth))&&gle(y,l))},async clear(l,u={}){l=C1(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return vs(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>F8(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=C1(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(U8(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){l=C1(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await F8(e.mounts[l]),e.mountpoints=e.mountpoints.filter(d=>d!==l),delete e.mounts[l])},getMount(l=""){l=$i(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=$i(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function U8(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function F8(t){typeof t.dispose=="function"&&await vs(t.dispose)}function Vp(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function cV(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=Vp(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let fx;function s_(){return fx||(fx=cV("keyval-store","keyval")),fx}function j8(t,e=s_()){return e("readonly",n=>Vp(n.get(t)))}function vle(t,e,n=s_()){return n("readwrite",r=>(r.put(e,t),Vp(r.transaction)))}function _le(t,e=s_()){return e("readwrite",n=>(n.delete(t),Vp(n.transaction)))}function Ele(t=s_()){return t("readwrite",e=>(e.clear(),Vp(e.transaction)))}function Ale(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Vp(t.transaction)}function Cle(t=s_()){return t("readonly",e=>{if(e.getAllKeys)return Vp(e.getAllKeys());const n=[];return Ale(e,r=>n.push(r.key)).then(()=>n)})}const Ile=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Tle=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function cp(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Tle(t)}catch{return t}}function gu(t){return typeof t=="string"?t:Ile(t)||""}const Sle="idb-keyval";var xle=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=cV(t.dbName,t.storeName)),{name:Sle,options:t,async hasItem(s){return!(typeof await j8(n(s),r)>"u")},async getItem(s){return await j8(n(s),r)??null},setItem(s,i){return vle(n(s),i,r)},removeItem(s){return _le(n(s),r)},getKeys(){return Cle(r)},clear(){return Ele(r)}}};const Ple="WALLET_CONNECT_V2_INDEXED_DB",Rle="keyvaluestorage";let Nle=class{constructor(){this.indexedDb=ble({driver:xle({dbName:Ple,storeName:Rle})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,gu(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},pE={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof px<"u"&&px.localStorage?pE.exports=px.localStorage:typeof window<"u"&&window.localStorage?pE.exports=window.localStorage:pE.exports=new e})();function kle(t){var e;return[t[0],cp((e=t[1])!=null?e:"")]}let Ole=class{constructor(){this.localStorage=pE.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(kle)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return cp(n)}async setItem(e,n){this.localStorage.setItem(e,gu(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Dle="wc_storage_version",V8=1,Mle=async(t,e,n)=>{const r=Dle,s=await e.getItem(r);if(s&&s>=V8){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,V8),n(e),Lle(t,o)},Lle=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Ble=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Ole;this.storage=e;try{const n=new Nle;Mle(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var mx,H8;function $le(){if(H8)return mx;H8=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}mx=e;function e(n,r,s){var i=s&&s.stringify||t,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var c=new Array(a);c[0]=i(n);for(var l=1;l<a;l++)c[l]=i(r[l]);return c.join(" ")}if(typeof n!="string")return n;var u=r.length;if(u===0)return n;for(var d="",h=1-o,f=-1,p=n&&n.length||0,g=0;g<p;){if(n.charCodeAt(g)===37&&g+1<p){switch(f=f>-1?f:0,n.charCodeAt(g+1)){case 100:case 102:if(h>=u||r[h]==null)break;f<g&&(d+=n.slice(f,g)),d+=Number(r[h]),f=g+2,g++;break;case 105:if(h>=u||r[h]==null)break;f<g&&(d+=n.slice(f,g)),d+=Math.floor(Number(r[h])),f=g+2,g++;break;case 79:case 111:case 106:if(h>=u||r[h]===void 0)break;f<g&&(d+=n.slice(f,g));var y=typeof r[h];if(y==="string"){d+="'"+r[h]+"'",f=g+2,g++;break}if(y==="function"){d+=r[h].name||"<anonymous>",f=g+2,g++;break}d+=i(r[h]),f=g+2,g++;break;case 115:if(h>=u)break;f<g&&(d+=n.slice(f,g)),d+=String(r[h]),f=g+2,g++;break;case 37:f<g&&(d+=n.slice(f,g)),d+="%",f=g+2,g++,h--;break}++h}++g}return f===-1?n:(f<p&&(d+=n.slice(f)),d)}return mx}var gx,q8;function Ule(){if(q8)return gx;q8=1;const t=$le();gx=s;const e=C().console||{},n={mapHttpRequest:p,mapHttpResponse:p,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:p,res:p,err:h};function r(x,I){return Array.isArray(x)?x.filter(function(A){return A!=="!stdSerializers.err"}):x===!0?Object.keys(I):!1}function s(x){x=x||{},x.browser=x.browser||{};const I=x.browser.transmit;if(I&&typeof I.send!="function")throw Error("pino: transmit option must have a send function");const E=x.browser.write||e;x.browser.write&&(x.browser.asObject=!0);const A=x.serializers||{},T=r(x.browser.serialize,A);let k=x.browser.serialize;Array.isArray(x.browser.serialize)&&x.browser.serialize.indexOf("!stdSerializers.err")>-1&&(k=!1);const M=["error","fatal","warn","info","debug","trace"];typeof E=="function"&&(E.error=E.fatal=E.warn=E.info=E.debug=E.trace=E),x.enabled===!1&&(x.level="silent");const B=x.level||"info",Z=Object.create(E);Z.log||(Z.log=y),Object.defineProperty(Z,"levelVal",{get:L}),Object.defineProperty(Z,"level",{get:H,set:F});const N={transmit:I,serialize:T,asObject:x.browser.asObject,levels:M,timestamp:f(x)};Z.levels=s.levels,Z.level=B,Z.setMaxListeners=Z.getMaxListeners=Z.emit=Z.addListener=Z.on=Z.prependListener=Z.once=Z.prependOnceListener=Z.removeListener=Z.removeAllListeners=Z.listeners=Z.listenerCount=Z.eventNames=Z.write=Z.flush=y,Z.serializers=A,Z._serialize=T,Z._stdErrSerialize=k,Z.child=J,I&&(Z._logEvent=d());function L(){return this.level==="silent"?1/0:this.levels.values[this.level]}function H(){return this._level}function F(ee){if(ee!=="silent"&&!this.levels.values[ee])throw Error("unknown level "+ee);this._level=ee,i(N,Z,"error","log"),i(N,Z,"fatal","error"),i(N,Z,"warn","error"),i(N,Z,"info","log"),i(N,Z,"debug","log"),i(N,Z,"trace","log")}function J(ee,W){if(!ee)throw new Error("missing bindings for child Pino");W=W||{},T&&ee.serializers&&(W.serializers=ee.serializers);const ue=W.serializers;if(T&&ue){var Ee=Object.assign({},A,ue),ye=x.browser.serialize===!0?Object.keys(Ee):T;delete ee.serializers,c([ee],ye,Ee,this._stdErrSerialize)}function Ie(Ve){this._childLevel=(Ve._childLevel|0)+1,this.error=l(Ve,ee,"error"),this.fatal=l(Ve,ee,"fatal"),this.warn=l(Ve,ee,"warn"),this.info=l(Ve,ee,"info"),this.debug=l(Ve,ee,"debug"),this.trace=l(Ve,ee,"trace"),Ee&&(this.serializers=Ee,this._serialize=ye),I&&(this._logEvent=d([].concat(Ve._logEvent.bindings,ee)))}return Ie.prototype=this,new Ie(this)}return Z}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:b,unixTime:_,isoTime:S});function i(x,I,E,A){const T=Object.getPrototypeOf(I);I[E]=I.levelVal>I.levels.values[E]?y:T[E]?T[E]:e[E]||e[A]||y,o(x,I,E)}function o(x,I,E){!x.transmit&&I[E]===y||(I[E]=(function(A){return function(){const k=x.timestamp(),M=new Array(arguments.length),B=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var Z=0;Z<M.length;Z++)M[Z]=arguments[Z];if(x.serialize&&!x.asObject&&c(M,this._serialize,this.serializers,this._stdErrSerialize),x.asObject?A.call(B,a(this,E,M,k)):A.apply(B,M),x.transmit){const N=x.transmit.level||I.level,L=s.levels.values[N],H=s.levels.values[E];if(H<L)return;u(this,{ts:k,methodLevel:E,methodValue:H,transmitValue:s.levels.values[x.transmit.level||I.level],send:x.transmit.send,val:I.levelVal},M)}}})(I[E]))}function a(x,I,E,A){x._serialize&&c(E,x._serialize,x.serializers,x._stdErrSerialize);const T=E.slice();let k=T[0];const M={};A&&(M.time=A),M.level=s.levels.values[I];let B=(x._childLevel|0)+1;if(B<1&&(B=1),k!==null&&typeof k=="object"){for(;B--&&typeof T[0]=="object";)Object.assign(M,T.shift());k=T.length?t(T.shift(),T):void 0}else typeof k=="string"&&(k=t(T.shift(),T));return k!==void 0&&(M.msg=k),M}function c(x,I,E,A){for(const T in x)if(A&&x[T]instanceof Error)x[T]=s.stdSerializers.err(x[T]);else if(typeof x[T]=="object"&&!Array.isArray(x[T]))for(const k in x[T])I&&I.indexOf(k)>-1&&k in E&&(x[T][k]=E[k](x[T][k]))}function l(x,I,E){return function(){const A=new Array(1+arguments.length);A[0]=I;for(var T=1;T<A.length;T++)A[T]=arguments[T-1];return x[E].apply(this,A)}}function u(x,I,E){const A=I.send,T=I.ts,k=I.methodLevel,M=I.methodValue,B=I.val,Z=x._logEvent.bindings;c(E,x._serialize||Object.keys(x.serializers),x.serializers,x._stdErrSerialize===void 0?!0:x._stdErrSerialize),x._logEvent.ts=T,x._logEvent.messages=E.filter(function(N){return Z.indexOf(N)===-1}),x._logEvent.level.label=k,x._logEvent.level.value=M,A(k,x._logEvent,B),x._logEvent=d(Z)}function d(x){return{ts:0,messages:[],bindings:x||[],level:{label:"",value:0}}}function h(x){const I={type:x.constructor.name,msg:x.message,stack:x.stack};for(const E in x)I[E]===void 0&&(I[E]=x[E]);return I}function f(x){return typeof x.timestamp=="function"?x.timestamp:x.timestamp===!1?v:b}function p(){return{}}function g(x){return x}function y(){}function v(){return!1}function b(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function S(){return new Date(Date.now()).toISOString()}function C(){function x(I){return typeof I<"u"&&I}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return x(self)||x(window)||x(this)||{}}}return gx}var qm=Ule();const i_=w0(qm),Fle={level:"info"},o_="custom_context",fO=1e3*1024;let jle=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},z8=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new jle(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},lV=class{constructor(e,n=fO){this.level=e??"error",this.levelValue=qm.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new z8(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===qm.levels.values.error?console.error(e):n===qm.levels.values.warn?console.warn(e):n===qm.levels.values.debug?console.debug(e):n===qm.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(gu({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new z8(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(gu({extraMetadata:e})),new Blob(n,{type:"application/json"})}},Vle=class{constructor(e,n=fO){this.baseChunkLogger=new lV(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Hle=class{constructor(e,n=fO){this.baseChunkLogger=new lV(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var qle=Object.defineProperty,zle=Object.defineProperties,Wle=Object.getOwnPropertyDescriptors,W8=Object.getOwnPropertySymbols,Gle=Object.prototype.hasOwnProperty,Kle=Object.prototype.propertyIsEnumerable,G8=(t,e,n)=>e in t?qle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_A=(t,e)=>{for(var n in e||(e={}))Gle.call(e,n)&&G8(t,n,e[n]);if(W8)for(var n of W8(e))Kle.call(e,n)&&G8(t,n,e[n]);return t},EA=(t,e)=>zle(t,Wle(e));function I0(t){return EA(_A({},t),{level:t?.level||Fle.level})}function Qle(t,e=o_){return t[e]||""}function Yle(t,e,n=o_){return t[n]=e,t}function ao(t,e=o_){let n="";return typeof t.bindings>"u"?n=Qle(t,e):n=t.bindings().context||"",n}function Zle(t,e,n=o_){const r=ao(t,n);return r.trim()?`${r}/${e}`:e}function fi(t,e,n=o_){const r=Zle(t,e,n),s=t.child({context:r});return Yle(s,r,n)}function Jle(t){var e,n;const r=new Vle((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:i_(EA(_A({},t.opts),{level:"trace",browser:EA(_A({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Xle(t){var e;const n=new Hle((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:i_(EA(_A({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function pO(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Jle(t):Xle(t)}var eue=Object.defineProperty,tue=(t,e,n)=>e in t?eue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K8=(t,e,n)=>tue(t,typeof e!="symbol"?e+"":e,n);let nue=class extends Fp{constructor(e){super(),this.opts=e,K8(this,"protocol","wc"),K8(this,"version",2)}};var rue=Object.defineProperty,sue=(t,e,n)=>e in t?rue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iue=(t,e,n)=>sue(t,e+"",n);let oue=class extends Fp{constructor(e,n){super(),this.core=e,this.logger=n,iue(this,"records",new Map)}},aue=class{constructor(e,n){this.logger=e,this.core=n}},cue=class extends Fp{constructor(e,n){super(),this.relayer=e,this.logger=n}},lue=class extends Fp{constructor(e){super()}},uue=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},due=class extends Fp{constructor(e,n){super(),this.relayer=e,this.logger=n}},hue=class extends Fp{constructor(e,n){super(),this.core=e,this.logger=n}},fue=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},pue=class{constructor(e,n){this.projectId=e,this.logger=n}},mue=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var gue=Object.defineProperty,yue=(t,e,n)=>e in t?gue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q8=(t,e,n)=>yue(t,typeof e!="symbol"?e+"":e,n);let wue=class{constructor(e){this.opts=e,Q8(this,"protocol","wc"),Q8(this,"version",2)}},bue=class{constructor(e){this.client=e}};function vue(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function uV(t,...e){if(!vue(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Y8(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function _ue(t,e){uV(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const _m=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Eue(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function dV(t){return typeof t=="string"&&(t=Eue(t)),uV(t),t}let Aue=class{clone(){return this._cloneInto()}};function Cue(t){const e=r=>t().update(dV(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function hV(t=32){if(_m&&typeof _m.getRandomValues=="function")return _m.getRandomValues(new Uint8Array(t));if(_m&&typeof _m.randomBytes=="function")return _m.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Iue(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let Tue=class extends Aue{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=yx(this.buffer)}update(e){Y8(this);const{view:n,buffer:r,blockLen:s}=this;e=dV(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=yx(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Y8(this),_ue(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Iue(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=yx(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const I1=BigInt(2**32-1),j2=BigInt(32);function fV(t,e=!1){return e?{h:Number(t&I1),l:Number(t>>j2&I1)}:{h:Number(t>>j2&I1)|0,l:Number(t&I1)|0}}function Sue(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=fV(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const xue=(t,e)=>BigInt(t>>>0)<<j2|BigInt(e>>>0),Pue=(t,e,n)=>t>>>n,Rue=(t,e,n)=>t<<32-n|e>>>n,Nue=(t,e,n)=>t>>>n|e<<32-n,kue=(t,e,n)=>t<<32-n|e>>>n,Oue=(t,e,n)=>t<<64-n|e>>>n-32,Due=(t,e,n)=>t>>>n-32|e<<64-n,Mue=(t,e)=>e,Lue=(t,e)=>t,Bue=(t,e,n)=>t<<n|e>>>32-n,$ue=(t,e,n)=>e<<n|t>>>32-n,Uue=(t,e,n)=>e<<n-32|t>>>64-n,Fue=(t,e,n)=>t<<n-32|e>>>64-n;function jue(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Vue=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Hue=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,que=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),zue=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Wue=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Gue=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Jt={fromBig:fV,split:Sue,toBig:xue,shrSH:Pue,shrSL:Rue,rotrSH:Nue,rotrSL:kue,rotrBH:Oue,rotrBL:Due,rotr32H:Mue,rotr32L:Lue,rotlSH:Bue,rotlSL:$ue,rotlBH:Uue,rotlBL:Fue,add:jue,add3L:Vue,add3H:Hue,add4L:que,add4H:zue,add5H:Gue,add5L:Wue},[Kue,Que]=Jt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ud=new Uint32Array(80),dd=new Uint32Array(80);let Yue=class extends Tue{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let _=0;_<16;_++,n+=4)ud[_]=e.getUint32(n),dd[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const S=ud[_-15]|0,C=dd[_-15]|0,x=Jt.rotrSH(S,C,1)^Jt.rotrSH(S,C,8)^Jt.shrSH(S,C,7),I=Jt.rotrSL(S,C,1)^Jt.rotrSL(S,C,8)^Jt.shrSL(S,C,7),E=ud[_-2]|0,A=dd[_-2]|0,T=Jt.rotrSH(E,A,19)^Jt.rotrBH(E,A,61)^Jt.shrSH(E,A,6),k=Jt.rotrSL(E,A,19)^Jt.rotrBL(E,A,61)^Jt.shrSL(E,A,6),M=Jt.add4L(I,k,dd[_-7],dd[_-16]),B=Jt.add4H(M,x,T,ud[_-7],ud[_-16]);ud[_]=B|0,dd[_]=M|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:v,Hl:b}=this;for(let _=0;_<80;_++){const S=Jt.rotrSH(d,h,14)^Jt.rotrSH(d,h,18)^Jt.rotrBH(d,h,41),C=Jt.rotrSL(d,h,14)^Jt.rotrSL(d,h,18)^Jt.rotrBL(d,h,41),x=d&f^~d&g,I=h&p^~h&y,E=Jt.add5L(b,C,I,Que[_],dd[_]),A=Jt.add5H(E,v,S,x,Kue[_],ud[_]),T=E|0,k=Jt.rotrSH(r,s,28)^Jt.rotrBH(r,s,34)^Jt.rotrBH(r,s,39),M=Jt.rotrSL(r,s,28)^Jt.rotrBL(r,s,34)^Jt.rotrBL(r,s,39),B=r&i^r&a^i&a,Z=s&o^s&c^o&c;v=g|0,b=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=Jt.add(l|0,u|0,A|0,T|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=Jt.add3L(T,M,Z);r=Jt.add3H(N,A,k,B),s=N|0}({h:r,l:s}=Jt.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Jt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Jt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Jt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Jt.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=Jt.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=Jt.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:v,l:b}=Jt.add(this.Hh|0,this.Hl|0,v|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,v,b)}roundClean(){ud.fill(0),dd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Zue=Cue(()=>new Yue);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mO=BigInt(0),pV=BigInt(1),Jue=BigInt(2);function gO(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function yO(t){if(!gO(t))throw new Error("Uint8Array expected")}function wx(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Xue=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wO(t){yO(t);let e="";for(let n=0;n<t.length;n++)e+=Xue[t[n]];return e}function mV(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?mO:BigInt("0x"+t)}const Pl={_0:48,_9:57,A:65,F:70,a:97,f:102};function Z8(t){if(t>=Pl._0&&t<=Pl._9)return t-Pl._0;if(t>=Pl.A&&t<=Pl.F)return t-(Pl.A-10);if(t>=Pl.a&&t<=Pl.f)return t-(Pl.a-10)}function gV(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Z8(t.charCodeAt(i)),a=Z8(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function ede(t){return mV(wO(t))}function mE(t){return yO(t),mV(wO(Uint8Array.from(t).reverse()))}function yV(t,e){return gV(t.toString(16).padStart(e*2,"0"))}function V2(t,e){return yV(t,e).reverse()}function Rl(t,e,n){let r;if(typeof e=="string")try{r=gV(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(gO(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function J8(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];yO(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const bx=t=>typeof t=="bigint"&&mO<=t;function tde(t,e,n){return bx(t)&&bx(e)&&bx(n)&&e<=t&&t<n}function Uy(t,e,n,r){if(!tde(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function nde(t){let e;for(e=0;t>mO;t>>=pV,e+=1);return e}const rde=t=>(Jue<<BigInt(t-1))-pV,sde={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||gO(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function bO(t,e,n={}){const r=(s,i,o)=>{const a=sde[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function X8(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Cs=BigInt(0),jr=BigInt(1),vf=BigInt(2),ide=BigInt(3),H2=BigInt(4),eM=BigInt(5),tM=BigInt(8);function is(t,e){const n=t%e;return n>=Cs?n:e+n}function ode(t,e,n){if(e<Cs)throw new Error("invalid exponent, negatives unsupported");if(n<=Cs)throw new Error("invalid modulus");if(n===jr)return Cs;let r=jr;for(;e>Cs;)e&jr&&(r=r*t%n),t=t*t%n,e>>=jr;return r}function gc(t,e,n){let r=t;for(;e-- >Cs;)r*=r,r%=n;return r}function nM(t,e){if(t===Cs)throw new Error("invert: expected non-zero number");if(e<=Cs)throw new Error("invert: expected positive modulus, got "+e);let n=is(t,e),r=e,s=Cs,i=jr;for(;n!==Cs;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==jr)throw new Error("invert: does not exist");return is(s,e)}function ade(t){const e=(t-jr)/vf;let n,r,s;for(n=t-jr,r=0;n%vf===Cs;n/=vf,r++);for(s=vf;s<t&&ode(s,e,t)!==t-jr;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+jr)/H2;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+jr)/vf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,jr<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function cde(t){if(t%H2===ide){const e=(t+jr)/H2;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%tM===eM){const e=(t-eM)/tM;return function(n,r){const s=n.mul(r,vf),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,vf),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return ade(t)}const lde=(t,e)=>(is(t,e)&jr)===jr,ude=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dde(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ude.reduce((r,s)=>(r[s]="function",r),e);return bO(t,n)}function hde(t,e,n){if(n<Cs)throw new Error("invalid exponent, negatives unsupported");if(n===Cs)return t.ONE;if(n===jr)return e;let r=t.ONE,s=e;for(;n>Cs;)n&jr&&(r=t.mul(r,s)),s=t.sqr(s),n>>=jr;return r}function fde(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function wV(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function bV(t,e,n=!1,r={}){if(t<=Cs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=wV(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:rde(s),ZERO:Cs,ONE:jr,create:c=>is(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Cs<=c&&c<t},is0:c=>c===Cs,isOdd:c=>(c&jr)===jr,neg:c=>is(-c,t),eql:(c,l)=>c===l,sqr:c=>is(c*c,t),add:(c,l)=>is(c+l,t),sub:(c,l)=>is(c-l,t),mul:(c,l)=>is(c*l,t),pow:(c,l)=>hde(a,c,l),div:(c,l)=>is(c*nM(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>nM(c,t),sqrt:r.sqrt||(c=>(o||(o=cde(t)),o(a,c))),invertBatch:c=>fde(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?V2(c,i):yV(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?mE(c):ede(c)}});return Object.freeze(a)}const rM=BigInt(0),T1=BigInt(1);function vx(t,e){const n=e.negate();return t?n:e}function vV(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function _x(t,e){vV(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function pde(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function mde(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ex=new WeakMap,_V=new WeakMap;function Ax(t){return _V.get(t)||1}function gde(t,e){return{constTimeNegate:vx,hasPrecomputes(n){return Ax(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>rM;)r&T1&&(s=s.add(i)),i=i.double(),r>>=T1;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=_x(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=_x(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=T1);const g=f,y=f+Math.abs(p)-1,v=h%2!==0,b=p<0;p===0?c=c.add(vx(v,r[g])):a=a.add(vx(b,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=_x(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===rM)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=T1),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=Ex.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Ex.set(r,s(i))),i},wNAFCached(n,r,s){const i=Ax(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Ax(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){vV(r,e),_V.set(n,r),Ex.delete(n)}}}function yde(t,e,n,r){if(pde(n,t),mde(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=nde(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[f])}let h=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function wde(t){return dde(t.Fp),bO(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wV(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Na=BigInt(0),Mi=BigInt(1),S1=BigInt(2),bde=BigInt(8),vde={zip215:!0};function _de(t){const e=wde(t);return bO(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Ede(t){const e=_de(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=S1<<BigInt(a*8)-Mi,u=n.create,d=bV(e.n,e.nBitLength),h=e.uvRatio||((N,L)=>{try{return{isValid:!0,value:n.sqrt(N*n.inv(L))}}catch{return{isValid:!1,value:Na}}}),f=e.adjustScalarBytes||(N=>N),p=e.domain||((N,L,H)=>{if(wx("phflag",H),L.length||H)throw new Error("Contexts/pre-hash are not supported");return N});function g(N,L){Uy("coordinate "+N,L,Na,l)}function y(N){if(!(N instanceof _))throw new Error("ExtendedPoint expected")}const v=X8((N,L)=>{const{ex:H,ey:F,ez:J}=N,ee=N.is0();L==null&&(L=ee?bde:n.inv(J));const W=u(H*L),ue=u(F*L),Ee=u(J*L);if(ee)return{x:Na,y:Mi};if(Ee!==Mi)throw new Error("invZ was invalid");return{x:W,y:ue}}),b=X8(N=>{const{a:L,d:H}=e;if(N.is0())throw new Error("bad point: ZERO");const{ex:F,ey:J,ez:ee,et:W}=N,ue=u(F*F),Ee=u(J*J),ye=u(ee*ee),Ie=u(ye*ye),Ve=u(ue*L),oe=u(ye*u(Ve+Ee)),_e=u(Ie+u(H*u(ue*Ee)));if(oe!==_e)throw new Error("bad point: equation left != right (1)");const se=u(F*J),Pe=u(ee*W);if(se!==Pe)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(L,H,F,J){this.ex=L,this.ey=H,this.ez=F,this.et=J,g("x",L),g("y",H),g("z",F),g("t",J),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(L){if(L instanceof _)throw new Error("extended point not allowed");const{x:H,y:F}=L||{};return g("x",H),g("y",F),new _(H,F,Mi,u(H*F))}static normalizeZ(L){const H=n.invertBatch(L.map(F=>F.ez));return L.map((F,J)=>F.toAffine(H[J])).map(_.fromAffine)}static msm(L,H){return yde(_,d,L,H)}_setWindowSize(L){x.setWindowSize(this,L)}assertValidity(){b(this)}equals(L){y(L);const{ex:H,ey:F,ez:J}=this,{ex:ee,ey:W,ez:ue}=L,Ee=u(H*ue),ye=u(ee*J),Ie=u(F*ue),Ve=u(W*J);return Ee===ye&&Ie===Ve}is0(){return this.equals(_.ZERO)}negate(){return new _(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:L}=e,{ex:H,ey:F,ez:J}=this,ee=u(H*H),W=u(F*F),ue=u(S1*u(J*J)),Ee=u(L*ee),ye=H+F,Ie=u(u(ye*ye)-ee-W),Ve=Ee+W,oe=Ve-ue,_e=Ee-W,se=u(Ie*oe),Pe=u(Ve*_e),mt=u(Ie*_e),Y=u(oe*Ve);return new _(se,Pe,Y,mt)}add(L){y(L);const{a:H,d:F}=e,{ex:J,ey:ee,ez:W,et:ue}=this,{ex:Ee,ey:ye,ez:Ie,et:Ve}=L;if(H===BigInt(-1)){const De=u((ee-J)*(ye+Ee)),Oe=u((ee+J)*(ye-Ee)),Ce=u(Oe-De);if(Ce===Na)return this.double();const Xe=u(W*S1*Ve),$e=u(ue*S1*Ie),dt=$e+Xe,ot=Oe+De,at=$e-Xe,j=u(dt*Ce),P=u(ot*at),O=u(dt*at),G=u(Ce*ot);return new _(j,P,G,O)}const oe=u(J*Ee),_e=u(ee*ye),se=u(ue*F*Ve),Pe=u(W*Ie),mt=u((J+ee)*(Ee+ye)-oe-_e),Y=Pe-se,X=Pe+se,ne=u(_e-H*oe),pe=u(mt*Y),we=u(X*ne),me=u(mt*ne),He=u(Y*X);return new _(pe,we,He,me)}subtract(L){return this.add(L.negate())}wNAF(L){return x.wNAFCached(this,L,_.normalizeZ)}multiply(L){const H=L;Uy("scalar",H,Mi,r);const{p:F,f:J}=this.wNAF(H);return _.normalizeZ([F,J])[0]}multiplyUnsafe(L,H=_.ZERO){const F=L;return Uy("scalar",F,Na,r),F===Na?C:this.is0()||F===Mi?this:x.wNAFCachedUnsafe(this,F,_.normalizeZ,H)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(L){return v(this,L)}clearCofactor(){const{h:L}=e;return L===Mi?this:this.multiplyUnsafe(L)}static fromHex(L,H=!1){const{d:F,a:J}=e,ee=n.BYTES;L=Rl("pointHex",L,ee),wx("zip215",H);const W=L.slice(),ue=L[ee-1];W[ee-1]=ue&-129;const Ee=mE(W),ye=H?l:n.ORDER;Uy("pointHex.y",Ee,Na,ye);const Ie=u(Ee*Ee),Ve=u(Ie-Mi),oe=u(F*Ie-J);let{isValid:_e,value:se}=h(Ve,oe);if(!_e)throw new Error("Point.fromHex: invalid y coordinate");const Pe=(se&Mi)===Mi,mt=(ue&128)!==0;if(!H&&se===Na&&mt)throw new Error("Point.fromHex: x=0 and x_0=1");return mt!==Pe&&(se=u(-se)),_.fromAffine({x:se,y:Ee})}static fromPrivateKey(L){return A(L).point}toRawBytes(){const{x:L,y:H}=this.toAffine(),F=V2(H,n.BYTES);return F[F.length-1]|=L&Mi?128:0,F}toHex(){return wO(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,Mi,u(e.Gx*e.Gy)),_.ZERO=new _(Na,Mi,Mi,Na);const{BASE:S,ZERO:C}=_,x=gde(_,a*8);function I(N){return is(N,r)}function E(N){return I(mE(N))}function A(N){const L=n.BYTES;N=Rl("private key",N,L);const H=Rl("hashed private key",i(N),2*L),F=f(H.slice(0,L)),J=H.slice(L,2*L),ee=E(F),W=S.multiply(ee),ue=W.toRawBytes();return{head:F,prefix:J,scalar:ee,point:W,pointBytes:ue}}function T(N){return A(N).pointBytes}function k(N=new Uint8Array,...L){const H=J8(...L);return E(i(p(H,Rl("context",N),!!s)))}function M(N,L,H={}){N=Rl("message",N),s&&(N=s(N));const{prefix:F,scalar:J,pointBytes:ee}=A(L),W=k(H.context,F,N),ue=S.multiply(W).toRawBytes(),Ee=k(H.context,ue,ee,N),ye=I(W+Ee*J);Uy("signature.s",ye,Na,r);const Ie=J8(ue,V2(ye,n.BYTES));return Rl("result",Ie,n.BYTES*2)}const B=vde;function Z(N,L,H,F=B){const{context:J,zip215:ee}=F,W=n.BYTES;N=Rl("signature",N,2*W),L=Rl("message",L),H=Rl("publicKey",H,W),ee!==void 0&&wx("zip215",ee),s&&(L=s(L));const ue=mE(N.slice(W,2*W));let Ee,ye,Ie;try{Ee=_.fromHex(H,ee),ye=_.fromHex(N.slice(0,W),ee),Ie=S.multiplyUnsafe(ue)}catch{return!1}if(!ee&&Ee.isSmallOrder())return!1;const Ve=k(J,ye.toRawBytes(),Ee.toRawBytes(),L);return ye.add(Ee.multiplyUnsafe(Ve)).subtract(Ie).clearCofactor().equals(_.ZERO)}return S._setWindowSize(8),{CURVE:e,getPublicKey:T,sign:M,verify:Z,ExtendedPoint:_,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>o(n.BYTES),precompute(N=8,L=_.BASE){return L._setWindowSize(N),L.multiply(BigInt(3)),L}}}}BigInt(0),BigInt(1);const vO=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),sM=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Ade=BigInt(1),iM=BigInt(2);BigInt(3);const Cde=BigInt(5),Ide=BigInt(8);function Tde(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=vO,o=t*t%i*t%i,a=gc(o,iM,i)*o%i,c=gc(a,Ade,i)*t%i,l=gc(c,Cde,i)*c%i,u=gc(l,e,i)*l%i,d=gc(u,n,i)*u%i,h=gc(d,r,i)*d%i,f=gc(h,s,i)*h%i,p=gc(f,s,i)*h%i,g=gc(p,e,i)*l%i;return{pow_p_5_8:gc(g,iM,i)*t%i,b2:o}}function Sde(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function xde(t,e){const n=vO,r=is(e*e*e,n),s=is(r*r*e,n),i=Tde(t*s).pow_p_5_8;let o=is(t*r*i,n);const a=is(e*o*o,n),c=o,l=is(o*sM,n),u=a===t,d=a===is(-t,n),h=a===is(-t*sM,n);return u&&(o=c),(d||h)&&(o=l),lde(o,n)&&(o=is(-o,n)),{isValid:u||d,value:o}}const Pde=bV(vO,void 0,!0),Rde={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Pde,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ide,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Zue,randomBytes:hV,adjustScalarBytes:Sde,uvRatio:xde},EV=Ede(Rde),Nde="EdDSA",kde="JWT",AA=".",WI="base64url",AV="utf8",CV="utf8",Ode=":",Dde="did",Mde="key",oM="base58btc",Lde="z",Bde="K36",$de=32;function _O(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function IV(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?_O(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function TV(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=IV(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return _O(n)}function Ude(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,v=0,b=p.length;v!==b&&p[v]===0;)v++,g++;for(var _=(b-v)*u+1>>>0,S=new Uint8Array(_);v!==b;){for(var C=p[v],x=0,I=_-1;(C!==0||x<y)&&I!==-1;I--,x++)C+=256*S[I]>>>0,S[I]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");y=x,v++}for(var E=_-y;E!==_&&S[E]===0;)E++;for(var A=c.repeat(g);E<_;++E)A+=t.charAt(S[E]);return A}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,v=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,_=new Uint8Array(b);p[g];){var S=n[p.charCodeAt(g)];if(S===255)return;for(var C=0,x=b-1;(S!==0||C<v)&&x!==-1;x--,C++)S+=a*_[x]>>>0,_[x]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");v=C,g++}if(p[g]!==" "){for(var I=b-v;I!==b&&_[I]===0;)I++;for(var E=new Uint8Array(y+(b-I)),A=y;I!==b;)E[A++]=_[I++];return E}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Fde=Ude,jde=Fde;const SV=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Vde=t=>new TextEncoder().encode(t),Hde=t=>new TextDecoder().decode(t);let qde=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},zde=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return xV(this,e)}},Wde=class{constructor(e){this.decoders=e}or(e){return xV(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const xV=(t,e)=>new Wde({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Gde=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new qde(e,n,r),this.decoder=new zde(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const GI=({name:t,prefix:e,encode:n,decode:r})=>new Gde(t,e,n,r),a_=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=jde(n,e);return GI({prefix:t,name:e,encode:r,decode:i=>SV(s(i))})},Kde=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Qde=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},zs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>GI({prefix:e,name:t,encode(s){return Qde(s,r,n)},decode(s){return Kde(s,r,n,t)}}),Yde=GI({prefix:"\0",name:"identity",encode:t=>Hde(t),decode:t=>Vde(t)});var Zde=Object.freeze({__proto__:null,identity:Yde});const Jde=zs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Xde=Object.freeze({__proto__:null,base2:Jde});const ehe=zs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var the=Object.freeze({__proto__:null,base8:ehe});const nhe=a_({prefix:"9",name:"base10",alphabet:"0123456789"});var rhe=Object.freeze({__proto__:null,base10:nhe});const she=zs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ihe=zs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ohe=Object.freeze({__proto__:null,base16:she,base16upper:ihe});const ahe=zs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),che=zs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lhe=zs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uhe=zs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dhe=zs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hhe=zs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),fhe=zs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),phe=zs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mhe=zs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ghe=Object.freeze({__proto__:null,base32:ahe,base32upper:che,base32pad:lhe,base32padupper:uhe,base32hex:dhe,base32hexupper:hhe,base32hexpad:fhe,base32hexpadupper:phe,base32z:mhe});const yhe=a_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),whe=a_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var bhe=Object.freeze({__proto__:null,base36:yhe,base36upper:whe});const vhe=a_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_he=a_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ehe=Object.freeze({__proto__:null,base58btc:vhe,base58flickr:_he});const Ahe=zs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Che=zs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ihe=zs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),The=zs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var She=Object.freeze({__proto__:null,base64:Ahe,base64pad:Che,base64url:Ihe,base64urlpad:The});const PV=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),xhe=PV.reduce((t,e,n)=>(t[n]=e,t),[]),Phe=PV.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Rhe(t){return t.reduce((e,n)=>(e+=xhe[n],e),"")}function Nhe(t){const e=[];for(const n of t){const r=Phe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const khe=GI({prefix:"🚀",name:"base256emoji",encode:Rhe,decode:Nhe});var Ohe=Object.freeze({__proto__:null,base256emoji:khe}),Dhe=RV,aM=128,Mhe=-128,Lhe=Math.pow(2,31);function RV(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Lhe;)e[n++]=t&255|aM,t/=128;for(;t&Mhe;)e[n++]=t&255|aM,t>>>=7;return e[n]=t|0,RV.bytes=n-r+1,e}var Bhe=q2,$he=128,cM=127;function q2(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw q2.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&cM)<<s:(o&cM)*Math.pow(2,s),s+=7}while(o>=$he);return q2.bytes=i-r,n}var Uhe=Math.pow(2,7),Fhe=Math.pow(2,14),jhe=Math.pow(2,21),Vhe=Math.pow(2,28),Hhe=Math.pow(2,35),qhe=Math.pow(2,42),zhe=Math.pow(2,49),Whe=Math.pow(2,56),Ghe=Math.pow(2,63),Khe=function(t){return t<Uhe?1:t<Fhe?2:t<jhe?3:t<Vhe?4:t<Hhe?5:t<qhe?6:t<zhe?7:t<Whe?8:t<Ghe?9:10},Qhe={encode:Dhe,decode:Bhe,encodingLength:Khe},NV=Qhe;const lM=(t,e,n=0)=>(NV.encode(t,e,n),e),uM=t=>NV.encodingLength(t),z2=(t,e)=>{const n=e.byteLength,r=uM(t),s=r+uM(n),i=new Uint8Array(s+n);return lM(t,i,0),lM(n,i,r),i.set(e,s),new Yhe(t,n,e,i)};let Yhe=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const kV=({name:t,code:e,encode:n})=>new Zhe(t,e,n);let Zhe=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?z2(this.code,n):n.then(r=>z2(this.code,r))}else throw Error("Unknown type, must be binary type")}};const OV=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Jhe=kV({name:"sha2-256",code:18,encode:OV("SHA-256")}),Xhe=kV({name:"sha2-512",code:19,encode:OV("SHA-512")});var efe=Object.freeze({__proto__:null,sha256:Jhe,sha512:Xhe});const DV=0,tfe="identity",MV=SV,nfe=t=>z2(DV,MV(t)),rfe={code:DV,name:tfe,encode:MV,digest:nfe};var sfe=Object.freeze({__proto__:null,identity:rfe});new TextEncoder,new TextDecoder;const dM={...Zde,...Xde,...the,...rhe,...ohe,...ghe,...bhe,...Ehe,...She,...Ohe};({...efe,...sfe});function LV(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const hM=LV("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Cx=LV("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=IV(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),BV={utf8:hM,"utf-8":hM,hex:dM.base16,latin1:Cx,ascii:Cx,binary:Cx,...dM};function KI(t,e="utf8"){const n=BV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function T0(t,e="utf8"){const n=BV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?_O(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function fM(t){return cp(KI(T0(t,WI),AV))}function CA(t){return KI(T0(gu(t),AV),WI)}function $V(t){const e=T0(Bde,oM),n=Lde+KI(TV([e,t]),oM);return[Dde,Mde,n].join(Ode)}function ife(t){return KI(t,WI)}function ofe(t){return T0(t,WI)}function afe(t){return T0([CA(t.header),CA(t.payload)].join(AA),CV)}function cfe(t){return[CA(t.header),CA(t.payload),ife(t.signature)].join(AA)}function W2(t){const e=t.split(AA),n=fM(e[0]),r=fM(e[1]),s=ofe(e[2]),i=T0(e.slice(0,2).join(AA),CV);return{header:n,payload:r,signature:s,data:i}}function pM(t=hV($de)){const e=EV.getPublicKey(t);return{secretKey:TV([t,e]),publicKey:e}}async function lfe(t,e,n,r,s=je.fromMiliseconds(Date.now())){const i={alg:Nde,typ:kde},o=$V(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=afe({header:i,payload:c}),u=EV.sign(l,r.secretKey.slice(0,32));return cfe({header:i,payload:c,signature:u})}var mM=function(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},ufe=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),dfe=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os="browser"}return t})(),hfe=(function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t})(),ffe=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),pfe=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),mfe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,gfe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,gM=3,yfe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",mfe]],yM=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function wfe(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new pfe:typeof navigator<"u"?vfe(navigator.userAgent):Efe()}function bfe(t){return t!==""&&yfe.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function vfe(t){var e=bfe(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new ffe;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<gM&&(s=mM(mM([],s,!0),Afe(gM-s.length))):s=[];var i=s.join("."),o=_fe(t),a=gfe.exec(t);return a&&a[1]?new hfe(n,i,o,a[1]):new ufe(n,i,o)}function _fe(t){for(var e=0,n=yM.length;e<n;e++){var r=yM[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function Efe(){var t=typeof process<"u"&&"v16.0.0";return t?new dfe("v16.0.0".slice(1)):null}function Afe(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var ir={},wM;function UV(){if(wM)return ir;wM=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.getLocalStorage=ir.getLocalStorageOrThrow=ir.getCrypto=ir.getCryptoOrThrow=ir.getLocation=ir.getLocationOrThrow=ir.getNavigator=ir.getNavigatorOrThrow=ir.getDocument=ir.getDocumentOrThrow=ir.getFromWindowOrThrow=ir.getFromWindow=void 0;function t(h){let f;return typeof window<"u"&&typeof window[h]<"u"&&(f=window[h]),f}ir.getFromWindow=t;function e(h){const f=t(h);if(!f)throw new Error(`${h} is not defined in Window`);return f}ir.getFromWindowOrThrow=e;function n(){return e("document")}ir.getDocumentOrThrow=n;function r(){return t("document")}ir.getDocument=r;function s(){return e("navigator")}ir.getNavigatorOrThrow=s;function i(){return t("navigator")}ir.getNavigator=i;function o(){return e("location")}ir.getLocationOrThrow=o;function a(){return t("location")}ir.getLocation=a;function c(){return e("crypto")}ir.getCryptoOrThrow=c;function l(){return t("crypto")}ir.getCrypto=l;function u(){return e("localStorage")}ir.getLocalStorageOrThrow=u;function d(){return t("localStorage")}return ir.getLocalStorage=d,ir}var yu=UV(),Fy={},bM;function Cfe(){if(bM)return Fy;bM=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.getWindowMetadata=void 0;const t=UV();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function s(){const f=n.getElementsByTagName("link"),p=[];for(let g=0;g<f.length;g++){const y=f[g],v=y.getAttribute("rel");if(v&&v.toLowerCase().indexOf("icon")>-1){const b=y.getAttribute("href");if(b)if(b.toLowerCase().indexOf("https:")===-1&&b.toLowerCase().indexOf("http:")===-1&&b.indexOf("//")!==0){let _=r.protocol+"//"+r.host;if(b.indexOf("/")===0)_+=b;else{const S=r.pathname.split("/");S.pop();const C=S.join("/");_+=C+"/"+b}p.push(_)}else if(b.indexOf("//")===0){const _=r.protocol+b;p.push(_)}else p.push(b)}}return p}function i(...f){const p=n.getElementsByTagName("meta");for(let g=0;g<p.length;g++){const y=p[g],v=["itemprop","property","name"].map(b=>y.getAttribute(b)).filter(b=>b?f.includes(b):!1);if(v.length&&v){const b=y.getAttribute("content");if(b)return b}}return""}function o(){let f=i("name","og:site_name","og:title","twitter:title");return f||(f=n.title),f}function a(){return i("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=r.origin,d=s();return{description:l,url:u,icons:d,name:c}}return Fy.getWindowMetadata=e,Fy}var Ife=Cfe();function Db(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function G2(t){return Db(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const FV="2.31.0";let Ix={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${FV}`},QI=class K2 extends Error{constructor(e,n={}){const r=n.cause instanceof K2?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof K2&&n.cause.docsPath||n.docsPath,i=Ix.getDocsUrl?.({...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Ix.version?[`Version: ${Ix.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=FV}walk(e){return jV(this,e)}};function jV(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?jV(t.cause,e):e?null:t}class VV extends QI{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function S0(t,{dir:e,size:n=32}={}){return typeof t=="string"?Tfe(t,{dir:e,size:n}):Sfe(t,{dir:e,size:n})}function Tfe(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new VV({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Sfe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new VV({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class xfe extends QI{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Pfe extends QI{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function x0(t,{size:e}){if(G2(t)>e)throw new Pfe({givenSize:G2(t),maxSize:e})}function Q2(t,e={}){const{signed:n}=e;e.size&&x0(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Rfe(t,e={}){return Number(Q2(t,e))}const Nfe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Y2(t,e={}){return typeof t=="number"||typeof t=="bigint"?qV(t,e):typeof t=="string"?Dfe(t,e):typeof t=="boolean"?kfe(t,e):HV(t,e)}function kfe(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(x0(n,{size:e.size}),S0(n,{size:e.size})):n}function HV(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Nfe[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(x0(r,{size:e.size}),S0(r,{dir:"right",size:e.size})):r}function qV(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new xfe({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?S0(a,{size:r}):a}const Ofe=new TextEncoder;function Dfe(t,e={}){const n=Ofe.encode(t);return HV(n,e)}const Mfe=new TextEncoder;function Lfe(t,e={}){return typeof t=="number"||typeof t=="bigint"?$fe(t,e):typeof t=="boolean"?Bfe(t,e):Db(t)?zV(t,e):WV(t,e)}function Bfe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(x0(n,{size:e.size}),S0(n,{size:e.size})):n}const Nl={zero:48,nine:57,A:65,F:70,a:97,f:102};function vM(t){if(t>=Nl.zero&&t<=Nl.nine)return t-Nl.zero;if(t>=Nl.A&&t<=Nl.F)return t-(Nl.A-10);if(t>=Nl.a&&t<=Nl.f)return t-(Nl.a-10)}function zV(t,e={}){let n=t;e.size&&(x0(n,{size:e.size}),n=S0(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=vM(r.charCodeAt(a++)),l=vM(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new QI(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function $fe(t,e){const n=qV(t,e);return zV(n)}function WV(t,e={}){const n=Mfe.encode(t);return typeof e.size=="number"?(x0(n,{size:e.size}),S0(n,{dir:"right",size:e.size})):n}function GV(t,e){const n=e||"hex",r=sj(Db(t,{strict:!1})?Lfe(t):t);return n==="bytes"?r:Y2(r)}class Ufe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Tx=new Ufe(8192);function Ffe(t,e){if(Tx.has(`${t}.${e}`))return Tx.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=GV(WV(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Tx.set(`${t}.${e}`,i),i}function jfe(t){const e=GV(`0x${t.substring(4)}`).substring(26);return Ffe(`0x${e}`)}async function Vfe({hash:t,signature:e}){const n=Db(t)?t:Y2(t),{secp256k1:r}=await hn(async()=>{const{secp256k1:o}=await import("./secp256k1-m3XfKFPW.js");return{secp256k1:o}},__vite__mapDeps([4,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=_M(f);return new r.Signature(Q2(l),Q2(u)).addRecoveryBit(p)}const o=Db(e)?e:Y2(e);if(G2(o)!==65)throw new Error("invalid signature length");const a=Rfe(`0x${o.slice(130)}`),c=_M(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function _M(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Hfe({hash:t,signature:e}){return jfe(await Vfe({hash:t,signature:e}))}function qfe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*i+1>>>0,g=new Uint8Array(p);for(;h!==f;){let b=l[h],_=0;for(let S=p-1;(b!==0||_<d)&&S!==-1;S--,_++)b+=256*g[S]>>>0,g[S]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");d=_,h++}let y=p-d;for(;y!==p&&g[y]===0;)y++;let v=r.repeat(u);for(;y<p;++y)v+=t.charAt(g[y]);return v}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*s+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let _=e[b];if(_===255)return;let S=0;for(let C=f-1;(_!==0||S<h)&&C!==-1;C--,S++)_+=n*p[C]>>>0,p[C]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");h=S,u++}let g=f-h;for(;g!==f&&p[g]===0;)g++;const y=new Uint8Array(d+(f-g));let v=d;for(;g!==f;)y[v++]=p[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var zfe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const P0=qfe(zfe);function Wfe(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if((s&4294967168)===0){n++;continue}else if((s&4294965248)===0)n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}(s&4294901760)===0?n+=3:n+=4}}return n}function Gfe(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if((o&4294967168)===0){e[s++]=o;continue}else if((o&4294965248)===0)e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128):(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128)}e[s++]=o&63|128}}const Kfe=new TextEncoder,Qfe=50;function Yfe(t,e,n){Kfe.encodeInto(t,e.subarray(n))}function Zfe(t,e,n){t.length>Qfe?Yfe(t,e,n):Gfe(t,e,n)}const Jfe=4096;function KV(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if((a&128)===0)i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=Jfe&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const Xfe=new TextDecoder,epe=200;function tpe(t,e,n){const r=t.subarray(e,e+n);return Xfe.decode(r)}function npe(t,e,n){return n>epe?tpe(t,e,n):KV(t,e,n)}class x1{constructor(e,n){this.type=e,this.data=n}}class po extends Error{constructor(e){super(e);const n=Object.create(po.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:po.name})}}const jy=4294967295;function rpe(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function QV(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function YV(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function spe(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const ipe=-1,ope=4294967296-1,ape=17179869184-1;function cpe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=ape)if(e===0&&t<=ope){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),QV(r,4,t),n}}function lpe(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function upe(t){if(t instanceof Date){const e=lpe(t);return cpe(e)}else return null}function dpe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=YV(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new po(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function hpe(t){const e=dpe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const fpe={type:ipe,encode:upe,decode:hpe};class IA{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(fpe)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new x1(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new x1(o,i)}}}return e instanceof x1?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new x1(n,e)}}IA.defaultCodec=new IA;function ppe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function Z2(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):ppe(t)?new Uint8Array(t):Uint8Array.from(t)}const mpe=100,gpe=2048;let ype=class ZV{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??IA.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??mpe,this.initialBufferSize=e?.initialBufferSize??gpe,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new ZV({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Wfe(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Zfe(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=Z2(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),rpe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),QV(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function wpe(t,e){return new ype(e).encodeSharedRef(t)}function Sx(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const bpe=16,vpe=16;class _pe{constructor(e=bpe,n=vpe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=KV(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const J2="array",Rw="map_key",JV="map_value",Epe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new po("The type of key must be string or number but "+typeof t)};class Ape{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=J2,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Rw,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===J2){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Rw||e.type===JV){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Vy=-1,EO=new DataView(new ArrayBuffer(0)),Cpe=new Uint8Array(EO.buffer);try{EO.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const EM=new RangeError("Insufficient data"),Ipe=new _pe;let Tpe=class XV{constructor(e){this.totalPos=0,this.pos=0,this.view=EO,this.bytes=Cpe,this.headByte=Vy,this.stack=new Ape,this.entered=!1,this.extensionCodec=e?.extensionCodec??IA.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??jy,this.maxBinLength=e?.maxBinLength??jy,this.maxArrayLength=e?.maxArrayLength??jy,this.maxMapLength=e?.maxMapLength??jy,this.maxExtLength=e?.maxExtLength??jy,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:Ipe,this.mapKeyConverter=e?.mapKeyConverter??Epe}clone(){return new XV({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Vy,this.stack.reset()}setBuffer(e){const n=Z2(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Vy&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=Z2(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Sx(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new po(`Unrecognized type byte: ${Sx(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===J2)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===Rw){if(n==="__proto__")throw new po("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=JV;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=Rw;continue e}}return n}}readHeadByte(){return this.headByte===Vy&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Vy}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new po(`Unrecognized array type byte: ${Sx(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new po(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new po(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new po(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw EM;const r=this.pos+n;let s;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?s=this.keyDecoder.decode(this.bytes,r,e):s=npe(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Rw:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new po(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw EM;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new po(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=spe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=YV(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Spe(t,e){return new Tpe(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xpe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function eH(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function TA(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function AO(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function X2(t){if(!Array.isArray(t))throw new Error("array expected")}function SA(t,e){if(!eH(!0,e))throw new Error(`${t}: array of strings expected`)}function Ppe(t,e){if(!eH(!1,e))throw new Error(`${t}: array of numbers expected`)}function Rpe(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function Npe(t){const e=typeof t=="string"?t.split(""):t,n=e.length;SA("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(X2(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(X2(s),s.map(i=>{TA("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function kpe(t=""){return TA("join",t),{encode:e=>(SA("join.decode",e),e.join(t)),decode:e=>(TA("join.decode",e),e.split(t))}}function Ope(t,e="="){return AO(t),TA("padding",e),{encode(n){for(SA("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){SA("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const tH=(t,e)=>e===0?t:tH(e,t%e),xA=(t,e)=>t+(e-tH(t,e)),xx=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function AM(t,e,n,r){if(X2(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(xA(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${xA(e,n)}`);let s=0,i=0;const o=xx[e],a=xx[n]-1,c=[];for(const l of t){if(AO(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=xx[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function Dpe(t,e=!1){if(AO(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(xA(8,t)>32||xA(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!xpe(n))throw new Error("radix2.encode input should be Uint8Array");return AM(Array.from(n),8,t,!e)},decode:n=>(Ppe("radix2.decode",n),Uint8Array.from(AM(n,t,8,e)))}}const Mpe=Rpe(Dpe(5),Npe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ope(5),kpe(""));function CO(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function nH(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?CO(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Nw(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=nH(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return CO(n)}function Lpe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,v=0,b=p.length;v!==b&&p[v]===0;)v++,g++;for(var _=(b-v)*u+1>>>0,S=new Uint8Array(_);v!==b;){for(var C=p[v],x=0,I=_-1;(C!==0||x<y)&&I!==-1;I--,x++)C+=256*S[I]>>>0,S[I]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");y=x,v++}for(var E=_-y;E!==_&&S[E]===0;)E++;for(var A=c.repeat(g);E<_;++E)A+=t.charAt(S[E]);return A}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,v=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,_=new Uint8Array(b);p[g];){var S=n[p.charCodeAt(g)];if(S===255)return;for(var C=0,x=b-1;(S!==0||C<v)&&x!==-1;x--,C++)S+=a*_[x]>>>0,_[x]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");v=C,g++}if(p[g]!==" "){for(var I=b-v;I!==b&&_[I]===0;)I++;for(var E=new Uint8Array(y+(b-I)),A=y;I!==b;)E[A++]=_[I++];return E}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Bpe=Lpe,$pe=Bpe;const Upe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Fpe=t=>new TextEncoder().encode(t),jpe=t=>new TextDecoder().decode(t);class Vpe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Hpe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return rH(this,e)}}class qpe{constructor(e){this.decoders=e}or(e){return rH(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const rH=(t,e)=>new qpe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class zpe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Vpe(e,n,r),this.decoder=new Hpe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const YI=({name:t,prefix:e,encode:n,decode:r})=>new zpe(t,e,n,r),c_=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=$pe(n,e);return YI({prefix:t,name:e,encode:r,decode:i=>Upe(s(i))})},Wpe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Gpe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Ws=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>YI({prefix:e,name:t,encode(s){return Gpe(s,r,n)},decode(s){return Wpe(s,r,n,t)}}),Kpe=YI({prefix:"\0",name:"identity",encode:t=>jpe(t),decode:t=>Fpe(t)}),Qpe=Object.freeze(Object.defineProperty({__proto__:null,identity:Kpe},Symbol.toStringTag,{value:"Module"})),Ype=Ws({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Zpe=Object.freeze(Object.defineProperty({__proto__:null,base2:Ype},Symbol.toStringTag,{value:"Module"})),Jpe=Ws({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Xpe=Object.freeze(Object.defineProperty({__proto__:null,base8:Jpe},Symbol.toStringTag,{value:"Module"})),eme=c_({prefix:"9",name:"base10",alphabet:"0123456789"}),tme=Object.freeze(Object.defineProperty({__proto__:null,base10:eme},Symbol.toStringTag,{value:"Module"})),nme=Ws({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rme=Ws({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),sme=Object.freeze(Object.defineProperty({__proto__:null,base16:nme,base16upper:rme},Symbol.toStringTag,{value:"Module"})),ime=Ws({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ome=Ws({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ame=Ws({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cme=Ws({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lme=Ws({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ume=Ws({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dme=Ws({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hme=Ws({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fme=Ws({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),pme=Object.freeze(Object.defineProperty({__proto__:null,base32:ime,base32hex:lme,base32hexpad:dme,base32hexpadupper:hme,base32hexupper:ume,base32pad:ame,base32padupper:cme,base32upper:ome,base32z:fme},Symbol.toStringTag,{value:"Module"})),mme=c_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gme=c_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),yme=Object.freeze(Object.defineProperty({__proto__:null,base36:mme,base36upper:gme},Symbol.toStringTag,{value:"Module"})),wme=c_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bme=c_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),vme=Object.freeze(Object.defineProperty({__proto__:null,base58btc:wme,base58flickr:bme},Symbol.toStringTag,{value:"Module"})),_me=Ws({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Eme=Ws({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ame=Ws({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Cme=Ws({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ime=Object.freeze(Object.defineProperty({__proto__:null,base64:_me,base64pad:Eme,base64url:Ame,base64urlpad:Cme},Symbol.toStringTag,{value:"Module"})),sH=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Tme=sH.reduce((t,e,n)=>(t[n]=e,t),[]),Sme=sH.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function xme(t){return t.reduce((e,n)=>(e+=Tme[n],e),"")}function Pme(t){const e=[];for(const n of t){const r=Sme[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Rme=YI({prefix:"🚀",name:"base256emoji",encode:xme,decode:Pme}),Nme=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Rme},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const CM={...Qpe,...Zpe,...Xpe,...tme,...sme,...pme,...yme,...vme,...Ime,...Nme};function iH(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const IM=iH("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Px=iH("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=nH(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),oH={utf8:IM,"utf-8":IM,hex:CM.base16,latin1:Px,ascii:Px,binary:Px,...CM};function ha(t,e="utf8"){const n=oH[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?CO(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function eo(t,e="utf8"){const n=oH[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const kme={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Rx,TM;function aH(){if(TM)return Rx;TM=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function n(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function r(o){return(4294967296+o).toString(16).substring(1)}function s(o,a,c){let l=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(c===32)l+=r(a[u]).toUpperCase(),l+=" ",l+=r(a[u+1]).toUpperCase();else if(c===64)l+=r(a[u+1]).toUpperCase(),l+=r(a[u]).toUpperCase();else throw new Error("Invalid size "+c);u%6===4?l+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(l+=" ")}console.log(l)}function i(o,a,c){let l=new Date().getTime();const u=new Uint8Array(a);for(let h=0;h<a;h++)u[h]=h%256;const d=new Date().getTime();console.log("Generated random input in "+(d-l)+"ms"),l=d;for(let h=0;h<c;h++){const f=o(u),p=new Date().getTime(),g=p-l;l=p,console.log("Hashed in "+g+"ms: "+f.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return Rx={normalizeInput:e,toHex:n,debugPrint:s,testSpeed:i},Rx}var Nx,SM;function Ome(){if(SM)return Nx;SM=1;const t=aH();function e(v,b,_){const S=v[b]+v[_];let C=v[b+1]+v[_+1];S>=4294967296&&C++,v[b]=S,v[b+1]=C}function n(v,b,_,S){let C=v[b]+_;_<0&&(C+=4294967296);let x=v[b+1]+S;C>=4294967296&&x++,v[b]=C,v[b+1]=x}function r(v,b){return v[b]^v[b+1]<<8^v[b+2]<<16^v[b+3]<<24}function s(v,b,_,S,C,x){const I=l[C],E=l[C+1],A=l[x],T=l[x+1];e(c,v,b),n(c,v,I,E);let k=c[S]^c[v],M=c[S+1]^c[v+1];c[S]=M,c[S+1]=k,e(c,_,S),k=c[b]^c[_],M=c[b+1]^c[_+1],c[b]=k>>>24^M<<8,c[b+1]=M>>>24^k<<8,e(c,v,b),n(c,v,A,T),k=c[S]^c[v],M=c[S+1]^c[v+1],c[S]=k>>>16^M<<16,c[S+1]=M>>>16^k<<16,e(c,_,S),k=c[b]^c[_],M=c[b+1]^c[_+1],c[b]=M>>>31^k<<1,c[b+1]=k>>>31^M<<1}const i=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(v){return v*2})),c=new Uint32Array(32),l=new Uint32Array(32);function u(v,b){let _=0;for(_=0;_<16;_++)c[_]=v.h[_],c[_+16]=i[_];for(c[24]=c[24]^v.t,c[25]=c[25]^v.t/4294967296,b&&(c[28]=~c[28],c[29]=~c[29]),_=0;_<32;_++)l[_]=r(v.b,4*_);for(_=0;_<12;_++)s(0,8,16,24,a[_*16+0],a[_*16+1]),s(2,10,18,26,a[_*16+2],a[_*16+3]),s(4,12,20,28,a[_*16+4],a[_*16+5]),s(6,14,22,30,a[_*16+6],a[_*16+7]),s(0,10,20,30,a[_*16+8],a[_*16+9]),s(2,12,22,24,a[_*16+10],a[_*16+11]),s(4,14,16,26,a[_*16+12],a[_*16+13]),s(6,8,18,28,a[_*16+14],a[_*16+15]);for(_=0;_<16;_++)v.h[_]=v.h[_]^c[_]^c[_+16]}const d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function h(v,b,_,S){if(v===0||v>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(b&&b.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(_&&_.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(S&&S.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const C={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:v};d.fill(0),d[0]=v,b&&(d[1]=b.length),d[2]=1,d[3]=1,_&&d.set(_,32),S&&d.set(S,48);for(let x=0;x<16;x++)C.h[x]=i[x]^r(d,x*4);return b&&(f(C,b),C.c=128),C}function f(v,b){for(let _=0;_<b.length;_++)v.c===128&&(v.t+=v.c,u(v,!1),v.c=0),v.b[v.c++]=b[_]}function p(v){for(v.t+=v.c;v.c<128;)v.b[v.c++]=0;u(v,!0);const b=new Uint8Array(v.outlen);for(let _=0;_<v.outlen;_++)b[_]=v.h[_>>2]>>8*(_&3);return b}function g(v,b,_,S,C){_=_||64,v=t.normalizeInput(v),S&&(S=t.normalizeInput(S)),C&&(C=t.normalizeInput(C));const x=h(_,b,S,C);return f(x,v),p(x)}function y(v,b,_,S,C){const x=g(v,b,_,S,C);return t.toHex(x)}return Nx={blake2b:g,blake2bHex:y,blake2bInit:h,blake2bUpdate:f,blake2bFinal:p},Nx}var kx,xM;function Dme(){if(xM)return kx;xM=1;const t=aH();function e(p,g){return p[g]^p[g+1]<<8^p[g+2]<<16^p[g+3]<<24}function n(p,g,y,v,b,_){o[p]=o[p]+o[g]+b,o[v]=r(o[v]^o[p],16),o[y]=o[y]+o[v],o[g]=r(o[g]^o[y],12),o[p]=o[p]+o[g]+_,o[v]=r(o[v]^o[p],8),o[y]=o[y]+o[v],o[g]=r(o[g]^o[y],7)}function r(p,g){return p>>>g^p<<32-g}const s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),i=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(p,g){let y=0;for(y=0;y<8;y++)o[y]=p.h[y],o[y+8]=s[y];for(o[12]^=p.t,o[13]^=p.t/4294967296,g&&(o[14]=~o[14]),y=0;y<16;y++)a[y]=e(p.b,4*y);for(y=0;y<10;y++)n(0,4,8,12,a[i[y*16+0]],a[i[y*16+1]]),n(1,5,9,13,a[i[y*16+2]],a[i[y*16+3]]),n(2,6,10,14,a[i[y*16+4]],a[i[y*16+5]]),n(3,7,11,15,a[i[y*16+6]],a[i[y*16+7]]),n(0,5,10,15,a[i[y*16+8]],a[i[y*16+9]]),n(1,6,11,12,a[i[y*16+10]],a[i[y*16+11]]),n(2,7,8,13,a[i[y*16+12]],a[i[y*16+13]]),n(3,4,9,14,a[i[y*16+14]],a[i[y*16+15]]);for(y=0;y<8;y++)p.h[y]^=o[y]^o[y+8]}function l(p,g){if(!(p>0&&p<=32))throw new Error("Incorrect output length, should be in [1, 32]");const y=g?g.length:0;if(g&&!(y>0&&y<=32))throw new Error("Incorrect key length, should be in [1, 32]");const v={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:p};return v.h[0]^=16842752^y<<8^p,y>0&&(u(v,g),v.c=64),v}function u(p,g){for(let y=0;y<g.length;y++)p.c===64&&(p.t+=p.c,c(p,!1),p.c=0),p.b[p.c++]=g[y]}function d(p){for(p.t+=p.c;p.c<64;)p.b[p.c++]=0;c(p,!0);const g=new Uint8Array(p.outlen);for(let y=0;y<p.outlen;y++)g[y]=p.h[y>>2]>>8*(y&3)&255;return g}function h(p,g,y){y=y||32,p=t.normalizeInput(p);const v=l(y,g);return u(v,p),d(v)}function f(p,g,y){const v=h(p,g,y);return t.toHex(v)}return kx={blake2s:h,blake2sHex:f,blake2sInit:l,blake2sUpdate:u,blake2sFinal:d},kx}var Ox,PM;function Mme(){if(PM)return Ox;PM=1;const t=Ome(),e=Dme();return Ox={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Ox}var Lme=Mme(),Bme={};const $me=":";function Hf(t){const[e,n]=t.split($me);return{namespace:e,reference:n}}function cH(t,e){return t.includes(":")?[t]:e.chains||[]}var Ume=Object.defineProperty,Fme=Object.defineProperties,jme=Object.getOwnPropertyDescriptors,RM=Object.getOwnPropertySymbols,Vme=Object.prototype.hasOwnProperty,Hme=Object.prototype.propertyIsEnumerable,eR=(t,e,n)=>e in t?Ume(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NM=(t,e)=>{for(var n in e||(e={}))Vme.call(e,n)&&eR(t,n,e[n]);if(RM)for(var n of RM(e))Hme.call(e,n)&&eR(t,n,e[n]);return t},qme=(t,e)=>Fme(t,jme(e)),kM=(t,e,n)=>eR(t,typeof e!="symbol"?e+"":e,n);const zme="ReactNative",Ao={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Wme="js";function PA(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Sh(){return!yu.getDocument()&&!!yu.getNavigator()&&navigator.product===zme}function Gme(){return Sh()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function Kme(){return Sh()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function R0(){return!PA()&&!!yu.getNavigator()&&!!yu.getDocument()}function l_(){return Sh()?Ao.reactNative:PA()?Ao.node:R0()?Ao.browser:Ao.unknown}function OM(){var t;try{return Sh()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Qme(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function Yme(t){var e,n;const r=lH();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),qme(NM(NM({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function lH(){return Ife.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Zme(){if(l_()===Ao.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){const{OS:n,Version:r}=globalThis.Platform;return[n,r].join("-")}const t=wfe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Jme(){var t;const e=l_();return e===Ao.browser?[e,((t=yu.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function uH(t,e,n){const r=Zme(),s=Jme();return[[t,e].join("-"),[Wme,n].join("-"),r,s].join("/")}function Xme({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=uH(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=Qme(l[1]||"",d);return l[0]+"?"+h}function xf(t,e){return t.filter(n=>e.includes(n)).length===t.length}function tR(t){return Object.fromEntries(t.entries())}function nR(t){return new Map(Object.entries(t))}function gf(t=je.FIVE_MINUTES,e){const n=je.toMiliseconds(t||je.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function $c(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function dH(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function ege(t){return dH("topic",t)}function tge(t){return dH("id",t)}function hH(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function rs(t,e){return je.fromMiliseconds(Date.now()+je.toMiliseconds(t))}function Sd(t){return Date.now()>=je.toMiliseconds(t)}function Fn(t,e){return`${t}${e?`:${e}`:""}`}function Hc(t=[],e=[]){return[...new Set([...t,...e])]}async function nge({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s?.href;if(typeof i!="string")return;const o=rge(i,t,e),a=l_();if(a===Ao.browser){if(!((r=yu.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}sge(o)}else a===Ao.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(o)}catch(s){console.error(s)}}function rge(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${cge(r,!0)}`}else s=`${s}/wc?${r}`;return s}function sge(t){let e="_self";age()?e="_top":(oge()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function ige(t,e){let n="";try{if(R0()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function DM(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function MM(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function IO(){return typeof process<"u"&&Bme.IS_VITEST==="true"}function oge(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function age(){try{return window.self!==window.top}catch{return!1}}function cge(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function fH(t){return Buffer.from(t,"base64").toString("utf-8")}function lge(t){return new Promise(e=>setTimeout(e,t))}let uge=class{constructor({limit:e}){kM(this,"limit"),kM(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const P1=BigInt(2**32-1),LM=BigInt(32);function pH(t,e=!1){return e?{h:Number(t&P1),l:Number(t>>LM&P1)}:{h:Number(t>>LM&P1)|0,l:Number(t&P1)|0}}function mH(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=pH(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const BM=(t,e,n)=>t>>>n,$M=(t,e,n)=>t<<32-n|e>>>n,xd=(t,e,n)=>t>>>n|e<<32-n,Pd=(t,e,n)=>t<<32-n|e>>>n,cw=(t,e,n)=>t<<64-n|e>>>n-32,lw=(t,e,n)=>t>>>n-32|e<<64-n,dge=(t,e)=>e,hge=(t,e)=>t,fge=(t,e,n)=>t<<n|e>>>32-n,pge=(t,e,n)=>e<<n|t>>>32-n,mge=(t,e,n)=>e<<n-32|t>>>64-n,gge=(t,e,n)=>t<<n-32|e>>>64-n;function La(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const TO=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),SO=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,yge=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),wge=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,bge=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),vge=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Em=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function xO(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ba(t,...e){if(!xO(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function PO(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");wu(t.outputLen),wu(t.blockLen)}function dh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function RO(t,e){ba(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Mb(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function va(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Dx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function yc(t,e){return t<<32-e|t>>>e}const gH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yH(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const jl=gH?t=>t:t=>yH(t);function _ge(t){for(let e=0;e<t.length;e++)t[e]=yH(t[e]);return t}const Rd=gH?t=>t:_ge,wH=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ege=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Lb(t){if(ba(t),wH)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Ege[t[n]];return e}const kl={_0:48,_9:57,A:65,F:70,a:97,f:102};function UM(t){if(t>=kl._0&&t<=kl._9)return t-kl._0;if(t>=kl.A&&t<=kl.F)return t-(kl.A-10);if(t>=kl.a&&t<=kl.f)return t-(kl.a-10)}function NO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(wH)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=UM(t.charCodeAt(i)),a=UM(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Age(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ga(t){return typeof t=="string"&&(t=Age(t)),ba(t),t}function Pf(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];ba(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let ZI=class{};function u_(t){const e=r=>t().update(Ga(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Cge(t){const e=(r,s)=>t(s).update(Ga(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function N0(t=32){if(Em&&typeof Em.getRandomValues=="function")return Em.getRandomValues(new Uint8Array(t));if(Em&&typeof Em.randomBytes=="function")return Uint8Array.from(Em.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Ige=BigInt(0),Hy=BigInt(1),Tge=BigInt(2),Sge=BigInt(7),xge=BigInt(256),Pge=BigInt(113),bH=[],vH=[],_H=[];for(let t=0,e=Hy,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],bH.push(2*(5*r+n)),vH.push((t+1)*(t+2)/2%64);let s=Ige;for(let i=0;i<7;i++)e=(e<<Hy^(e>>Sge)*Pge)%xge,e&Tge&&(s^=Hy<<(Hy<<BigInt(i))-Hy);_H.push(s)}const EH=mH(_H,!0),Rge=EH[0],Nge=EH[1],FM=(t,e,n)=>n>32?mge(t,e,n):fge(t,e,n),jM=(t,e,n)=>n>32?gge(t,e,n):pge(t,e,n);function kge(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=FM(l,u,1)^n[a],h=jM(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=vH[o],c=FM(s,i,a),l=jM(s,i,a),u=bH[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Rge[r],t[1]^=Nge[r]}va(n)}let Oge=class AH extends ZI{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,wu(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Mb(this.state)}clone(){return this._cloneInto()}keccak(){Rd(this.state32),kge(this.state32,this.rounds),Rd(this.state32),this.posOut=0,this.pos=0}update(e){dh(this),e=Ga(e),ba(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){dh(this,!1),ba(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return wu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(RO(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,va(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new AH(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Dge=(t,e,n)=>u_(()=>new Oge(e,t,n)),Mge=Dge(1,136,256/8);function Lge(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Bge(t,e,n){return t&e^~t&n}function $ge(t,e,n){return t&e^t&n^e&n}let CH=class extends ZI{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Dx(this.buffer)}update(e){dh(this),e=Ga(e),ba(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Dx(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){dh(this),RO(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,va(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Lge(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Dx(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const hd=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ys=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Zs=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Uge=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fd=new Uint32Array(64);let Fge=class extends CH{constructor(e=32){super(64,e,8,!1),this.A=hd[0]|0,this.B=hd[1]|0,this.C=hd[2]|0,this.D=hd[3]|0,this.E=hd[4]|0,this.F=hd[5]|0,this.G=hd[6]|0,this.H=hd[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)fd[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=fd[d-15],f=fd[d-2],p=yc(h,7)^yc(h,18)^h>>>3,g=yc(f,17)^yc(f,19)^f>>>10;fd[d]=g+fd[d-7]+p+fd[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=yc(a,6)^yc(a,11)^yc(a,25),f=u+h+Bge(a,c,l)+Uge[d]+fd[d]|0,p=(yc(r,2)^yc(r,13)^yc(r,22))+$ge(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){va(fd)}destroy(){this.set(0,0,0,0,0,0,0,0),va(this.buffer)}};const IH=mH(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),jge=IH[0],Vge=IH[1],pd=new Uint32Array(80),md=new Uint32Array(80);let kO=class extends CH{constructor(e=64){super(128,e,16,!1),this.Ah=Zs[0]|0,this.Al=Zs[1]|0,this.Bh=Zs[2]|0,this.Bl=Zs[3]|0,this.Ch=Zs[4]|0,this.Cl=Zs[5]|0,this.Dh=Zs[6]|0,this.Dl=Zs[7]|0,this.Eh=Zs[8]|0,this.El=Zs[9]|0,this.Fh=Zs[10]|0,this.Fl=Zs[11]|0,this.Gh=Zs[12]|0,this.Gl=Zs[13]|0,this.Hh=Zs[14]|0,this.Hl=Zs[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let _=0;_<16;_++,n+=4)pd[_]=e.getUint32(n),md[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const S=pd[_-15]|0,C=md[_-15]|0,x=xd(S,C,1)^xd(S,C,8)^BM(S,C,7),I=Pd(S,C,1)^Pd(S,C,8)^$M(S,C,7),E=pd[_-2]|0,A=md[_-2]|0,T=xd(E,A,19)^cw(E,A,61)^BM(E,A,6),k=Pd(E,A,19)^lw(E,A,61)^$M(E,A,6),M=yge(I,k,md[_-7],md[_-16]),B=wge(M,x,T,pd[_-7],pd[_-16]);pd[_]=B|0,md[_]=M|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:v,Hl:b}=this;for(let _=0;_<80;_++){const S=xd(d,h,14)^xd(d,h,18)^cw(d,h,41),C=Pd(d,h,14)^Pd(d,h,18)^lw(d,h,41),x=d&f^~d&g,I=h&p^~h&y,E=bge(b,C,I,Vge[_],md[_]),A=vge(E,v,S,x,jge[_],pd[_]),T=E|0,k=xd(r,s,28)^cw(r,s,34)^cw(r,s,39),M=Pd(r,s,28)^lw(r,s,34)^lw(r,s,39),B=r&i^r&a^i&a,Z=s&o^s&c^o&c;v=g|0,b=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=La(l|0,u|0,A|0,T|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=TO(T,M,Z);r=SO(N,A,k,B),s=N|0}({h:r,l:s}=La(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=La(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=La(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=La(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=La(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=La(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=La(this.Gh|0,this.Gl|0,g|0,y|0),{h:v,l:b}=La(this.Hh|0,this.Hl|0,v|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,v,b)}roundClean(){va(pd,md)}destroy(){va(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Hge=class extends kO{constructor(){super(48),this.Ah=Ys[0]|0,this.Al=Ys[1]|0,this.Bh=Ys[2]|0,this.Bl=Ys[3]|0,this.Ch=Ys[4]|0,this.Cl=Ys[5]|0,this.Dh=Ys[6]|0,this.Dl=Ys[7]|0,this.Eh=Ys[8]|0,this.El=Ys[9]|0,this.Fh=Ys[10]|0,this.Fl=Ys[11]|0,this.Gh=Ys[12]|0,this.Gl=Ys[13]|0,this.Hh=Ys[14]|0,this.Hl=Ys[15]|0}};const Js=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class qge extends kO{constructor(){super(32),this.Ah=Js[0]|0,this.Al=Js[1]|0,this.Bh=Js[2]|0,this.Bl=Js[3]|0,this.Ch=Js[4]|0,this.Cl=Js[5]|0,this.Dh=Js[6]|0,this.Dl=Js[7]|0,this.Eh=Js[8]|0,this.El=Js[9]|0,this.Fh=Js[10]|0,this.Fl=Js[11]|0,this.Gh=Js[12]|0,this.Gl=Js[13]|0,this.Hh=Js[14]|0,this.Hl=Js[15]|0}}const JI=u_(()=>new Fge),zge=u_(()=>new kO),Wge=u_(()=>new Hge),Gge=u_(()=>new qge),Kge=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),ns=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ke=new Uint32Array(32);function gd(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Ke[2*t],l=Ke[2*t+1],u=Ke[2*e],d=Ke[2*e+1],h=Ke[2*n],f=Ke[2*n+1],p=Ke[2*r],g=Ke[2*r+1],y=TO(c,u,o);l=SO(y,l,d,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:dge(g,p),Dl:hge(g)},{h:f,l:h}=La(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:xd(d,u,24),Bl:Pd(d,u,24)},Ke[2*t]=c,Ke[2*t+1]=l,Ke[2*e]=u,Ke[2*e+1]=d,Ke[2*n]=h,Ke[2*n+1]=f,Ke[2*r]=p,Ke[2*r+1]=g}function yd(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Ke[2*t],l=Ke[2*t+1],u=Ke[2*e],d=Ke[2*e+1],h=Ke[2*n],f=Ke[2*n+1],p=Ke[2*r],g=Ke[2*r+1],y=TO(c,u,o);l=SO(y,l,d,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:xd(g,p,16),Dl:Pd(g,p,16)},{h:f,l:h}=La(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:cw(d,u,63),Bl:lw(d,u,63)},Ke[2*t]=c,Ke[2*t+1]=l,Ke[2*e]=u,Ke[2*e+1]=d,Ke[2*n]=h,Ke[2*n+1]=f,Ke[2*r]=p,Ke[2*r+1]=g}function Qge(t,e={},n,r,s){if(wu(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class Yge extends ZI{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,wu(e),wu(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Mb(this.buffer)}update(e){dh(this),e=Ga(e),ba(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(Rd(s),this.compress(s,0,!1),Rd(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));Rd(d);for(let h=0;c+n<i;h+=s.length,c+=n)this.length+=n,this.compress(d,h,!1);Rd(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){dh(this),RO(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,va(this.buffer.subarray(n)),Rd(r),this.compress(r,0,!0),Rd(r);const s=Mb(e);this.get().forEach((i,o)=>s[o]=jl(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class Zge extends Yge{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=ns[0]|0,this.v0h=ns[1]|0,this.v1l=ns[2]|0,this.v1h=ns[3]|0,this.v2l=ns[4]|0,this.v2h=ns[5]|0,this.v3l=ns[6]|0,this.v3h=ns[7]|0,this.v4l=ns[8]|0,this.v4h=ns[9]|0,this.v5l=ns[10]|0,this.v5h=ns[11]|0,this.v6l=ns[12]|0,this.v6h=ns[13]|0,this.v7l=ns[14]|0,this.v7h=ns[15]|0,Qge(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=Ga(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=Ga(i);const a=Mb(i);this.v4l^=jl(a[0]),this.v4h^=jl(a[1]),this.v5l^=jl(a[2]),this.v5h^=jl(a[3])}if(s!==void 0){s=Ga(s);const a=Mb(s);this.v6l^=jl(a[0]),this.v6h^=jl(a[1]),this.v7l^=jl(a[2]),this.v7h^=jl(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:g,v7h:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=g|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((c,l)=>Ke[l]=c),Ke.set(ns,16);let{h:s,l:i}=pH(BigInt(this.length));Ke[24]=ns[8]^i,Ke[25]=ns[9]^s,r&&(Ke[28]=~Ke[28],Ke[29]=~Ke[29]);let o=0;const a=Kge;for(let c=0;c<12;c++)gd(0,4,8,12,e,n+2*a[o++]),yd(0,4,8,12,e,n+2*a[o++]),gd(1,5,9,13,e,n+2*a[o++]),yd(1,5,9,13,e,n+2*a[o++]),gd(2,6,10,14,e,n+2*a[o++]),yd(2,6,10,14,e,n+2*a[o++]),gd(3,7,11,15,e,n+2*a[o++]),yd(3,7,11,15,e,n+2*a[o++]),gd(0,5,10,15,e,n+2*a[o++]),yd(0,5,10,15,e,n+2*a[o++]),gd(1,6,11,12,e,n+2*a[o++]),yd(1,6,11,12,e,n+2*a[o++]),gd(2,7,8,13,e,n+2*a[o++]),yd(2,7,8,13,e,n+2*a[o++]),gd(3,4,9,14,e,n+2*a[o++]),yd(3,4,9,14,e,n+2*a[o++]);this.v0l^=Ke[0]^Ke[16],this.v0h^=Ke[1]^Ke[17],this.v1l^=Ke[2]^Ke[18],this.v1h^=Ke[3]^Ke[19],this.v2l^=Ke[4]^Ke[20],this.v2h^=Ke[5]^Ke[21],this.v3l^=Ke[6]^Ke[22],this.v3h^=Ke[7]^Ke[23],this.v4l^=Ke[8]^Ke[24],this.v4h^=Ke[9]^Ke[25],this.v5l^=Ke[10]^Ke[26],this.v5h^=Ke[11]^Ke[27],this.v6l^=Ke[12]^Ke[28],this.v6h^=Ke[13]^Ke[29],this.v7l^=Ke[14]^Ke[30],this.v7h^=Ke[15]^Ke[31],va(Ke)}destroy(){this.destroyed=!0,va(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Jge=Cge(t=>new Zge(t)),Xge="https://rpc.walletconnect.org/v1";function TH(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Mge(n)).toString("hex")}async function e0e(t,e,n,r,s,i){switch(n.t){case"eip191":return await t0e(t,e,n.s);case"eip1271":return await n0e(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function t0e(t,e,n){return(await Hfe({hash:TH(e),signature:n})).toLowerCase()===t.toLowerCase()}async function n0e(t,e,n,r,s,i){const o=Hf(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:TH(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${i||Xge}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:r0e(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function r0e(){return Date.now()+Math.floor(Math.random()*1e3)}function s0e(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return P0.encode(i)}function i0e(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=Jge(r,{dkLen:32});return P0.encode(s)}function VM(t){const e=new Uint8Array(JI(o0e(t)));return P0.encode(e)}function o0e(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function HM(t){const e=Buffer.from(t,"base64"),n=Spe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=wpe(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=Gge(i);return Mpe.encode(o).replace(/=+$/,"")}function Mx(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function a0e(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(Mx(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(Mx(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(Mx(r.length)),s.push(r);const i=Buffer.concat(s),o=JI(i);return Buffer.from(o).toString("hex").toUpperCase()}var c0e=Object.defineProperty,l0e=Object.defineProperties,u0e=Object.getOwnPropertyDescriptors,qM=Object.getOwnPropertySymbols,d0e=Object.prototype.hasOwnProperty,h0e=Object.prototype.propertyIsEnumerable,zM=(t,e,n)=>e in t?c0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,f0e=(t,e)=>{for(var n in e||(e={}))d0e.call(e,n)&&zM(t,n,e[n]);if(qM)for(var n of qM(e))h0e.call(e,n)&&zM(t,n,e[n]);return t},p0e=(t,e)=>l0e(t,u0e(e));const m0e="did:pkh:",OO=t=>t?.split(":"),g0e=t=>{const e=t&&OO(t);if(e)return t.includes(m0e)?e[3]:e[1]},rR=t=>{const e=t&&OO(t);if(e)return e[2]+":"+e[3]},RA=t=>{const e=t&&OO(t);if(e)return e.pop()};async function WM(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=SH(s,s.iss),o=RA(s.iss);return await e0e(o,i,r,rR(s.iss),n)}const SH=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=RA(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${g0e(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=gE(t.resources);if(p){const g=Bb(p);s=I0e(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function y0e(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function w0e(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function lp(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function b0e(t,e,n,r={}){return n?.sort((s,i)=>s.localeCompare(i)),{att:{[t]:v0e(e,n,r)}}}function v0e(t,e,n={}){e=e?.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function xH(t){return lp(t),`urn:recap:${y0e(t).replace(/=/g,"")}`}function Bb(t){const e=w0e(t.replace("urn:recap:",""));return lp(e),e}function _0e(t,e,n){const r=b0e(t,e,n);return xH(r)}function E0e(t){return t&&t.includes("urn:recap:")}function A0e(t,e){const n=Bb(t),r=Bb(e),s=C0e(n,r);return xH(s)}function C0e(t,e){lp(t),lp(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=p0e(f0e({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function I0e(t="",e){lp(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function GM(t){var e;const n=Bb(t);lp(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function KM(t){const e=Bb(t);lp(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s?.[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function gE(t){if(!t)return;const e=t?.[t.length-1];return E0e(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function PH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sR(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Lx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Hi(t,...e){if(!PH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function QM(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function T0e(t,e){Hi(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Jd(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Bg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function S0e(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const x0e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function P0e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function iR(t){if(typeof t=="string")t=P0e(t);else if(PH(t))t=oR(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function R0e(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function N0e(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const k0e=(t,e)=>{function n(r,...s){if(Hi(r),!x0e)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Hi(l):Hi(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&Hi(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Hi(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Hi(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Hi(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function YM(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!D0e(e))throw new Error("invalid output, must be aligned");return e}function ZM(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function O0e(t,e,n){sR(n);const r=new Uint8Array(16),s=S0e(r);return ZM(s,0,BigInt(e),n),ZM(s,8,BigInt(t),n),r}function D0e(t){return t.byteOffset%4===0}function oR(t){return Uint8Array.from(t)}const RH=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),M0e=RH("expand 16-byte k"),L0e=RH("expand 32-byte k"),B0e=Jd(M0e),$0e=Jd(L0e);function On(t,e){return t<<e|t>>>32-e}function aR(t){return t.byteOffset%4===0}const R1=64,U0e=16,NH=2**32-1,JM=new Uint32Array;function F0e(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(R1),u=Jd(l),d=aR(s)&&aR(i),h=d?Jd(s):JM,f=d?Jd(i):JM;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=NH)throw new Error("arx: counter overflow");const g=Math.min(R1,c-p);if(d&&g===R1){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let v=0,b;v<U0e;v++)b=y+v,f[b]=h[b]^u[v];p+=R1;continue}for(let y=0,v;y<g;y++)v=p+y,i[v]=s[v]^l[y];p+=g}}function j0e(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=R0e({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Lx(s),Lx(o),sR(i),sR(n),(a,c,l,u,d=0)=>{Hi(a),Hi(c),Hi(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),Hi(u),Lx(d),d<0||d>=NH)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,g,y;if(p===32)f.push(g=oR(a)),y=$0e;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=B0e,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);aR(c)||f.push(c=oR(c));const v=Jd(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,v,Jd(c.subarray(0,16)),v),c=c.subarray(16)}const b=16-s;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const S=new Uint8Array(12);S.set(c,i?0:12-c.length),c=S,f.push(c)}const _=Jd(c);return F0e(t,y,v,_,l,u,d,o),Bg(...f),u}}const ks=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class V0e{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=iR(e),Hi(e,32);const n=ks(e,0),r=ks(e,2),s=ks(e,4),i=ks(e,6),o=ks(e,8),a=ks(e,10),c=ks(e,12),l=ks(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ks(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=o[8],y=o[9],v=ks(e,n+0),b=ks(e,n+2),_=ks(e,n+4),S=ks(e,n+6),C=ks(e,n+8),x=ks(e,n+10),I=ks(e,n+12),E=ks(e,n+14);let A=i[0]+(v&8191),T=i[1]+((v>>>13|b<<3)&8191),k=i[2]+((b>>>10|_<<6)&8191),M=i[3]+((_>>>7|S<<9)&8191),B=i[4]+((S>>>4|C<<12)&8191),Z=i[5]+(C>>>1&8191),N=i[6]+((C>>>14|x<<2)&8191),L=i[7]+((x>>>11|I<<5)&8191),H=i[8]+((I>>>8|E<<8)&8191),F=i[9]+(E>>>5|s),J=0,ee=J+A*a+T*(5*y)+k*(5*g)+M*(5*p)+B*(5*f);J=ee>>>13,ee&=8191,ee+=Z*(5*h)+N*(5*d)+L*(5*u)+H*(5*l)+F*(5*c),J+=ee>>>13,ee&=8191;let W=J+A*c+T*a+k*(5*y)+M*(5*g)+B*(5*p);J=W>>>13,W&=8191,W+=Z*(5*f)+N*(5*h)+L*(5*d)+H*(5*u)+F*(5*l),J+=W>>>13,W&=8191;let ue=J+A*l+T*c+k*a+M*(5*y)+B*(5*g);J=ue>>>13,ue&=8191,ue+=Z*(5*p)+N*(5*f)+L*(5*h)+H*(5*d)+F*(5*u),J+=ue>>>13,ue&=8191;let Ee=J+A*u+T*l+k*c+M*a+B*(5*y);J=Ee>>>13,Ee&=8191,Ee+=Z*(5*g)+N*(5*p)+L*(5*f)+H*(5*h)+F*(5*d),J+=Ee>>>13,Ee&=8191;let ye=J+A*d+T*u+k*l+M*c+B*a;J=ye>>>13,ye&=8191,ye+=Z*(5*y)+N*(5*g)+L*(5*p)+H*(5*f)+F*(5*h),J+=ye>>>13,ye&=8191;let Ie=J+A*h+T*d+k*u+M*l+B*c;J=Ie>>>13,Ie&=8191,Ie+=Z*a+N*(5*y)+L*(5*g)+H*(5*p)+F*(5*f),J+=Ie>>>13,Ie&=8191;let Ve=J+A*f+T*h+k*d+M*u+B*l;J=Ve>>>13,Ve&=8191,Ve+=Z*c+N*a+L*(5*y)+H*(5*g)+F*(5*p),J+=Ve>>>13,Ve&=8191;let oe=J+A*p+T*f+k*h+M*d+B*u;J=oe>>>13,oe&=8191,oe+=Z*l+N*c+L*a+H*(5*y)+F*(5*g),J+=oe>>>13,oe&=8191;let _e=J+A*g+T*p+k*f+M*h+B*d;J=_e>>>13,_e&=8191,_e+=Z*u+N*l+L*c+H*a+F*(5*y),J+=_e>>>13,_e&=8191;let se=J+A*y+T*g+k*p+M*f+B*h;J=se>>>13,se&=8191,se+=Z*d+N*u+L*l+H*c+F*a,J+=se>>>13,se&=8191,J=(J<<2)+J|0,J=J+ee|0,ee=J&8191,J=J>>>13,W+=J,i[0]=ee,i[1]=W,i[2]=ue,i[3]=Ee,i[4]=ye,i[5]=Ie,i[6]=Ve,i[7]=oe,i[8]=_e,i[9]=se}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Bg(r)}update(e){QM(this),e=iR(e),Hi(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Bg(this.h,this.r,this.buffer,this.pad)}digestInto(e){QM(this),T0e(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function H0e(t){const e=(r,s)=>t(s).update(iR(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const q0e=H0e(t=>new V0e(t));function z0e(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],g=e[5],y=e[6],v=e[7],b=s,_=n[0],S=n[1],C=n[2],x=o,I=a,E=c,A=l,T=u,k=d,M=h,B=f,Z=p,N=g,L=y,H=v,F=b,J=_,ee=S,W=C;for(let Ee=0;Ee<i;Ee+=2)x=x+T|0,F=On(F^x,16),Z=Z+F|0,T=On(T^Z,12),x=x+T|0,F=On(F^x,8),Z=Z+F|0,T=On(T^Z,7),I=I+k|0,J=On(J^I,16),N=N+J|0,k=On(k^N,12),I=I+k|0,J=On(J^I,8),N=N+J|0,k=On(k^N,7),E=E+M|0,ee=On(ee^E,16),L=L+ee|0,M=On(M^L,12),E=E+M|0,ee=On(ee^E,8),L=L+ee|0,M=On(M^L,7),A=A+B|0,W=On(W^A,16),H=H+W|0,B=On(B^H,12),A=A+B|0,W=On(W^A,8),H=H+W|0,B=On(B^H,7),x=x+k|0,W=On(W^x,16),L=L+W|0,k=On(k^L,12),x=x+k|0,W=On(W^x,8),L=L+W|0,k=On(k^L,7),I=I+M|0,F=On(F^I,16),H=H+F|0,M=On(M^H,12),I=I+M|0,F=On(F^I,8),H=H+F|0,M=On(M^H,7),E=E+B|0,J=On(J^E,16),Z=Z+J|0,B=On(B^Z,12),E=E+B|0,J=On(J^E,8),Z=Z+J|0,B=On(B^Z,7),A=A+T|0,ee=On(ee^A,16),N=N+ee|0,T=On(T^N,12),A=A+T|0,ee=On(ee^A,8),N=N+ee|0,T=On(T^N,7);let ue=0;r[ue++]=o+x|0,r[ue++]=a+I|0,r[ue++]=c+E|0,r[ue++]=l+A|0,r[ue++]=u+T|0,r[ue++]=d+k|0,r[ue++]=h+M|0,r[ue++]=f+B|0,r[ue++]=p+Z|0,r[ue++]=g+N|0,r[ue++]=y+L|0,r[ue++]=v+H|0,r[ue++]=b+F|0,r[ue++]=_+J|0,r[ue++]=S+ee|0,r[ue++]=C+W|0}const W0e=j0e(z0e,{counterRight:!1,counterLength:4,allowShortKeys:!1}),G0e=new Uint8Array(16),XM=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(G0e.subarray(n))},K0e=new Uint8Array(32);function eL(t,e,n,r,s){const i=t(e,n,K0e),o=q0e.create(i);s&&XM(o,s),XM(o,r);const a=O0e(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return Bg(i,a),c}const Q0e=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=YM(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=eL(t,e,n,a,r);return i.set(c,o),Bg(c),i},decrypt(s,i){i=YM(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=eL(t,e,n,o,r);if(!N0e(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Bg(c),i}}),kH=k0e({blockSize:64,nonceLength:12,tagLength:16},Q0e(W0e));let OH=class extends ZI{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,PO(e);const r=Ga(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),va(i)}update(e){return dh(this),this.iHash.update(e),this}digestInto(e){dh(this),ba(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const XI=(t,e,n)=>new OH(t,e).update(n).digest();XI.create=(t,e)=>new OH(t,e);function Y0e(t,e,n){return PO(t),n===void 0&&(n=new Uint8Array(t.outputLen)),XI(t,Ga(n),Ga(e))}const Bx=Uint8Array.from([0]),tL=Uint8Array.of();function Z0e(t,e,n,r=32){PO(t),wu(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=tL);const o=new Uint8Array(i*s),a=XI.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)Bx[0]=u+1,c.update(u===0?tL:l).update(n).update(Bx).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),va(l,Bx),o.slice(0,r)}const J0e=(t,e,n,r,s)=>Z0e(t,Y0e(t,e,n),r,s),eT=JI,DO=BigInt(0),cR=BigInt(1);function NA(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function N1(t){const e=t.toString(16);return e.length&1?"0"+e:e}function DH(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?DO:BigInt("0x"+t)}function tT(t){return DH(Lb(t))}function kA(t){return ba(t),DH(Lb(Uint8Array.from(t).reverse()))}function MO(t,e){return NO(t.toString(16).padStart(e*2,"0"))}function LO(t,e){return MO(t,e).reverse()}function ji(t,e,n){let r;if(typeof e=="string")try{r=NO(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(xO(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const $x=t=>typeof t=="bigint"&&DO<=t;function X0e(t,e,n){return $x(t)&&$x(e)&&$x(n)&&e<=t&&t<n}function lR(t,e,n,r){if(!X0e(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function eye(t){let e;for(e=0;t>DO;t>>=cR,e+=1);return e}const nT=t=>(cR<<BigInt(t))-cR;function tye(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return Pf(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function rT(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function nL(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Yi=BigInt(0),Ei=BigInt(1),Rf=BigInt(2),nye=BigInt(3),MH=BigInt(4),LH=BigInt(5),BH=BigInt(8);function ia(t,e){const n=t%e;return n>=Yi?n:e+n}function Da(t,e,n){let r=t;for(;e-- >Yi;)r*=r,r%=n;return r}function rL(t,e){if(t===Yi)throw new Error("invert: expected non-zero number");if(e<=Yi)throw new Error("invert: expected positive modulus, got "+e);let n=ia(t,e),r=e,s=Yi,i=Ei;for(;n!==Yi;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Ei)throw new Error("invert: does not exist");return ia(s,e)}function $H(t,e){const n=(t.ORDER+Ei)/MH,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function rye(t,e){const n=(t.ORDER-LH)/BH,r=t.mul(e,Rf),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Rf),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function sye(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ei,n=0;for(;e%Rf===Yi;)e/=Rf,n++;let r=Rf;const s=k0(t);for(;sL(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return $H;let i=s.pow(r,e);const o=(e+Ei)/Rf;return function(a,c){if(a.is0(c))return c;if(sL(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const g=Ei<<BigInt(l-f-1),y=a.pow(u,g);l=f,u=a.sqr(y),d=a.mul(d,u),h=a.mul(h,y)}return h}}function iye(t){return t%MH===nye?$H:t%BH===LH?rye:sye(t)}const oye=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aye(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=oye.reduce((r,s)=>(r[s]="function",r),e);return rT(t,n),t}function cye(t,e,n){if(n<Yi)throw new Error("invalid exponent, negatives unsupported");if(n===Yi)return t.ONE;if(n===Ei)return e;let r=t.ONE,s=e;for(;n>Yi;)n&Ei&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Ei;return r}function UH(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function sL(t,e){const n=(t.ORDER-Ei)/Rf,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function lye(t,e){e!==void 0&&wu(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function k0(t,e,n=!1,r={}){if(t<=Yi)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=lye(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:nT(o),ZERO:Yi,ONE:Ei,create:u=>ia(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Yi<=u&&u<t},is0:u=>u===Yi,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Ei)===Ei,neg:u=>ia(-u,t),eql:(u,d)=>u===d,sqr:u=>ia(u*u,t),add:(u,d)=>ia(u+d,t),sub:(u,d)=>ia(u-d,t),mul:(u,d)=>ia(u*d,t),pow:(u,d)=>cye(l,u,d),div:(u,d)=>ia(u*rL(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>rL(u,t),sqrt:i||(u=>(c||(c=iye(t)),c(l,u))),toBytes:u=>n?LO(u,a):MO(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?kA(u):tT(u)},invertBatch:u=>UH(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function FH(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function jH(t){const e=FH(t);return e+Math.ceil(e/2)}function uye(t,e,n=!1){const r=t.length,s=FH(e),i=jH(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?kA(t):tT(t),a=ia(o,e-Ei)+Ei;return n?LO(a,s):MO(a,s)}const $g=BigInt(0),Nf=BigInt(1);function kw(t,e){const n=e.negate();return t?n:e}function dye(t,e,n){const r=i=>i.pz,s=UH(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function VH(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ux(t,e){VH(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=nT(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function iL(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Nf);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function hye(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function fye(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Fx=new WeakMap,HH=new WeakMap;function jx(t){return HH.get(t)||1}function oL(t){if(t!==$g)throw new Error("invalid wNAF")}function pye(t,e){return{constTimeNegate:kw,hasPrecomputes(n){return jx(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>$g;)r&Nf&&(s=s.add(i)),i=i.double(),r>>=Nf;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Ux(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=Ux(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=iL(s,c,a);s=l,d?o=o.add(kw(f,r[p])):i=i.add(kw(h,r[u]))}return oL(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=Ux(n,e);for(let a=0;a<o.windows&&s!==$g;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=iL(s,a,o);if(s=c,!u){const h=r[l];i=i.add(d?h.negate():h)}}return oL(s),i},getPrecomputes(n,r,s){let i=Fx.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),Fx.set(r,i))),i},wNAFCached(n,r,s){const i=jx(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=jx(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){VH(r,e),HH.set(n,r),Fx.delete(n)}}}function mye(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>$g||r>$g;)n&Nf&&(i=i.add(s)),r&Nf&&(o=o.add(s)),s=s.double(),n>>=Nf,r>>=Nf;return{p1:i,p2:o}}function gye(t,e,n,r){hye(n,t),fye(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=eye(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=nT(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],v=Number(y>>BigInt(f)&l);u[v]=u[v].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(h=h.add(p),f!==0)for(let g=0;g<c;g++)h=h.double()}return h}function aL(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return aye(e),e}else return k0(t)}function yye(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>$g))throw new Error(`CURVE.${o} must be positive bigint`)}const r=aL(e.p,n.Fp),s=aL(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const qy=BigInt(0),Am=BigInt(1),k1=BigInt(2);function wye(t){return rT(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function bye(t){const e=wye(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||N0,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?k1**BigInt(254):k1**BigInt(447),p=a?BigInt(8)*k1**BigInt(251)-Am:BigInt(4)*k1**BigInt(445)-Am,g=f+p+Am,y=A=>ia(A,n),v=b(d);function b(A){return LO(y(A),u)}function _(A){const T=ji("u coordinate",A,u);return a&&(T[31]&=127),y(kA(T))}function S(A){return kA(s(ji("scalar",A,u)))}function C(A,T){const k=E(_(T),S(A));if(k===qy)throw new Error("invalid private or public key received");return b(k)}function x(A){return C(A,v)}function I(A,T,k){const M=y(A*(T-k));return T=y(T-M),k=y(k+M),{x_2:T,x_3:k}}function E(A,T){lR("u",A,qy,n),lR("scalar",T,f,g);const k=T,M=A;let B=Am,Z=qy,N=A,L=Am,H=qy;for(let J=BigInt(l-1);J>=qy;J--){const ee=k>>J&Am;H^=ee,{x_2:B,x_3:N}=I(H,B,N),{x_2:Z,x_3:L}=I(H,Z,L),H=ee;const W=B+Z,ue=y(W*W),Ee=B-Z,ye=y(Ee*Ee),Ie=ue-ye,Ve=N+L,oe=N-L,_e=y(oe*W),se=y(Ve*Ee),Pe=_e+se,mt=_e-se;N=y(Pe*Pe),L=y(M*y(mt*mt)),B=y(ue*ye),Z=y(Ie*(ue+y(h*Ie)))}({x_2:B,x_3:N}=I(H,B,N)),{x_2:Z,x_3:L}=I(H,Z,L);const F=i(Z);return y(B*F)}return{scalarMult:C,scalarMultBase:x,getSharedSecret:(A,T)=>C(A,T),getPublicKey:A=>x(A),utils:{randomPrivateKey:()=>c(u)},GuBytes:v.slice()}}BigInt(0);const vye=BigInt(1),cL=BigInt(2),_ye=BigInt(3),Eye=BigInt(5);BigInt(8);const qH={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Aye(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=qH.p,o=t*t%i*t%i,a=Da(o,cL,i)*o%i,c=Da(a,vye,i)*t%i,l=Da(c,Eye,i)*c%i,u=Da(l,e,i)*l%i,d=Da(u,n,i)*u%i,h=Da(d,r,i)*d%i,f=Da(h,s,i)*h%i,p=Da(f,s,i)*h%i,g=Da(p,e,i)*l%i;return{pow_p_5_8:Da(g,cL,i)*t%i,b2:o}}function Cye(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const uR=(()=>{const t=qH.p;return bye({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Aye(e);return ia(Da(n,_ye,t)*r,t)},adjustScalarBytes:Cye})})();function lL(t){t.lowS!==void 0&&NA("lowS",t.lowS),t.prehash!==void 0&&NA("prehash",t.prehash)}class Iye extends Error{constructor(e=""){super(e)}}const Kl={Err:Iye,_tlv:{encode:(t,e)=>{const{Err:n}=Kl;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=N1(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?N1(s.length/2|128):"";return N1(t)+i+s+e},decode(t,e){const{Err:n}=Kl;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Kl;if(t<Ow)throw new e("integer: negative integers are not allowed");let n=N1(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Kl;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return tT(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Kl,s=ji("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Kl,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},Ow=BigInt(0),Dw=BigInt(1),Tye=BigInt(2),O1=BigInt(3),Sye=BigInt(4);function xye(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function zH(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=ji("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function Pye(t,e={}){const{Fp:n,Fn:r}=yye("weierstrass",t,e),{h:s,n:i}=t;rT(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(E,A,T){const{x:k,y:M}=A.toAffine(),B=n.toBytes(k);if(NA("isCompressed",T),T){a();const Z=!n.isOdd(M);return Pf(WH(Z),B)}else return Pf(Uint8Array.of(4),B,n.toBytes(M))}function l(E){ba(E);const A=n.BYTES,T=A+1,k=2*A+1,M=E.length,B=E[0],Z=E.subarray(1);if(M===T&&(B===2||B===3)){const N=n.fromBytes(Z);if(!n.isValid(N))throw new Error("bad point: is not on curve, wrong x");const L=h(N);let H;try{H=n.sqrt(L)}catch(J){const ee=J instanceof Error?": "+J.message:"";throw new Error("bad point: is not on curve, sqrt error"+ee)}a();const F=n.isOdd(H);return(B&1)===1!==F&&(H=n.neg(H)),{x:N,y:H}}else if(M===k&&B===4){const N=n.fromBytes(Z.subarray(A*0,A*1)),L=n.fromBytes(Z.subarray(A*1,A*2));if(!f(N,L))throw new Error("bad point: is not on curve");return{x:N,y:L}}else throw new Error(`bad point: got length ${M}, expected compressed=${T} or uncompressed=${k}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=xye(n,t.a,t.b);function f(E,A){const T=n.sqr(A),k=h(E);return n.eql(T,k)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,O1),Sye),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function y(E,A,T=!1){if(!n.isValid(A)||T&&n.is0(A))throw new Error(`bad point coordinate ${E}`);return A}function v(E){if(!(E instanceof C))throw new Error("ProjectivePoint expected")}const b=nL((E,A)=>{const{px:T,py:k,pz:M}=E;if(n.eql(M,n.ONE))return{x:T,y:k};const B=E.is0();A==null&&(A=B?n.ONE:n.inv(M));const Z=n.mul(T,A),N=n.mul(k,A),L=n.mul(M,A);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:Z,y:N}}),_=nL(E=>{if(E.is0()){if(e.allowInfinityPoint&&!n.is0(E.py))return;throw new Error("bad point: ZERO")}const{x:A,y:T}=E.toAffine();if(!n.isValid(A)||!n.isValid(T))throw new Error("bad point: x or y not field elements");if(!f(A,T))throw new Error("bad point: equation left != right");if(!E.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function S(E,A,T,k,M){return T=new C(n.mul(T.px,E),T.py,T.pz),A=kw(k,A),T=kw(M,T),A.add(T)}class C{constructor(A,T,k){this.px=y("x",A),this.py=y("y",T,!0),this.pz=y("z",k),Object.freeze(this)}static fromAffine(A){const{x:T,y:k}=A||{};if(!A||!n.isValid(T)||!n.isValid(k))throw new Error("invalid affine point");if(A instanceof C)throw new Error("projective point not allowed");return n.is0(T)&&n.is0(k)?C.ZERO:new C(T,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){return dye(C,"pz",A)}static fromBytes(A){return ba(A),C.fromHex(A)}static fromHex(A){const T=C.fromAffine(d(ji("pointHex",A)));return T.assertValidity(),T}static fromPrivateKey(A){const T=zH(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return C.BASE.multiply(T(A))}static msm(A,T){return gye(C,r,A,T)}precompute(A=8,T=!0){return I.setWindowSize(this,A),T||this.multiply(O1),this}_setWindowSize(A){this.precompute(A)}assertValidity(){_(this)}hasEvenY(){const{y:A}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(A)}equals(A){v(A);const{px:T,py:k,pz:M}=this,{px:B,py:Z,pz:N}=A,L=n.eql(n.mul(T,N),n.mul(B,M)),H=n.eql(n.mul(k,N),n.mul(Z,M));return L&&H}negate(){return new C(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:T}=t,k=n.mul(T,O1),{px:M,py:B,pz:Z}=this;let N=n.ZERO,L=n.ZERO,H=n.ZERO,F=n.mul(M,M),J=n.mul(B,B),ee=n.mul(Z,Z),W=n.mul(M,B);return W=n.add(W,W),H=n.mul(M,Z),H=n.add(H,H),N=n.mul(A,H),L=n.mul(k,ee),L=n.add(N,L),N=n.sub(J,L),L=n.add(J,L),L=n.mul(N,L),N=n.mul(W,N),H=n.mul(k,H),ee=n.mul(A,ee),W=n.sub(F,ee),W=n.mul(A,W),W=n.add(W,H),H=n.add(F,F),F=n.add(H,F),F=n.add(F,ee),F=n.mul(F,W),L=n.add(L,F),ee=n.mul(B,Z),ee=n.add(ee,ee),F=n.mul(ee,W),N=n.sub(N,F),H=n.mul(ee,J),H=n.add(H,H),H=n.add(H,H),new C(N,L,H)}add(A){v(A);const{px:T,py:k,pz:M}=this,{px:B,py:Z,pz:N}=A;let L=n.ZERO,H=n.ZERO,F=n.ZERO;const J=t.a,ee=n.mul(t.b,O1);let W=n.mul(T,B),ue=n.mul(k,Z),Ee=n.mul(M,N),ye=n.add(T,k),Ie=n.add(B,Z);ye=n.mul(ye,Ie),Ie=n.add(W,ue),ye=n.sub(ye,Ie),Ie=n.add(T,M);let Ve=n.add(B,N);return Ie=n.mul(Ie,Ve),Ve=n.add(W,Ee),Ie=n.sub(Ie,Ve),Ve=n.add(k,M),L=n.add(Z,N),Ve=n.mul(Ve,L),L=n.add(ue,Ee),Ve=n.sub(Ve,L),F=n.mul(J,Ie),L=n.mul(ee,Ee),F=n.add(L,F),L=n.sub(ue,F),F=n.add(ue,F),H=n.mul(L,F),ue=n.add(W,W),ue=n.add(ue,W),Ee=n.mul(J,Ee),Ie=n.mul(ee,Ie),ue=n.add(ue,Ee),Ee=n.sub(W,Ee),Ee=n.mul(J,Ee),Ie=n.add(Ie,Ee),W=n.mul(ue,Ie),H=n.add(H,W),W=n.mul(Ve,Ie),L=n.mul(ye,L),L=n.sub(L,W),W=n.mul(ye,ue),F=n.mul(Ve,F),F=n.add(F,W),new C(L,H,F)}subtract(A){return this.add(A.negate())}is0(){return this.equals(C.ZERO)}multiply(A){const{endo:T}=e;if(!r.isValidNot0(A))throw new Error("invalid scalar: out of range");let k,M;const B=Z=>I.wNAFCached(this,Z,C.normalizeZ);if(T){const{k1neg:Z,k1:N,k2neg:L,k2:H}=T.splitScalar(A),{p:F,f:J}=B(N),{p:ee,f:W}=B(H);M=J.add(W),k=S(T.beta,F,ee,Z,L)}else{const{p:Z,f:N}=B(A);k=Z,M=N}return C.normalizeZ([k,M])[0]}multiplyUnsafe(A){const{endo:T}=e,k=this;if(!r.isValid(A))throw new Error("invalid scalar: out of range");if(A===Ow||k.is0())return C.ZERO;if(A===Dw)return k;if(I.hasPrecomputes(this))return this.multiply(A);if(T){const{k1neg:M,k1:B,k2neg:Z,k2:N}=T.splitScalar(A),{p1:L,p2:H}=mye(C,k,B,N);return S(T.beta,L,H,M,Z)}else return I.wNAFCachedUnsafe(k,A)}multiplyAndAddUnsafe(A,T,k){const M=this.multiplyUnsafe(T).add(A.multiplyUnsafe(k));return M.is0()?void 0:M}toAffine(A){return b(this,A)}isTorsionFree(){const{isTorsionFree:A}=e;return s===Dw?!0:A?A(C,this):I.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:A}=e;return s===Dw?this:A?A(C,this):this.multiplyUnsafe(s)}toBytes(A=!0){return NA("isCompressed",A),this.assertValidity(),u(C,this,A)}toRawBytes(A=!0){return this.toBytes(A)}toHex(A=!0){return Lb(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}C.BASE=new C(t.Gx,t.Gy,n.ONE),C.ZERO=new C(n.ZERO,n.ONE,n.ZERO),C.Fp=n,C.Fn=r;const x=r.BITS,I=pye(C,e.endo?Math.ceil(x/2):x);return C}function WH(t){return Uint8Array.of(t?2:3)}function Rye(t,e,n={}){rT(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||N0,s=e.hmac||((k,...M)=>XI(e.hash,k,Pf(...M))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(k){const M=a>>Dw;return k>M}function u(k){return l(k)?o.neg(k):k}function d(k,M){if(!o.isValidNot0(M))throw new Error(`invalid signature ${k}: out of range 1..CURVE.n`)}class h{constructor(M,B,Z){d("r",M),d("s",B),this.r=M,this.s=B,Z!=null&&(this.recovery=Z),Object.freeze(this)}static fromCompact(M){const B=o.BYTES,Z=ji("compactSignature",M,B*2);return new h(o.fromBytes(Z.subarray(0,B)),o.fromBytes(Z.subarray(B,B*2)))}static fromDER(M){const{r:B,s:Z}=Kl.toSig(ji("DER",M));return new h(B,Z)}assertValidity(){}addRecoveryBit(M){return new h(this.r,this.s,M)}recoverPublicKey(M){const B=i.ORDER,{r:Z,s:N,recovery:L}=this;if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");if(a*Tye<B&&L>1)throw new Error("recovery id is ambiguous for h>1 curve");const H=L===2||L===3?Z+a:Z;if(!i.isValid(H))throw new Error("recovery id 2 or 3 invalid");const F=i.toBytes(H),J=t.fromHex(Pf(WH((L&1)===0),F)),ee=o.inv(H),W=_(ji("msgHash",M)),ue=o.create(-W*ee),Ee=o.create(N*ee),ye=t.BASE.multiplyUnsafe(ue).add(J.multiplyUnsafe(Ee));if(ye.is0())throw new Error("point at infinify");return ye.assertValidity(),ye}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(M){if(M==="compact")return Pf(o.toBytes(this.r),o.toBytes(this.s));if(M==="der")return NO(Kl.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Lb(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Lb(this.toBytes("compact"))}}const f=zH(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(k){try{return f(k),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const k=a;return uye(r(jH(k)),k)},precompute(k=8,M=t.BASE){return M.precompute(k,!1)}};function g(k,M=!0){return t.fromPrivateKey(k).toBytes(M)}function y(k){if(typeof k=="bigint")return!1;if(k instanceof t)return!0;const M=ji("key",k).length,B=i.BYTES,Z=B+1,N=2*B+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===Z))return M===Z||M===N}function v(k,M,B=!0){if(y(k)===!0)throw new Error("first arg must be private key");if(y(M)===!1)throw new Error("second arg must be public key");return t.fromHex(M).multiply(f(k)).toBytes(B)}const b=e.bits2int||function(k){if(k.length>8192)throw new Error("input is too large");const M=tT(k),B=k.length*8-c;return B>0?M>>BigInt(B):M},_=e.bits2int_modN||function(k){return o.create(b(k))},S=nT(c);function C(k){return lR("num < 2^"+c,k,Ow,S),o.toBytes(k)}function x(k,M,B=I){if(["recovered","canonical"].some(ye=>ye in B))throw new Error("sign() legacy options not supported");const{hash:Z}=e;let{lowS:N,prehash:L,extraEntropy:H}=B;N==null&&(N=!0),k=ji("msgHash",k),lL(B),L&&(k=ji("prehashed msgHash",Z(k)));const F=_(k),J=f(M),ee=[C(J),C(F)];if(H!=null&&H!==!1){const ye=H===!0?r(i.BYTES):H;ee.push(ji("extraEntropy",ye))}const W=Pf(...ee),ue=F;function Ee(ye){const Ie=b(ye);if(!o.isValidNot0(Ie))return;const Ve=o.inv(Ie),oe=t.BASE.multiply(Ie).toAffine(),_e=o.create(oe.x);if(_e===Ow)return;const se=o.create(Ve*o.create(ue+_e*J));if(se===Ow)return;let Pe=(oe.x===_e?0:2)|Number(oe.y&Dw),mt=se;return N&&l(se)&&(mt=u(se),Pe^=1),new h(_e,mt,Pe)}return{seed:W,k2sig:Ee}}const I={lowS:e.lowS,prehash:!1},E={lowS:e.lowS,prehash:!1};function A(k,M,B=I){const{seed:Z,k2sig:N}=x(k,M,B);return tye(e.hash.outputLen,o.BYTES,s)(Z,N)}t.BASE.precompute(8);function T(k,M,B,Z=E){const N=k;M=ji("msgHash",M),B=ji("publicKey",B),lL(Z);const{lowS:L,prehash:H,format:F}=Z;if("strict"in Z)throw new Error("options.strict was renamed to lowS");if(F!==void 0&&!["compact","der","js"].includes(F))throw new Error('format must be "compact", "der" or "js"');const J=typeof N=="string"||xO(N),ee=!J&&!F&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!J&&!ee)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,ue;try{if(ee)if(F===void 0||F==="js")W=new h(N.r,N.s);else throw new Error("invalid format");if(J){try{F!=="compact"&&(W=h.fromDER(N))}catch(Pe){if(!(Pe instanceof Kl.Err))throw Pe}!W&&F!=="der"&&(W=h.fromCompact(N))}ue=t.fromHex(B)}catch{return!1}if(!W||L&&W.hasHighS())return!1;H&&(M=e.hash(M));const{r:Ee,s:ye}=W,Ie=_(M),Ve=o.inv(ye),oe=o.create(Ie*Ve),_e=o.create(Ee*Ve),se=t.BASE.multiplyUnsafe(oe).add(ue.multiplyUnsafe(_e));return se.is0()?!1:o.create(se.x)===Ee}return Object.freeze({getPublicKey:g,getSharedSecret:v,sign:A,verify:T,utils:p,Point:t,Signature:h})}function Nye(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=k0(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function kye(t){const{CURVE:e,curveOpts:n}=Nye(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function Oye(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Dye(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=kye(t),s=Pye(e,n),i=Rye(s,r,n);return Oye(t,i)}function dR(t,e){const n=r=>Dye({...t,hash:r});return{...n(e),create:n}}const GH={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},KH={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},QH={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Mye=k0(GH.p),Lye=k0(KH.p),Bye=k0(QH.p),$ye=dR({...GH,Fp:Mye,lowS:!1},JI);dR({...KH,Fp:Lye,lowS:!1},Wge),dR({...QH,Fp:Bye,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},zge);const Uye=$ye,YH="base10",Ai="base16",qi="base64pad",Dd="base64url",d_="utf8",ZH=0,ou=1,h_=2,Fye=0,uL=1,Mw=12,BO=32;function jye(){const t=uR.utils.randomPrivateKey(),e=uR.getPublicKey(t);return{privateKey:eo(t,Ai),publicKey:eo(e,Ai)}}function hR(){const t=N0(BO);return eo(t,Ai)}function Vye(t,e){const n=uR.getSharedSecret(ha(t,Ai),ha(e,Ai)),r=J0e(eT,n,void 0,void 0,BO);return eo(r,Ai)}function yE(t){const e=eT(ha(t,Ai));return eo(e,Ai)}function ea(t){const e=eT(ha(t,d_));return eo(e,Ai)}function JH(t){return ha(`${t}`,YH)}function up(t){return Number(eo(t,YH))}function XH(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function eq(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Hye(t){const e=JH(typeof t.type<"u"?t.type:ZH);if(up(e)===ou&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ha(t.senderPublicKey,Ai):void 0,r=typeof t.iv<"u"?ha(t.iv,Ai):N0(Mw),s=ha(t.symKey,Ai),i=kH(s,r).encrypt(ha(t.message,d_)),o=tq({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===Dd?XH(o):o}function qye(t){const e=ha(t.symKey,Ai),{sealed:n,iv:r}=$b({encoded:t.encoded,encoding:t.encoding}),s=kH(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return eo(s,d_)}function zye(t,e){const n=JH(h_),r=N0(Mw),s=ha(t,d_),i=tq({type:n,sealed:s,iv:r});return e===Dd?XH(i):i}function Wye(t,e){const{sealed:n}=$b({encoded:t,encoding:e});return eo(n,d_)}function tq(t){if(up(t.type)===h_)return eo(Nw([t.type,t.sealed]),qi);if(up(t.type)===ou){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return eo(Nw([t.type,t.senderPublicKey,t.iv,t.sealed]),qi)}return eo(Nw([t.type,t.iv,t.sealed]),qi)}function $b(t){const e=(t.encoding||qi)===Dd?eq(t.encoded):t.encoded,n=ha(e,qi),r=n.slice(Fye,uL),s=uL;if(up(r)===ou){const c=s+BO,l=c+Mw,u=n.slice(s,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(up(r)===h_){const c=n.slice(s),l=N0(Mw);return{type:r,sealed:c,iv:l}}const i=s+Mw,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function Gye(t,e){const n=$b({encoded:t,encoding:e?.encoding});return nq({type:up(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?eo(n.senderPublicKey,Ai):void 0,receiverPublicKey:e?.receiverPublicKey})}function nq(t){const e=t?.type||ZH;if(e===ou){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function dL(t){return t.type===ou&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function hL(t){return t.type===h_}function Kye(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Nw([new Uint8Array([4]),e,n])}function Qye(t,e){const[n,r,s]=t.split("."),i=Buffer.from(eq(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=eT(c),u=Kye(e);if(!Uye.verify(Nw([o,a]),l,u))throw new Error("Invalid signature");return W2(t).payload}const Yye="irn";function OA(t){return t?.relay||{protocol:Yye}}function sg(t){const e=kme[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Zye(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function fL(t){if(!t.includes("wc:")){const l=fH(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Jye(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Zye(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Jye(t){return t.startsWith("//")?t.substring(2):t}function Xye(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function pL(t){const e=new URLSearchParams,n=Xye(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function D1(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var ewe=Object.defineProperty,twe=Object.defineProperties,nwe=Object.getOwnPropertyDescriptors,mL=Object.getOwnPropertySymbols,rwe=Object.prototype.hasOwnProperty,swe=Object.prototype.propertyIsEnumerable,gL=(t,e,n)=>e in t?ewe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iwe=(t,e)=>{for(var n in e||(e={}))rwe.call(e,n)&&gL(t,n,e[n]);if(mL)for(var n of mL(e))swe.call(e,n)&&gL(t,n,e[n]);return t},owe=(t,e)=>twe(t,nwe(e));function O0(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function awe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...O0(n.accounts))}),e}function cwe(t,e){const n=[];return Object.values(t).forEach(r=>{O0(r.accounts).includes(e)&&n.push(...r.methods)}),n}function lwe(t,e){const n=[];return Object.values(t).forEach(r=>{O0(r.accounts).includes(e)&&n.push(...r.events)}),n}function sT(t){return t.includes(":")}function ig(t){return sT(t)?t.split(":")[0]:t}function yL(t){var e,n,r;const s={};if(!qc(t))return s;for(const[i,o]of Object.entries(t)){const a=sT(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=ig(i);s[u]=owe(iwe({},s[u]),{chains:Hc(a,(e=s[u])==null?void 0:e.chains),methods:Hc(c,(n=s[u])==null?void 0:n.methods),events:Hc(l,(r=s[u])==null?void 0:r.events)})}return s}function uwe(t){const e={};return t?.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function wL(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=uwe(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=Hc(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function dwe(t,e){var n,r,s,i,o,a;const c=yL(t),l=yL(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Hc((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:Hc((s=c[h])==null?void 0:s.methods,(i=l[h])==null?void 0:i.methods),events:Hc((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const hwe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},fwe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Fe(t,e){const{message:n,code:r}=fwe[t];return{message:e?`${n} ${e}`:n,code:r}}function Er(t,e){const{message:n,code:r}=hwe[t];return{message:e?`${n} ${e}`:n,code:r}}function au(t,e){return!!Array.isArray(t)}function qc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function os(t){return typeof t>"u"}function Zr(t,e){return e&&os(t)?!0:typeof t=="string"&&!!t.trim().length}function $O(t,e){return e&&os(t)?!0:typeof t=="number"&&!isNaN(t)}function pwe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return xf(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=O0(a),d=n[o];(!xf(cH(o,d),u)||!xf(d.methods,c)||!xf(d.events,l))&&(i=!1)}),i):!1}function DA(t){return Zr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function mwe(t){if(Zr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&DA(n)}}return!1}function gwe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Zr(t,!1)){if(e(t))return!0;const n=fH(t);return e(n)}}catch{}return!1}function ywe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function wwe(t){return t?.topic}function bwe(t,e){let n=null;return Zr(t?.publicKey,!1)||(n=Fe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function bL(t){let e=!0;return au(t)?t.length&&(e=t.every(n=>Zr(n,!1))):e=!1,e}function vwe(t,e,n){let r=null;return au(e)&&e.length?e.forEach(s=>{r||DA(s)||(r=Er("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):DA(t)||(r=Er("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function _we(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=vwe(s,cH(s,i),`${e} ${n}`);o&&(r=o)}),r}function Ewe(t,e){let n=null;return au(t)?t.forEach(r=>{n||mwe(r)||(n=Er("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Er("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Awe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Ewe(r?.accounts,`${e} namespace`);s&&(n=s)}),n}function Cwe(t,e){let n=null;return bL(t?.methods)?bL(t?.events)||(n=Er("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Er("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function rq(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Cwe(r,`${e}, namespace`);s&&(n=s)}),n}function Iwe(t,e,n){let r=null;if(t&&qc(t)){const s=rq(t,e);s&&(r=s);const i=_we(t,e,n);i&&(r=i)}else r=Fe("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Vx(t,e){let n=null;if(t&&qc(t)){const r=rq(t,e);r&&(n=r);const s=Awe(t,e);s&&(n=s)}else n=Fe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function sq(t){return Zr(t.protocol,!0)}function Twe(t,e){let n=!1;return t?t&&au(t)&&t.length&&t.forEach(r=>{n=sq(r)}):n=!0,n}function Swe(t){return typeof t=="number"}function Ui(t){return typeof t<"u"&&typeof t!==null}function xwe(t){return!(!t||typeof t!="object"||!t.code||!$O(t.code,!1)||!t.message||!Zr(t.message,!1))}function Pwe(t){return!(os(t)||!Zr(t.method,!1))}function Rwe(t){return!(os(t)||os(t.result)&&os(t.error)||!$O(t.id,!1)||!Zr(t.jsonrpc,!1))}function Nwe(t){return!(os(t)||!Zr(t.name,!1))}function vL(t,e){return!(!DA(e)||!awe(t).includes(e))}function kwe(t,e,n){return Zr(n,!1)?cwe(t,e).includes(n):!1}function Owe(t,e,n){return Zr(n,!1)?lwe(t,e).includes(n):!1}function _L(t,e,n){let r=null;const s=Dwe(t),i=Mwe(e),o=Object.keys(s),a=Object.keys(i),c=EL(Object.keys(t)),l=EL(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=Fe("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),xf(o,a)||(r=Fe("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=O0(e[d].accounts);h.includes(d)||(r=Fe("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(xf(s[d].methods,i[d].methods)?xf(s[d].events,i[d].events)||(r=Fe("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=Fe("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Dwe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function EL(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Mwe(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:O0(t[n].accounts)?.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}),e}function Lwe(t,e){return $O(t,!1)&&t<=e.max&&t>=e.min}function AL(){const t=l_();return new Promise(e=>{switch(t){case Ao.browser:e(Bwe());break;case Ao.reactNative:e($we());break;case Ao.node:e(Uwe());break;default:e(!0)}})}function Bwe(){return R0()&&navigator?.onLine}async function $we(){return Sh()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function Uwe(){return!0}function Fwe(t){switch(l_()){case Ao.browser:jwe(t);break;case Ao.reactNative:Vwe(t);break}}function jwe(t){!Sh()&&R0()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Vwe(t){Sh()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(e=>t(e?.isConnected))}function Hwe(){var t;return R0()&&yu.getDocument()?((t=yu.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const Hx={};class zy{static get(e){return Hx[e]}static set(e,n){Hx[e]=n}static delete(e){delete Hx[e]}}function qwe(t){const e=P0.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function zwe({publicKey:t,signature:e,payload:n}){var r;const s=fR(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=Kwe(n.address),a=n.era==="00"?new Uint8Array([0]):fR(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${Gwe(n.tip)}`),d=Ywe(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),f=Qwe(h.length+1);return new Uint8Array([...f,i,...h])}function Wwe(t){const e=fR(t),n=Lme.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function fR(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Gwe(t){return t.startsWith("0x")?t.slice(2):t}function Kwe(t){const e=P0.decode(t)[0];return e===42?0:e===60?2:1}function Qwe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Ywe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Zwe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=qwe(t.transaction.address),r=zwe({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return Wwe(s)}const Jwe="PARSE_ERROR",Xwe="INVALID_REQUEST",ebe="METHOD_NOT_FOUND",tbe="INVALID_PARAMS",iq="INTERNAL_ERROR",UO="SERVER_ERROR",nbe=[-32700,-32600,-32601,-32602,-32603],Lw={[Jwe]:{code:-32700,message:"Parse error"},[Xwe]:{code:-32600,message:"Invalid Request"},[ebe]:{code:-32601,message:"Method not found"},[tbe]:{code:-32602,message:"Invalid params"},[iq]:{code:-32603,message:"Internal error"},[UO]:{code:-32e3,message:"Server error"}},oq=UO;function rbe(t){return nbe.includes(t)}function CL(t){return Object.keys(Lw).includes(t)?Lw[t]:Lw[oq]}function sbe(t){const e=Object.values(Lw).find(n=>n.code===t);return e||Lw[oq]}function aq(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var qx={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pR=function(t,e){return pR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},pR(t,e)};function ibe(t,e){pR(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var mR=function(){return mR=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mR.apply(this,arguments)};function obe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function abe(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function cbe(t,e){return function(n,r){e(n,r,t)}}function lbe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ube(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function dbe(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function hbe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function fbe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function gR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cq(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function pbe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cq(arguments[e]));return t}function mbe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Ub(t){return this instanceof Ub?(this.v=t,this):new Ub(t)}function gbe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof Ub?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function ybe(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Ub(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function wbe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof gR=="function"?gR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function bbe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function vbe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _be(t){return t&&t.__esModule?t:{default:t}}function Ebe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Abe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Cbe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return mR},__asyncDelegator:ybe,__asyncGenerator:gbe,__asyncValues:wbe,__await:Ub,__awaiter:ube,__classPrivateFieldGet:Ebe,__classPrivateFieldSet:Abe,__createBinding:hbe,__decorate:abe,__exportStar:fbe,__extends:ibe,__generator:dbe,__importDefault:_be,__importStar:vbe,__makeTemplateObject:bbe,__metadata:lbe,__param:cbe,__read:cq,__rest:obe,__spread:pbe,__spreadArrays:mbe,__values:gR},Symbol.toStringTag,{value:"Module"})),Ibe=H9(Cbe);var Ol={},IL;function Tbe(){if(IL)return Ol;IL=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.isBrowserCryptoAvailable=Ol.getSubtleCrypto=Ol.getBrowerCrypto=void 0;function t(){return globalThis?.crypto||globalThis?.msCrypto||{}}Ol.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Ol.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Ol.isBrowserCryptoAvailable=n,Ol}var Dl={},TL;function Sbe(){if(TL)return Dl;TL=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.isBrowser=Dl.isNode=Dl.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Dl.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Dl.isNode=e;function n(){return!t()&&!e()}return Dl.isBrowser=n,Dl}var SL;function xbe(){return SL||(SL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ibe;e.__exportStar(Tbe(),t),e.__exportStar(Sbe(),t)})(qx)),qx}var Pbe=xbe();function Ic(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Vd(t=6){return BigInt(Ic(t))}function Nc(t,e,n){return{id:n||Ic(),jsonrpc:"2.0",method:t,params:e}}function Fb(t,e){return{id:t,jsonrpc:"2.0",result:e}}function iT(t,e,n){return{id:t,jsonrpc:"2.0",error:Rbe(e)}}function Rbe(t,e){return typeof t>"u"?CL(iq):(typeof t=="string"&&(t=Object.assign(Object.assign({},CL(UO)),{message:t})),rbe(t.code)&&(t=sbe(t.code)),t)}let Nbe=class{},kbe=class extends Nbe{constructor(){super()}},Obe=class extends kbe{constructor(e){super()}};const Dbe="^https?:",Mbe="^wss?:";function Lbe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function lq(t,e){const n=Lbe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function xL(t){return lq(t,Dbe)}function PL(t){return lq(t,Mbe)}function Bbe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function uq(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function FO(t){return uq(t)&&"method"in t}function oT(t){return uq(t)&&(Tc(t)||ta(t))}function Tc(t){return"result"in t}function ta(t){return"error"in t}let Ia=class extends Obe{constructor(e){super(e),this.events=new Ca.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Nc(e.method,e.params||[],e.id||Vd().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{ta(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),oT(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const $be=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Ube=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",RL=t=>t.split("?")[0],NL=10,Fbe=$be();let jbe=class{constructor(e){if(this.url=e,this.events=new Ca.EventEmitter,this.registering=!1,!PL(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(gu(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!PL(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=Pbe.isReactNative()?void 0:{rejectUnauthorized:!Bbe(e)},i=new Fbe(e,[],s);Ube()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?cp(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=iT(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return aq(e,RL(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>NL&&this.events.setMaxListeners(NL)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${RL(this.url)}`));return this.events.emit("register_error",n),n}};var Vbe={};const dq="wc",hq=2,yR="core",sl=`${dq}@2:${yR}:`,Hbe={logger:"error"},qbe={database:":memory:"},zbe="crypto",kL="client_ed25519_seed",Wbe=je.ONE_DAY,Gbe="keychain",Kbe="0.3",Qbe="messages",Ybe="0.3",Zbe=je.SIX_HOURS,Jbe="publisher",fq="irn",Xbe="error",pq="wss://relay.walletconnect.org",eve="relayer",Ur={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},tve="_subscription",Ko={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},nve=.1,wR="2.21.7",wr={link_mode:"link_mode",relay:"relay"},wE={inbound:"inbound",outbound:"outbound"},rve="0.3",sve="WALLETCONNECT_CLIENT_ID",OL="WALLETCONNECT_LINK_MODE_APPS",fo={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},ive="subscription",ove="0.3",ave="pairing",cve="0.3",Wy={wc_pairingDelete:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:je.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:je.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:je.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:je.ONE_DAY,prompt:!1,tag:0},res:{ttl:je.ONE_DAY,prompt:!1,tag:0}}},_f={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ka={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},lve="history",uve="0.3",dve="expirer",Xo={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},hve="0.3",fve="verify-api",pve="https://verify.walletconnect.com",mq="https://verify.walletconnect.org",Bw=mq,mve=`${Bw}/v3`,gve=[pve,mq],yve="echo",wve="https://echo.walletconnect.com",Ac={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Vl={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},wd={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Gy={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},lf={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Ky={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},bve=.1,vve="event-client",_ve=86400,Eve="https://pulse.walletconnect.org/batch";function Ave(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,v=0,b=p.length;v!==b&&p[v]===0;)v++,g++;for(var _=(b-v)*u+1>>>0,S=new Uint8Array(_);v!==b;){for(var C=p[v],x=0,I=_-1;(C!==0||x<y)&&I!==-1;I--,x++)C+=256*S[I]>>>0,S[I]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");y=x,v++}for(var E=_-y;E!==_&&S[E]===0;)E++;for(var A=c.repeat(g);E<_;++E)A+=t.charAt(S[E]);return A}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,v=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,_=new Uint8Array(b);p[g];){var S=n[p.charCodeAt(g)];if(S===255)return;for(var C=0,x=b-1;(S!==0||C<v)&&x!==-1;x--,C++)S+=a*_[x]>>>0,_[x]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");v=C,g++}if(p[g]!==" "){for(var I=b-v;I!==b&&_[I]===0;)I++;for(var E=new Uint8Array(y+(b-I)),A=y;I!==b;)E[A++]=_[I++];return E}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Cve=Ave,Ive=Cve;const gq=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Tve=t=>new TextEncoder().encode(t),Sve=t=>new TextDecoder().decode(t);class xve{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Pve{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return yq(this,e)}}class Rve{constructor(e){this.decoders=e}or(e){return yq(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yq=(t,e)=>new Rve({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Nve{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new xve(e,n,r),this.decoder=new Pve(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const aT=({name:t,prefix:e,encode:n,decode:r})=>new Nve(t,e,n,r),f_=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Ive(n,e);return aT({prefix:t,name:e,encode:r,decode:i=>gq(s(i))})},kve=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Ove=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Gs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>aT({prefix:e,name:t,encode(s){return Ove(s,r,n)},decode(s){return kve(s,r,n,t)}}),Dve=aT({prefix:"\0",name:"identity",encode:t=>Sve(t),decode:t=>Tve(t)});var Mve=Object.freeze({__proto__:null,identity:Dve});const Lve=Gs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Bve=Object.freeze({__proto__:null,base2:Lve});const $ve=Gs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Uve=Object.freeze({__proto__:null,base8:$ve});const Fve=f_({prefix:"9",name:"base10",alphabet:"0123456789"});var jve=Object.freeze({__proto__:null,base10:Fve});const Vve=Gs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Hve=Gs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var qve=Object.freeze({__proto__:null,base16:Vve,base16upper:Hve});const zve=Gs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Wve=Gs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Gve=Gs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Kve=Gs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qve=Gs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Yve=Gs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Zve=Gs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Jve=Gs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Xve=Gs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var e_e=Object.freeze({__proto__:null,base32:zve,base32upper:Wve,base32pad:Gve,base32padupper:Kve,base32hex:Qve,base32hexupper:Yve,base32hexpad:Zve,base32hexpadupper:Jve,base32z:Xve});const t_e=f_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),n_e=f_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var r_e=Object.freeze({__proto__:null,base36:t_e,base36upper:n_e});const s_e=f_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),i_e=f_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var o_e=Object.freeze({__proto__:null,base58btc:s_e,base58flickr:i_e});const a_e=Gs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),c_e=Gs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),l_e=Gs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),u_e=Gs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var d_e=Object.freeze({__proto__:null,base64:a_e,base64pad:c_e,base64url:l_e,base64urlpad:u_e});const wq=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),h_e=wq.reduce((t,e,n)=>(t[n]=e,t),[]),f_e=wq.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function p_e(t){return t.reduce((e,n)=>(e+=h_e[n],e),"")}function m_e(t){const e=[];for(const n of t){const r=f_e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const g_e=aT({prefix:"🚀",name:"base256emoji",encode:p_e,decode:m_e});var y_e=Object.freeze({__proto__:null,base256emoji:g_e}),w_e=bq,DL=128,b_e=-128,v_e=Math.pow(2,31);function bq(t,e,n){e=e||[],n=n||0;for(var r=n;t>=v_e;)e[n++]=t&255|DL,t/=128;for(;t&b_e;)e[n++]=t&255|DL,t>>>=7;return e[n]=t|0,bq.bytes=n-r+1,e}var __e=bR,E_e=128,ML=127;function bR(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw bR.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&ML)<<s:(o&ML)*Math.pow(2,s),s+=7}while(o>=E_e);return bR.bytes=i-r,n}var A_e=Math.pow(2,7),C_e=Math.pow(2,14),I_e=Math.pow(2,21),T_e=Math.pow(2,28),S_e=Math.pow(2,35),x_e=Math.pow(2,42),P_e=Math.pow(2,49),R_e=Math.pow(2,56),N_e=Math.pow(2,63),k_e=function(t){return t<A_e?1:t<C_e?2:t<I_e?3:t<T_e?4:t<S_e?5:t<x_e?6:t<P_e?7:t<R_e?8:t<N_e?9:10},O_e={encode:w_e,decode:__e,encodingLength:k_e},vq=O_e;const LL=(t,e,n=0)=>(vq.encode(t,e,n),e),BL=t=>vq.encodingLength(t),vR=(t,e)=>{const n=e.byteLength,r=BL(t),s=r+BL(n),i=new Uint8Array(s+n);return LL(t,i,0),LL(n,i,r),i.set(e,s),new D_e(t,n,e,i)};class D_e{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const _q=({name:t,code:e,encode:n})=>new M_e(t,e,n);let M_e=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?vR(this.code,n):n.then(r=>vR(this.code,r))}else throw Error("Unknown type, must be binary type")}};const Eq=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),L_e=_q({name:"sha2-256",code:18,encode:Eq("SHA-256")}),B_e=_q({name:"sha2-512",code:19,encode:Eq("SHA-512")});var $_e=Object.freeze({__proto__:null,sha256:L_e,sha512:B_e});const Aq=0,U_e="identity",Cq=gq,F_e=t=>vR(Aq,Cq(t)),j_e={code:Aq,name:U_e,encode:Cq,digest:F_e};var V_e=Object.freeze({__proto__:null,identity:j_e});new TextEncoder,new TextDecoder;const $L={...Mve,...Bve,...Uve,...jve,...qve,...e_e,...r_e,...o_e,...d_e,...y_e};({...$_e,...V_e});function Iq(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function H_e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Iq(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Tq(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const UL=Tq("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),zx=Tq("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=H_e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),q_e={utf8:UL,"utf-8":UL,hex:$L.base16,latin1:zx,ascii:zx,binary:zx,...$L};function z_e(t,e="utf8"){const n=q_e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Iq(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var W_e=Object.defineProperty,G_e=(t,e,n)=>e in t?W_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wc=(t,e,n)=>G_e(t,typeof e!="symbol"?e+"":e,n);class K_e{constructor(e,n){this.core=e,this.logger=n,wc(this,"keychain",new Map),wc(this,"name",Gbe),wc(this,"version",Kbe),wc(this,"initialized",!1),wc(this,"storagePrefix",sl),wc(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),wc(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),wc(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),wc(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=Fe("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),wc(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=fi(n,this.name)}get context(){return ao(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,tR(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?nR(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Q_e=Object.defineProperty,Y_e=(t,e,n)=>e in t?Q_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Os=(t,e,n)=>Y_e(t,typeof e!="symbol"?e+"":e,n);class Z_e{constructor(e,n,r){this.core=e,this.logger=n,Os(this,"name",zbe),Os(this,"keychain"),Os(this,"randomSessionIdentifier",hR()),Os(this,"initialized",!1),Os(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Os(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Os(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=pM(s);return $V(i.publicKey)}),Os(this,"generateKeyPair",()=>{this.isInitialized();const s=jye();return this.setPrivateKey(s.publicKey,s.privateKey)}),Os(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=pM(i),a=this.randomSessionIdentifier;return await lfe(a,s,Wbe,o)}),Os(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Vye(a,i);return this.setSymKey(c,o)}),Os(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||yE(s);return await this.keychain.set(o,s),o}),Os(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Os(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Os(this,"encode",async(s,i,o)=>{this.isInitialized();const a=nq(o),c=gu(i);if(hL(a))return zye(c,o?.encoding);if(dL(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(h,f)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return Hye({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o?.encoding})}),Os(this,"decode",async(s,i,o)=>{this.isInitialized();const a=Gye(i,o);if(hL(a)){const c=Wye(i,o?.encoding);return cp(c)}if(dL(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=qye({symKey:c,encoded:i,encoding:o?.encoding});return cp(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Os(this,"getPayloadType",(s,i=qi)=>{const o=$b({encoded:s,encoding:i});return up(o.type)}),Os(this,"getPayloadSenderPublicKey",(s,i=qi)=>{const o=$b({encoded:s,encoding:i});return o.senderPublicKey?eo(o.senderPublicKey,Ai):void 0}),this.core=e,this.logger=fi(n,this.name),this.keychain=r||new K_e(this.core,this.logger)}get context(){return ao(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(kL)}catch{e=hR(),await this.keychain.set(kL,e)}return z_e(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var J_e=Object.defineProperty,X_e=Object.defineProperties,e1e=Object.getOwnPropertyDescriptors,FL=Object.getOwnPropertySymbols,t1e=Object.prototype.hasOwnProperty,n1e=Object.prototype.propertyIsEnumerable,_R=(t,e,n)=>e in t?J_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r1e=(t,e)=>{for(var n in e||(e={}))t1e.call(e,n)&&_R(t,n,e[n]);if(FL)for(var n of FL(e))n1e.call(e,n)&&_R(t,n,e[n]);return t},s1e=(t,e)=>X_e(t,e1e(e)),uo=(t,e,n)=>_R(t,typeof e!="symbol"?e+"":e,n);class i1e extends aue{constructor(e,n){super(e,n),this.logger=e,this.core=n,uo(this,"messages",new Map),uo(this,"messagesWithoutClientAck",new Map),uo(this,"name",Qbe),uo(this,"version",Ybe),uo(this,"initialized",!1),uo(this,"storagePrefix",sl),uo(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),uo(this,"set",async(r,s,i)=>{this.isInitialized();const o=ea(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===wE.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,s1e(r1e({},c),{[o]:s}))}return await this.persist(),o}),uo(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),uo(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),uo(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=ea(s);return typeof i[o]<"u"}),uo(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=ea(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),uo(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=fi(e,this.name),this.core=n}get context(){return ao(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,tR(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,tR(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?nR(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?nR(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var o1e=Object.defineProperty,a1e=Object.defineProperties,c1e=Object.getOwnPropertyDescriptors,jL=Object.getOwnPropertySymbols,l1e=Object.prototype.hasOwnProperty,u1e=Object.prototype.propertyIsEnumerable,ER=(t,e,n)=>e in t?o1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cm=(t,e)=>{for(var n in e||(e={}))l1e.call(e,n)&&ER(t,n,e[n]);if(jL)for(var n of jL(e))u1e.call(e,n)&&ER(t,n,e[n]);return t},VL=(t,e)=>a1e(t,c1e(e)),Qo=(t,e,n)=>ER(t,typeof e!="symbol"?e+"":e,n);class d1e extends cue{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Qo(this,"events",new Ca.EventEmitter),Qo(this,"name",Jbe),Qo(this,"queue",new Map),Qo(this,"publishTimeout",je.toMiliseconds(je.ONE_MINUTE)),Qo(this,"initialPublishTimeout",je.toMiliseconds(je.ONE_SECOND*15)),Qo(this,"needsTransportRestart",!1),Qo(this,"publish",async(r,s,i)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const d=i?.ttl||Zbe,h=i?.prompt||!1,f=i?.tag||0,p=i?.id||Vd().toString(),g=sg(OA().protocol),y={id:p,method:i?.publishMethod||g.publish,params:Cm({topic:r,message:s,ttl:d,prompt:h,tag:f,attestation:i?.attestation},i?.tvf&&{tvf:i.tvf})},v=`Failed to publish payload, please try again. id:${p} tag:${f}`;try{os((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),os((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);const b=new Promise(async _=>{const S=({id:x})=>{var I;((I=y.id)==null?void 0:I.toString())===x.toString()&&(this.removeRequestFromQueue(x),this.relayer.events.removeListener(Ur.publish,S),_())};this.relayer.events.on(Ur.publish,S);const C=$c(new Promise((x,I)=>{this.rpcPublish(y,i).then(x).catch(E=>{this.logger.warn(E,E?.message),I(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${f}`);try{await C,this.events.removeListener(Ur.publish,S)}catch(x){this.queue.set(p,{request:y,opts:i,attempt:1}),this.logger.warn(x,x?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:r,message:s,opts:i}}),await $c(b,this.publishTimeout,v)}catch(b){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(b),(u=i?.internal)!=null&&u.throwOnFailedPublish)throw b}finally{this.queue.delete(p)}}),Qo(this,"publishCustom",async r=>{var s,i,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:u={}}=r,{attestation:d,tvf:h,publishMethod:f,prompt:p,tag:g,ttl:y=je.FIVE_MINUTES}=u,v=u.id||Vd().toString(),b=sg(OA().protocol),_=f||b.publish,S={id:v,method:_,params:Cm(VL(Cm({},l),{ttl:y,prompt:p,tag:g,attestation:d}),h)},C=`Failed to publish custom payload, please try again. id:${v} tag:${g}`;try{os((s=S.params)==null?void 0:s.prompt)&&((i=S.params)==null||delete i.prompt),os((o=S.params)==null?void 0:o.tag)&&((a=S.params)==null||delete a.tag);const x=new Promise(async I=>{const E=({id:T})=>{var k;((k=S.id)==null?void 0:k.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(Ur.publish,E),I())};this.relayer.events.on(Ur.publish,E);const A=$c(new Promise((T,k)=>{this.rpcPublish(S,u).then(T).catch(M=>{this.logger.warn(M,M?.message),k(M)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${_} id:${v} tag:${g}`);try{await A,this.events.removeListener(Ur.publish,E)}catch(T){this.queue.set(v,{request:S,opts:u,attempt:1}),this.logger.warn(T,T?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:v,payload:l,opts:u}}),await $c(x,this.publishTimeout,C)}catch(x){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(x),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw x}finally{this.queue.delete(v)}}),Qo(this,"on",(r,s)=>{this.events.on(r,s)}),Qo(this,"once",(r,s)=>{this.events.once(r,s)}),Qo(this,"off",(r,s)=>{this.events.off(r,s)}),Qo(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=fi(n,this.name),this.registerEventListeners()}get context(){return ao(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Ur.publish,Cm(Cm({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const s=e.attempt+1;this.queue.set(n,VL(Cm({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(jp.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ur.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ur.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var h1e=Object.defineProperty,f1e=(t,e,n)=>e in t?h1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Im=(t,e,n)=>f1e(t,typeof e!="symbol"?e+"":e,n);class p1e{constructor(){Im(this,"map",new Map),Im(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Im(this,"get",e=>this.map.get(e)||[]),Im(this,"exists",(e,n)=>this.get(e).includes(n)),Im(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),Im(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var m1e=Object.defineProperty,g1e=Object.defineProperties,y1e=Object.getOwnPropertyDescriptors,HL=Object.getOwnPropertySymbols,w1e=Object.prototype.hasOwnProperty,b1e=Object.prototype.propertyIsEnumerable,AR=(t,e,n)=>e in t?m1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qy=(t,e)=>{for(var n in e||(e={}))w1e.call(e,n)&&AR(t,n,e[n]);if(HL)for(var n of HL(e))b1e.call(e,n)&&AR(t,n,e[n]);return t},Wx=(t,e)=>g1e(t,y1e(e)),or=(t,e,n)=>AR(t,typeof e!="symbol"?e+"":e,n);class v1e extends due{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,or(this,"subscriptions",new Map),or(this,"topicMap",new p1e),or(this,"events",new Ca.EventEmitter),or(this,"name",ive),or(this,"version",ove),or(this,"pending",new Map),or(this,"cached",[]),or(this,"initialized",!1),or(this,"storagePrefix",sl),or(this,"subscribeTimeout",je.toMiliseconds(je.ONE_MINUTE)),or(this,"initialSubscribeTimeout",je.toMiliseconds(je.ONE_SECOND*15)),or(this,"clientId"),or(this,"batchSubscribeTopicsLimit",500),or(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),or(this,"subscribe",async(r,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const o=OA(s),a={topic:r,relay:o,transportType:s?.transportType};(i=s?.internal)!=null&&i.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,s);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),or(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),or(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),or(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),or(this,"on",(r,s)=>{this.events.on(r,s)}),or(this,"once",(r,s)=>{this.events.once(r,s)}),or(this,"off",(r,s)=>{this.events.off(r,s)}),or(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),or(this,"start",async()=>{await this.onConnect()}),or(this,"stop",async()=>{await this.onDisconnect()}),or(this,"restart",async()=>{await this.restore(),await this.onRestart()}),or(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),or(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(jp.pulse,async()=>{await this.checkPending()}),this.events.on(fo.created,async r=>{const s=fo.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(fo.deleted,async r=>{const s=fo.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=fi(n,this.name),this.clientId=""}get context(){return ao(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=OA(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=Er("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s,i;const o=await this.getSubscriptionId(e);if((s=r?.internal)!=null&&s.skipSubscribe)return o;(!r||r?.transportType===wr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:sg(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(i=r?.internal)==null?void 0:i.throwOnFailedPublish;try{if(r?.transportType===wr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},je.toMiliseconds(je.ONE_SECOND)),o;const l=new Promise(async d=>{const h=f=>{f.topic===e&&(this.events.removeListener(fo.created,h),d(f.id))};this.events.on(fo.created,h);try{const f=await $c(new Promise((p,g)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y?.message),g(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(fo.created,h),d(f)}catch{}}),u=await $c(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ur.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:sg(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await $c(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Ur.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:sg(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await $c(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Ur.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:sg(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,Wx(Qy({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Qy({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Qy({},n)),this.topicMap.set(n.topic,e),this.events.emit(fo.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(fo.deleted,Wx(Qy({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(fo.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(fo.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=Fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>Wx(Qy({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await lge(je.toMiliseconds(je.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Fe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ea(e+await this.getClientId())}}var _1e=Object.defineProperty,qL=Object.getOwnPropertySymbols,E1e=Object.prototype.hasOwnProperty,A1e=Object.prototype.propertyIsEnumerable,CR=(t,e,n)=>e in t?_1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zL=(t,e)=>{for(var n in e||(e={}))E1e.call(e,n)&&CR(t,n,e[n]);if(qL)for(var n of qL(e))A1e.call(e,n)&&CR(t,n,e[n]);return t},Dn=(t,e,n)=>CR(t,typeof e!="symbol"?e+"":e,n);class C1e extends lue{constructor(e){super(e),Dn(this,"protocol","wc"),Dn(this,"version",2),Dn(this,"core"),Dn(this,"logger"),Dn(this,"events",new Ca.EventEmitter),Dn(this,"provider"),Dn(this,"messages"),Dn(this,"subscriber"),Dn(this,"publisher"),Dn(this,"name",eve),Dn(this,"transportExplicitlyClosed",!1),Dn(this,"initialized",!1),Dn(this,"connectionAttemptInProgress",!1),Dn(this,"relayUrl"),Dn(this,"projectId"),Dn(this,"packageName"),Dn(this,"bundleId"),Dn(this,"hasExperiencedNetworkDisruption",!1),Dn(this,"pingTimeout"),Dn(this,"heartBeatTimeout",je.toMiliseconds(je.THIRTY_SECONDS+je.FIVE_SECONDS)),Dn(this,"reconnectTimeout"),Dn(this,"connectPromise"),Dn(this,"reconnectInProgress",!1),Dn(this,"requestsInFlight",[]),Dn(this,"connectTimeout",je.toMiliseconds(je.ONE_SECOND*15)),Dn(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||Vd().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),Dn(this,"resetPingTimeout",()=>{PA()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),Dn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Dn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Ur.connect)}),Dn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),Dn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Ur.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Dn(this,"registerProviderListeners",()=>{this.provider.on(Ko.payload,this.onPayloadHandler),this.provider.on(Ko.connect,this.onConnectHandler),this.provider.on(Ko.disconnect,this.onDisconnectHandler),this.provider.on(Ko.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?fi(e.logger,this.name):i_(I0({level:e.logger||Xbe})),this.messages=new i1e(this.logger,e.core),this.subscriber=new v1e(this,this.logger),this.publisher=new d1e(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||pq,Gme()?this.packageName=OM():Kme()&&(this.bundleId=OM()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return ao(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:wr.relay},wE.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n?.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(fo.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(fo.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,zL({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await $c(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await AL())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=rs(je.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(Ur.message,e),await this.recordMessageEvent(e,wE.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Ko.disconnect,i),await $c(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(Ko.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ko.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Ko.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,je.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(PA())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ia(new jbe(Xme({sdkVersion:wR,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),FO(e)){if(!e.method.endsWith(tve))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:wr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(zL({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else oT(e)&&this.events.emit(Ur.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,wE.inbound),this.events.emit(Ur.message,e))}async acknowledgePayload(e){const n=Fb(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Ko.payload,this.onPayloadHandler),this.provider.off(Ko.connect,this.onConnectHandler),this.provider.off(Ko.disconnect,this.onDisconnectHandler),this.provider.off(Ko.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await AL();Fwe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(jp.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Hwe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Ur.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},je.toMiliseconds(nve)))))}isInitialized(){if(!this.initialized){const{message:e}=Fe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function I1e(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function WL(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function GL(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const T1e="[object RegExp]",S1e="[object String]",x1e="[object Number]",P1e="[object Boolean]",KL="[object Arguments]",R1e="[object Symbol]",N1e="[object Date]",k1e="[object Map]",O1e="[object Set]",D1e="[object Array]",M1e="[object Function]",L1e="[object ArrayBuffer]",Gx="[object Object]",B1e="[object Error]",$1e="[object DataView]",U1e="[object Uint8Array]",F1e="[object Uint8ClampedArray]",j1e="[object Uint16Array]",V1e="[object Uint32Array]",H1e="[object BigUint64Array]",q1e="[object Int8Array]",z1e="[object Int16Array]",W1e="[object Int32Array]",G1e="[object BigInt64Array]",K1e="[object Float32Array]",Q1e="[object Float64Array]";function Y1e(){}function QL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Z1e(t,e,n){return uw(t,e,void 0,void 0,void 0,void 0,n)}function uw(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return $w(t,e,i,o)}return $w(t,e,i,o)}function $w(t,e,n,r){if(Object.is(t,e))return!0;let s=GL(t),i=GL(e);if(s===KL&&(s=Gx),i===KL&&(i=Gx),s!==i)return!1;switch(s){case S1e:return t.toString()===e.toString();case x1e:{const c=t.valueOf(),l=e.valueOf();return I1e(c,l)}case P1e:case N1e:case R1e:return Object.is(t.valueOf(),e.valueOf());case T1e:return t.source===e.source&&t.flags===e.flags;case M1e:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case k1e:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!uw(l,e.get(c),c,t,e,n,r))return!1;return!0}case O1e:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>uw(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case D1e:case U1e:case F1e:case j1e:case V1e:case H1e:case q1e:case z1e:case W1e:case G1e:case K1e:case Q1e:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!uw(t[c],e[c],c,t,e,n,r))return!1;return!0}case L1e:return t.byteLength!==e.byteLength?!1:$w(new Uint8Array(t),new Uint8Array(e),n,r);case $1e:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:$w(new Uint8Array(t),new Uint8Array(e),n,r);case B1e:return t.name===e.name&&t.message===e.message;case Gx:{if(!($w(t.constructor,e.constructor,n,r)||QL(t)&&QL(e)))return!1;const c=[...Object.keys(t),...WL(t)],l=[...Object.keys(e),...WL(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!uw(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function J1e(t,e){return Z1e(t,e,Y1e)}var X1e=Object.defineProperty,YL=Object.getOwnPropertySymbols,eEe=Object.prototype.hasOwnProperty,tEe=Object.prototype.propertyIsEnumerable,IR=(t,e,n)=>e in t?X1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZL=(t,e)=>{for(var n in e||(e={}))eEe.call(e,n)&&IR(t,n,e[n]);if(YL)for(var n of YL(e))tEe.call(e,n)&&IR(t,n,e[n]);return t},Li=(t,e,n)=>IR(t,typeof e!="symbol"?e+"":e,n);class Hp extends uue{constructor(e,n,r,s=sl,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,Li(this,"map",new Map),Li(this,"version",rve),Li(this,"cached",[]),Li(this,"initialized",!1),Li(this,"getKey"),Li(this,"storagePrefix",sl),Li(this,"recentlyDeleted",[]),Li(this,"recentlyDeletedLimit",200),Li(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!os(o)?this.map.set(this.getKey(o),o):ywe(o)?this.map.set(o.id,o):wwe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Li(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Li(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Li(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>J1e(a[c],o[c]))):this.values)),Li(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=ZL(ZL({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Li(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=fi(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return ao(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=Fe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=Fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var nEe=Object.defineProperty,rEe=(t,e,n)=>e in t?nEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wn=(t,e,n)=>rEe(t,typeof e!="symbol"?e+"":e,n);class sEe{constructor(e,n){this.core=e,this.logger=n,wn(this,"name",ave),wn(this,"version",cve),wn(this,"events",new hO),wn(this,"pairings"),wn(this,"initialized",!1),wn(this,"storagePrefix",sl),wn(this,"ignoredPayloadTypes",[ou]),wn(this,"registeredMethods",[]),wn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),wn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),wn(this,"create",async r=>{this.isInitialized();const s=hR(),i=await this.core.crypto.setSymKey(s),o=rs(je.FIVE_MINUTES),a={protocol:fq},c={topic:i,expiry:o,relay:a,active:!1,methods:r?.methods},l=pL({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(_f.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r?.transportType,internal:r?.internal}),{topic:i,uri:l}}),wn(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Ac.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=fL(r.uri);s.props.properties.topic=i,s.addTrace(Ac.pairing_uri_validation_success),s.addTrace(Ac.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(Ac.existing_pairing),u.active)throw s.setError(Vl.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Ac.pairing_not_expired)}const d=c||rs(je.FIVE_MINUTES),h={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,h),s.addTrace(Ac.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(_f.create,h),s.addTrace(Ac.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(Ac.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Vl.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(f){throw s.setError(Vl.subscribe_pairing_topic_failure),f}return s.addTrace(Ac.subscribe_pairing_topic_success),h}),wn(this,"activate",async({topic:r})=>{this.isInitialized();const s=rs(je.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),wn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=gf();this.events.once(Fn("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),wn(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),wn(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),wn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),wn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Er("USER_DISCONNECTED")),await this.deletePairing(s))}),wn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return pL({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),wn(this,"sendRequest",async(r,s,i)=>{const o=Nc(s,i),a=await this.core.crypto.encode(r,o),c=Wy[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),wn(this,"sendResult",async(r,s,i)=>{const o=Fb(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Wy[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),wn(this,"sendError",async(r,s,i)=>{const o=iT(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Wy[c]?Wy[c].res:Wy.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),wn(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Er("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),wn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Sd(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),wn(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),wn(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),wn(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(_f.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),wn(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{Tc(s)?this.events.emit(Fn("pairing_ping",i),{}):ta(s)&&this.events.emit(Fn("pairing_ping",i),{error:s.error})},500)}),wn(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(_f.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),wn(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Er("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),wn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Er("WC_METHOD_UNSUPPORTED",r))}),wn(this,"isValidPair",(r,s)=>{var i;if(!Ui(r)){const{message:a}=Fe("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(Vl.malformed_pairing_uri),new Error(a)}if(!gwe(r.uri)){const{message:a}=Fe("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(Vl.malformed_pairing_uri),new Error(a)}const o=fL(r?.uri);if(!((i=o?.relay)!=null&&i.protocol)){const{message:a}=Fe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Vl.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Fe("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Vl.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&je.toMiliseconds(o?.expiryTimestamp)<Date.now()){s.setError(Vl.pairing_expired);const{message:a}=Fe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),wn(this,"isValidPing",async r=>{if(!Ui(r)){const{message:i}=Fe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),wn(this,"isValidDisconnect",async r=>{if(!Ui(r)){const{message:i}=Fe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),wn(this,"isValidPairingTopic",async r=>{if(!Zr(r,!1)){const{message:s}=Fe("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=Fe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Sd(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=Fe("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=fi(n,this.name),this.pairings=new Hp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ao(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Fe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ur.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==wr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);FO(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):oT(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Xo.expired,async e=>{const{topic:n}=hH(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(_f.expire,{topic:n}))})}}var iEe=Object.defineProperty,oEe=(t,e,n)=>e in t?iEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ds=(t,e,n)=>oEe(t,typeof e!="symbol"?e+"":e,n);class aEe extends oue{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ds(this,"records",new Map),Ds(this,"events",new Ca.EventEmitter),Ds(this,"name",lve),Ds(this,"version",uve),Ds(this,"cached",[]),Ds(this,"initialized",!1),Ds(this,"storagePrefix",sl),Ds(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ds(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:rs(je.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ka.created,o)}),Ds(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=ta(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(ka.updated,s))}),Ds(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Ds(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(ka.deleted,i)}}),this.persist()}),Ds(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Ds(this,"on",(r,s)=>{this.events.on(r,s)}),Ds(this,"once",(r,s)=>{this.events.once(r,s)}),Ds(this,"off",(r,s)=>{this.events.off(r,s)}),Ds(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=fi(n,this.name)}get context(){return ao(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Nc(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ka.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ka.created,e=>{const n=ka.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(ka.updated,e=>{const n=ka.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(ka.deleted,e=>{const n=ka.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(jp.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{je.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(ka.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var cEe=Object.defineProperty,lEe=(t,e,n)=>e in t?cEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xs=(t,e,n)=>lEe(t,typeof e!="symbol"?e+"":e,n);class uEe extends hue{constructor(e,n){super(e,n),this.core=e,this.logger=n,Xs(this,"expirations",new Map),Xs(this,"events",new Ca.EventEmitter),Xs(this,"name",dve),Xs(this,"version",hve),Xs(this,"cached",[]),Xs(this,"initialized",!1),Xs(this,"storagePrefix",sl),Xs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Xs(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Xs(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Xo.created,{target:i,expiration:o})}),Xs(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Xs(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Xo.deleted,{target:s,expiration:i})}}),Xs(this,"on",(r,s)=>{this.events.on(r,s)}),Xs(this,"once",(r,s)=>{this.events.once(r,s)}),Xs(this,"off",(r,s)=>{this.events.off(r,s)}),Xs(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=fi(n,this.name)}get context(){return ao(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return ege(e);if(typeof e=="number")return tge(e);const{message:n}=Fe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Xo.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Fe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;je.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Xo.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(jp.pulse,()=>this.checkExpirations()),this.events.on(Xo.created,e=>{const n=Xo.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Xo.expired,e=>{const n=Xo.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Xo.deleted,e=>{const n=Xo.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Fe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dEe=Object.defineProperty,hEe=(t,e,n)=>e in t?dEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wr=(t,e,n)=>hEe(t,typeof e!="symbol"?e+"":e,n);class fEe extends fue{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Wr(this,"name",fve),Wr(this,"abortController"),Wr(this,"isDevEnv"),Wr(this,"verifyUrlV3",mve),Wr(this,"storagePrefix",sl),Wr(this,"version",hq),Wr(this,"publicKey"),Wr(this,"fetchPromise"),Wr(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&je.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Wr(this,"register",async s=>{if(!R0()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=yu.getDocument(),u=this.startAbortTimer(je.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const y=v=>{if(v.data&&typeof v.data=="string")try{const b=JSON.parse(v.data);if(b.type==="verify_attestation"){if(W2(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Wr(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(W2(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),Wr(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(je.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Wr(this,"getVerifyUrl",s=>{let i=s||Bw;return gve.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Bw}`),i=Bw),i}),Wr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(je.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Wr(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Wr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Wr(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Wr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Wr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Wr(this,"validateAttestation",(s,i)=>{const o=Qye(s,i.publicKey),a={hasExpired:je.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=fi(n,this.name),this.abortController=new AbortController,this.isDevEnv=IO(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ao(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),je.toMiliseconds(e))}}var pEe=Object.defineProperty,mEe=(t,e,n)=>e in t?pEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JL=(t,e,n)=>mEe(t,typeof e!="symbol"?e+"":e,n);class gEe extends pue{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,JL(this,"context",yve),JL(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${wve}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=fi(n,this.context)}}var yEe=Object.defineProperty,XL=Object.getOwnPropertySymbols,wEe=Object.prototype.hasOwnProperty,bEe=Object.prototype.propertyIsEnumerable,TR=(t,e,n)=>e in t?yEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yy=(t,e)=>{for(var n in e||(e={}))wEe.call(e,n)&&TR(t,n,e[n]);if(XL)for(var n of XL(e))bEe.call(e,n)&&TR(t,n,e[n]);return t},ws=(t,e,n)=>TR(t,typeof e!="symbol"?e+"":e,n);class vEe extends mue{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,ws(this,"context",vve),ws(this,"storagePrefix",sl),ws(this,"storageVersion",bve),ws(this,"events",new Map),ws(this,"shouldPersist",!1),ws(this,"init",async()=>{if(!IO())try{const s={eventId:MM(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:uH(this.core.relayer.protocol,this.core.relayer.version,wR)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),ws(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=MM(),u=this.core.projectId||"",d=Date.now(),h=Yy({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),ws(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Yy(Yy({},a),this.setMethods(a.eventId))}),ws(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),ws(this,"setEventListeners",()=>{this.core.heartbeat.on(jp.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{je.fromMiliseconds(Date.now())-je.fromMiliseconds(s.timestamp)>_ve&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),ws(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),ws(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),ws(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),ws(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ws(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Yy(Yy({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),ws(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),ws(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Eve}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${wR}${i}`,{method:"POST",body:JSON.stringify(s)})}),ws(this,"getAppDomain",()=>lH().url),this.logger=fi(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var _Ee=Object.defineProperty,e4=Object.getOwnPropertySymbols,EEe=Object.prototype.hasOwnProperty,AEe=Object.prototype.propertyIsEnumerable,SR=(t,e,n)=>e in t?_Ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t4=(t,e)=>{for(var n in e||(e={}))EEe.call(e,n)&&SR(t,n,e[n]);if(e4)for(var n of e4(e))AEe.call(e,n)&&SR(t,n,e[n]);return t},hr=(t,e,n)=>SR(t,typeof e!="symbol"?e+"":e,n);let CEe=class Sq extends nue{constructor(e){var n;super(e),hr(this,"protocol",dq),hr(this,"version",hq),hr(this,"name",yR),hr(this,"relayUrl"),hr(this,"projectId"),hr(this,"customStoragePrefix"),hr(this,"events",new Ca.EventEmitter),hr(this,"logger"),hr(this,"heartbeat"),hr(this,"relayer"),hr(this,"crypto"),hr(this,"storage"),hr(this,"history"),hr(this,"expirer"),hr(this,"pairing"),hr(this,"verify"),hr(this,"echoClient"),hr(this,"linkModeSupportedApps"),hr(this,"eventClient"),hr(this,"initialized",!1),hr(this,"logChunkController"),hr(this,"on",(a,c)=>this.events.on(a,c)),hr(this,"once",(a,c)=>this.events.once(a,c)),hr(this,"off",(a,c)=>this.events.off(a,c)),hr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),hr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:wr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||pq,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=I0({level:typeof e?.logger=="string"&&e.logger?e.logger:Hbe.logger,name:yR}),{logger:i,chunkLoggerController:o}=pO({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=fi(i,this.name),this.heartbeat=new tle,this.crypto=new Z_e(this,this.logger,e?.keychain),this.history=new aEe(this,this.logger),this.expirer=new uEe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Ble(t4(t4({},qbe),e?.storageOptions)),this.relayer=new C1e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new sEe(this,this.logger),this.verify=new fEe(this,this.logger,this.storage),this.echoClient=new gEe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new vEe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Sq(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(sve,r),n}get context(){return ao(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(OL,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(OL)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Vbe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const IEe=CEe,xq="wc",Pq=2,Rq="client",jO=`${xq}@${Pq}:${Rq}:`,Kx={name:Rq,logger:"error"},n4="WALLETCONNECT_DEEPLINK_CHOICE",TEe="proposal",r4="Proposal expired",SEe="session",Tm=je.SEVEN_DAYS,xEe="engine",Ms={wc_sessionPropose:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1104},res:{ttl:je.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1106},res:{ttl:je.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1112},res:{ttl:je.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1114},res:{ttl:je.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:je.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:je.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1119}}},Qx={min:je.FIVE_MINUTES,max:je.SEVEN_DAYS},bc={idle:"IDLE",active:"ACTIVE"},PEe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},REe="request",NEe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],kEe="wc",OEe="auth",DEe="authKeys",MEe="pairingTopics",LEe="requests",cT=`${kEe}@${1.5}:${OEe}:`,bE=`${cT}:PUB_KEY`;var BEe=Object.defineProperty,$Ee=Object.defineProperties,UEe=Object.getOwnPropertyDescriptors,s4=Object.getOwnPropertySymbols,FEe=Object.prototype.hasOwnProperty,jEe=Object.prototype.propertyIsEnumerable,xR=(t,e,n)=>e in t?BEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zn=(t,e)=>{for(var n in e||(e={}))FEe.call(e,n)&&xR(t,n,e[n]);if(s4)for(var n of s4(e))jEe.call(e,n)&&xR(t,n,e[n]);return t},ei=(t,e)=>$Ee(t,UEe(e)),xe=(t,e,n)=>xR(t,typeof e!="symbol"?e+"":e,n);class VEe extends bue{constructor(e){super(e),xe(this,"name",xEe),xe(this,"events",new hO),xe(this,"initialized",!1),xe(this,"requestQueue",{state:bc.idle,queue:[]}),xe(this,"sessionRequestQueue",{state:bc.idle,queue:[]}),xe(this,"emittedSessionRequests",new uge({limit:500})),xe(this,"requestQueueDelay",je.ONE_SECOND),xe(this,"expectedPairingMethodMap",new Map),xe(this,"recentlyDeletedMap",new Map),xe(this,"recentlyDeletedLimit",200),xe(this,"relayMessageCache",[]),xe(this,"pendingSessions",new Map),xe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Ms)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},je.toMiliseconds(this.requestQueueDelay)))}),xe(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=ei(Zn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=dwe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,h=!1;try{if(u){const x=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=x.active}}catch(x){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),x}if(!u||!h){const{topic:x,uri:I}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=x,d=I}if(!u){const{message:x}=Fe("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(x)}const f=await this.client.core.crypto.generateKeyPair(),p=Ms.wc_sessionPropose.req.ttl||je.FIVE_MINUTES,g=rs(p),y=ei(Zn(Zn({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:fq}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Ic()}),v=Fn("session_connect",y.id),{reject:b,resolve:_,done:S}=gf(p,r4),C=({id:x})=>{x===y.id&&(this.client.events.off("proposal_expire",C),this.pendingSessions.delete(y.id),this.events.emit(v,{error:{message:r4,code:0}}))};return this.client.events.on("proposal_expire",C),this.events.once(v,({error:x,session:I})=>{this.client.events.off("proposal_expire",C),x?b(x):I&&_(I)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:d,approval:S}}),xe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),xe(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[wd.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(A){throw o.setError(Gy.no_internet_connection),A}try{await this.isValidProposalId(n?.id)}catch(A){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(Gy.proposal_not_found),A}try{await this.isValidApprove(n)}catch(A){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Gy.session_approve_namespace_validation_failure),A}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:y,optionalNamespaces:v}=f;let b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});b||(b=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:wd.session_approve_started,properties:{topic:p,trace:[wd.session_approve_started,wd.session_namespaces_validation_success]}}));const _=await this.client.core.crypto.generateKeyPair(),S=g.publicKey,C=await this.client.core.crypto.generateSharedKey(_,S),x=Zn(Zn(Zn({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:_,metadata:this.client.metadata},expiry:rs(Tm)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),I=wr.relay;b.addTrace(wd.subscribing_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:I,internal:{skipSubscribe:!0}})}catch(A){throw b.setError(Gy.subscribe_session_topic_failure),A}b.addTrace(wd.subscribe_session_topic_success);const E=ei(Zn({},x),{topic:C,requiredNamespaces:y,optionalNamespaces:v,pairingTopic:p,acknowledged:!1,self:x.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:_,transportType:wr.relay});await this.client.session.set(C,E),b.addTrace(wd.store_session);try{await this.sendApproveSession({sessionTopic:C,proposal:f,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:_},sessionSettleRequest:x,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),b.addTrace(wd.session_approve_publish_success)}catch(A){throw this.client.logger.error(A),this.client.session.delete(C,Er("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(C),A}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(C,rs(Tm)),{topic:C,acknowledged:()=>Promise.resolve(this.client.session.get(C))}}),xe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:Ms.wc_sessionPropose.reject}),await this.deleteProposal(r)}),xe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=gf(),c=Ic(),l=Vd().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Fn("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),xe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=Ic(),{done:i,resolve:o,reject:a}=gf();return this.events.once(Fn("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,rs(Tm)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),xe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:s,topic:i,expiry:o=Ms.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);a?.transportType===wr.relay&&await this.confirmOnlineStateOrThrow();const c=Ic(),l=Vd().toString(),{done:u,resolve:d,reject:h}=gf(o,"Request expired. Please try again.");this.events.once(Fn("session_request",c),({error:y,result:v})=>{y?h(y):d(v)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:{request:ei(Zn({},s),{expiryTimestamp:rs(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:ei(Zn({},s),{expiryTimestamp:rs(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(v=>h(v)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),y()}),new Promise(async y=>{var v;if(!((v=a.sessionConfig)!=null&&v.disableDeepLink)){const b=await ige(this.client.core.storage,n4);await nge({id:c,topic:i,wcDeepLink:b})}y()}),u()]).then(y=>y[2])}),xe(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===wr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Tc(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):ta(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),xe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=Ic(),i=Vd().toString(),{done:o,resolve:a,reject:c}=gf();this.events.once(Fn("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),xe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=Vd().toString(),a=Ic();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),xe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Er("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=Fe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),xe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>pwe(r,n)))),xe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),xe(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?wr.link_mode:wr.relay;o===wr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:g=[],expiry:y}=n,v=[...n.resources||[]],{topic:b,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:_}});const S=await this.client.core.crypto.generateKeyPair(),C=yE(S);if(await Promise.all([this.client.auth.authKeys.set(bE,{responseTopic:C,publicKey:S}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:b})]),await this.client.core.relayer.subscribe(C,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),g.length>0){const{namespace:J}=Hf(a[0]);let ee=_0e(J,"request",g);gE(v)&&(ee=A0e(ee,v.pop())),v.push(ee)}const x=y&&y>Ms.wc_sessionAuthenticate.req.ttl?y:Ms.wc_sessionAuthenticate.req.ttl,I={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:v},requester:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:rs(x)},E={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},A={requiredNamespaces:{},optionalNamespaces:E,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:rs(Ms.wc_sessionPropose.req.ttl),id:Ic()},{done:T,resolve:k,reject:M}=gf(x,"Request expired"),B=Ic(),Z=Fn("session_connect",A.id),N=Fn("session_request",B),L=async({error:J,session:ee})=>{this.events.off(N,H),J?M(J):ee&&k({session:ee})},H=async J=>{var ee,W,ue;if(await this.deletePendingAuthRequest(B,{message:"fulfilled",code:0}),J.error){const se=Er("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return J.error.code===se.code?void 0:(this.events.off(Z,L),M(J.error.message))}await this.deleteProposal(A.id),this.events.off(Z,L);const{cacaos:Ee,responder:ye}=J.result,Ie=[],Ve=[];for(const se of Ee){await WM({cacao:se,projectId:this.client.core.projectId})||(this.client.logger.error(se,"Signature verification failed"),M(Er("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Pe}=se,mt=gE(Pe.resources),Y=[rR(Pe.iss)],X=RA(Pe.iss);if(mt){const ne=GM(mt),pe=KM(mt);Ie.push(...ne),Y.push(...pe)}for(const ne of Y)Ve.push(`${ne}:${X}`)}const oe=await this.client.core.crypto.generateSharedKey(S,ye.publicKey);let _e;Ie.length>0&&(_e={topic:oe,acknowledged:!0,self:{publicKey:S,metadata:this.client.metadata},peer:ye,controller:ye.publicKey,expiry:rs(Tm),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:wL([...new Set(Ie)],[...new Set(Ve)]),transportType:o},await this.client.core.relayer.subscribe(oe,{transportType:o}),await this.client.session.set(oe,_e),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:ye.metadata}),_e=this.client.session.get(oe)),(ee=this.client.metadata.redirect)!=null&&ee.linkMode&&(W=ye.metadata.redirect)!=null&&W.linkMode&&(ue=ye.metadata.redirect)!=null&&ue.universal&&r&&(this.client.core.addLinkModeSupportedApp(ye.metadata.redirect.universal),this.client.session.update(oe,{transportType:wr.link_mode})),k({auths:Ee,session:_e})};this.events.once(Z,L),this.events.once(N,H);let F;try{if(i){const J=Nc("wc_sessionAuthenticate",I,B);this.client.core.history.set(b,J);const ee=await this.client.core.crypto.encode("",J,{type:h_,encoding:Dd});F=D1(r,b,ee)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:I,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:B}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:A,expiry:Ms.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(J){throw this.events.off(Z,L),this.events.off(N,H),J}return await this.setProposal(A.id,A),await this.setAuthRequest(B,{request:ei(Zn({},I),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:F??_,response:T}}),xe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[lf.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(Ky.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(Ky.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||wr.relay;a===wr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=yE(c),d={type:ou,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of s){if(!await WM({cacao:y,projectId:this.client.core.projectId})){i.setError(Ky.invalid_cacao);const C=Er("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:C,encodeOpts:d}),new Error(C.message)}i.addTrace(lf.cacaos_verified);const{p:v}=y,b=gE(v.resources),_=[rR(v.iss)],S=RA(v.iss);if(b){const C=GM(b),x=KM(b);h.push(...C),_.push(...x)}for(const C of _)f.push(`${C}:${S}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(lf.create_authenticated_session_topic);let g;if(h?.length>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:rs(Tm),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:wL([...new Set(h)],[...new Set(f)]),transportType:a},i.addTrace(lf.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(Ky.subscribe_authenticated_session_topic_failure),y}i.addTrace(lf.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(lf.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(lf.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(Ky.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),xe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===wr.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=yE(o),l={type:ou,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:Ms.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),xe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return SH(r,s)}),xe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),xe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),xe(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Er("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(n4).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,Er("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=bc.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),xe(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:s.pairingTopic})?.setError(Gy.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Er("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),xe(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=bc.idle,this.client.events.emit("session_request_expire",{id:n}))}),xe(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),xe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),xe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,rs(Ms.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),xe(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=wr.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),xe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||rs(Ms.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),xe(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:h={}}=n,f=Nc(s,i,c);let p;const g=!!u;try{const b=g?Dd:qi;p=await this.client.core.crypto.encode(r,f,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),b}let y;if(NEe.includes(s)){const b=ea(JSON.stringify(f)),_=ea(p);y=await this.client.core.verify.register({id:_,decryptedId:b})}const v=Zn(Zn({},Ms[s].req),h);if(v.attestation=y,o&&(v.ttl=o),a&&(v.id=a),this.client.core.history.set(r,f),g){const b=D1(u,r,p);await globalThis.Linking.openURL(b,this.client.name)}else v.tvf=ei(Zn({},d),{correlationId:f.id}),l?(v.internal=ei(Zn({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,v)):this.client.core.relayer.publish(r,p,v).catch(b=>this.client.logger.error(b));return f.id}),xe(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:s}=n,i=Nc("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,i);const o=await this.client.core.crypto.encode(r.pairingTopic,i,{encoding:qi}),a=ea(JSON.stringify(i)),c=ea(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:ei(Zn({},s),{publishMethod:"wc_proposeSession",attestation:l})})}),xe(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:s,proposal:i,sessionSettleRequest:o,publishOpts:a}=n,c=Fb(i.id,s),l=await this.client.core.crypto.encode(i.pairingTopic,c,{encoding:qi}),u=Nc("wc_sessionSettle",o,a?.id),d=await this.client.core.crypto.encode(r,u,{encoding:qi});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:i.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:ei(Zn({},a),{publishMethod:"wc_approveSession"})})}),xe(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=Fb(r,i);let u;const d=c&&typeof globalThis?.Linking<"u";try{const p=d?Dd:qi;u=await this.client.core.crypto.encode(s,l,ei(Zn({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let h,f;try{h=await this.client.core.history.get(s,r);const p=h.request;try{f=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=D1(c,s,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=h.request.method,g=Ms[p].res;g.tvf=ei(Zn({},f),{correlationId:r}),o?(g.internal=ei(Zn({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),xe(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=iT(r,i);let u;const d=c&&typeof globalThis?.Linking<"u";try{const f=d?Dd:qi;u=await this.client.core.crypto.encode(s,l,ei(Zn({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let h;try{h=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(d){const f=D1(c,s,u);await globalThis.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||Ms[f].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),xe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;Sd(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Sd(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),xe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),xe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),xe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===bc.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=bc.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=bc.idle}),xe(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),xe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),xe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=Fe("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),xe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),xe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Vl.proposal_listener_not_found)),this.isValidConnect(Zn({},s.params));const u=a.expiryTimestamp||rs(Ms.wc_sessionPropose.req.ttl),d=Zn({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:i,hash:ea(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l?.addTrace(Ac.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Ms.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),xe(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(Tc(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(ta(r)){await this.deleteProposal(i);const o=Fn("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),xe(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),g=ei(Zn(Zn(Zn({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:wr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Fn("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),xe(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;Tc(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Fn("session_approve",s),{})):ta(r)&&(await this.client.session.delete(n,Er("USER_DISCONNECTED")),this.events.emit(Fn("session_approve",s),{error:r.error}))}),xe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=zy.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:Er("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Zn({topic:n},s));try{zy.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw zy.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),xe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),xe(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=Fn("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Tc(r)?this.events.emit(Fn("session_update",s),{}):ta(r)&&this.events.emit(Fn("session_update",s),{error:r.error})}),xe(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,rs(Tm)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),xe(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=Fn("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Tc(r)?this.events.emit(Fn("session_extend",s),{}):ta(r)&&this.events.emit(Fn("session_extend",s),{error:r.error})}),xe(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),xe(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=Fn("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Tc(r)?this.events.emit(Fn("session_ping",s),{}):ta(r)&&this.events.emit(Fn("session_ping",s),{error:r.error})},500)}),xe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(Ur.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Er("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),xe(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(Zn({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:ea(JSON.stringify(Nc("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(g),u===wr.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),xe(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=Fn("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Tc(r)?this.events.emit(Fn("session_request",s),{result:r.result}):ta(r)&&this.events.emit(Fn("session_request",s),{error:r.error})}),xe(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=zy.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Zn({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),zy.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),xe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Tc(r)?this.events.emit(Fn("session_request",s),{result:r.result}):ta(r)&&this.events.emit(Fn("session_request",s),{error:r.error})}),xe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,h=await this.getVerifyContext({attestationId:o,hash:ea(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:f,pairingTopic:s,transportType:c}),c===wr.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),f={type:ou,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:f,rpcOpts:Ms.wc_sessionAuthenticate.autoReject,appLink:h})}}),xe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),xe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=bc.idle,this.processSessionRequestQueue()},je.toMiliseconds(this.requestQueueDelay))}),xe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=Fn("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Fn("session_request",i.request.id),{error:r})})}),xe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===bc.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),xe(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=bc.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),xe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Nc("wc_sessionPropose",ei(Zn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),xe(this,"isValidConnect",async n=>{if(!Ui(n)){const{message:l}=Fe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(os(r)||await this.isValidPairingTopic(r),!Twe(c)){const{message:l}=Fe("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!os(s)&&qc(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!os(i)&&qc(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),os(o)||this.validateSessionProps(o,"sessionProperties"),!os(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),xe(this,"validateNamespaces",(n,r)=>{const s=Iwe(n,"connect()",r);if(s)throw new Error(s.message)}),xe(this,"isValidApprove",async n=>{if(!Ui(n))throw new Error(Fe("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=Vx(s,"approve()");if(l)throw new Error(l.message);const u=_L(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!Zr(i,!0)){const{message:d}=Fe("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(os(o)||this.validateSessionProps(o,"sessionProperties"),!os(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(h=>d.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),xe(this,"isValidReject",async n=>{if(!Ui(n)){const{message:i}=Fe("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!xwe(s)){const{message:i}=Fe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),xe(this,"isValidSessionSettleRequest",n=>{if(!Ui(n)){const{message:l}=Fe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!sq(r)){const{message:l}=Fe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=bwe(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Vx(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Sd(o)){const{message:l}=Fe("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),xe(this,"isValidUpdate",async n=>{if(!Ui(n)){const{message:c}=Fe("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=Vx(s,"update()");if(o)throw new Error(o.message);const a=_L(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),xe(this,"isValidExtend",async n=>{if(!Ui(n)){const{message:s}=Fe("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),xe(this,"isValidRequest",async n=>{if(!Ui(n)){const{message:c}=Fe("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!vL(a,i)){const{message:c}=Fe("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!Pwe(s)){const{message:c}=Fe("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!kwe(a,i,s.method)){const{message:c}=Fe("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Lwe(o,Qx)){const{message:c}=Fe("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Qx.min} and ${Qx.max}`);throw new Error(c)}}),xe(this,"isValidRespond",async n=>{var r;if(!Ui(n)){const{message:o}=Fe("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Rwe(i)){const{message:o}=Fe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),xe(this,"isValidPing",async n=>{if(!Ui(n)){const{message:s}=Fe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),xe(this,"isValidEmit",async n=>{if(!Ui(n)){const{message:a}=Fe("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!vL(o,i)){const{message:a}=Fe("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Nwe(s)){const{message:a}=Fe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!Owe(o,i,s.name)){const{message:a}=Fe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),xe(this,"isValidDisconnect",async n=>{if(!Ui(n)){const{message:s}=Fe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),xe(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Zr(s,!1))throw new Error("uri is required parameter");if(!Zr(i,!1))throw new Error("domain is required parameter");if(!Zr(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Hf(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Hf(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),xe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Bw,validation:"UNKNOWN",origin:o.url||""}};try{if(a===wr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),xe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=Fe("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),xe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),xe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),xe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=Fe("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),xe(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,h;return!n||r!==wr.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n?.redirect)==null?void 0:u.universal)!==void 0&&((d=n?.redirect)==null?void 0:d.universal)!==""&&((h=n?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof globalThis?.Linking<"u"}),xe(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n?.redirect)==null?void 0:s.universal:void 0}),xe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=DM(n,"topic")||"",s=decodeURIComponent(DM(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:wr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),xe(this,"registerLinkModeListeners",async()=>{var n;if(IO()||Sh()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=globalThis?.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),xe(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),xe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=n?.data||((r=n?.[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),xe(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=PEe[i];if(i==="sui_signTransaction")return[i0e(r.transactionBytes)];if(i==="near_signTransaction")return[VM(r)];if(i==="near_signTransactions")return r.map(c=>VM(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[Zwe({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return au(r)?r.map(c=>HM(c)):[HM(r)];if(i==="cosmos_signDirect")return[a0e(r)];if(typeof r=="string")return[r];const a=r[o.key];if(au(a))return i==="solana_signAllTransactions"?a.map(c=>s0e(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Fe("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ur.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(bE)?this.client.auth.authKeys.get(bE):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===wr.link_mode?Dd:qi});FO(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:ea(r)})):oT(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Xo.expired,async e=>{const{topic:n,id:r}=hH(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Fe("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Fe("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(_f.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(_f.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Zr(e,!1)){const{message:n}=Fe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Fe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Sd(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Fe("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Zr(e,!1)){const{message:n}=Fe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Fe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Sd(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Fe("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Fe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Zr(e,!1)){const{message:n}=Fe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Fe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Swe(e)){const{message:n}=Fe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Fe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Sd(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Fe("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class HEe extends Hp{constructor(e,n){super(e,n,TEe,jO),this.core=e,this.logger=n}}let qEe=class extends Hp{constructor(e,n){super(e,n,SEe,jO),this.core=e,this.logger=n}};class zEe extends Hp{constructor(e,n){super(e,n,REe,jO,r=>r.id),this.core=e,this.logger=n}}class WEe extends Hp{constructor(e,n){super(e,n,DEe,cT,()=>bE),this.core=e,this.logger=n}}class GEe extends Hp{constructor(e,n){super(e,n,MEe,cT),this.core=e,this.logger=n}}class KEe extends Hp{constructor(e,n){super(e,n,LEe,cT,r=>r.id),this.core=e,this.logger=n}}var QEe=Object.defineProperty,YEe=(t,e,n)=>e in t?QEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yx=(t,e,n)=>YEe(t,typeof e!="symbol"?e+"":e,n);class ZEe{constructor(e,n){this.core=e,this.logger=n,Yx(this,"authKeys"),Yx(this,"pairingTopics"),Yx(this,"requests"),this.authKeys=new WEe(this.core,this.logger),this.pairingTopics=new GEe(this.core,this.logger),this.requests=new KEe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var JEe=Object.defineProperty,XEe=(t,e,n)=>e in t?JEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bn=(t,e,n)=>XEe(t,typeof e!="symbol"?e+"":e,n);let eAe=class Nq extends wue{constructor(e){super(e),bn(this,"protocol",xq),bn(this,"version",Pq),bn(this,"name",Kx.name),bn(this,"metadata"),bn(this,"core"),bn(this,"logger"),bn(this,"events",new Ca.EventEmitter),bn(this,"engine"),bn(this,"session"),bn(this,"proposal"),bn(this,"pendingRequest"),bn(this,"auth"),bn(this,"signConfig"),bn(this,"on",(r,s)=>this.events.on(r,s)),bn(this,"once",(r,s)=>this.events.once(r,s)),bn(this,"off",(r,s)=>this.events.off(r,s)),bn(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),bn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),bn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),bn(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),bn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),bn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=e?.name||Kx.name,this.metadata=Yme(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:i_(I0({level:e?.logger||Kx.logger}));this.core=e?.core||new IEe(e),this.logger=fi(n,this.name),this.session=new qEe(this.core,this.logger),this.proposal=new HEe(this.core,this.logger),this.pendingRequest=new zEe(this.core,this.logger),this.engine=new VEe(this),this.auth=new ZEe(this.core,this.logger)}static async init(e){const n=new Nq(e);return await n.initialize(),n}get context(){return ao(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var M1={exports:{}},i4;function tAe(){return i4||(i4=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=(function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i})();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof i<"u"&&i||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(N){return N&&DataView.prototype.isPrototypeOf(N)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(N){return N&&u.indexOf(Object.prototype.toString.call(N))>-1};function h(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function f(N){return typeof N!="string"&&(N=String(N)),N}function p(N){var L={next:function(){var H=N.shift();return{done:H===void 0,value:H}}};return c.iterable&&(L[Symbol.iterator]=function(){return L}),L}function g(N){this.map={},N instanceof g?N.forEach(function(L,H){this.append(H,L)},this):Array.isArray(N)?N.forEach(function(L){if(L.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+L.length);this.append(L[0],L[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(L){this.append(L,N[L])},this)}g.prototype.append=function(N,L){N=h(N),L=f(L);var H=this.map[N];this.map[N]=H?H+", "+L:L},g.prototype.delete=function(N){delete this.map[h(N)]},g.prototype.get=function(N){return N=h(N),this.has(N)?this.map[N]:null},g.prototype.has=function(N){return this.map.hasOwnProperty(h(N))},g.prototype.set=function(N,L){this.map[h(N)]=f(L)},g.prototype.forEach=function(N,L){for(var H in this.map)this.map.hasOwnProperty(H)&&N.call(L,this.map[H],H,this)},g.prototype.keys=function(){var N=[];return this.forEach(function(L,H){N.push(H)}),p(N)},g.prototype.values=function(){var N=[];return this.forEach(function(L){N.push(L)}),p(N)},g.prototype.entries=function(){var N=[];return this.forEach(function(L,H){N.push([H,L])}),p(N)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(N){if(!N._noBody){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}}function v(N){return new Promise(function(L,H){N.onload=function(){L(N.result)},N.onerror=function(){H(N.error)}})}function b(N){var L=new FileReader,H=v(L);return L.readAsArrayBuffer(N),H}function _(N){var L=new FileReader,H=v(L),F=/charset=([A-Za-z0-9_-]+)/.exec(N.type),J=F?F[1]:"utf-8";return L.readAsText(N,J),H}function S(N){for(var L=new Uint8Array(N),H=new Array(L.length),F=0;F<L.length;F++)H[F]=String.fromCharCode(L[F]);return H.join("")}function C(N){if(N.slice)return N.slice(0);var L=new Uint8Array(N.byteLength);return L.set(new Uint8Array(N)),L.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(N){this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:c.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:c.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():c.arrayBuffer&&c.blob&&l(N)?(this._bodyArrayBuffer=C(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||d(N))?this._bodyArrayBuffer=C(N):this._bodyText=N=Object.prototype.toString.call(N):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var N=y(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var N=y(this);return N||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var N=y(this);if(N)return N;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var I=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(N){var L=N.toUpperCase();return I.indexOf(L)>-1?L:N}function A(N,L){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');L=L||{};var H=L.body;if(N instanceof A){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,L.headers||(this.headers=new g(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!H&&N._bodyInit!=null&&(H=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=L.credentials||this.credentials||"same-origin",(L.headers||!this.headers)&&(this.headers=new g(L.headers)),this.method=E(L.method||this.method||"GET"),this.mode=L.mode||this.mode||null,this.signal=L.signal||this.signal||(function(){if("AbortController"in a){var ee=new AbortController;return ee.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(H),(this.method==="GET"||this.method==="HEAD")&&(L.cache==="no-store"||L.cache==="no-cache")){var F=/([?&])_=[^&]*/;if(F.test(this.url))this.url=this.url.replace(F,"$1_="+new Date().getTime());else{var J=/\?/;this.url+=(J.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function T(N){var L=new FormData;return N.trim().split("&").forEach(function(H){if(H){var F=H.split("="),J=F.shift().replace(/\+/g," "),ee=F.join("=").replace(/\+/g," ");L.append(decodeURIComponent(J),decodeURIComponent(ee))}}),L}function k(N){var L=new g,H=N.replace(/\r?\n[\t ]+/g," ");return H.split("\r").map(function(F){return F.indexOf(`
`)===0?F.substr(1,F.length):F}).forEach(function(F){var J=F.split(":"),ee=J.shift().trim();if(ee){var W=J.join(":").trim();try{L.append(ee,W)}catch(ue){console.warn("Response "+ue.message)}}}),L}x.call(A.prototype);function M(N,L){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(L||(L={}),this.type="default",this.status=L.status===void 0?200:L.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=L.statusText===void 0?"":""+L.statusText,this.headers=new g(L.headers),this.url=L.url||"",this._initBody(N)}x.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},M.error=function(){var N=new M(null,{status:200,statusText:""});return N.ok=!1,N.status=0,N.type="error",N};var B=[301,302,303,307,308];M.redirect=function(N,L){if(B.indexOf(L)===-1)throw new RangeError("Invalid status code");return new M(null,{status:L,headers:{location:N}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(L,H){this.message=L,this.name=H;var F=Error(L);this.stack=F.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Z(N,L){return new Promise(function(H,F){var J=new A(N,L);if(J.signal&&J.signal.aborted)return F(new o.DOMException("Aborted","AbortError"));var ee=new XMLHttpRequest;function W(){ee.abort()}ee.onload=function(){var ye={statusText:ee.statusText,headers:k(ee.getAllResponseHeaders()||"")};J.url.indexOf("file://")===0&&(ee.status<200||ee.status>599)?ye.status=200:ye.status=ee.status,ye.url="responseURL"in ee?ee.responseURL:ye.headers.get("X-Request-URL");var Ie="response"in ee?ee.response:ee.responseText;setTimeout(function(){H(new M(Ie,ye))},0)},ee.onerror=function(){setTimeout(function(){F(new TypeError("Network request failed"))},0)},ee.ontimeout=function(){setTimeout(function(){F(new TypeError("Network request timed out"))},0)},ee.onabort=function(){setTimeout(function(){F(new o.DOMException("Aborted","AbortError"))},0)};function ue(ye){try{return ye===""&&a.location.href?a.location.href:ye}catch{return ye}}if(ee.open(J.method,ue(J.url),!0),J.credentials==="include"?ee.withCredentials=!0:J.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&(c.blob?ee.responseType="blob":c.arrayBuffer&&(ee.responseType="arraybuffer")),L&&typeof L.headers=="object"&&!(L.headers instanceof g||a.Headers&&L.headers instanceof a.Headers)){var Ee=[];Object.getOwnPropertyNames(L.headers).forEach(function(ye){Ee.push(h(ye)),ee.setRequestHeader(ye,f(L.headers[ye]))}),J.headers.forEach(function(ye,Ie){Ee.indexOf(Ie)===-1&&ee.setRequestHeader(Ie,ye)})}else J.headers.forEach(function(ye,Ie){ee.setRequestHeader(Ie,ye)});J.signal&&(J.signal.addEventListener("abort",W),ee.onreadystatechange=function(){ee.readyState===4&&J.signal.removeEventListener("abort",W)}),ee.send(typeof J._bodyInit>"u"?null:J._bodyInit)})}return Z.polyfill=!0,a.fetch||(a.fetch=Z,a.Headers=g,a.Request=A,a.Response=M),o.Headers=g,o.Request=A,o.Response=M,o.fetch=Z,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(M1,M1.exports)),M1.exports}var nAe=tAe();const o4=w0(nAe);var rAe=Object.defineProperty,sAe=Object.defineProperties,iAe=Object.getOwnPropertyDescriptors,a4=Object.getOwnPropertySymbols,oAe=Object.prototype.hasOwnProperty,aAe=Object.prototype.propertyIsEnumerable,c4=(t,e,n)=>e in t?rAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l4=(t,e)=>{for(var n in e||(e={}))oAe.call(e,n)&&c4(t,n,e[n]);if(a4)for(var n of a4(e))aAe.call(e,n)&&c4(t,n,e[n]);return t},u4=(t,e)=>sAe(t,iAe(e));const cAe={Accept:"application/json","Content-Type":"application/json"},lAe="POST",d4={headers:cAe,method:lAe},h4=10;let ic=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Ca.EventEmitter,this.isAvailable=!1,this.registering=!1,!xL(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=gu(e),r=await(await o4(this.url,u4(l4({},d4),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!xL(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=gu({id:1,jsonrpc:"2.0",method:"test",params:[]});await o4(e,u4(l4({},d4),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?cp(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=iT(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return aq(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>h4&&this.events.setMaxListeners(h4)}};const f4="error",uAe="wss://relay.walletconnect.org",dAe="wc",hAe="universal_provider",L1=`${dAe}@2:${hAe}:`,kq="https://rpc.walletconnect.org/v1/",Oq="generic",fAe=`${kq}bundler`,Ta={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function VO(t){return t==null||typeof t!="object"&&typeof t!="function"}function Dq(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Mq(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const pAe="[object RegExp]",Lq="[object String]",Bq="[object Number]",$q="[object Boolean]",Uq="[object Arguments]",mAe="[object Symbol]",gAe="[object Date]",yAe="[object Map]",wAe="[object Set]",bAe="[object Array]",vAe="[object ArrayBuffer]",_Ae="[object Object]",EAe="[object DataView]",AAe="[object Uint8Array]",CAe="[object Uint8ClampedArray]",IAe="[object Uint16Array]",TAe="[object Uint32Array]",SAe="[object Int8Array]",xAe="[object Int16Array]",PAe="[object Int32Array]",RAe="[object Float32Array]",NAe="[object Float64Array]";function HO(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kAe(t,e){return og(t,void 0,t,new Map,e)}function og(t,e,n,r=new Map,s=void 0){const i=s?.(t,e,n,r);if(i!=null)return i;if(VO(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=og(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,og(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(og(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(HO(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=og(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Ef(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Ef(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Ef(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Ef(o,t,n,r,s),o}if(typeof t=="object"&&OAe(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Ef(o,t,n,r,s),o}return t}function Ef(t,e,n=t,r,s){const i=[...Object.keys(e),...Dq(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=og(e[a],a,n,r,s))}}function OAe(t){switch(Mq(t)){case Uq:case bAe:case vAe:case EAe:case $q:case gAe:case RAe:case NAe:case SAe:case xAe:case PAe:case yAe:case Bq:case _Ae:case pAe:case wAe:case Lq:case mAe:case AAe:case CAe:case IAe:case TAe:return!0;default:return!1}}function DAe(t,e){return kAe(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Bq:case Lq:case $q:{const o=new t.constructor(t?.valueOf());return Ef(o,t),o}case Uq:{const o={};return Ef(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function p4(t){return DAe(t)}function m4(t){return t!==null&&typeof t=="object"&&Mq(t)==="[object Arguments]"}function g4(t){return typeof t=="object"&&t!==null}function MAe(){}function LAe(t){return HO(t)}function BAe(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function $Ae(t){if(VO(t))return t;if(Array.isArray(t)||HO(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function UAe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=PR(s,o,r,new Map)}return s}function PR(t,e,n,r){if(VO(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return $Ae(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...Dq(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(m4(a)&&(a={...a}),m4(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=p4(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||g4(c)&&g4(a)?t[o]=PR(c,a,n,r):c==null&&BAe(a)?t[o]=PR({},a,n,r):c==null&&LAe(a)?t[o]=p4(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function FAe(t,...e){return UAe(t,...e,MAe)}var jAe=Object.defineProperty,VAe=Object.defineProperties,HAe=Object.getOwnPropertyDescriptors,y4=Object.getOwnPropertySymbols,qAe=Object.prototype.hasOwnProperty,zAe=Object.prototype.propertyIsEnumerable,w4=(t,e,n)=>e in t?jAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B1=(t,e)=>{for(var n in e||(e={}))qAe.call(e,n)&&w4(t,n,e[n]);if(y4)for(var n of y4(e))zAe.call(e,n)&&w4(t,n,e[n]);return t},WAe=(t,e)=>VAe(t,HAe(e));function Ro(t,e,n){var r;const s=Hf(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${kq}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function qp(t){return t.includes(":")?t.split(":")[1]:t}function Fq(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function GAe(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function b4(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,s;return((r=n?.chains)==null?void 0:r.length)&&((s=n?.chains)==null?void 0:s.length)>0}))}function $1(t={},e={}){const n=b4(v4(t)),r=b4(v4(e));return FAe(n,r)}function v4(t){var e,n,r,s,i;const o={};if(!qc(t))return o;for(const[a,c]of Object.entries(t)){const l=sT(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=ig(a);o[f]=WAe(B1(B1({},o[f]),c),{chains:Hc(l,(e=o[f])==null?void 0:e.chains),methods:Hc(u,(n=o[f])==null?void 0:n.methods),events:Hc(d,(r=o[f])==null?void 0:r.events)}),(qc(h)||qc(((s=o[f])==null?void 0:s.rpcMap)||{}))&&(o[f].rpcMap=B1(B1({},h),(i=o[f])==null?void 0:i.rpcMap))}return o}function _4(t){return t.includes(":")?t.split(":")[2]:t}function E4(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=sT(n)?[n]:r.chains?r.chains:Fq(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function Zx(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const jq={},Bn=t=>jq[t],Jx=(t,e)=>{jq[t]=e};var KAe=Object.defineProperty,A4=Object.getOwnPropertySymbols,QAe=Object.prototype.hasOwnProperty,YAe=Object.prototype.propertyIsEnumerable,C4=(t,e,n)=>e in t?KAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I4=(t,e)=>{for(var n in e||(e={}))QAe.call(e,n)&&C4(t,n,e[n]);if(A4)for(var n of A4(e))YAe.call(e,n)&&C4(t,n,e[n]);return t};const T4="eip155",ZAe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],JAe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,Xx=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,S4=t=>Object.keys(t).filter(e=>ZAe.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),XAe=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:s={}}=t,i={};if(!qc(s)&&!qc(r))return;const o=S4(r);for(const a of n){const c=JAe(a);if(!c)continue;i[Xx(c)]=o;const l=s?.[`${T4}:${c}`];if(l){const u=l?.[`${T4}:${c}:${e}`];i[Xx(c)]=I4(I4({},i[Xx(c)]),S4(u||l))}}for(const[a,c]of Object.entries(i))Object.keys(c).length===0&&delete i[a];return Object.keys(i).length>0?i:void 0};var eCe=Object.defineProperty,tCe=(t,e,n)=>e in t?eCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sm=(t,e,n)=>tCe(t,typeof e!="symbol"?e+"":e,n);class nCe{constructor(e){Sm(this,"name","polkadot"),Sm(this,"client"),Sm(this,"httpProviders"),Sm(this,"events"),Sm(this,"namespace"),Sm(this,"chainId"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=qp(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ro(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ia(new ic(r,Bn("disableProviderPing")))}}var rCe=Object.defineProperty,sCe=Object.defineProperties,iCe=Object.getOwnPropertyDescriptors,x4=Object.getOwnPropertySymbols,oCe=Object.prototype.hasOwnProperty,aCe=Object.prototype.propertyIsEnumerable,RR=(t,e,n)=>e in t?rCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P4=(t,e)=>{for(var n in e||(e={}))oCe.call(e,n)&&RR(t,n,e[n]);if(x4)for(var n of x4(e))aCe.call(e,n)&&RR(t,n,e[n]);return t},R4=(t,e)=>sCe(t,iCe(e)),xm=(t,e,n)=>RR(t,typeof e!="symbol"?e+"":e,n);class cCe{constructor(e){xm(this,"name","eip155"),xm(this,"client"),xm(this,"chainId"),xm(this,"namespace"),xm(this,"httpProviders"),xm(this,"events"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Ro(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ia(new ic(r,Bn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(qp(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,h=u?.[d];if(h)return h;let f;try{f=XAe(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(f)return f;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:R4(P4({},l.sessionProperties||{}),{capabilities:R4(P4({},u||{}),{[d]:p})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return p}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Nc("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${fAe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var lCe=Object.defineProperty,uCe=(t,e,n)=>e in t?lCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pm=(t,e,n)=>uCe(t,typeof e!="symbol"?e+"":e,n);class dCe{constructor(e){Pm(this,"name","solana"),Pm(this,"client"),Pm(this,"httpProviders"),Pm(this,"events"),Pm(this,"namespace"),Pm(this,"chainId"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=qp(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ro(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ia(new ic(r,Bn("disableProviderPing")))}}var hCe=Object.defineProperty,fCe=(t,e,n)=>e in t?hCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rm=(t,e,n)=>fCe(t,typeof e!="symbol"?e+"":e,n);class pCe{constructor(e){Rm(this,"name","cosmos"),Rm(this,"client"),Rm(this,"httpProviders"),Rm(this,"events"),Rm(this,"namespace"),Rm(this,"chainId"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=qp(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ro(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ia(new ic(r,Bn("disableProviderPing")))}}var mCe=Object.defineProperty,gCe=(t,e,n)=>e in t?mCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nm=(t,e,n)=>gCe(t,typeof e!="symbol"?e+"":e,n);class yCe{constructor(e){Nm(this,"name","algorand"),Nm(this,"client"),Nm(this,"httpProviders"),Nm(this,"events"),Nm(this,"namespace"),Nm(this,"chainId"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Ro(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ro(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Ia(new ic(r,Bn("disableProviderPing")))}}var wCe=Object.defineProperty,bCe=(t,e,n)=>e in t?wCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,km=(t,e,n)=>bCe(t,typeof e!="symbol"?e+"":e,n);class vCe{constructor(e){km(this,"name","cip34"),km(this,"client"),km(this,"httpProviders"),km(this,"events"),km(this,"namespace"),km(this,"chainId"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=qp(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ia(new ic(r,Bn("disableProviderPing")))}}var _Ce=Object.defineProperty,ECe=(t,e,n)=>e in t?_Ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Om=(t,e,n)=>ECe(t,typeof e!="symbol"?e+"":e,n);class ACe{constructor(e){Om(this,"name","elrond"),Om(this,"client"),Om(this,"httpProviders"),Om(this,"events"),Om(this,"namespace"),Om(this,"chainId"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=qp(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ro(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ia(new ic(r,Bn("disableProviderPing")))}}var CCe=Object.defineProperty,ICe=(t,e,n)=>e in t?CCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dm=(t,e,n)=>ICe(t,typeof e!="symbol"?e+"":e,n);class TCe{constructor(e){Dm(this,"name","multiversx"),Dm(this,"client"),Dm(this,"httpProviders"),Dm(this,"events"),Dm(this,"namespace"),Dm(this,"chainId"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=qp(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ro(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ia(new ic(r,Bn("disableProviderPing")))}}var SCe=Object.defineProperty,xCe=(t,e,n)=>e in t?SCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mm=(t,e,n)=>xCe(t,typeof e!="symbol"?e+"":e,n);class PCe{constructor(e){Mm(this,"name","near"),Mm(this,"client"),Mm(this,"httpProviders"),Mm(this,"events"),Mm(this,"namespace"),Mm(this,"chainId"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Ro(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ro(e,this.namespace);return typeof r>"u"?void 0:new Ia(new ic(r,Bn("disableProviderPing")))}}var RCe=Object.defineProperty,NCe=(t,e,n)=>e in t?RCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lm=(t,e,n)=>NCe(t,typeof e!="symbol"?e+"":e,n);class kCe{constructor(e){Lm(this,"name","tezos"),Lm(this,"client"),Lm(this,"httpProviders"),Lm(this,"events"),Lm(this,"namespace"),Lm(this,"chainId"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Ro(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ro(e,this.namespace);return typeof r>"u"?void 0:new Ia(new ic(r))}}var OCe=Object.defineProperty,DCe=(t,e,n)=>e in t?OCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bm=(t,e,n)=>DCe(t,typeof e!="symbol"?e+"":e,n);class MCe{constructor(e){Bm(this,"name",Oq),Bm(this,"client"),Bm(this,"httpProviders"),Bm(this,"events"),Bm(this,"namespace"),Bm(this,"chainId"),this.namespace=e.namespace,this.events=Bn("events"),this.client=Bn("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ta.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Hf(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=Hf(s);r[i.reference]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ro(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ia(new ic(r,Bn("disableProviderPing")))}}var LCe=Object.defineProperty,BCe=Object.defineProperties,$Ce=Object.getOwnPropertyDescriptors,N4=Object.getOwnPropertySymbols,UCe=Object.prototype.hasOwnProperty,FCe=Object.prototype.propertyIsEnumerable,NR=(t,e,n)=>e in t?LCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U1=(t,e)=>{for(var n in e||(e={}))UCe.call(e,n)&&NR(t,n,e[n]);if(N4)for(var n of N4(e))FCe.call(e,n)&&NR(t,n,e[n]);return t},eP=(t,e)=>BCe(t,$Ce(e)),Yo=(t,e,n)=>NR(t,typeof e!="symbol"?e+"":e,n);let jCe=class Vq{constructor(e){Yo(this,"client"),Yo(this,"namespaces"),Yo(this,"optionalNamespaces"),Yo(this,"sessionProperties"),Yo(this,"scopedProperties"),Yo(this,"events",new hO),Yo(this,"rpcProviders",{}),Yo(this,"session"),Yo(this,"providerOpts"),Yo(this,"logger"),Yo(this,"uri"),Yo(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:i_(I0({level:e?.logger||f4})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new Vq(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:U1({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,Fb(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Er("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=E4(this.session.namespaces);this.namespaces=$1(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=E4(s.namespaces);return this.namespaces=$1(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e);this.getProvider(r).setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!au(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await eAe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||f4,relayUrl:this.providerOpts.relayUrl||uAe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>ig(n)))];Jx("client",this.client),Jx("events",this.events),Jx("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=GAe(n,this.session);if(r?.length===0)return;const s=Fq(r),i=$1(this.namespaces,this.optionalNamespaces),o=eP(U1({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new cCe({namespace:o});break;case"algorand":this.rpcProviders[n]=new yCe({namespace:o});break;case"solana":this.rpcProviders[n]=new dCe({namespace:o});break;case"cosmos":this.rpcProviders[n]=new pCe({namespace:o});break;case"polkadot":this.rpcProviders[n]=new nCe({namespace:o});break;case"cip34":this.rpcProviders[n]=new vCe({namespace:o});break;case"elrond":this.rpcProviders[n]=new ACe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new TCe({namespace:o});break;case"near":this.rpcProviders[n]=new PCe({namespace:o});break;case"tezos":this.rpcProviders[n]=new kCe({namespace:o});break;default:this.rpcProviders[n]=new MCe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&au(o)&&this.events.emit("accountsChanged",o.map(_4))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=ig(o),l=Zx(o)!==Zx(a)?`${c}:${Zx(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=eP(U1({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",eP(U1({},Er("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ta.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Oq]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=$1(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>ig(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=ig(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s);const i=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e})):this.getProvider(r).setDefaultChain(s),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(_4);if(!au(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${L1}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${L1}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${L1}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(L1)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}},uf=null;const aa={getSIWX(){return ve.state.siwx},async initializeIfEnabled(t=K.getActiveCaipAddress()){const e=ve.state.siwx;if(!(e&&t))return;const[n,r,s]=t.split(":");if(K.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(ve.state.remoteFeatures?.emailCapture){const o=K.getAccountData(n)?.user;await vn.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(uf&&await uf,(await e.getSessions(`${n}:${r}`,s)).length)return;await vn.open({view:"SIWXSignMessage"})}catch(i){console.error("SIWXUtil:initializeIfEnabled",i),Rn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await qe._getClient()?.disconnect().catch(console.error),Tt.reset("Connect"),Bc.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=ve.state.siwx,e=rt.getPlainAddress(K.getActiveCaipAddress()),n=tu(),r=qe._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();Le.getConnectorId(n.chainNamespace)===le.CONNECTOR_ID.AUTH&&Tt.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),K.setLastConnectedSIWECaipNetwork(n),vn.close(),Rn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!vn.state.open||Tt.state.view==="ApproveTransaction")&&await vn.open({view:"SIWXSignMessage"}),Bc.showError("Error signing message"),Rn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const n=K.getLastConnectedSIWECaipNetwork();if(n){const r=await t?.getSessions(n?.caipNetworkId,rt.getPlainAddress(K.getActiveCaipAddress())||"");r&&r.length>0?await K.switchActiveNetwork(n):await qe.disconnect()}else await qe.disconnect()}else vn.close();vn.close(),Rn.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=K.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await t?.getSessions(r.caipNetworkId,rt.getPlainAddress(K.getActiveCaipAddress())||"");s&&n.push(...s)})),n},async getSessions(t){const e=ve.state.siwx;let n=t?.address;if(!n){const s=K.getActiveCaipAddress();n=rt.getPlainAddress(s)}let r=t?.caipNetworkId;return r||(r=K.getActiveCaipNetwork()?.caipNetworkId),e&&n&&r?e.getSessions(r,n):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=Tt.state.view==="ApproveTransaction",n=Tt.state.view==="SIWXSignMessage";if(e||n)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:n,preferredAccountType:r,chainNamespace:s}){const i=aa.getSIWX(),o=tu();if(!i||!s.includes(le.CHAIN.EVM)||ve.state.remoteFeatures?.emailCapture){const d=await t.connect({chainId:e,socialUri:n,preferredAccountType:r});return{address:d.address,chainId:d.chainId,accounts:d.accounts}}const a=`${s}:${e}`,c=await i.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await t.connect({chainId:e,socialUri:n,siwxMessage:l,preferredAccountType:r});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await aa.addEmbeddedWalletSession(l,u.message,u.signature),K.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,n){if(uf)return uf;const r=aa.getSIWX();return r?(uf=r.addSession({data:t,message:e,signature:n}).finally(()=>{uf=null}),uf):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){const r=aa.getSIWX(),s=tu(),i=new Set(e.map(c=>c.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const o=await r.createMessage({chainId:tu()?.caipNetworkId||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:n,chains:[o.chainId,...e.filter(c=>c!==o.chainId)]});if(Bc.showLoading("Authenticating...",{autoClose:!1}),ut.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(i)[0]),a?.auths?.length){const c=a.auths.map(l=>{const u=t.client.formatAuthMessage({request:l.p,iss:l.p.iss});return{data:{...l.p,accountAddress:l.p.iss.split(":").slice(-1).join(""),chainId:l.p.iss.split(":").slice(2,4).join(":"),uri:l.p.aud,version:l.p.version||o.version,expirationTime:l.p.exp,issuedAt:l.p.iat,notBefore:l.p.nbf},message:u,signature:l.s.s,cacao:l}});try{await r.setSessions(c),s&&K.setLastConnectedSIWECaipNetwork(s),Rn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:aa.getSIWXEventProperties()})}catch(l){throw console.error("SIWX:universalProviderAuth - failed to set sessions",l),Rn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:aa.getSIWXEventProperties()}),await t.disconnect().catch(console.error),l}finally{Bc.hide()}}return!0},getSIWXEventProperties(){const t=K.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:K.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Po(t)===us.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},rr={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:le.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},mo={ConnectorExplorerIds:{[le.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[le.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[le.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[le.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[le.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[rr.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[rr.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[rr.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[rr.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[rr.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[rr.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[rr.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[rr.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[rr.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[rr.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[rr.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[rr.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[le.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[le.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[le.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[le.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[le.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[le.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[le.CONNECTOR_ID.INJECTED]:"Browser Wallet",[le.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[le.CONNECTOR_ID.COINBASE]:"Coinbase",[le.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[le.CONNECTOR_ID.LEDGER]:"Ledger",[le.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[le.CONNECTOR_ID.INJECTED]:"INJECTED",[le.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[le.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[le.CONNECTOR_ID.AUTH]:"AUTH",[rr.CONNECTOR_TYPE_AUTH]:"AUTH"}},as={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${rr.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=K.state.activeChain;return le.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>Le.getConnectorId(e)===le.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:n}){let r=0;return new Promise(s=>{async function i(){return r+=1,await t()?s(!0):r>=n?s(!1):(setTimeout(i,e),null)}i()})},userChainIdToChainNamespace(t){if(typeof t=="number")return le.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?le.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(r=>r!==t):[]}},VCe=new AbortController,Ar={EmbeddedWalletAbortController:VCe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${ng()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system’s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},HCe={createLogger(t,e="error"){const n=I0({level:e}),{logger:r}=pO({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},qCe="rpc.walletconnect.org";function k4(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const tP=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Oc={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===qCe}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:le.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${le.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){const r=t.rpcUrls?.default?.http?.[0];return tP.includes(e)?k4(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=t.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(t,i,n),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,l=r?.[i]?.map(h=>h.url)||[],u=[...l,...a?[a]:[]],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:mo.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>Oc.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){const r=[];return n?.forEach(s=>{r.push(rg(s.url,s.config))}),tP.includes(t.caipNetworkId)&&r.push(rg(k4(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(s=>{r.push(rg(s))}),I8(r)},extendWagmiTransports(t,e,n){if(tP.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return I8([n,rg(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:le.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=Se.getActiveCaipNetworkId(),n=K.getAllRequestedCaipNetworks(),r=Array.from(K.state.chains?.keys()||[]),s=e?.split(":")[0],i=s?r.includes(s):!1,o=n?.find(c=>c.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||n?.[0]}},MA={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},Bi=ur({providers:{...MA},providerIds:{...MA}}),jn={state:Bi,subscribeKey(t,e){return qs(Bi,t,e)},subscribe(t){return Vs(Bi,()=>{t(Bi)})},subscribeProviders(t){return Vs(Bi.providers,()=>t(Bi.providers))},setProvider(t,e){t&&e&&(Bi.providers[t]=ep(e))},getProvider(t){if(t)return Bi.providers[t]},setProviderId(t,e){e&&(Bi.providerIds[t]=e)},getProviderId(t){if(t)return Bi.providerIds[t]},reset(){Bi.providers={...MA},Bi.providerIds={...MA}},resetChain(t){Bi.providers[t]=void 0,Bi.providerIds[t]=void 0}},O4={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Ls={set(t,e){yo.isClient&&localStorage.setItem(`${lt.STORAGE_KEY}${t}`,e)},get(t){return yo.isClient?localStorage.getItem(`${lt.STORAGE_KEY}${t}`):null},delete(t,e){yo.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${lt.STORAGE_KEY}${t}`))}},F1=30*1e3,yo={checkIfAllowedToTriggerEmail(){const t=Ls.get(lt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<F1){const n=Math.ceil((F1-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=Ls.get(lt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<F1)return Math.ceil((F1-e)/1e3)}return 0},checkIfRequestExists(t){return us.NOT_SAFE_RPC_METHODS.includes(t.method)||us.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(O4.transactionHash)||t?.match(O4.signedMessage))?lt.RPC_RESPONSE_TYPE_TX:lt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return us.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Ln;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ln||(Ln={}));var kR;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(kR||(kR={}));const Ze=Ln.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Md=t=>{switch(typeof t){case"undefined":return Ze.undefined;case"string":return Ze.string;case"number":return isNaN(t)?Ze.nan:Ze.number;case"boolean":return Ze.boolean;case"function":return Ze.function;case"bigint":return Ze.bigint;case"symbol":return Ze.symbol;case"object":return Array.isArray(t)?Ze.array:t===null?Ze.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ze.promise:typeof Map<"u"&&t instanceof Map?Ze.map:typeof Set<"u"&&t instanceof Set?Ze.set:typeof Date<"u"&&t instanceof Date?Ze.date:Ze.object;default:return Ze.unknown}},Me=Ln.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),zCe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");let Ka=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ln.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};Ka.create=t=>new Ka(t);const jb=(t,e)=>{let n;switch(t.code){case Me.invalid_type:t.received===Ze.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ln.jsonStringifyReplacer)}`;break;case Me.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ln.joinValues(t.keys,", ")}`;break;case Me.invalid_union:n="Invalid input";break;case Me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ln.joinValues(t.options)}`;break;case Me.invalid_enum_value:n=`Invalid enum value. Expected ${Ln.joinValues(t.options)}, received '${t.received}'`;break;case Me.invalid_arguments:n="Invalid function arguments";break;case Me.invalid_return_type:n="Invalid function return type";break;case Me.invalid_date:n="Invalid date";break;case Me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ln.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Me.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Me.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Me.custom:n="Invalid input";break;case Me.invalid_intersection_types:n="Intersection results could not be merged";break;case Me.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Me.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ln.assertNever(t)}return{message:n}};let Hq=jb;function WCe(t){Hq=t}function LA(){return Hq}const BA=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},GCe=[];function st(t,e){const n=BA({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,LA(),jb].filter(r=>!!r)});t.common.issues.push(n)}let ro=class qq{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return zt;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return qq.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return zt;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}};const zt=Object.freeze({status:"aborted"}),zq=t=>({status:"dirty",value:t}),Ti=t=>({status:"valid",value:t}),OR=t=>t.status==="aborted",DR=t=>t.status==="dirty",Vb=t=>t.status==="valid",$A=t=>typeof Promise<"u"&&t instanceof Promise;var _t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(_t||(_t={}));let il=class{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const D4=(t,e)=>{if(Vb(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ka(t.common.issues);return this._error=n,this._error}}};function Kt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}let en=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Md(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Md(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ro,ctx:{common:e.parent.common,data:e.data,parsedType:Md(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if($A(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Md(e)},i=this._parseSync({data:e,path:s.path,parent:s});return D4(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Md(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await($A(s)?s:Promise.resolve(s));return D4(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Me.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ja({schema:this,typeName:Nt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return cu.create(this,this._def)}nullable(){return hp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dp.create(this,this._def)}promise(){return jg.create(this,this._def)}or(e){return Qb.create([this,e],this._def)}and(e){return Yb.create(this,e,this._def)}transform(e){return new Ja({...Kt(this._def),schema:this,typeName:Nt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ev({...Kt(this._def),innerType:this,defaultValue:n,typeName:Nt.ZodDefault})}brand(){return new Xq({typeName:Nt.ZodBranded,type:this,...Kt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new HA({...Kt(this._def),innerType:this,catchValue:n,typeName:Nt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return qO.create(this,e)}readonly(){return zA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const KCe=/^c[^\s-]{8,}$/i,QCe=/^[a-z][a-z0-9]*$/,YCe=/^[0-9A-HJKMNP-TV-Z]{26}$/,ZCe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,JCe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let nP;const eIe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,tIe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,nIe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function rIe(t,e){return!!((e==="v4"||!e)&&eIe.test(t)||(e==="v6"||!e)&&tIe.test(t))}let Ug=class dw extends en{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ze.string){const i=this._getOrReturnCtx(e);return st(i,{code:Me.invalid_type,expected:Ze.string,received:i.parsedType}),zt}const r=new ro;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),st(s,{code:Me.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),st(s,{code:Me.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?st(s,{code:Me.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&st(s,{code:Me.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")JCe.test(e.data)||(s=this._getOrReturnCtx(e,s),st(s,{validation:"email",code:Me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")nP||(nP=new RegExp(XCe,"u")),nP.test(e.data)||(s=this._getOrReturnCtx(e,s),st(s,{validation:"emoji",code:Me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")ZCe.test(e.data)||(s=this._getOrReturnCtx(e,s),st(s,{validation:"uuid",code:Me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")KCe.test(e.data)||(s=this._getOrReturnCtx(e,s),st(s,{validation:"cuid",code:Me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")QCe.test(e.data)||(s=this._getOrReturnCtx(e,s),st(s,{validation:"cuid2",code:Me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")YCe.test(e.data)||(s=this._getOrReturnCtx(e,s),st(s,{validation:"ulid",code:Me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),st(s,{validation:"url",code:Me.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),st(s,{validation:"regex",code:Me.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),st(s,{code:Me.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),st(s,{code:Me.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),st(s,{code:Me.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?nIe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),st(s,{code:Me.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?rIe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),st(s,{validation:"ip",code:Me.invalid_string,message:i.message}),r.dirty()):Ln.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Me.invalid_string,..._t.errToObj(r)})}_addCheck(e){return new dw({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._t.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._t.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._t.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._t.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._t.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._t.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._t.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._t.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,..._t.errToObj(e?.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._t.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,..._t.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._t.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._t.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._t.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._t.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._t.errToObj(n)})}nonempty(e){return this.min(1,_t.errToObj(e))}trim(){return new dw({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dw({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dw({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}};Ug.create=t=>{var e;return new Ug({checks:[],typeName:Nt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Kt(t)})};function sIe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}let Hb=class MR extends en{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ze.number){const i=this._getOrReturnCtx(e);return st(i,{code:Me.invalid_type,expected:Ze.number,received:i.parsedType}),zt}let r;const s=new ro;for(const i of this._def.checks)i.kind==="int"?Ln.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),st(r,{code:Me.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Me.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Me.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?sIe(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),st(r,{code:Me.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),st(r,{code:Me.not_finite,message:i.message}),s.dirty()):Ln.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,s){return new MR({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(s)}]})}_addCheck(e){return new MR({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_t.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_t.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ln.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}};Hb.create=t=>new Hb({checks:[],typeName:Nt.ZodNumber,coerce:t?.coerce||!1,...Kt(t)});let qb=class LR extends en{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ze.bigint){const i=this._getOrReturnCtx(e);return st(i,{code:Me.invalid_type,expected:Ze.bigint,received:i.parsedType}),zt}let r;const s=new ro;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Me.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Me.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Me.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ln.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,s){return new LR({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(s)}]})}_addCheck(e){return new LR({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}};qb.create=t=>{var e;return new qb({checks:[],typeName:Nt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Kt(t)})};let zb=class extends en{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ze.boolean){const r=this._getOrReturnCtx(e);return st(r,{code:Me.invalid_type,expected:Ze.boolean,received:r.parsedType}),zt}return Ti(e.data)}};zb.create=t=>new zb({typeName:Nt.ZodBoolean,coerce:t?.coerce||!1,...Kt(t)});let Wb=class Wq extends en{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ze.date){const i=this._getOrReturnCtx(e);return st(i,{code:Me.invalid_type,expected:Ze.date,received:i.parsedType}),zt}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return st(i,{code:Me.invalid_date}),zt}const r=new ro;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),st(s,{code:Me.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),st(s,{code:Me.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ln.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wq({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_t.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_t.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}};Wb.create=t=>new Wb({checks:[],coerce:t?.coerce||!1,typeName:Nt.ZodDate,...Kt(t)});let UA=class extends en{_parse(e){if(this._getType(e)!==Ze.symbol){const r=this._getOrReturnCtx(e);return st(r,{code:Me.invalid_type,expected:Ze.symbol,received:r.parsedType}),zt}return Ti(e.data)}};UA.create=t=>new UA({typeName:Nt.ZodSymbol,...Kt(t)});let Gb=class extends en{_parse(e){if(this._getType(e)!==Ze.undefined){const r=this._getOrReturnCtx(e);return st(r,{code:Me.invalid_type,expected:Ze.undefined,received:r.parsedType}),zt}return Ti(e.data)}};Gb.create=t=>new Gb({typeName:Nt.ZodUndefined,...Kt(t)});let Kb=class extends en{_parse(e){if(this._getType(e)!==Ze.null){const r=this._getOrReturnCtx(e);return st(r,{code:Me.invalid_type,expected:Ze.null,received:r.parsedType}),zt}return Ti(e.data)}};Kb.create=t=>new Kb({typeName:Nt.ZodNull,...Kt(t)});let Fg=class extends en{constructor(){super(...arguments),this._any=!0}_parse(e){return Ti(e.data)}};Fg.create=t=>new Fg({typeName:Nt.ZodAny,...Kt(t)});let qf=class extends en{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ti(e.data)}};qf.create=t=>new qf({typeName:Nt.ZodUnknown,...Kt(t)});let bu=class extends en{_parse(e){const n=this._getOrReturnCtx(e);return st(n,{code:Me.invalid_type,expected:Ze.never,received:n.parsedType}),zt}};bu.create=t=>new bu({typeName:Nt.ZodNever,...Kt(t)});let FA=class extends en{_parse(e){if(this._getType(e)!==Ze.undefined){const r=this._getOrReturnCtx(e);return st(r,{code:Me.invalid_type,expected:Ze.void,received:r.parsedType}),zt}return Ti(e.data)}};FA.create=t=>new FA({typeName:Nt.ZodVoid,...Kt(t)});let dp=class vE extends en{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Ze.array)return st(n,{code:Me.invalid_type,expected:Ze.array,received:n.parsedType}),zt;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(st(n,{code:o?Me.too_big:Me.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(st(n,{code:Me.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(st(n,{code:Me.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new il(n,o,n.path,a)))).then(o=>ro.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new il(n,o,n.path,a)));return ro.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new vE({...this._def,minLength:{value:e,message:_t.toString(n)}})}max(e,n){return new vE({...this._def,maxLength:{value:e,message:_t.toString(n)}})}length(e,n){return new vE({...this._def,exactLength:{value:e,message:_t.toString(n)}})}nonempty(e){return this.min(1,e)}};dp.create=(t,e)=>new dp({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Nt.ZodArray,...Kt(e)});function zm(t){if(t instanceof _a){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=cu.create(zm(r))}return new _a({...t._def,shape:()=>e})}else return t instanceof dp?new dp({...t._def,type:zm(t.element)}):t instanceof cu?cu.create(zm(t.unwrap())):t instanceof hp?hp.create(zm(t.unwrap())):t instanceof hh?hh.create(t.items.map(e=>zm(e))):t}let _a=class Ma extends en{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ln.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ze.object){const l=this._getOrReturnCtx(e);return st(l,{code:Me.invalid_type,expected:Ze.object,received:l.parsedType}),zt}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof bu&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new il(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof bu){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(st(s,{code:Me.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new il(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>ro.mergeObjectSync(r,l)):ro.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return _t.errToObj,new Ma({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=_t.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Ma({...this._def,unknownKeys:"strip"})}passthrough(){return new Ma({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ma({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ma({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Nt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ma({...this._def,catchall:e})}pick(e){const n={};return Ln.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ma({...this._def,shape:()=>n})}omit(e){const n={};return Ln.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ma({...this._def,shape:()=>n})}deepPartial(){return zm(this)}partial(e){const n={};return Ln.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ma({...this._def,shape:()=>n})}required(e){const n={};return Ln.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof cu;)i=i._def.innerType;n[r]=i}}),new Ma({...this._def,shape:()=>n})}keyof(){return Jq(Ln.objectKeys(this.shape))}};_a.create=(t,e)=>new _a({shape:()=>t,unknownKeys:"strip",catchall:bu.create(),typeName:Nt.ZodObject,...Kt(e)});_a.strictCreate=(t,e)=>new _a({shape:()=>t,unknownKeys:"strict",catchall:bu.create(),typeName:Nt.ZodObject,...Kt(e)});_a.lazycreate=(t,e)=>new _a({shape:t,unknownKeys:"strip",catchall:bu.create(),typeName:Nt.ZodObject,...Kt(e)});let Qb=class extends en{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ka(a.ctx.common.issues));return st(n,{code:Me.invalid_union,unionErrors:o}),zt}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Ka(c));return st(n,{code:Me.invalid_union,unionErrors:a}),zt}}get options(){return this._def.options}};Qb.create=(t,e)=>new Qb({options:t,typeName:Nt.ZodUnion,...Kt(e)});const _E=t=>t instanceof Zb?_E(t.schema):t instanceof Ja?_E(t.innerType()):t instanceof Jb?[t.value]:t instanceof p_?t.options:t instanceof Xb?Object.keys(t.enum):t instanceof ev?_E(t._def.innerType):t instanceof Gb?[void 0]:t instanceof Kb?[null]:null;let Gq=class Kq extends en{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.object)return st(n,{code:Me.invalid_type,expected:Ze.object,received:n.parsedType}),zt;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(st(n,{code:Me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),zt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=_E(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Kq({typeName:Nt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Kt(r)})}};function BR(t,e){const n=Md(t),r=Md(e);if(t===e)return{valid:!0,data:t};if(n===Ze.object&&r===Ze.object){const s=Ln.objectKeys(e),i=Ln.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=BR(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Ze.array&&r===Ze.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=BR(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Ze.date&&r===Ze.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}let Yb=class extends en{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(OR(i)||OR(o))return zt;const a=BR(i.value,o.value);return a.valid?((DR(i)||DR(o))&&n.dirty(),{status:n.value,value:a.data}):(st(r,{code:Me.invalid_intersection_types}),zt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Yb.create=(t,e,n)=>new Yb({left:t,right:e,typeName:Nt.ZodIntersection,...Kt(n)});let hh=class Qq extends en{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.array)return st(r,{code:Me.invalid_type,expected:Ze.array,received:r.parsedType}),zt;if(r.data.length<this._def.items.length)return st(r,{code:Me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),zt;!this._def.rest&&r.data.length>this._def.items.length&&(st(r,{code:Me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new il(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>ro.mergeArray(n,o)):ro.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Qq({...this._def,rest:e})}};hh.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hh({items:t,typeName:Nt.ZodTuple,rest:null,...Kt(e)})};let Yq=class $R extends en{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.object)return st(r,{code:Me.invalid_type,expected:Ze.object,received:r.parsedType}),zt;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new il(r,a,r.path,a)),value:o._parse(new il(r,r.data[a],r.path,a))});return r.common.async?ro.mergeObjectAsync(n,s):ro.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof en?new $R({keyType:e,valueType:n,typeName:Nt.ZodRecord,...Kt(r)}):new $R({keyType:Ug.create(),valueType:e,typeName:Nt.ZodRecord,...Kt(n)})}},jA=class extends en{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.map)return st(r,{code:Me.invalid_type,expected:Ze.map,received:r.parsedType}),zt;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new il(r,a,r.path,[l,"key"])),value:i._parse(new il(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return zt;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return zt;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}};jA.create=(t,e,n)=>new jA({valueType:e,keyType:t,typeName:Nt.ZodMap,...Kt(n)});let VA=class UR extends en{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.set)return st(r,{code:Me.invalid_type,expected:Ze.set,received:r.parsedType}),zt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(st(r,{code:Me.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(st(r,{code:Me.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return zt;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new il(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new UR({...this._def,minSize:{value:e,message:_t.toString(n)}})}max(e,n){return new UR({...this._def,maxSize:{value:e,message:_t.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}};VA.create=(t,e)=>new VA({valueType:t,minSize:null,maxSize:null,typeName:Nt.ZodSet,...Kt(e)});let Zq=class EE extends en{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.function)return st(n,{code:Me.invalid_type,expected:Ze.function,received:n.parsedType}),zt;function r(a,c){return BA({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,LA(),jb].filter(l=>!!l),issueData:{code:Me.invalid_arguments,argumentsError:c}})}function s(a,c){return BA({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,LA(),jb].filter(l=>!!l),issueData:{code:Me.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof jg){const a=this;return Ti(async function(...c){const l=new Ka([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return Ti(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new Ka([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Ka([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new EE({...this._def,args:hh.create(e).rest(qf.create())})}returns(e){return new EE({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new EE({args:e||hh.create([]).rest(qf.create()),returns:n||qf.create(),typeName:Nt.ZodFunction,...Kt(r)})}},Zb=class extends en{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};Zb.create=(t,e)=>new Zb({getter:t,typeName:Nt.ZodLazy,...Kt(e)});let Jb=class extends en{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return st(n,{received:n.data,code:Me.invalid_literal,expected:this._def.value}),zt}return{status:"valid",value:e.data}}get value(){return this._def.value}};Jb.create=(t,e)=>new Jb({value:t,typeName:Nt.ZodLiteral,...Kt(e)});function Jq(t,e){return new p_({values:t,typeName:Nt.ZodEnum,...Kt(e)})}let p_=class FR extends en{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return st(n,{expected:Ln.joinValues(r),received:n.parsedType,code:Me.invalid_type}),zt}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return st(n,{received:n.data,code:Me.invalid_enum_value,options:r}),zt}return Ti(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return FR.create(e)}exclude(e){return FR.create(this.options.filter(n=>!e.includes(n)))}};p_.create=Jq;let Xb=class extends en{_parse(e){const n=Ln.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ze.string&&r.parsedType!==Ze.number){const s=Ln.objectValues(n);return st(r,{expected:Ln.joinValues(s),received:r.parsedType,code:Me.invalid_type}),zt}if(n.indexOf(e.data)===-1){const s=Ln.objectValues(n);return st(r,{received:r.data,code:Me.invalid_enum_value,options:s}),zt}return Ti(e.data)}get enum(){return this._def.values}};Xb.create=(t,e)=>new Xb({values:t,typeName:Nt.ZodNativeEnum,...Kt(e)});let jg=class extends en{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.promise&&n.common.async===!1)return st(n,{code:Me.invalid_type,expected:Ze.promise,received:n.parsedType}),zt;const r=n.parsedType===Ze.promise?n.data:Promise.resolve(n.data);return Ti(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}};jg.create=(t,e)=>new jg({type:t,typeName:Nt.ZodPromise,...Kt(e)});let Ja=class extends en{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{st(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?zt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?zt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Vb(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Vb(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ln.assertNever(s)}};Ja.create=(t,e,n)=>new Ja({schema:t,typeName:Nt.ZodEffects,effect:e,...Kt(n)});Ja.createWithPreprocess=(t,e,n)=>new Ja({schema:e,effect:{type:"preprocess",transform:t},typeName:Nt.ZodEffects,...Kt(n)});let cu=class extends en{_parse(e){return this._getType(e)===Ze.undefined?Ti(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};cu.create=(t,e)=>new cu({innerType:t,typeName:Nt.ZodOptional,...Kt(e)});let hp=class extends en{_parse(e){return this._getType(e)===Ze.null?Ti(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};hp.create=(t,e)=>new hp({innerType:t,typeName:Nt.ZodNullable,...Kt(e)});let ev=class extends en{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ze.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};ev.create=(t,e)=>new ev({innerType:t,typeName:Nt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Kt(e)});let HA=class extends en{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return $A(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ka(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ka(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};HA.create=(t,e)=>new HA({innerType:t,typeName:Nt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Kt(e)});let qA=class extends en{_parse(e){if(this._getType(e)!==Ze.nan){const r=this._getOrReturnCtx(e);return st(r,{code:Me.invalid_type,expected:Ze.nan,received:r.parsedType}),zt}return{status:"valid",value:e.data}}};qA.create=t=>new qA({typeName:Nt.ZodNaN,...Kt(t)});const iIe=Symbol("zod_brand");let Xq=class extends en{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},qO=class ez extends en{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?zt:i.status==="dirty"?(n.dirty(),zq(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?zt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new ez({in:e,out:n,typeName:Nt.ZodPipeline})}},zA=class extends en{_parse(e){const n=this._def.innerType._parse(e);return Vb(n)&&(n.value=Object.freeze(n.value)),n}};zA.create=(t,e)=>new zA({innerType:t,typeName:Nt.ZodReadonly,...Kt(e)});const tz=(t,e={},n)=>t?Fg.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):Fg.create(),oIe={object:_a.lazycreate};var Nt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Nt||(Nt={}));const aIe=(t,e={message:`Input not instance of ${t.name}`})=>tz(n=>n instanceof t,e),nz=Ug.create,rz=Hb.create,cIe=qA.create,lIe=qb.create,sz=zb.create,uIe=Wb.create,dIe=UA.create,hIe=Gb.create,fIe=Kb.create,pIe=Fg.create,mIe=qf.create,gIe=bu.create,yIe=FA.create,wIe=dp.create,bIe=_a.create,vIe=_a.strictCreate,_Ie=Qb.create,EIe=Gq.create,AIe=Yb.create,CIe=hh.create,IIe=Yq.create,TIe=jA.create,SIe=VA.create,xIe=Zq.create,PIe=Zb.create,RIe=Jb.create,NIe=p_.create,kIe=Xb.create,OIe=jg.create,M4=Ja.create,DIe=cu.create,MIe=hp.create,LIe=Ja.createWithPreprocess,BIe=qO.create,$Ie=()=>nz().optional(),UIe=()=>rz().optional(),FIe=()=>sz().optional(),jIe={string:(t=>Ug.create({...t,coerce:!0})),number:(t=>Hb.create({...t,coerce:!0})),boolean:(t=>zb.create({...t,coerce:!0})),bigint:(t=>qb.create({...t,coerce:!0})),date:(t=>Wb.create({...t,coerce:!0}))},VIe=zt;var V=Object.freeze({__proto__:null,defaultErrorMap:jb,setErrorMap:WCe,getErrorMap:LA,makeIssue:BA,EMPTY_PATH:GCe,addIssueToContext:st,ParseStatus:ro,INVALID:zt,DIRTY:zq,OK:Ti,isAborted:OR,isDirty:DR,isValid:Vb,isAsync:$A,get util(){return Ln},get objectUtil(){return kR},ZodParsedType:Ze,getParsedType:Md,ZodType:en,ZodString:Ug,ZodNumber:Hb,ZodBigInt:qb,ZodBoolean:zb,ZodDate:Wb,ZodSymbol:UA,ZodUndefined:Gb,ZodNull:Kb,ZodAny:Fg,ZodUnknown:qf,ZodNever:bu,ZodVoid:FA,ZodArray:dp,ZodObject:_a,ZodUnion:Qb,ZodDiscriminatedUnion:Gq,ZodIntersection:Yb,ZodTuple:hh,ZodRecord:Yq,ZodMap:jA,ZodSet:VA,ZodFunction:Zq,ZodLazy:Zb,ZodLiteral:Jb,ZodEnum:p_,ZodNativeEnum:Xb,ZodPromise:jg,ZodEffects:Ja,ZodTransformer:Ja,ZodOptional:cu,ZodNullable:hp,ZodDefault:ev,ZodCatch:HA,ZodNaN:qA,BRAND:iIe,ZodBranded:Xq,ZodPipeline:qO,ZodReadonly:zA,custom:tz,Schema:en,ZodSchema:en,late:oIe,get ZodFirstPartyTypeKind(){return Nt},coerce:jIe,any:pIe,array:wIe,bigint:lIe,boolean:sz,date:uIe,discriminatedUnion:EIe,effect:M4,enum:NIe,function:xIe,instanceof:aIe,intersection:AIe,lazy:PIe,literal:RIe,map:TIe,nan:cIe,nativeEnum:kIe,never:gIe,null:fIe,nullable:MIe,number:rz,object:bIe,oboolean:FIe,onumber:UIe,optional:DIe,ostring:$Ie,pipeline:BIe,preprocess:LIe,promise:OIe,record:IIe,set:SIe,strictObject:vIe,string:nz,symbol:dIe,transformer:M4,tuple:CIe,undefined:hIe,union:_Ie,unknown:mIe,void:yIe,NEVER:VIe,ZodIssueCode:Me,quotelessJson:zCe,ZodError:Ka});const Or=V.object({message:V.string()});function et(t){return V.literal(lt[t])}const lT=V.object({serializedMessage:V.string().optional(),accountAddress:V.string(),chainId:V.string(),notBefore:V.string().optional(),domain:V.string(),uri:V.string(),version:V.string(),nonce:V.string(),statement:V.string().optional(),resources:V.array(V.string()).optional(),requestId:V.string().optional(),issuedAt:V.string().optional(),expirationTime:V.string().optional()});V.object({accessList:V.array(V.string()),blockHash:V.string().nullable(),blockNumber:V.string().nullable(),chainId:V.string().or(V.number()),from:V.string(),gas:V.string(),hash:V.string(),input:V.string().nullable(),maxFeePerGas:V.string(),maxPriorityFeePerGas:V.string(),nonce:V.string(),r:V.string(),s:V.string(),to:V.string(),transactionIndex:V.string().nullable(),type:V.string(),v:V.string(),value:V.string()});const HIe=V.object({chainId:V.string().or(V.number()),rpcUrl:V.optional(V.string())}),qIe=V.object({email:V.string().email()}),zIe=V.object({otp:V.string()}),WIe=V.object({uri:V.string(),preferredAccountType:V.optional(V.string()),chainId:V.optional(V.string().or(V.number())),siwxMessage:V.optional(lT),rpcUrl:V.optional(V.string())}),GIe=V.object({chainId:V.optional(V.string().or(V.number())),preferredAccountType:V.optional(V.string()),socialUri:V.optional(V.string()),siwxMessage:V.optional(lT),rpcUrl:V.optional(V.string())}),KIe=V.object({provider:V.enum(["google","github","apple","facebook","x","discord"])}),QIe=V.object({email:V.string().email()}),YIe=V.object({otp:V.string()}),ZIe=V.object({otp:V.string()}),JIe=V.object({themeMode:V.optional(V.enum(["light","dark"])),themeVariables:V.optional(V.record(V.string(),V.string().or(V.number()))),w3mThemeVariables:V.optional(V.record(V.string(),V.string()))}),XIe=V.object({metadata:V.object({name:V.string(),description:V.string(),url:V.string(),icons:V.array(V.string())}).optional(),sdkVersion:V.string().optional(),sdkType:V.string().optional(),projectId:V.string()}),eTe=V.object({type:V.string()}),tTe=V.object({action:V.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),nTe=V.object({url:V.string()}),rTe=V.object({userName:V.string()}),sTe=V.object({email:V.string().optional().nullable(),address:V.string(),chainId:V.string().or(V.number()),accounts:V.array(V.object({address:V.string(),type:V.enum([us.ACCOUNT_TYPES.EOA,us.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:V.string().optional().nullable(),preferredAccountType:V.optional(V.string()),signature:V.string().optional(),message:V.string().optional(),siwxMessage:V.optional(lT)}),iTe=V.object({action:V.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),oTe=V.object({email:V.string().email().optional().nullable(),address:V.string(),chainId:V.string().or(V.number()),smartAccountDeployed:V.optional(V.boolean()),accounts:V.array(V.object({address:V.string(),type:V.enum([us.ACCOUNT_TYPES.EOA,us.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:V.optional(V.string()),signature:V.string().optional(),message:V.string().optional(),siwxMessage:V.optional(lT)}),aTe=V.object({uri:V.string()}),cTe=V.object({isConnected:V.boolean()}),lTe=V.object({chainId:V.string().or(V.number())}),uTe=V.object({chainId:V.string().or(V.number())}),dTe=V.object({newEmail:V.string().email()}),hTe=V.object({smartAccountEnabledNetworks:V.array(V.number())});V.object({address:V.string(),isDeployed:V.boolean()});const fTe=V.object({version:V.string().optional()}),pTe=V.object({type:V.string(),address:V.string()}),mTe=V.any(),gTe=V.object({method:V.literal("eth_accounts")}),yTe=V.object({method:V.literal("eth_blockNumber")}),wTe=V.object({method:V.literal("eth_call"),params:V.array(V.any())}),bTe=V.object({method:V.literal("eth_chainId")}),vTe=V.object({method:V.literal("eth_estimateGas"),params:V.array(V.any())}),_Te=V.object({method:V.literal("eth_feeHistory"),params:V.array(V.any())}),ETe=V.object({method:V.literal("eth_gasPrice")}),ATe=V.object({method:V.literal("eth_getAccount"),params:V.array(V.any())}),CTe=V.object({method:V.literal("eth_getBalance"),params:V.array(V.any())}),ITe=V.object({method:V.literal("eth_getBlockByHash"),params:V.array(V.any())}),TTe=V.object({method:V.literal("eth_getBlockByNumber"),params:V.array(V.any())}),STe=V.object({method:V.literal("eth_getBlockReceipts"),params:V.array(V.any())}),xTe=V.object({method:V.literal("eth_getBlockTransactionCountByHash"),params:V.array(V.any())}),PTe=V.object({method:V.literal("eth_getBlockTransactionCountByNumber"),params:V.array(V.any())}),RTe=V.object({method:V.literal("eth_getCode"),params:V.array(V.any())}),NTe=V.object({method:V.literal("eth_getFilterChanges"),params:V.array(V.any())}),kTe=V.object({method:V.literal("eth_getFilterLogs"),params:V.array(V.any())}),OTe=V.object({method:V.literal("eth_getLogs"),params:V.array(V.any())}),DTe=V.object({method:V.literal("eth_getProof"),params:V.array(V.any())}),MTe=V.object({method:V.literal("eth_getStorageAt"),params:V.array(V.any())}),LTe=V.object({method:V.literal("eth_getTransactionByBlockHashAndIndex"),params:V.array(V.any())}),BTe=V.object({method:V.literal("eth_getTransactionByBlockNumberAndIndex"),params:V.array(V.any())}),$Te=V.object({method:V.literal("eth_getTransactionByHash"),params:V.array(V.any())}),UTe=V.object({method:V.literal("eth_getTransactionCount"),params:V.array(V.any())}),FTe=V.object({method:V.literal("eth_getTransactionReceipt"),params:V.array(V.any())}),jTe=V.object({method:V.literal("eth_getUncleCountByBlockHash"),params:V.array(V.any())}),VTe=V.object({method:V.literal("eth_getUncleCountByBlockNumber"),params:V.array(V.any())}),HTe=V.object({method:V.literal("eth_maxPriorityFeePerGas")}),qTe=V.object({method:V.literal("eth_newBlockFilter")}),zTe=V.object({method:V.literal("eth_newFilter"),params:V.array(V.any())}),WTe=V.object({method:V.literal("eth_newPendingTransactionFilter")}),GTe=V.object({method:V.literal("eth_sendRawTransaction"),params:V.array(V.any())}),KTe=V.object({method:V.literal("eth_syncing"),params:V.array(V.any())}),QTe=V.object({method:V.literal("eth_uninstallFilter"),params:V.array(V.any())}),L4=V.object({method:V.literal("personal_sign"),params:V.array(V.any())}),YTe=V.object({method:V.literal("eth_signTypedData_v4"),params:V.array(V.any())}),ZTe=V.object({method:V.literal("eth_sendTransaction"),params:V.array(V.any())}),JTe=V.object({method:V.literal("solana_signMessage"),params:V.object({message:V.string(),pubkey:V.string()})}),XTe=V.object({method:V.literal("solana_signTransaction"),params:V.object({transaction:V.string()})}),eSe=V.object({method:V.literal("solana_signAllTransactions"),params:V.object({transactions:V.array(V.string())})}),tSe=V.object({method:V.literal("solana_signAndSendTransaction"),params:V.object({transaction:V.string(),options:V.object({skipPreflight:V.boolean().optional(),preflightCommitment:V.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:V.number().optional(),minContextSlot:V.number().optional()}).optional()})}),nSe=V.object({method:V.literal("wallet_sendCalls"),params:V.array(V.object({chainId:V.string().or(V.number()).optional(),from:V.string().optional(),version:V.string().optional(),capabilities:V.any().optional(),calls:V.array(V.object({to:V.string().startsWith("0x"),data:V.string().startsWith("0x").optional(),value:V.string().optional()}))}))}),rSe=V.object({method:V.literal("wallet_getCallsStatus"),params:V.array(V.string())}),sSe=V.object({method:V.literal("wallet_getCapabilities"),params:V.array(V.string().or(V.number()).optional()).optional()}),iSe=V.object({method:V.literal("wallet_grantPermissions"),params:V.array(V.any())}),oSe=V.object({method:V.literal("wallet_revokePermissions"),params:V.any()}),aSe=V.object({method:V.literal("wallet_getAssets"),params:V.any()}),B4=V.object({token:V.string()}),tt=V.object({id:V.string().optional()}),rP={appEvent:tt.extend({type:et("APP_SWITCH_NETWORK"),payload:HIe}).or(tt.extend({type:et("APP_CONNECT_EMAIL"),payload:qIe})).or(tt.extend({type:et("APP_CONNECT_DEVICE")})).or(tt.extend({type:et("APP_CONNECT_OTP"),payload:zIe})).or(tt.extend({type:et("APP_CONNECT_SOCIAL"),payload:WIe})).or(tt.extend({type:et("APP_GET_FARCASTER_URI")})).or(tt.extend({type:et("APP_CONNECT_FARCASTER")})).or(tt.extend({type:et("APP_GET_USER"),payload:V.optional(GIe)})).or(tt.extend({type:et("APP_GET_SOCIAL_REDIRECT_URI"),payload:KIe})).or(tt.extend({type:et("APP_SIGN_OUT")})).or(tt.extend({type:et("APP_IS_CONNECTED"),payload:V.optional(B4)})).or(tt.extend({type:et("APP_GET_CHAIN_ID")})).or(tt.extend({type:et("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(tt.extend({type:et("APP_INIT_SMART_ACCOUNT")})).or(tt.extend({type:et("APP_SET_PREFERRED_ACCOUNT"),payload:eTe})).or(tt.extend({type:et("APP_RPC_REQUEST"),payload:L4.or(aSe).or(gTe).or(yTe).or(wTe).or(bTe).or(vTe).or(_Te).or(ETe).or(ATe).or(CTe).or(ITe).or(TTe).or(STe).or(xTe).or(PTe).or(RTe).or(NTe).or(kTe).or(OTe).or(DTe).or(MTe).or(LTe).or(BTe).or($Te).or(UTe).or(FTe).or(jTe).or(VTe).or(HTe).or(qTe).or(zTe).or(WTe).or(GTe).or(KTe).or(QTe).or(L4).or(YTe).or(ZTe).or(JTe).or(XTe).or(eSe).or(tSe).or(rSe).or(nSe).or(sSe).or(iSe).or(oSe).and(V.object({chainId:V.string().or(V.number()).optional(),chainNamespace:V.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:V.string().optional()}))})).or(tt.extend({type:et("APP_UPDATE_EMAIL"),payload:QIe})).or(tt.extend({type:et("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:YIe})).or(tt.extend({type:et("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:ZIe})).or(tt.extend({type:et("APP_SYNC_THEME"),payload:JIe})).or(tt.extend({type:et("APP_SYNC_DAPP_DATA"),payload:XIe})).or(tt.extend({type:et("APP_RELOAD")})).or(tt.extend({type:et("APP_RPC_ABORT")})),frameEvent:tt.extend({type:et("FRAME_SWITCH_NETWORK_ERROR"),payload:Or}).or(tt.extend({type:et("FRAME_SWITCH_NETWORK_SUCCESS"),payload:uTe})).or(tt.extend({type:et("FRAME_CONNECT_EMAIL_SUCCESS"),payload:tTe})).or(tt.extend({type:et("FRAME_CONNECT_EMAIL_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:nTe})).or(tt.extend({type:et("FRAME_GET_FARCASTER_URI_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:rTe})).or(tt.extend({type:et("FRAME_CONNECT_FARCASTER_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_CONNECT_OTP_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_CONNECT_OTP_SUCCESS")})).or(tt.extend({type:et("FRAME_CONNECT_DEVICE_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_CONNECT_DEVICE_SUCCESS")})).or(tt.extend({type:et("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:sTe})).or(tt.extend({type:et("FRAME_CONNECT_SOCIAL_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_GET_USER_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_GET_USER_SUCCESS"),payload:oTe})).or(tt.extend({type:et("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:aTe})).or(tt.extend({type:et("FRAME_SIGN_OUT_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_SIGN_OUT_SUCCESS")})).or(tt.extend({type:et("FRAME_IS_CONNECTED_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_IS_CONNECTED_SUCCESS"),payload:cTe})).or(tt.extend({type:et("FRAME_GET_CHAIN_ID_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_GET_CHAIN_ID_SUCCESS"),payload:lTe})).or(tt.extend({type:et("FRAME_RPC_REQUEST_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_RPC_REQUEST_SUCCESS"),payload:mTe})).or(tt.extend({type:et("FRAME_SESSION_UPDATE"),payload:B4})).or(tt.extend({type:et("FRAME_UPDATE_EMAIL_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_UPDATE_EMAIL_SUCCESS"),payload:iTe})).or(tt.extend({type:et("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(tt.extend({type:et("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:dTe})).or(tt.extend({type:et("FRAME_SYNC_THEME_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_SYNC_THEME_SUCCESS")})).or(tt.extend({type:et("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(tt.extend({type:et("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:hTe})).or(tt.extend({type:et("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:pTe})).or(tt.extend({type:et("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_READY"),payload:fTe})).or(tt.extend({type:et("FRAME_RELOAD_ERROR"),payload:Or})).or(tt.extend({type:et("FRAME_RELOAD_SUCCESS")}))};function sP(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}function cSe({projectId:t,chainId:e,enableLogger:n,rpcUrl:r=le.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:s=!1}){const i=new URL(bre);return i.searchParams.set("projectId",t),i.searchParams.set("chainId",String(e)),i.searchParams.set("version",_re),i.searchParams.set("enableLogger",String(n)),i.searchParams.set("rpcUrl",r),s&&i.searchParams.set("enableCloudAuthAccount","true"),i.toString()}class lSe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0,enableCloudAuthAccount:i=!1,rpcUrl:o=le.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function u({data:d}){if(!sP(lt.FRAME_EVENT_KEY,d))return;const h=rP.frameEvent.safeParse(d);if(!h.success){console.warn("W3mFrame: invalid frame event",h.error.message);return}h.data?.id===a&&(c(h.data),window.removeEventListener("message",u))}yo.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:a=>{yo.isClient&&window.addEventListener("message",({data:c})=>{if(!sP(lt.FRAME_EVENT_KEY,c))return;const l=rP.frameEvent.safeParse(c);l.success?a(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:a=>{yo.isClient&&window.addEventListener("message",({data:c})=>{if(!sP(lt.APP_EVENT_KEY,c))return;const l=rP.appEvent.safeParse(c);l.success||console.warn("W3mFrame: invalid app event",l.error.message),a(c)})},postAppEvent:a=>{if(yo.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(yo.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,n&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),yo.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=cSe({projectId:e,chainId:r,enableLogger:s,rpcUrl:this.rpcUrl,enableCloudAuthAccount:i}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class uSe{constructor(e){const n=I0({level:vre}),{logger:r,chunkLoggerController:s}=pO({opts:n});this.logger=fi(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class dSe{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c}){this.openRpcRequests=new Map,this.isInitialized=!1,r&&(this.w3mLogger=new uSe(e)),this.abortController=i,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const l=this.getRpcUrl(n);this.w3mFrame=new lSe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:l,enableCloudAuthAccount:c}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===lt.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Ls.get(lt.EMAIL_LOGIN_USED_KEY)}getEmail(){return Ls.get(lt.EMAIL)}getUsername(){return Ls.get(lt.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:lt.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{yo.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:lt.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:lt.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:lt.APP_CONNECT_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:lt.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:lt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:lt.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){try{const n=await this.appEvent({type:lt.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:lt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){try{const n=await this.appEvent({type:lt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){try{return this.appEvent({type:lt.APP_SYNC_THEME,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){try{return this.appEvent({type:lt.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:lt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:lt.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){if(e?.socialUri)try{await this.init();const n=this.getRpcUrl(e.chainId),r=await this.appEvent({type:lt.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:n}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(n)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(e){try{await this.init();const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:lt.APP_GET_USER,payload:{...e,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:e,chainId:n,preferredAccountType:r}){try{await this.init();const s=this.getRpcUrl(n),i=await this.appEvent({type:lt.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:n,rpcUrl:s,preferredAccountType:r}});return i.userName&&this.setSocialLoginSuccess(i.userName),i}catch(s){throw this.w3mLogger?.logger.error({error:s},"Error connecting social"),s}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:lt.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:lt.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{const n=this.getRpcUrl(e),r=await this.appEvent({type:lt.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:n}});return this.setLastUsedChainId(r.chainId),r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const r=setTimeout(()=>{n()},3e3);await this.appEvent({type:lt.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){const n=e;try{if(us.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const r=e.chainNamespace||"eip155",s=this.getActiveCaipNetwork(r)?.id;n.chainNamespace=r,n.chainId=s,n.rpcUrl=this.getRpcUrl(s),this.rpcRequestHandler?.(e);const i=await this.appEvent({type:lt.APP_RPC_REQUEST,payload:n});return this.rpcSuccessHandler?.(i,n),i}catch(r){throw this.rpcErrorHandler?.(r,n),this.w3mLogger?.logger.error({error:r},"Error requesting"),r}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===lt.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===lt.FRAME_IS_CONNECTED_ERROR&&e(),n.type===lt.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===lt.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===lt.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===lt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===lt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:us.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:n})=>{us.SAFE_RPC_METHODS.includes(n)||e.abort(),await this.appEvent({type:lt.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[lt.APP_SYNC_DAPP_DATA,lt.APP_SYNC_THEME,lt.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[lt.APP_CONNECT_EMAIL,lt.APP_CONNECT_DEVICE,lt.APP_CONNECT_OTP,lt.APP_CONNECT_SOCIAL,lt.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{const u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const f=e;this.openRpcRequests.set(u,{...f.payload,abortController:d})}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});const h=(f,p)=>{f.id===u&&(p?.logger.info?.({framEvent:f,id:u},"Received frame response"),this.openRpcRequests.delete(f.id),f.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in f&&c(f.payload),c(void 0)):f.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in f&&l(new Error(f.payload?.message||"An error occurred")),l(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(u,f=>h(f,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Ls.set(lt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Ls.set(lt.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Ls.set(lt.EMAIL,e),Ls.set(lt.EMAIL_LOGIN_USED_KEY,"true"),Ls.delete(lt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Ls.delete(lt.EMAIL_LOGIN_USED_KEY),Ls.delete(lt.EMAIL),Ls.delete(lt.LAST_USED_CHAIN_KEY),Ls.delete(lt.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Ls.set(lt.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Ls.get(lt.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){Ls.set(lt.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let n=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?n=Wi.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?n="eip155":n="solana");const r=this.getCaipNetworks(n);return(e?r.find(i=>String(i.id)===String(e)||i.caipNetworkId===e):r[0])?.rpcUrls.default.http?.[0]}}class zf{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a}){return zf.instance||(zf.instance=new dSe({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!ve.state.remoteFeatures?.emailCapture})),zf.instance}}var $4={};const hSe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof $4<"u"?$4.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},jR={filterOutDuplicatesByRDNS(t){const e=ve.state.enableEIP6963?Le.state.connectors:[],n=Se.getRecentWallets(),r=e.map(a=>a.info?.rdns).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&rt.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!(a?.rdns&&i.includes(String(a.rdns))||!a?.rdns&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=Le.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=Se.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Le.state,{featuredWalletIds:n}=ve.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n?.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const n=t?.connectMethodsOrder||ve.state.features?.connectMethodsOrder,r=e||Le.state.connectors;if(n)return n;const{injected:s,announced:i}=AE.getConnectorsByType(r,wt.state.recommended,wt.state.featured),o=s.filter(AE.showConnector),a=i.filter(AE.showConnector);return o.length||a.length?["wallet","email","social"]:hSe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&wt.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&wt.state.excludedWallets.some(r=>as.isLowerCaseMatch(r.name,t.name));return e||n},markWalletsWithDisplayIndex(t){return t.map((e,n)=>({...e,display_index:n}))}},AE={getConnectorsByType(t,e,n){const{customWallets:r}=ve.state,s=Se.getRecentWallets(),i=jR.filterOutDuplicateWallets(e),o=jR.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){const e=t.info?.rdns,n=!!e&&wt.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),r=!!t.name&&wt.state.excludedWallets.some(s=>as.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!rt.isMobile()||rt.isMobile()&&!e&&!qe.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(K.state.chains.values()).some(n=>Le.getConnectorId(n.namespace)===le.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=ve.state.features?.connectorTypeOrder??[]}){const d=[{type:"walletConnect",isEnabled:ve.state.enableWalletConnect},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(g=>g.isEnabled),h=new Set(d.map(g=>g.type)),f=c.filter(g=>h.has(g)).map(g=>({type:g,isEnabled:!0})),p=d.filter(({type:g})=>!f.some(({type:v})=>v===g));return Array.from(new Set([...f,...p].map(({type:g})=>g)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!rt.isMobile())return{accounts:[],chainId:void 0};if(t.id===le.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,n]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:e,chainId:n}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const CE=globalThis,zO=CE.ShadowRoot&&(CE.ShadyCSS===void 0||CE.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,WO=Symbol(),U4=new WeakMap;let iz=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==WO)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(zO&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=U4.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&U4.set(n,e))}return e}toString(){return this.cssText}};const fSe=t=>new iz(typeof t=="string"?t:t+"",void 0,WO),oz=(t,...e)=>{const n=t.length===1?t[0]:e.reduce(((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1]),t[0]);return new iz(n,t,WO)},pSe=(t,e)=>{if(zO)t.adoptedStyleSheets=e.map((n=>n instanceof CSSStyleSheet?n:n.styleSheet));else for(const n of e){const r=document.createElement("style"),s=CE.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},F4=zO?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return fSe(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:mSe,defineProperty:gSe,getOwnPropertyDescriptor:ySe,getOwnPropertyNames:wSe,getOwnPropertySymbols:bSe,getPrototypeOf:vSe}=Object,uT=globalThis,j4=uT.trustedTypes,_Se=j4?j4.emptyScript:"",ESe=uT.reactiveElementPolyfillSupport,Uw=(t,e)=>t,VR={toAttribute(t,e){switch(e){case Boolean:t=t?_Se:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},az=(t,e)=>!mSe(t,e),V4={attribute:!0,type:String,converter:VR,reflect:!1,useDefault:!1,hasChanged:az};Symbol.metadata??=Symbol("metadata"),uT.litPropertyMetadata??=new WeakMap;let Wm=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=V4){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&gSe(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=ySe(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s?.call(this);i?.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??V4}static _$Ei(){if(this.hasOwnProperty(Uw("elementProperties")))return;const e=vSe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Uw("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Uw("properties"))){const n=this.properties,r=[...wSe(n),...bSe(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(F4(s))}else e!==void 0&&n.push(F4(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return pSe(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const i=(r.converter?.toAttribute!==void 0?r.converter:VR).toAttribute(n,r.type);this._$Em=e,i==null?this.removeAttribute(s):this.setAttribute(s,i),this._$Em=null}}_$AK(e,n){const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const i=r.getPropertyOptions(s),o=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:VR;this._$Em=s;const a=o.fromAttribute(n,i.type);this[s]=a??this._$Ej?.get(s)??a,this._$Em=null}}requestUpdate(e,n,r){if(e!==void 0){const s=this.constructor,i=this[e];if(r??=s.getPropertyOptions(e),!((r.hasChanged??az)(i,n)||r.useDefault&&r.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(s._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,i]of this._$Ep)this[s]=i;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,i]of r){const{wrapped:o}=i,a=this[s];o!==!0||this._$AL.has(s)||a===void 0||this.C(s,void 0,i,a)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),this._$EO?.forEach((r=>r.hostUpdate?.())),this.update(n)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(n)}willUpdate(e){}_$AE(e){this._$EO?.forEach((n=>n.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Wm.elementStyles=[],Wm.shadowRootOptions={mode:"open"},Wm[Uw("elementProperties")]=new Map,Wm[Uw("finalized")]=new Map,ESe?.({ReactiveElement:Wm}),(uT.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const GO=globalThis,WA=GO.trustedTypes,H4=WA?WA.createPolicy("lit-html",{createHTML:t=>t}):void 0,cz="$lit$",Ld=`lit$${Math.random().toFixed(9).slice(2)}$`,lz="?"+Ld,ASe=`<${lz}>`,fp=document,tv=()=>fp.createComment(""),nv=t=>t===null||typeof t!="object"&&typeof t!="function",KO=Array.isArray,CSe=t=>KO(t)||typeof t?.[Symbol.iterator]=="function",iP=`[ 	
\f\r]`,Zy=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,q4=/-->/g,z4=/>/g,df=RegExp(`>|${iP}(?:([^\\s"'>=/]+)(${iP}*=${iP}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),W4=/'/g,G4=/"/g,uz=/^(?:script|style|textarea|title)$/i,dz=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),tZe=dz(1),nZe=dz(2),Vg=Symbol.for("lit-noChange"),As=Symbol.for("lit-nothing"),K4=new WeakMap,kf=fp.createTreeWalker(fp,129);function hz(t,e){if(!KO(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return H4!==void 0?H4.createHTML(e):e}const ISe=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=Zy;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===Zy?u[1]==="!--"?o=q4:u[1]!==void 0?o=z4:u[2]!==void 0?(uz.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=df):u[3]!==void 0&&(o=df):o===df?u[0]===">"?(o=s??Zy,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?df:u[3]==='"'?G4:W4):o===G4||o===W4?o=df:o===q4||o===z4?o=Zy:(o=df,s=void 0);const f=o===df&&t[a+1].startsWith("/>")?" ":"";i+=o===Zy?c+ASe:d>=0?(r.push(l),c.slice(0,d)+cz+c.slice(d)+Ld+f):c+Ld+(d===-2?a:f)}return[hz(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};let HR=class fz{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=ISe(e,n);if(this.el=fz.createElement(l,r),kf.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=kf.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(cz)){const h=u[o++],f=s.getAttribute(d).split(Ld),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:i,name:p[2],strings:f,ctor:p[1]==="."?SSe:p[1]==="?"?xSe:p[1]==="@"?PSe:dT}),s.removeAttribute(d)}else d.startsWith(Ld)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(uz.test(s.tagName)){const d=s.textContent.split(Ld),h=d.length-1;if(h>0){s.textContent=WA?WA.emptyScript:"";for(let f=0;f<h;f++)s.append(d[f],tv()),kf.nextNode(),c.push({type:2,index:++i});s.append(d[h],tv())}}}else if(s.nodeType===8)if(s.data===lz)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(Ld,d+1))!==-1;)c.push({type:7,index:i}),d+=Ld.length-1}i++}}static createElement(e,n){const r=fp.createElement("template");return r.innerHTML=e,r}};function Hg(t,e,n=t,r){if(e===Vg)return e;let s=r!==void 0?n._$Co?.[r]:n._$Cl;const i=nv(e)?void 0:e._$litDirective$;return s?.constructor!==i&&(s?._$AO?.(!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??=[])[r]=s:n._$Cl=s),s!==void 0&&(e=Hg(t,s._$AS(t,e.values),s,r)),e}let TSe=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=(e?.creationScope??fp).importNode(n,!0);kf.currentNode=s;let i=kf.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new m_(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new RSe(i,this,e)),this._$AV.push(l),c=r[++a]}o!==c?.index&&(i=kf.nextNode(),o++)}return kf.currentNode=fp,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}};class m_{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=As,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Hg(this,e,n),nv(e)?e===As||e==null||e===""?(this._$AH!==As&&this._$AR(),this._$AH=As):e!==this._$AH&&e!==Vg&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):CSe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==As&&nv(this._$AH)?this._$AA.nextSibling.data=e:this.T(fp.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=HR.createElement(hz(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(n);else{const i=new TSe(s,this),o=i.u(this.options);i.p(n),this.T(o),this._$AH=i}}_$AC(e){let n=K4.get(e.strings);return n===void 0&&K4.set(e.strings,n=new HR(e)),n}k(e){KO(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new m_(this.O(tv()),this.O(tv()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}let dT=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=As,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=As}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=Hg(this,e,n,0),o=!nv(e)||e!==this._$AH&&e!==Vg,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=Hg(this,a[r+c],n,c),l===Vg&&(l=this._$AH[c]),o||=!nv(l)||l!==this._$AH[c],l===As?e=As:e!==As&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===As?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}};class SSe extends dT{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===As?void 0:e}}class xSe extends dT{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==As)}}let PSe=class extends dT{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=Hg(this,e,n,0)??As)===Vg)return;const r=this._$AH,s=e===As&&r!==As||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==As&&(r===As||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},RSe=class{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Hg(this,e)}};const NSe=GO.litHtmlPolyfillSupport;NSe?.(HR,m_),(GO.litHtmlVersions??=[]).push("3.3.1");const kSe=(t,e,n)=>{const r=n?.renderBefore??e;let s=r._$litPart$;if(s===void 0){const i=n?.renderBefore??null;r._$litPart$=s=new m_(e.insertBefore(tv(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const QO=globalThis;class IE extends Wm{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=kSe(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Vg}}IE._$litElement$=!0,IE.finalized=!0,QO.litElementHydrateSupport?.({LitElement:IE});const OSe=QO.litElementPolyfillSupport;OSe?.({LitElement:IE});(QO.litElementVersions??=[]).push("4.2.1");const DSe={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},GA={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},MSe={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},LSe={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},BSe={regular:"KHTeka",mono:"KHTekaMono"},$Se={regular:"400",medium:"500"},USe={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},FSe={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},jSe={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},VSe={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},qR={colors:DSe,fontFamily:BSe,fontWeight:$Se,textSize:USe,typography:FSe,tokens:{core:GA.core,theme:GA.dark},borderRadius:MSe,spacing:LSe,durations:VSe,easings:jSe},Q4="--apkt",Cd={createCSSVariables(t){const e={},n={};function r(i,o,a=""){for(const[c,l]of Object.entries(i)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},r(l,o[c],u)):typeof l=="string"&&(o[c]=`${Q4}-${u}`)}}function s(i,o){for(const[a,c]of Object.entries(i))c&&typeof c=="object"?(o[a]={},s(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return r(t,e),s(e,n),{cssVariables:e,cssVariablesVarPrefix:n}},assignCSSVariables(t,e){const n={};function r(s,i,o){for(const[a,c]of Object.entries(s)){const l=o?`${o}-${a}`:a,u=i[a];c&&typeof c=="object"?r(c,u,l):typeof u=="string"&&(n[`${Q4}-${l}`]=u)}}return r(t,e),n},createRootStyles(t,e){const n={...qR,tokens:{...qR.tokens,theme:t==="light"?GA.light:GA.dark}},{cssVariables:r}=Cd.createCSSVariables(n),s=Cd.assignCSSVariables(r,n),i=Cd.generateW3MVariables(e),o=Cd.generateW3MOverrides(e),a=Cd.generateScaledVariables(e),c=Cd.generateBaseVariables(s),l={...s,...c,...i,...o,...a},u=Cd.applyColorMixToVariables(e,l),d={...l,...u};return`:root {${Object.entries(d).map(([f,p])=>`${f}:${p.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e={};return e["--w3m-font-family"]=t["--w3m-font-family"]||"KHTeka",e["--w3m-accent"]=t["--w3m-accent"]||"#0988F0",e["--w3m-color-mix"]=t["--w3m-color-mix"]||"#000",e["--w3m-color-mix-strength"]=`${t["--w3m-color-mix-strength"]||0}%`,e["--w3m-font-size-master"]=t["--w3m-font-size-master"]||"10px",e["--w3m-border-radius-master"]=t["--w3m-border-radius-master"]||"4px",t["--w3m-z-index"]&&(e["--apkt-z-index"]=`${t["--w3m-z-index"]}`),e},generateW3MOverrides(t){if(!t)return{};const e={};if(t["--w3m-accent"]){const n=t["--w3m-accent"];e["--apkt-tokens-core-iconAccentPrimary"]=n,e["--apkt-tokens-core-borderAccentPrimary"]=n,e["--apkt-tokens-core-textAccentPrimary"]=n,e["--apkt-tokens-core-backgroundAccentPrimary"]=n}return t["--w3m-font-family"]&&(e["--apkt-fontFamily-regular"]=t["--w3m-font-family"]),e},generateScaledVariables(t){if(!t)return{};const e={};if(t["--w3m-font-size-master"]){const n=parseFloat(t["--w3m-font-size-master"].replace("px",""));e["--apkt-textSize-h1"]=`${Number(n)*5}px`,e["--apkt-textSize-h2"]=`${Number(n)*4.4}px`,e["--apkt-textSize-h3"]=`${Number(n)*3.8}px`,e["--apkt-textSize-h4"]=`${Number(n)*3.2}px`,e["--apkt-textSize-h5"]=`${Number(n)*2.6}px`,e["--apkt-textSize-h6"]=`${Number(n)*2}px`,e["--apkt-textSize-large"]=`${Number(n)*1.6}px`,e["--apkt-textSize-medium"]=`${Number(n)*1.4}px`,e["--apkt-textSize-small"]=`${Number(n)*1.2}px`}if(t["--w3m-border-radius-master"]){const n=parseFloat(t["--w3m-border-radius-master"].replace("px",""));e["--apkt-borderRadius-1"]=`${Number(n)}px`,e["--apkt-borderRadius-2"]=`${Number(n)*2}px`,e["--apkt-borderRadius-3"]=`${Number(n)*3}px`,e["--apkt-borderRadius-4"]=`${Number(n)*4}px`,e["--apkt-borderRadius-5"]=`${Number(n)*5}px`,e["--apkt-borderRadius-6"]=`${Number(n)*6}px`,e["--apkt-borderRadius-8"]=`${Number(n)*8}px`,e["--apkt-borderRadius-16"]=`${Number(n)*16}px`,e["--apkt-borderRadius-20"]=`${Number(n)*20}px`,e["--apkt-borderRadius-32"]=`${Number(n)*32}px`,e["--apkt-borderRadius-64"]=`${Number(n)*64}px`,e["--apkt-borderRadius-128"]=`${Number(n)*128}px`}return e},generateColorMixCSS(t,e){if(!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return"";const n=t["--w3m-color-mix"],r=t["--w3m-color-mix-strength"];if(!r||r===0)return"";const s=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${s.map(o=>{const a=e?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${n} ${r}%, ${a});`:`${o}: color-mix(in srgb, ${n} ${r}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},n=t["--apkt-tokens-theme-backgroundPrimary"];n&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=n);const r=t["--apkt-tokens-core-backgroundAccentPrimary"];return r&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=r),e},applyColorMixToVariables(t,e){const n={};if(e?.["--apkt-tokens-theme-backgroundPrimary"]&&(n["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(n["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return n;const r=t["--w3m-color-mix"],s=t["--w3m-color-mix-strength"];if(!s||s===0)return n;const i=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon")||o.includes("-tokens-theme-overlay"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0||i.forEach(o=>{const a=e?.[o]||"";o.endsWith("-base")||(o==="--apkt-tokens-theme-backgroundPrimary"||o==="--apkt-tokens-core-backgroundAccentPrimary"?n[o]=`color-mix(in srgb, ${r} ${s}%, var(${o}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?n[o]=`color-mix(in srgb, ${r} ${s}%, ${a})`:n[o]=`color-mix(in srgb, ${r} ${s}%, var(${o}-base, ${a}))`)}),n}};Cd.createCSSVariables(qR);oz`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`;oz`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`;const TE={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,n]=await Promise.all([TE.getAddresses(t),TE.getChainId(t)]);return{chainId:n,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const n=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:TE.numberToHexString(e.id),rpcUrls:[...n],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[mo.NetworkImageIds[e.id]]}]})}},$m={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}},gg=nV({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),zR=nV({id:97,name:"BNB Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0});function D0(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const Y4=D0({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),Z4=D0({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});D0({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});D0({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});D0({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});D0({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const HSe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},lu={getMethodsByChainNamespace(t){return HSe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case Y4.caipNetworkId:u.chains.push(Y4.deprecatedCaipNetworkId);break;case Z4.caipNetworkId:u.chains.push(Z4.deprecatedCaipNetworkId);break}return u?.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{const e=await Pw.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:i,onDisplayUri:o}){n&&t.on("connect",()=>{const a=lu.getWalletConnectAccounts(t,e);n(a)}),r&&t.on("disconnect",()=>{r()}),s&&t.on("accountsChanged",a=>{try{const c=t.session?.namespaces?.[e]?.accounts||[],l=t.rpcProviders?.[e]?.getDefaultChain(),u=a.map(d=>{const h=c.find(g=>g.includes(`${e}:${l}:${d}`));if(!h)return;const{chainId:f,chainNamespace:p}=Wi.parseCaipAddress(h);return{address:d,chainId:f,chainNamespace:p}}).filter(d=>d!==void 0);u.length>0&&s(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,c)}}),i&&t.on("chainChanged",a=>{i(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){const n=new Set,r=t?.session?.namespaces?.[e]?.accounts?.map(s=>Wi.parseCaipAddress(s)).filter(({address:s})=>n.has(s.toLowerCase())?!1:(n.add(s.toLowerCase()),!0));return r&&r.length>0?r:[]}};class qSe{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case le.CHAIN.EVM:await this.syncEVMConnections(e);break;case le.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case le.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=s(a.id);return!c&&l}).map(async a=>{if(a.id===le.CONNECTOR_ID.WALLET_CONNECT){const c=lu.getWalletConnectAccounts(r,this.namespace),l=n.find(u=>u.chainNamespace===this.namespace&&u.id.toString()===c[0]?.chainId?.toString());c.length>0&&i({connectorId:a.id,accounts:c.map(u=>({address:u.address})),caipNetwork:l})}else{const{accounts:c,chainId:l}=await AE.fetchProviderData(a);if(c.length>0&&l){const u=n.find(d=>d.chainNamespace===this.namespace&&d.id.toString()===l.toString());i({connectorId:a.id,accounts:c.map(d=>({address:d})),caipNetwork:u}),a.provider&&a.id!==le.CONNECTOR_ID.AUTH&&a.id!==le.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=s(a.id);return!c&&l}).map(async a=>{if(a.id===le.CONNECTOR_ID.WALLET_CONNECT){const c=lu.getWalletConnectAccounts(r,this.namespace);c.length>0&&i({connectorId:a.id,accounts:c.map(l=>({address:l.address})),caipNetwork:n})}else{const c=await a.connect({chainId:n?.id});c&&(i({connectorId:a.id,accounts:[{address:c}],caipNetwork:n}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=s(a.id);return!c&&l}).map(async a=>{if(a.id===le.CONNECTOR_ID.WALLET_CONNECT){const h=lu.getWalletConnectAccounts(r,this.namespace);h.length>0&&i({connectorId:a.id,accounts:h.map(f=>({address:f.address})),caipNetwork:n});return}const c=await a.connect();let u=(await a.getAccountAddresses())?.map(h=>rt.createAccount(le.CHAIN.BITCOIN,h.address,h.purpose||"payment",h.publicKey,h.path));if(u&&u.length>1&&(u=[{namespace:le.CHAIN.BITCOIN,publicKey:u[$m.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:u[$m.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:u[$m.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:le.CHAIN.BITCOIN,publicKey:u[$m.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:u[$m.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:u[$m.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(a.chains.find(h=>h.id===n?.id)||a.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(o(a.id,a.provider),i({connectorId:a.id,accounts:u.map(h=>({address:h.address,type:h.type})),caipNetwork:n}))}))}getConnection({address:e,connectorId:n,connections:r,connectors:s}){if(n){const o=r.find(l=>as.isLowerCaseMatch(l.connectorId,n));if(!o)return null;const a=s.find(l=>as.isLowerCaseMatch(l.id,o.connectorId)),c=e?o.accounts.find(l=>as.isLowerCaseMatch(l.address,e)):o.accounts[0];return{...o,account:c,connector:a}}const i=r.find(o=>o.accounts.length>0&&s.some(a=>as.isLowerCaseMatch(a.id,o.connectorId)));if(i){const[o]=i.accounts,a=s.find(c=>as.isLowerCaseMatch(c.id,i.connectorId));return{...i,account:o,connector:a}}return null}}const hw={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class YO{constructor({provider:e,namespace:n}){this.id=le.CONNECTOR_ID.WALLET_CONNECT,this.name=mo.ConnectorNamesMap[le.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=mo.ConnectorImageIds[le.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=K.getCaipNetworks.bind(K),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=ve.state.universalProviderConfigOverride,s=lu.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return aa.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:zSe})}}const zSe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],WSe=[le.CONNECTOR_ID.AUTH,le.CONNECTOR_ID.WALLET_CONNECT];class pz{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>K.getCaipNetworks(n),this.getConnectorId=n=>Le.getConnectorId(n),e&&this.construct(e),e?.namespace&&(this.connectionManager=new qSe({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===n?.toString());e&&r&&this.addConnection({connectorId:le.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:r})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:le.CONNECTOR_ID.AUTH,type:"AUTH",name:le.CONNECTOR_NAMES.AUTH,provider:e,imageId:mo.ConnectorImageIds[le.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const n=new Set;this.availableConnections=[...e,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(n=>!as.isLowerCaseMatch(n.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,n){ut.setStatus(e,n)}on(e,n){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const i=s,o=Po(n.chainNamespace);await i.switchNetwork({chainId:n.caipNetworkId});const a=await i.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof YO);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,n){if(e.length>0){const{address:r,chainId:s}=rt.getAccount(e[0]),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===s?.toString()),o=this.connectors.find(a=>a.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:o}),this.addConnection({connectorId:n,accounts:e.map(a=>{const{address:c}=rt.getAccount(a);return{address:c}}),caipNetwork:i}))}}onAccountsChanged(e,n,r=!0){if(e.length>0){const{address:s}=rt.getAccount(e[0]),i=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});s&&as.isLowerCaseMatch(this.getConnectorId(le.CHAIN.EVM),n)&&this.emit("accountChanged",{address:s,chainId:i?.caipNetwork?.id,connector:i?.connector}),this.addConnection({connectorId:n,accounts:e.map(o=>{const{address:a}=rt.getAccount(o);return{address:a}}),caipNetwork:i?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),as.isLowerCaseMatch(this.getConnectorId(le.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,n){const r=typeof e=="string"&&e.startsWith("0x")?TE.hexStringToNumber(e).toString():e.toString(),s=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:i}),as.isLowerCaseMatch(this.getConnectorId(le.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(e,n){if(WSe.includes(e))return;const r=o=>this.onAccountsChanged(o,e),s=o=>this.onChainChanged(o,e),i=()=>this.onDisconnect(e);this.providerHandlers[e]||(n.on("disconnect",i),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[e]={provider:n,disconnect:i,accountsChanged:r,chainChanged:s})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:i}=this.providerHandlers[e];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",i),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[n]=e.accounts;this.emit("accountChanged",{address:n?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class GSe extends pz{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new YO({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const r=this.provider?.session?.namespaces?.[e]?.accounts?.map(s=>{const[,,i]=s.split(":");return i}).filter((s,i,o)=>o.indexOf(s)===i)||[];return Promise.resolve({accounts:r.map(s=>rt.createAccount(e,s,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&In.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(ut.state.balanceLoading&&e.chainId===K.state.activeCaipNetwork?.id)return{balance:ut.state.balance||"0.00",symbol:ut.state.balanceSymbol||""};const s=(await ut.fetchTokenBalance()).find(i=>i.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&i.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:s?.quantity.numeric||"0.00",symbol:s?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return K.state.activeCaipNetwork?.chainNamespace===le.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:P0.encode(new TextEncoder().encode(r)),pubkey:s}},K.state.activeCaipNetwork?.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},K.state.activeCaipNetwork?.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===le.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:kg(n.id)}]})}catch(s){if(s.code===hw.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===hw.ERROR_INVALID_CHAIN_ID||s.code===hw.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===hw.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:kg(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}const KSe=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],j1={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?In.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?In.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?In.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?In.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?In.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?In.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?In.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?In.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?In.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>In.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>In.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>In.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?In.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},QSe={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=j1[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=j1[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return j1[t].processApi(e)},processFallbackFeature(t,e){return j1[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await wt.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?In.DEFAULT_REMOTE_FEATURES:In.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of KSe){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),In.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Sr.open({debugMessage:Ar.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return i}};class YSe{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const s=K.getCaipNetworks(n)?.find(a=>a.id===r);if(s)return s;const i=K.getNetworkData(n)?.caipNetwork;return i||K.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n)?.[0]}return K.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>K.getCaipNetworks(n),this.getActiveChainNamespace=()=>K.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{K.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>K.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>K.state.activeChain===n||!n?K.state.activeCaipAddress:K.state.chains.get(n)?.accountState?.caipAddress,this.setClientId=n=>{At.setClientId(n)},this.getProvider=n=>jn.getProvider(n),this.getProviderType=n=>jn.getProviderId(n),this.getPreferredAccountType=n=>Po(n),this.setCaipAddress=(n,r)=>{ut.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{ut.setBalance(n,r,s)},this.setProfileName=(n,r)=>{ut.setProfileName(n,r)},this.setProfileImage=(n,r)=>{ut.setProfileImage(n,r)},this.setUser=(n,r)=>{ut.setUser(n,r)},this.resetAccount=n=>{ut.resetAccount(n)},this.setCaipNetwork=n=>{K.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{K.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{ut.setStatus(n,r),Le.isConnected()?Se.setConnectionStatus("connected"):Se.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>K.state.chains.get(n)?.accountState?.address,this.setConnectors=n=>{const r=[...Le.state.allConnectors,...n];Le.setConnectors(r)},this.setConnections=(n,r)=>{Se.setConnections(n,r),qe.setConnections(n,r)},this.fetchIdentity=n=>At.fetchIdentity(n),this.getReownName=n=>Pw.getNamesForAddress(n),this.getConnectors=()=>Le.getConnectors(),this.getConnectorImage=n=>v7.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?uA.getConnectionsData(n).connections:(Sr.open(le.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?uA.getConnectionsData(n).recentConnections:(Sr.open(le.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Sr.open(le.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await qe.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Sr.open(le.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}Se.deleteAddressFromConnection(n),qe.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const s=jn.getProviderId(r),i=n?{...n,type:s}:void 0;ut.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!K.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{ut.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{ut.removeAddressLabel(n,r)},this.getAddress=n=>K.state.activeChain===n||!n?ut.state.address:K.state.chains.get(n)?.accountState?.address,this.setApprovedCaipNetworksData=n=>K.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{K.resetNetwork(n)},this.addConnector=n=>{Le.addConnector(n)},this.resetWcConnection=()=>{qe.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{ut.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{ut.setSmartAccountDeployed(n,r)},this.setPreferredAccountType=(n,r)=>{K.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{ve.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e?.map(i=>i.namespace).filter(i=>!!i);if(r?.length)return[...new Set(r)];const s=n?.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),ve.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await QSe.fetchRemoteFeatures(e),ve.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&L2.setOnrampProviders(this.remoteFeatures.onramp),(ve.state.remoteFeatures?.email||Array.isArray(ve.state.remoteFeatures?.socials)&&ve.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),ve.state.features?.reownAuthentication||ve.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:n}=await hn(async()=>{const{ReownAuthentication:s}=await import("./features-BM33puWf.js");return{ReownAuthentication:s}},[]),r=ve.state.siwx;r instanceof n||(r&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),ve.setSIWX(new n))}}async checkAllowedOrigins(){try{const e=await wt.fetchAllowedOrigins();if(!rt.isClient())return;const n=window.location.origin;lu.isOriginAllowed(n,e,hw.DEFAULT_ALLOWED_ANCESTORS)||Sr.open(Ar.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":Sr.open(Ar.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;Sr.open({displayMessage:Ar.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Ar.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}}}}sendInitializeEvent(e){const{...n}=e;delete n.adapters,delete n.universalProvider,Rn.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(r=>r.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Fi.setThemeMode(e.themeMode),e.themeVariables&&Fi.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");K.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&K.setActiveCaipNetwork(n)}initializeConnectionController(e){qe.initialize(e.adapters??[]),qe.setWcBasic(e.basic??!1)}initializeConnectorController(){Le.initialize(this.chainNamespaces)}initializeProjectSettings(e){ve.setProjectId(e.projectId),ve.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){ve.setDebug(e.debug!==!1),ve.setEnableWalletConnect(e.enableWalletConnect!==!1),ve.setEnableWalletGuide(e.enableWalletGuide!==!1),ve.setEnableWallets(e.enableWallets!==!1),ve.setEIP6963Enabled(e.enableEIP6963!==!1),ve.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),ve.setEnableReconnect(e.enableReconnect!==!1),ve.setEnableAuthLogger(e.enableAuthLogger!==!1),ve.setCustomRpcUrls(e.customRpcUrls),ve.setEnableEmbedded(e.enableEmbedded),ve.setAllWallets(e.allWallets),ve.setIncludeWalletIds(e.includeWalletIds),ve.setExcludeWalletIds(e.excludeWalletIds),ve.setFeaturedWalletIds(e.featuredWalletIds),ve.setTokens(e.tokens),ve.setTermsConditionsUrl(e.termsConditionsUrl),ve.setPrivacyPolicyUrl(e.privacyPolicyUrl),ve.setCustomWallets(e.customWallets),ve.setFeatures(e.features),ve.setAllowUnsupportedChain(e.allowUnsupportedChain),ve.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),ve.setPreferUniversalLinks(e.experimental_preferUniversalLinks),ve.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),ve.setMetadata(e.metadata),ve.setDisableAppend(e.disableAppend),ve.setEnableEmbedded(e.enableEmbedded),ve.setSIWX(e.siwx),this.features=ve.state.features??{},!e.projectId){Sr.open(Ar.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(s=>s.namespace===le.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ve.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return rt.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Oc.getUnsupportedNetwork(`${n}:${e}`);K.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Oc.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Oc.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Oc.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>s.id===e.defaultNetwork?.id);return n?Oc.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,n){try{this.setLoading(!0,e);let r={connections:[]};const s=this.getAdapter(e);return(K.state.chains.get(e)?.accountState?.caipAddress||!ve.state.enableReconnect)&&s?.disconnect&&(r=await s.disconnect({id:n})),this.setLoading(!1,e),r}catch(r){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${r.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=K.state.activeChain,n=this.getAdapter(e),r=this.getCaipNetwork(e)?.id,s=qe.getConnections(e),i=this.remoteFeatures.multiWallet,o=s.length>0;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(r);(!o||!i)&&this.close(),this.setClientId(a?.clientId||null),Se.setConnectedNamespaces([...K.state.chains.keys()]),await this.syncWalletConnectAccount(),await aa.initializeIfEnabled()},connectExternal:async e=>{const n=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,n),n?{address:n.address}:void 0},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{const i=K.state.activeChain,o=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:e,info:n,type:r,provider:s,chainId:this.getCaipNetwork()?.id}),Se.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async e=>{const{id:n,chainNamespace:r,initialDisconnect:s}=e||{},i=r||K.state.activeChain,o=Le.getConnectorId(i),a=n===le.CONNECTOR_ID.AUTH||o===le.CONNECTOR_ID.AUTH,c=n===le.CONNECTOR_ID.WALLET_CONNECT||o===le.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(K.state.chains.keys());let u=r?[r]:l;(c||a)&&(u=l);const d=u.map(async p=>{const g=Le.getConnectorId(p),y=await this.disconnectNamespace(p,n||g);y&&(a&&Se.deleteConnectedSocialProvider(),y.connections.forEach(v=>{Se.addDisconnectedConnectorId(v.connectorId,p)})),s&&this.onDisconnectNamespace({chainNamespace:p,closeModal:!1})}),h=await Promise.allSettled(d);An.resetSend(),qe.resetWcConnection(),aa.getSIWX()?.signOutOnDisconnect&&await aa.clearSessions(),Le.setFilterByNamespace(void 0),qe.syncStorageConnections();const f=h.filter(p=>p.status==="rejected");if(f.length>0)throw new Error(f.map(p=>p.reason.message).join(", "));Rn.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async e=>{const n=K.state.activeChain,r=this.getAdapter(K.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");return(await r?.signMessage({message:e,address:ut.state.address,provider:jn.getProvider(n)}))?.signature||""},sendTransaction:async e=>{const n=e.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(In.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const s=jn.getProvider(n);return(await r?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}))?.hash||""}return""},estimateGas:async e=>{const n=e.chainNamespace;if(n===le.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const s=jn.getProvider(n),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await r?.estimateGas({...e,provider:s,caipNetwork:i}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=K.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:ut.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),ut.state.profileImage||!1},getEnsAddress:async e=>await lu.resolveReownName(e),writeContract:async e=>{const n=K.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),i=this.getCaipAddress(),o=jn.getProvider(n);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await r?.writeContract({...e,caipNetwork:s,provider:o,caipAddress:i}))?.hash},parseUnits:(e,n)=>{const r=this.getAdapter(K.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return r?.parseUnits({value:e,decimals:n})??0n},formatUnits:(e,n)=>{const r=this.getAdapter(K.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return r?.formatUnits({value:e,decimals:n})??"0"},getCapabilities:async e=>{const n=this.getAdapter(K.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await n?.getCapabilities(e)},grantPermissions:async e=>{const n=this.getAdapter(K.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await n?.grantPermissions(e)},revokePermissions:async e=>{const n=this.getAdapter(K.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n?.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(K.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await n?.walletGetAssets(e)??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!ut.state.address||this.updateNativeBalance(ut.state.address,n?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},qe.setClient(this.connectionControllerClient)}async onConnectExternal(e){const n=K.state.activeChain,r=e.chain||n,s=this.getAdapter(r);let i=!0;if(e.type===rr.CONNECTOR_TYPE_AUTH&&le.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(d=>Le.getConnectorId(d)===le.CONNECTOR_ID.AUTH)&&e.chain!==n&&(i=!1),e.chain&&e.chain!==n&&!e.caipNetwork){const l=this.getCaipNetworks().find(u=>u.chainNamespace===e.chain);l&&i&&this.setCaipNetwork(l)}if(!r)throw new Error("connectExternal: namespace not found");if(!s)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(r),a=e.caipNetwork||o,c=await s.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||o?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return Se.addConnectedNamespace(r),this.syncProvider({...c,chainNamespace:r}),this.setStatus("connected",r),this.syncConnectedWalletInfo(r),Se.removeDisconnectedConnectorId(e.id,r),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,n){const r=e.type===rr.CONNECTOR_TYPE_AUTH,s=as.getOtherAuthNamespaces(n?.connectedCaipNetwork?.chainNamespace),i=K.state.activeCaipNetwork,o=this.getAdapter(i?.chainNamespace),a=jn.getProvider(i?.chainNamespace);r&&(await Promise.all(s.map(async c=>{try{const l=jn.getProvider(c),u=this.getCaipNetwork(c);await this.getAdapter(c)?.connect({...e,provider:l,socialUri:void 0,chainId:u?.id,rpcUrl:u?.rpcUrls?.default?.http?.[0]})&&(Se.addConnectedNamespace(c),Se.removeDisconnectedConnectorId(e.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(l){Sr.warn(Ar.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Ar.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,l instanceof Error?l.message:void 0),Ar.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),i&&await o?.switchNetwork({caipNetwork:i,provider:a,providerType:e.type}))}getApprovedCaipNetworksData(){if(jn.getProviderId(K.state.activeChain)===rr.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=jn.getProvider(n),i=jn.getProviderId(n);if(e.chainNamespace===K.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:s,providerType:i});else if(this.setCaipNetwork(e),i===rr.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=Wi.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const s=e?.find(i=>i.namespace===r);return s?(s.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new GSe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=Se.getConnectionStatus();ve.state.enableReconnect===!1?this.setStatus("disconnected",e):r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(Se.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===i.toString()||l.caipNetworkId.toString()===i.toString()),a=K.state.activeChain===e,c=K.state.chains.get(e)?.accountState?.address;if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",()=>{const s=this.remoteFeatures.multiWallet,i=Array.from(qe.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!s||i.length===0})}),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=ut.state.address,i=K.state.activeCaipNetwork;!s||!i?.id||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i,connector:o})=>{const a=K.state.activeChain===e;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=K.getNetworkData(e)?.caipNetwork?.id,l=i||c;a&&l?this.syncAccount({address:s,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(s,l,e),this.syncBalance({address:s,chainId:l,chainNamespace:e})):this.syncAccountInfo(s,i,e),Se.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>qe.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();Rn.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:rt.isMobile()?"mobile":"qrcode",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}async syncNamespaceConnection(e){try{e===le.CHAIN.EVM&&rt.isSafeApp()&&Le.setConnectorId(le.CONNECTOR_ID.SAFE,e);const n=Le.getConnectorId(e);switch(this.setStatus("connecting",e),n){case le.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case le.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:n,closeModal:r}=e||{};K.resetAccount(n),K.resetNetwork(n),Se.removeConnectedNamespace(n);const s=Array.from(K.state.chains.keys());(n?[n]:s).forEach(o=>Se.addDisconnectedConnectorId(Le.getConnectorId(o)||"",o)),Le.removeConnectorId(n),jn.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n),r!==!1&&vn.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const n=this.getCaipAddress(e),r=this.getCaipNetwork(e);return this.chainAdapters?.[e].syncConnections({connectToFirstConnector:!n,caipNetwork:r,getConnectorStorageInfo(s){const o=Se.getConnections()[e]??[];return{hasDisconnected:Se.isConnectorDisconnected(s,e),hasConnected:o.some(a=>as.isLowerCaseMatch(a.connectorId,s))}}})}))}async syncAdapterConnection(e){const n=this.getAdapter(e),r=Le.getConnectorId(e),s=this.getCaipNetwork(e),o=Le.getConnectors(e).find(a=>a.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!s?.id)throw new Error("CaipNetwork not found");const a=await n?.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:s?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e),Rn.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),n=this.chainNamespaces.map(async r=>{const s=this.getAdapter(r);if(!s)return;const i=this.universalProvider?.session?.namespaces?.[r]?.accounts||[],o=K.state.activeCaipNetwork?.id,a=i.find(c=>{const{chainId:l}=Wi.parseCaipAddress(c);return l===o?.toString()})||i[0];if(a){const c=Wi.validateCaipAddress(a),{chainId:l,address:u}=Wi.parseCaipAddress(c);if(jn.setProviderId(r,rr.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&K.state.activeCaipNetwork&&s.namespace!==le.CHAIN.EVM){const d=s.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:K.state.activeCaipNetwork});jn.setProvider(r,d)}else jn.setProvider(r,this.universalProvider);Le.setConnectorId(le.CONNECTOR_ID.WALLET_CONNECT,r),Se.addConnectedNamespace(r),await this.syncAccount({address:u,chainId:l,chainNamespace:r})}else e.includes(r)&&this.setStatus("disconnected",r);this.syncConnectedWalletInfo(r),await K.setApprovedCaipNetworksData(r)});await Promise.all(n)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){jn.setProviderId(s,e),jn.setProvider(s,n),Le.setConnectorId(r,s)}async syncAccount(e){const n=e.chainNamespace===K.state.activeChain,r=K.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=Se.getActiveNetworkProps(),c=i||a,l=K.state.activeCaipNetwork?.name===le.UNSUPPORTED_NETWORK_NAME,u=K.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let d=this.getCaipNetworks().find(p=>p.id.toString()===c.toString()),h=this.getCaipNetworks().find(p=>p.chainNamespace===o);if(!u&&!d&&!h){const p=this.getApprovedCaipNetworkIds()||[],g=p.find(v=>Wi.parseCaipNetworkId(v)?.chainId===c.toString()),y=p.find(v=>Wi.parseCaipNetworkId(v)?.chainNamespace===o);d=this.getCaipNetworks().find(v=>v.caipNetworkId===g),h=this.getCaipNetworks().find(v=>v.caipNetworkId===y||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===y)}const f=d||h;f?.chainNamespace===K.state.activeChain?ve.state.enableNetworkSwitch&&!ve.state.allowUnsupportedChain&&K.state.activeCaipNetwork?.name===le.UNSUPPORTED_NETWORK_NAME?K.showUnsupportedChainUI():this.setCaipNetwork(f):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),as.isLowerCaseMatch(s,ut.state.address)||this.syncAccountInfo(s,f?.id,o),n?await this.syncBalance({address:s,chainId:f?.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r?.id,chainNamespace:o}),this.syncIdentity({address:s,chainId:i,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||s?.split(":")[1];if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){const n=Le.getConnectorId(e),r=jn.getProviderId(e);if(r===rr.CONNECTOR_TYPE_ANNOUNCED||r===rr.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>{const a=o.id===n,c=o.info?.rdns===n,l=o.connectors?.some(u=>u.id===n||u.info?.rdns===n);return a||c||!!l});if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===rr.CONNECTOR_TYPE_WALLET_CONNECT){const s=jn.getProvider(e);s?.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:s.session.peer.metadata.icons?.[0]},e)}else if(n&&(n===le.CONNECTOR_ID.COINBASE_SDK||n===le.CONNECTOR_ID.COINBASE)){const s=this.getConnectors().find(c=>c.id===n),i=s?.name||"Coinbase Wallet",o=s?.imageUrl||this.getConnectorImage(s),a=s?.info;this.setConnectedWalletInfo({...a,name:i,icon:o},e)}}async syncBalance(e){!db.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>r.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=K.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){const e=HCe.createLogger((r,...s)=>{r&&this.handleAlertError(r),console.error(...s)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};ve.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await jCe.init(n),ve.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{lu.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:n=>{qe.setUri(n)},onConnect:n=>{const{address:r}=rt.getAccount(n[0]);qe.finalizeWcConnection(r)},onDisconnect:()=>{K.state.noAdapters&&this.resetAccount(e),qe.resetWcConnection()},onChainChanged:n=>{const r=K.state.activeChain,s=r&&Le.state.activeConnectorIds[r]===le.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(K.state.noAdapters||s)){const i=this.getCaipNetworks().find(a=>a.id.toString()===n.toString()||a.caipNetworkId.toString()===n.toString()),o=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(n);return}o?.id.toString()!==i?.id.toString()&&o?.chainNamespace===i?.chainNamespace&&this.setCaipNetwork(i)}},onAccountsChanged:n=>{const r=K.state.activeChain,s=r&&Le.state.activeConnectorIds[r]===le.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(K.state.noAdapters||s)){const i=n?.[0];i&&this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&rt.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Rn.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Ar.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=Ar.ALERT_ERRORS[o];a&&(Sr.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e?.uri&&qe.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return vn.open({...e,data:{swap:e.arguments}})}return vn.open(e)}async close(){await this.injectModalUi(),vn.close()}setLoading(e,n){vn.setLoading(e,n)}async disconnect(e){await qe.disconnect({namespace:e})}getSIWX(){return ve.state.siwx}getError(){return""}getChainId(){return K.state.activeCaipNetwork?.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){Sr.open(Ar.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await K.switchActiveNetwork(n)}getWalletProvider(){return K.state.activeChain?jn.state.providers[K.state.activeChain]:null}getWalletProviderType(){return jn.getProviderId(K.state.activeChain)}subscribeProviders(e){return jn.subscribeProviders(e)}getThemeMode(){return Fi.state.themeMode}getThemeVariables(){return Fi.state.themeVariables}setThemeMode(e){Fi.setThemeMode(e),Fi.state.themeMode}setTermsConditionsUrl(e){ve.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){ve.setPrivacyPolicyUrl(e)}setThemeVariables(e){Fi.setThemeVariables(e),Fi.state.themeVariables}subscribeTheme(e){return Fi.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?qe.subscribe(e):(Sr.open(le.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?K.state.chains.get(e)?.accountState?.connectedWalletInfo:ut.state.connectedWalletInfo}getAccount(e){const n=e||K.state.activeChain,r=Le.getAuthConnector(n),s=K.getAccountData(n),i=Se.getConnectedConnectorId(K.state.activeChain),o=qe.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:d})=>rt.createAccount(n,l,u||"eoa",d)));if(s)return{allAccounts:a,caipAddress:s.caipAddress,address:rt.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r&&i===le.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:Se.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:Po(n),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?K.subscribeChainProp("accountState",r,n):K.subscribe(r),Le.subscribe(r)}subscribeNetwork(e){return K.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(e,n){return n?ut.subscribeKey("connectedWalletInfo",e,n):ut.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){ut.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){K.subscribeKey("activeCaipNetwork",e)}getState(){return ja.state}getRemoteFeatures(){return ve.state.remoteFeatures}subscribeState(e){return ja.subscribe(e)}subscribeRemoteFeatures(e){return ve.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Bc.showError(e)}showSuccessMessage(e){Bc.showSuccess(e)}getEvent(){return{...Rn.state}}subscribeEvents(e){return Rn.subscribe(e)}replace(e){Tt.replace(e)}redirect(e){Tt.push(e)}popTransactionStack(e){Tt.popTransactionStack(e)}isOpen(){return vn.state.open}isTransactionStackEmpty(){return Tt.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){ve.setFeatures(e)}updateRemoteFeatures(e){ve.setRemoteFeatures(e)}updateOptions(e){const r={...ve.state||{},...e};ve.setOptions(r)}setConnectMethodsOrder(e){ve.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){ve.setWalletFeaturesOrder(e)}setCollapseWallets(e){ve.setCollapseWallets(e)}setSocialsOrder(e){ve.setSocialsOrder(e)}getConnectMethodsOrder(){return jR.getConnectOrderMethod(ve.state.features,Le.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||K.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&K.removeNetwork(e,n)}}let J4=!1;class ZSe extends YSe{async onAuthProviderConnected(e){const n=as.userChainIdToChainNamespace(e?.chainId);if(e.message&&e.signature&&e.siwxMessage&&await aa.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!n)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const r=n===le.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,s=ve.state.defaultAccountTypes[n],i=Po(n),o=e.preferredAccountType||i||s;this.setCaipAddress(r,n);const{signature:a,siwxMessage:c,message:l,...u}=e;this.setUser({...ut.state.user||{},...u},n),this.setSmartAccountDeployed(!!e.smartAccountDeployed,n),this.setPreferredAccountType(o,n),this.setLoading(!1,n)}setupAuthConnectorListeners(e){e.onRpcRequest(n=>{yo.checkIfRequestExists(n)?yo.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(us.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(us.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=yo.checkIfRequestIsSafe(r),i=ut.state.address,o=K.state.activeCaipNetwork;s||(i&&o?.id&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=K.state.activeChain;if(!n)throw new Error("AppKit:onNotConnected - namespace is required");Le.getConnectorId(n)===le.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:n,type:r})=>{const s=K.state.activeChain;if(!s)throw new Error("AppKit:onSetPreferredAccount - namespace is required");n&&this.setPreferredAccountType(r,s)})}async syncAuthConnectorTheme(e){if(!e)return;const n=Fi.getSnapshot(),r=ve.getSnapshot();await Promise.all([e.syncDappData({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e.syncTheme({themeMode:n.themeMode,themeVariables:n.themeVariables,w3mThemeVariables:hb(n.themeVariables,n.themeMode)})])}async syncAuthConnector(e,n){const r=le.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===K.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...ut.state?.user||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),n&&r&&s){const l=await e.getSmartAccountEnabledNetworks();if(K.setSmartAccountEnabledNetworks(l?.smartAccountEnabledNetworks||[],n),c&&this.connectionControllerClient?.connectExternal){await this.connectionControllerClient?.connectExternal({id:le.CONNECTOR_ID.AUTH,info:{name:le.CONNECTOR_ID.AUTH},type:rr.CONNECTOR_TYPE_AUTH,provider:e,chainId:K.getNetworkData(n)?.caipNetwork?.id,chain:n}),this.setStatus("connected",n);const u=Se.getConnectedSocialProvider();u?Rn.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:ut.state.address,properties:{provider:u,reconnect:!0}}):Rn.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:ut.state.address,properties:{method:"email",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}else Le.getConnectorId(n)===le.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),Se.removeConnectedNamespace(n))}this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){try{if(!rt.isTelegram())return;const n=Se.getTelegramSocialProvider();if(!n||!rt.isClient())return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;ut.setSocialProvider(n,e),await this.authProvider?.init();const i=Le.getAuthConnector();n&&i&&(this.setLoading(!0,e),await qe.connectExternal({id:i.id,type:i.type,socialUri:s},i.chain),Se.setConnectedSocialProvider(n),Se.removeTelegramSocialProvider(),Rn.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){if(!le.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=this.remoteFeatures?.email,s=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=as.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&this.options?.projectId&&i&&(this.authProvider=zf.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(a)?.caipNetworkId,abortController:Ar.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?Sr.open(Ar.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?Sr.open(Ar.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&Sr.open(Ar.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>tu(l),getCaipNetworks:l=>K.getCaipNetworks(l)}),ja.subscribeOpen(l=>{!l&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));const c=e===K.state.activeChain&&ve.state.enableReconnect;ve.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&wt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const n=K.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const o=this.getAdapter(r),a=jn.getProvider(r),c=jn.getProviderId(r);await o?.switchNetwork({caipNetwork:e,provider:a,providerType:c}),this.setCaipNetwork(e)}else{const a=jn.getProviderId(n)===rr.CONNECTOR_TYPE_AUTH,c=jn.getProviderId(r),l=c===rr.CONNECTOR_TYPE_AUTH,u=le.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!r)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((a&&c===void 0||l)&&u)try{K.state.activeChain=e.chainNamespace,s?await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c}):await this.connectionControllerClient?.connectExternal?.({id:le.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:rr.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c})}else if(c===rr.CONNECTOR_TYPE_WALLET_CONNECT){if(!K.state.noAdapters){const d=this.getAdapter(r),h=jn.getProvider(r),f=jn.getProviderId(r);await d?.switchNetwork({caipNetwork:e,provider:h,providerType:f})}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r})}}async initialize(e){await super.initialize(e),this.chainNamespaces?.forEach(n=>{this.createAuthProviderForAdapter(n)}),await this.injectModalUi(),ja.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){const s=`${r}:${n}`;if(this.caipNetworks?.find(a=>a.caipNetworkId===s)?.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}const o=Le.getConnectorId(r)===le.CONNECTOR_ID.AUTH;try{const{name:a,avatar:c}=await this.fetchIdentity({address:e});!a&&o?await this.syncReownName(e,r):(this.setProfileName(a,r),this.setProfileImage(c,r))}catch{n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=jn.getProviderId(e);if(n===rr.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=Se.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(rt.isClient()&&!J4)try{const e={...In.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),rt.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!ve.state.disableAppend&&!ve.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}J4=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!rt.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(hn(()=>import("./embedded-wallet-CrVPYVor.js"),__vite__mapDeps([5,6,7,8,9,10,11,12,13,14,15,16,17]))),n.email&&r.push(hn(()=>import("./email-RhXKmBiJ.js"),__vite__mapDeps([18,7,6,19,16,11,15,9,10,20,13]))),n.socials&&r.push(hn(()=>import("./socials-B3PpSaIp.js"),__vite__mapDeps([21,6,9,7,22,10,11,23,15,24,8,25]))),n.swaps&&n.swaps.length>0&&r.push(hn(()=>import("./swaps-Cj0ipojx.js"),__vite__mapDeps([26,6,7,10,11,15,9,27,28,29,25,30,8,13]))),e.send&&r.push(hn(()=>import("./send-Didm9ue2.js"),__vite__mapDeps([31,6,7,10,11,15,9,32,16,30,8,25,29,13,33,34]))),e.receive&&r.push(hn(()=>import("./receive-BwFV6CBN.js"),__vite__mapDeps([35,6,9,7,8,24]))),n.onramp&&n.onramp.length>0&&r.push(hn(()=>import("./onramp-TTyEKmkd.js"),__vite__mapDeps([36,6,9,7,37,11,22,10,8,38,39,16,32,15,40,13]))),n.payWithExchange&&r.push(hn(()=>import("./pay-with-exchange-D-aeso86.js"),__vite__mapDeps([41,6,7,10,11,14,8,9,37,25,40,15,13,16,33]))),n.activity&&r.push(hn(()=>import("./transactions-BZA68DhN.js"),__vite__mapDeps([42,7,6,43,15,9,16,8,25]))),(e.pay||n.payments)&&r.push(hn(()=>import("./index-jHRu-p46.js"),__vite__mapDeps([44,6,9]))),n.emailCapture&&r.push(hn(()=>import("./data-capture-B1cRIEMg.js"),__vite__mapDeps([45,6,7,19,16,11,46]))),await Promise.all([...r,hn(()=>import("./index-CII9CtsN.js"),__vite__mapDeps([47,6,9,7,8,11,34,15,48,39,16,32,12,14,37,10,43,25,33,27,28,13,20,22,23,24,17,38])),hn(()=>import("./w3m-modal-D5HpxsgF.js"),__vite__mapDeps([49,6,9,7,14,8,12,11,15,28,48,39,16,32,29]))])}}let SE;function JSe(t){t&&(SE=t)}function XSe(){if(!SE)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(n){await SE?.open(n)}async function e(){await SE?.close()}return Th({open:t,close:e})}const exe="1.8.1";let V1;function txe(t){return V1||(V1=new ZSe({...t,sdkVersion:rt.generateSdkVersion(t.adapters??[],"html",exe)}),JSe(V1)),V1}function ga(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const xE="2.20.2",nxe=()=>`@wagmi/core@${xE}`;var mz=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},KA,gz;let ku=class WR extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return nxe()}constructor(e,n={}){super(),KA.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof WR?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof WR&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return mz(this,KA,"m",gz).call(this,this,e)}};KA=new WeakSet,gz=function t(e,n){return n?.(e)?e:e.cause?mz(this,KA,"m",t).call(this,e.cause,n):e};class rv extends ku{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class rxe extends ku{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class sxe extends ku{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class ixe extends ku{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class oxe extends ku{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class axe extends ku{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function PE(t,e){let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new rxe;try{t.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=e,i=await n.connect(s),o=i.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await t.storage?.setItem("recentConnectorId",n.id),t.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:o,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:o,chainId:i.chainId}}catch(r){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}async function hT(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new axe({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new sxe;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==r)throw new oxe({connectionChainId:r,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=dl(e.account??n.accounts[0]);if(o&&(o.address=If(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new ixe({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return tV({account:o,chain:a,name:"Connector Client",transport:l=>fce(c)({...l,retryCount:0})})}async function GR(t,e={}){let n;if(e.connector)n=e.connector;else{const{connections:s,current:i}=t.state;n=s.get(i)?.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const i=r.values().next().value;return{...s,connections:new Map(r),current:i.connector.uid}});{const s=t.state.current;if(!s)return;const i=t.state.connections.get(s)?.connector;if(!i)return;await t.storage?.setItem("recentConnectorId",i.id)}}function yz(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(coe[t])}async function cxe(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await hT(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return ga(o,Mj,"estimateGas")({...s,account:i})}function yg(t){const e=t.state.current,n=t.state.connections.get(e),r=n?.accounts,s=r?.[0],i=t.chains.find(a=>a.id===n?.chainId),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function lxe(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return ga(o,cce,"multicall")({allowFailure:n,contracts:s,...i})}function uxe(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return ga(s,Zj,"readContract")(r)}async function dxe(t,e){const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const a={};for(const[d,h]of o.entries()){const f=h.chainId??t.state.chainId;a[f]||(a[f]=[]),a[f]?.push({contract:h,index:d})}const c=()=>Object.entries(a).map(([d,h])=>lxe(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(d),contracts:h.map(({contract:f})=>f)})),l=(await Promise.all(c())).flat(),u=Object.values(a).flatMap(d=>d.map(({index:h})=>h));return l.reduce((d,h,f)=>(d&&(d[u[f]]=h),d),[])}catch(a){if(a instanceof mj)throw a;const c=()=>o.map(l=>uxe(t,{...l,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(c())).map(l=>l.status==="fulfilled"?{result:l.value,status:"success"}:{error:l.reason,result:void 0,status:"failure"}):await Promise.all(c())}}async function wz(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await X4(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(h){if(h.name==="ContractFunctionExecutionError"){const f=await X4(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=W7(Yd(f.symbol,{dir:"right"}));return{...f,symbol:p}}throw h}const c=t.getClient({chainId:i}),u=await ga(c,Dj,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(h=>h.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:A0(u,yz(a)),symbol:d.nativeCurrency.symbol,value:u}}async function X4(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await dxe(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=A0(c??"0",yz(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function hxe(t){return t.state.chainId}function qg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qg(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!qg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let H1=[];function Sc(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||qg(H1,e)?H1:(H1=e,e)}let oP=[];function fxe(t){const e=t.connectors;return qg(oP,e)?oP:(oP=e,e)}async function pxe(t,e){const{account:n,chainId:r,...s}=e,i=n??yg(t).address,o=t.getClient({chainId:r});return ga(o,aO,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let aP=!1;async function KR(t,e={}){if(aP)return[];aP=!0,t.setState(l=>({...l,status:l.current?"reconnecting":"connecting"}));const n=[];if(e.connectors?.length)for(const l of e.connectors){let u;typeof l=="function"?u=t._internal.connectors.setup(l):u=l,n.push(u)}else n.push(...t.connectors);let r;try{r=await t.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,l]of t.state.connections)s[l.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((l,u)=>(s[l.id]??10)-(s[u.id]??10)):n;let o=!1;const a=[],c=[];for(const l of i){const u=await l.getProvider().catch(()=>{});if(!u||c.some(f=>f===u)||!await l.isAuthorized())continue;const h=await l.connect({isReconnecting:!0}).catch(()=>null);h&&(l.emitter.off("connect",t._internal.events.connect),l.emitter.on("change",t._internal.events.change),l.emitter.on("disconnect",t._internal.events.disconnect),t.setState(f=>{const p=new Map(o?f.connections:new Map).set(l.uid,{accounts:h.accounts,chainId:h.chainId,connector:l});return{...f,current:o?f.current:l.uid,connections:p}}),a.push({accounts:h.accounts,chainId:h.chainId,connector:l}),c.push(u),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(l=>({...l,status:"connected"})):t.setState(l=>({...l,connections:new Map,current:null,status:"disconnected"}))),aP=!1,a}async function mxe(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&n?.type==="local"?o=t.getClient({chainId:r}):o=await hT(t,{account:n??void 0,chainId:r,connector:s}),await ga(o,Xj,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function gxe(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await hT(t,{account:n,connector:r}),ga(i,hce,"signMessage")({...s,...n?{account:n}:{}})}class Nd extends ku{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class yxe extends ku{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function eB(t,e){const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(e.connector?.uid??t.state.current);if(s){const o=s.connector;if(!o.switchChain)throw new yxe({connector:o});return await o.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(o=>o.id===r);if(!i)throw new rv;return t.setState(o=>({...o,chainId:r})),i}async function wxe(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await ga(i,uce,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await ga(i,sV,"getTransaction")({hash:a.transactionHash}),d=await ga(i,Qj,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),h=d?.data?W7(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}function bz(t,e){const{onChange:n}=e;return t.subscribe(()=>yg(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return qg(o,c)&&i?.id===a?.id&&i?.uid===a?.uid}})}function bxe(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function vz(t,e){const{onChange:n}=e;return t.subscribe(()=>Sc(t),n,{equalityFn:qg})}function _z(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function vxe(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=ga(l,dce,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o?.(),a?.()}}async function _xe(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&n?.type==="local"?o=t.getClient({chainId:r}):o=await hT(t,{account:n??void 0,chainId:r,connector:s}),await ga(o,Zae,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function aZe(t){return t}fT.type="injected";function fT(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...Exe[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l?.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:fT.type,async setup(){const l=await this.getProvider();l?.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){const d=await this.getProvider();if(!d)throw new Nd;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>If(p)),h.length>0&&(h=await this.getAccounts())}catch(f){const p=f;if(p.code===Yr.code)throw new Yr(p);if(p.code===Zd.code)throw p}try{!h?.length&&!u&&(h=(await d.request({method:"eth_requestAccounts"})).map(g=>If(g))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let f=await this.getChainId();return l&&f!==l&&(f=(await this.switchChain({chainId:l}).catch(g=>{if(g.code===Yr.code)throw g;return{id:f}}))?.id??f),e&&await c.storage?.removeItem(`${this.id}.disconnected`),t.target||await c.storage?.setItem("injected.connected",!0),{accounts:h,chainId:f}}catch(f){const p=f;throw p.code===Yr.code?new Yr(p):p.code===Zd.code?new Zd(p):p}},async disconnect(){const l=await this.getProvider();if(!l)throw new Nd;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await rV(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await c.storage?.setItem(`${this.id}.disconnected`,!0),t.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const l=await this.getProvider();if(!l)throw new Nd;return(await l.request({method:"eth_accounts"})).map(d=>If(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new Nd;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=RE(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){try{if(e&&await c.storage?.getItem(`${this.id}.disconnected`)||!t.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const h=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",h),!!await this.getProvider()),f=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(g=>window.addEventListener("ethereum#initialized",()=>g(h()),{once:!0}))]:[],new Promise(g=>setTimeout(()=>g(h()),f))]))return!0}throw new Nd}return!!(await vA(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){const d=await this.getProvider();if(!d)throw new Nd;const h=c.chains.find(p=>p.id===u);if(!h)throw new rl(new rv);const f=new Promise(p=>{const g=(y=>{"chainId"in y&&y.chainId===u&&(c.emitter.off("change",g),p())});c.emitter.on("change",g)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:an(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),f]),h}catch(p){const g=p;if(g.code===4902||g?.data?.originalError?.code===4902)try{const{default:y,...v}=h.blockExplorers??{};let b;l?.blockExplorerUrls?b=l.blockExplorerUrls:y&&(b=[y.url,...Object.values(v).map(C=>C.url)]);let _;l?.rpcUrls?.length?_=l.rpcUrls:_=[h.rpcUrls.default?.http[0]??""];const S={blockExplorerUrls:b,chainId:an(u),chainName:l?.chainName??h.name,iconUrls:l?.iconUrls,nativeCurrency:l?.nativeCurrency??h.nativeCurrency,rpcUrls:_};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[S]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new Yr(new Error("User rejected switch after adding network."))}),f]),h}catch(y){throw new Yr(y)}throw g.code===Yr.code?new Yr(g):new rl(g)}},async onAccountsChanged(l){if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const u=(await this.getChainId()).toString();this.onConnect({chainId:u}),e&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:l.map(u=>If(u))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const Exe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:RE(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return RE(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:RE(t,"isPhantom")}}};function RE(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Axe(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Cxe(){const t=new Set;let e=[];const n=()=>Axe(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const Ixe=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=c?.equalityFn||Object.is;let d=o(r.getState());l=h=>{const f=o(h);if(!u(d,f)){const p=d;a(d=f,p)}},c?.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},Txe=Ixe;function Sxe(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const QR=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return QR(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return QR(r)(n)}}}},xxe=(t,e)=>(n,r,s)=>{let i={storage:Sxe(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const u=()=>{const g=i.partialize({...r()});return l.setItem(i.name,{state:g,version:i.version})},d=s.setState;s.setState=(g,y)=>{d(g,y),u()};const h=t((...g)=>{n(...g),u()},r,s);s.getInitialState=()=>h;let f;const p=()=>{var g,y;if(!l)return;o=!1,a.forEach(b=>{var _;return b((_=r())!=null?_:h)});const v=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(g=r())!=null?g:h))||void 0;return QR(l.getItem.bind(l))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var _;const[S,C]=b;if(f=i.merge(C,(_=r())!=null?_:h),n(f,!0),S)return u()}).then(()=>{v?.(f,void 0),f=r(),o=!0,c.forEach(b=>b(f))}).catch(b=>{v?.(void 0,b)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||p(),f||h},Pxe=xxe,tB=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},cP=t=>t?tB(t):tB;var lP={exports:{}},nB;function Rxe(){return nB||(nB=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var g=n?n+l:l;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,_;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,p),!0}for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];y.fn.apply(y.context,b)}else{var S=y.length,C;for(_=0;_<S;_++)switch(y[_].once&&this.removeListener(l,y[_].fn,void 0,!0),v){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,u);break;case 3:y[_].fn.call(y[_].context,u,d);break;case 4:y[_].fn.call(y[_].context,u,d,h);break;default:if(!b)for(C=1,b=new Array(v-1);C<v;C++)b[C-1]=arguments[C];y[_].fn.apply(y[_].context,b)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,y=[],v=p.length;g<v;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&y.push(p[g]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(lP)),lP.exports}var Nxe=Rxe();const ZO=w0(Nxe);class kxe{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new ZO})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function Oxe(t){return new kxe(t)}function Dxe(t,e){return JSON.parse(t,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),e?.(n,s)??s})}function rB(t,e){return t.slice(0,e).join(".")||"."}function sB(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Mxe(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=sB(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=sB(s,c);if(u!==0)return r?e.call(this,a,c,rB(i,u)):`[ref=${rB(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function Lxe(t,e,n,r){return JSON.stringify(t,Mxe((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),e?.(s,o)??o},r),n??void 0)}function Bxe(t){const{deserialize:e=Dxe,key:n="wagmi",serialize:r=Lxe,storage:s=Ez}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const Ez={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function $xe(){const t=typeof window<"u"&&window.localStorage?window.localStorage:Ez;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const YR=256;let q1=YR,z1;function Uxe(t=11){if(!z1||q1+t>YR*2){z1="",q1=0;for(let e=0;e<YR;e++)z1+=(256+Math.random()*256|0).toString(16).substring(1)}return z1.substring(q1,q1+++t)}function Az(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=Bxe({storage:$xe()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?Cxe():void 0,a=cP(()=>i.chains),c=cP(()=>{const C=[],x=new Set;for(const I of i.connectors??[]){const E=l(I);if(C.push(E),!s&&E.rdns){const A=typeof E.rdns=="string"?[E.rdns]:E.rdns;for(const T of A)x.add(T)}}if(!s&&o){const I=o.getProviders();for(const E of I)x.has(E.info.rdns)||C.push(l(u(E)))}return C});function l(C){const x=Oxe(Uxe()),I={...C({emitter:x,chains:a.getState(),storage:n,transports:i.transports}),emitter:x,uid:x.uid};return x.on("connect",_),I.setup?.(),I}function u(C){const{info:x}=C,I=C.provider;return fT({target:{...x,id:x.rdns,provider:I}})}const d=new Map;function h(C={}){const x=C.chainId??y.getState().chainId,I=a.getState().find(A=>A.id===x);if(C.chainId&&!I)throw new rv;{const A=d.get(y.getState().chainId);if(A&&!I)return A;if(!I)throw new rv}{const A=d.get(x);if(A)return A}let E;if(i.client)E=i.client({chain:I});else{const A=I.id,T=a.getState().map(B=>B.id),k={},M=Object.entries(i);for(const[B,Z]of M)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof Z=="object")if(A in Z)k[B]=Z[A];else{if(T.some(L=>L in Z))continue;k[B]=Z}else k[B]=Z;E=tV({...k,chain:I,batch:k.batch??{multicall:!0},transport:B=>i.transports[A]({...B,connectors:c})})}return d.set(x,E),E}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";xE.startsWith(g)?p=Number.parseInt(xE.replace(g,"")):p=Number.parseInt(xE.split(".")[0]??"0");const y=cP(Txe(n?Pxe(f,{migrate(C,x){if(x===p)return C;const I=f(),E=v(C,I.chainId);return{...I,chainId:E}},name:"store",partialize(C){return{connections:{__type:"Map",value:Array.from(C.connections.entries()).map(([x,I])=>{const{id:E,name:A,type:T,uid:k}=I.connector;return[x,{...I,connector:{id:E,name:A,type:T,uid:k}}]})},chainId:C.chainId,current:C.current}},merge(C,x){typeof C=="object"&&C&&"status"in C&&delete C.status;const I=v(C,x.chainId);return{...x,...C,chainId:I}},skipHydration:s,storage:n,version:p}):f));y.setState(f());function v(C,x){return C&&typeof C=="object"&&"chainId"in C&&typeof C.chainId=="number"&&a.getState().some(I=>I.id===C.chainId)?C.chainId:x}r&&y.subscribe(({connections:C,current:x})=>x?C.get(x)?.chainId:void 0,C=>{if(a.getState().some(I=>I.id===C))return y.setState(I=>({...I,chainId:C??I.chainId}))}),o?.subscribe(C=>{const x=new Set,I=new Set;for(const A of c.getState())if(x.add(A.id),A.rdns){const T=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const k of T)I.add(k)}const E=[];for(const A of C){if(I.has(A.info.rdns))continue;const T=l(u(A));x.has(T.id)||E.push(T)}n&&!y.persist.hasHydrated()||c.setState(A=>[...A,...E],!0)});function b(C){y.setState(x=>{const I=x.connections.get(C.uid);return I?{...x,connections:new Map(x.connections).set(C.uid,{accounts:C.accounts??I.accounts,chainId:C.chainId??I.chainId,connector:I.connector})}:x})}function _(C){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(x=>{const I=c.getState().find(E=>E.uid===C.uid);return I?(I.emitter.listenerCount("connect")&&I.emitter.off("connect",b),I.emitter.listenerCount("change")||I.emitter.on("change",b),I.emitter.listenerCount("disconnect")||I.emitter.on("disconnect",S),{...x,connections:new Map(x.connections).set(C.uid,{accounts:C.accounts,chainId:C.chainId,connector:I}),current:C.uid,status:"connected"}):x})}function S(C){y.setState(x=>{const I=x.connections.get(C.uid);if(I){const A=I.connector;A.emitter.listenerCount("change")&&I.connector.emitter.off("change",b),A.emitter.listenerCount("disconnect")&&I.connector.emitter.off("disconnect",S),A.emitter.listenerCount("connect")||I.connector.emitter.on("connect",_)}if(x.connections.delete(C.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const E=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:E.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return y.getState()},setState(C){let x;typeof C=="function"?x=C(y.getState()):x=C;const I=f();typeof x!="object"&&(x=I),Object.keys(I).some(A=>!(A in x))&&(x=I),y.setState(x,!0)},subscribe(C,x,I){return y.subscribe(C,x,I?{...I,fireImmediately:I.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const C=y.getState(),x=C.connections;let I=C.current;for(const[,E]of x){const A=E.connector;A.isAuthorized&&await A.isAuthorized()||(x.delete(A.uid),I===A.uid&&(I=null))}y.setState(E=>({...E,connections:x,current:I}))},store:y,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(C){const x=typeof C=="function"?C(a.getState()):C;if(x.length!==0)return a.setState(x,!0)},subscribe(C){return a.subscribe(C)}},connectors:{providerDetailToConnector:u,setup:l,setState(C){return c.setState(typeof C=="function"?C(c.getState()):C,!0)},subscribe(C){return c.subscribe(C)}},events:{change:b,connect:_,disconnect:S}}}}function Fxe(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{const i=new Set;for(const c of s??[])if(c.rdns){const l=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const u of l)i.add(u)}const o=[],a=t._internal.mipd?.getProviders()??[];for(const c of a){if(i.has(c.info.rdns))continue;const l=t._internal.connectors.providerDetailToConnector(c),u=t._internal.connectors.setup(l);o.push(u)}return[...s,...o]})),r?KR(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function jxe(t){let e=[],n,r;function s(a){return db.parseEvmChainId(a)||1}function i(){return n||(n=zf.getInstance({projectId:t.options.projectId,chainId:tu()?.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:a=>{a==="iframe_load_failed"?Sr.open(Ar.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):a==="iframe_request_timeout"?Sr.open(Ar.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):a==="unverified_domain"&&Sr.open(Ar.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Ar.EmbeddedWalletAbortController,getActiveCaipNetwork:a=>tu(a),getCaipNetworks:a=>K.getCaipNetworks(a)})),n}async function o(a={}){const c=i();let l=a.chainId;if(a.isReconnecting){const g=db.parseEvmChainId(c.getLastUsedChainId()||""),y=t.chains?.[0].id;if(l=g||y,!l)throw new Error("ChainId not found in provider")}const u=Po("eip155"),{address:d,chainId:h,accounts:f}=await aa.authConnectorAuthenticate({authConnector:c,chainId:l,preferredAccountType:u,socialUri:a.socialUri,chainNamespace:le.CHAIN.EVM});e=f?.map(g=>g.address)||[d];const p=s(h);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:le.CONNECTOR_ID.AUTH,name:le.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:le.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e?.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=zf.getInstance({projectId:t.options.projectId,chainId:tu()?.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:Ar.EmbeddedWalletAbortController,onTimeout:c=>{c==="iframe_load_failed"?Sr.open(Ar.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?Sr.open(Ar.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&Sr.open(Ar.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:c=>tu(c),getCaipNetworks:c=>K.getCaipNetworks(c)})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=K.state.activeChain===le.CHAIN.EVM;if(le.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>Le.getConnectorId(h)===le.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){try{const l=a.chains.find(f=>f.id===c);if(!l)throw new rl(new Error("chain not found on connector."));const u=await this.getProvider(),d=Po("eip155"),h=await u.connect({chainId:c,preferredAccountType:d});return e=h?.accounts?.map(f=>f.address)||[h.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),l}catch(l){throw l instanceof Error?new rl(l):l}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(If)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}JO.type="walletConnect";function JO(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:JO.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){try{const h=K.getCaipNetworks(),f=await this.getProvider();if(!f)throw new Nd;a||(a=this.onDisplayUri,f.on("display_uri",a));const p=await this.isChainsStale();f.session&&p&&await f.disconnect();const g=ve.state.universalProviderConfigOverride;if(!f.session||p){const x=lu.createNamespaces(h,g);await f.connect({optionalNamespaces:x,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(h.map(I=>Number(I.id)))}const y=await this.getAccounts(),v=await this.getChainId(),b=f.session?.namespaces?.eip155?.chains,_=b?.some(x=>Number(x.split(":")[1])===v);let S=1;_?S=v:b?.[0]&&(S=Number(b[0].split(":")[1])),a&&(f.removeListener("display_uri",a),a=void 0),o&&(f.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),f.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),f.on("session_delete",c));const C=g?.defaultChain;return f.setDefaultChain(C??`eip155:${S}`),{accounts:y,chainId:S}}catch(h){throw/(user rejected|connection request reset)/i.test(h?.message)?new Yr(h):h}},async disconnect(){const d=await this.getProvider();try{await d?.disconnect()}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{i&&(d?.removeListener("chainChanged",i),i=void 0),l&&(d?.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d?.on("connect",o)),s&&(d?.removeListener("accountsChanged",s),s=void 0),c&&(d?.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){const d=await this.getProvider();if(!d?.session?.namespaces)return[];const f=d?.session?.namespaces[le.CHAIN.EVM]?.accounts?.map(y=>y.split(":")[2])??[],p=new Set;return f.filter(y=>{const v=y?.toLowerCase();return p.has(v)?!1:(p.add(v),!0)})},async getProvider({chainId:d}={}){r||(r=await e.getUniversalProvider(),r?.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=Se.getActiveNamespace(),f=e.getCaipNetwork()?.id;if(d&&f!==d&&h){const p=Se.getStoredActiveCaipNetworkId(),y=(h?e.getCaipNetworks(h):[])?.find(v=>v.id===p);y&&y.chainNamespace===le.CHAIN.EVM&&await this.switchChain?.({chainId:Number(y.id)})}return r},async getChainId(){const d=e.getCaipNetwork(le.CHAIN.EVM)?.id;if(d)return d;const f=(await this.getProvider()).session?.namespaces[le.CHAIN.EVM]?.chains?.[0];return K.getCaipNetworks().find(g=>g.id===f)?.id},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){const f=await this.getProvider();if(!f)throw new Nd;const p=K.getCaipNetworks().find(g=>g.id===h);if(!p)throw new rl(new rv);try{await f.request({method:"wallet_switchEthereumChain",params:[{chainId:an(h)}]}),p?.caipNetworkId&&f.setDefaultChain(p?.caipNetworkId),u.emitter.emit("change",{chainId:Number(h)});const g=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...g,h]),{...p,id:p.id}}catch(g){const y=g;if(/(?:user rejected)/iu.test(y.message))throw new Yr(y);try{let v;d?.blockExplorerUrls?v=d.blockExplorerUrls:v=p.blockExplorers?.default.url?[p.blockExplorers?.default.url]:[];const b=p.rpcUrls?.chainDefault?.http||[],_={blockExplorerUrls:v,chainId:an(h),chainName:p.name,iconUrls:d?.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:b};await f.request({method:"wallet_addEthereumChain",params:[_]});const S=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...S,h]),{...p,id:p.id}}catch(v){throw new Yr(v)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(h=>If(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},onConnect(d){this.setRequestedChainsIds(K.getCaipNetworks().map(h=>Number(h.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),i&&(h.removeListener("chainChanged",i),i=void 0),l&&(h.removeListener("disconnect",l),l=void 0),c&&(h.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return r?.session?.namespaces?r?.session?.namespaces[le.CHAIN.EVM]?.accounts?.map(f=>Number.parseInt(f.split(":")[1]??""))??[]:[]},async getRequestedChainsIds(){const d=await u.storage?.getItem(this.requestedChainsStorageKey)??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const f=await this.getRequestedChainsIds();return!d.every(p=>f.includes(Number(p)))},async setRequestedChainsIds(d){await u.storage?.setItem(this.requestedChainsStorageKey,d)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Jy=ur({pendingTransactions:0}),iB={state:Jy,subscribeKey(t,e){return qs(Jy,t,e)},increase(t){Jy[t]+=1},decrease(t){Jy[t]-=1},reset(t){Jy[t]=0}};async function Vxe(t){if(rt.isSafeApp()){const{safe:e}=await hn(async()=>{const{safe:n}=await import("./index-CVgFgEkZ.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function Hxe(t){try{const{coinbaseWallet:e}=await hn(async()=>{const{coinbaseWallet:n}=await import("./index-CVgFgEkZ.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const qxe={enable:!1,pollingInterval:3e4};class zxe extends pz{constructor(e){const n=Oc.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=le.CHAIN.EVM,this.adapterType=le.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...qxe,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===le.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!i?.user)return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>rt.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=yg(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>rt.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=yg(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===le.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{const i=e.transports?.[s.id],o=Oc.getCaipNetworkId(s);i?n[s.id]=Oc.extendWagmiTransports(s,e.projectId,i):n[s.id]=Oc.getViemTransport(s,e.projectId,e.customRpcUrls?.[o])}),this.wagmiConfig=Az({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=vxe(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),iB.increase("pendingTransactions")}});const e=iB.subscribeKey("pendingTransactions",n=>{n>=le.LIMITS.PENDING_TRANSACTIONS&&(this.unwatchPendingTransactions?.(),e())})}setupWatchers(){vz(this.wagmiConfig,{onChange:e=>{this.clearConnections(),this.addConnection(...e.map(n=>{const r=this.getCaipNetworks().find(i=>i.id===n.chainId),s=n.connector.id===le.CONNECTOR_ID.AUTH;return{accounts:n.accounts.map(i=>({address:this.toChecksummedAddress(i)})),caipNetwork:r,connectorId:n.connector.id,auth:s?{name:Se.getConnectedSocialProvider(),username:Se.getConnectedSocialUsername()}:void 0}}))}}),bz(this.wagmiConfig,{onChange:(e,n)=>{if(e.status==="disconnected"&&n.address&&this.emit("disconnect"),e?.chainId&&e?.chainId!==n?.chainId&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"){const r=e.address!==n?.address,s=e.connector.id!==n.connector?.id,i=n.status!=="connected";(r||s||i)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:e.address,chainId:e.chainId,connector:e.connector}))}}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await Hxe(this.wagmiConfig.connectors);s&&n.push(s)}const r=await Vxe(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){const r=[];e.enableWalletConnect!==!1&&r.push(JO(e,n)),e.enableInjected!==!1&&r.push(fT({shimDisconnect:!0}));const s=n?.remoteFeatures?.email??n?.features?.email??!0,i=n?.remoteFeatures?.socials??n?.features?.socials,o=Array.isArray(i)&&i?.length>0;(s||o)&&r.push(jxe({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(a=>{const c=this.wagmiConfig._internal.connectors.setup(a);this.wagmiConfig._internal.connectors.setState(l=>[...l,c])})}async handleAccountChanged({address:e,chainId:n,connector:r}){if(!this.namespace)throw new Error("WagmiAdapter:handleAccountChanged - namespace is required");const s=await r.getProvider().catch(()=>{});this.emit("accountChanged",{address:this.toChecksummedAddress(e),chainId:n,connector:{id:r.id,name:mo.ConnectorNamesMap[r.id]??r.name,imageId:mo.ConnectorImageIds[r.id],type:mo.ConnectorTypesMap[r.type]??"EXTERNAL",info:r.id===le.CONNECTOR_ID.INJECTED?void 0:{rdns:r.id},provider:s,chain:this.namespace,chains:[]}})}async signMessage(e){try{return{signature:await gxe(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=yg(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await pxe(this.wagmiConfig,s);const i=await mxe(this.wagmiConfig,s);return await wxe(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){const{caipNetwork:n,...r}=e,s=Number(db.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await _xe(this.wagmiConfig,{chain:this.wagmiChains?.[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await cxe(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return ace(e.value,e.decimals)}formatUnits(e){return A0(e.value,e.decimals)}async addWagmiConnector(e,n){if(!this.namespace)throw new Error("WagmiAdapter:addWagmiConnector - namespace is required");if(e.type===le.CONNECTOR_ID.INJECTED&&n.enableEIP6963===!1||e.id===le.CONNECTOR_ID.AUTH||e.id===le.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:mo.ConnectorExplorerIds[e.id],imageUrl:n?.connectorImages?.[e.id]??e.icon,name:mo.ConnectorNamesMap[e.id]??e.name,imageId:mo.ConnectorImageIds[e.id],type:mo.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===le.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){_z(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnections(){return Promise.resolve()}async syncConnection(e){const{id:n,chainId:r}=e,i=Sc(this.wagmiConfig).find(l=>l.connector.id===n),a=await this.getWagmiConnector(n)?.getProvider();if(rt.isSafeApp()&&n===le.CONNECTOR_ID.SAFE&&!i?.accounts.length){const l=this.getWagmiConnector("safe");if(l){const u=await PE(this.wagmiConfig,{connector:l,chainId:Number(r)}),d=await l.getProvider();return{chainId:Number(r),address:this.toChecksummedAddress(u.accounts[0]),provider:d,type:i?.connector.type?.toUpperCase(),id:i?.connector.id}}}return{chainId:Number(i?.chainId),address:this.toChecksummedAddress(i?.accounts[0]),provider:a,type:i?.connector.type?.toUpperCase(),id:i?.connector.id}}async connectWalletConnect(e){try{const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await PE(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await eB(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}catch(n){throw n instanceof Yr?new Error(n.shortMessage):n}}async connect(e){const{id:n,address:r,provider:s,type:i,info:o,chainId:a,socialUri:c}=e,l=this.getWagmiConnector(n);if(!l)throw new Error("connectionControllerClient:connectExternal - connector is undefined");s&&o&&l.id===le.CONNECTOR_ID.EIP6963&&l.setEip6963Wallet?.({provider:s,info:o});const u=this.wagmiConfig.state?.connections?.get(l.uid);if(u){await this.wagmiConfig.storage?.setItem("recentConnectorId",l.id);const h=[...u.accounts].sort((f,p)=>as.isLowerCaseMatch(f,r)?-1:as.isLowerCaseMatch(p,r)?1:0);return this.wagmiConfig?.setState(f=>({...f,connections:new Map(f.connections).set(l.uid,{accounts:h,chainId:u.chainId,connector:u.connector}),current:l.uid,status:"connected"})),{address:this.toChecksummedAddress(h[0]),chainId:u.chainId,provider:s,type:i,id:n}}const d=await PE(this.wagmiConfig,{connector:l,chainId:a?Number(a):void 0,socialUri:c});return{address:this.toChecksummedAddress(d.accounts[0]),chainId:d.chainId,provider:s,type:i,id:n}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(e=>({accounts:e.accounts.map(n=>({address:this.toChecksummedAddress(n)})),connectorId:e.connector.id}))}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await KR(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=Se.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{try{const c=Number(e.chainId),l=await wz(this.wagmiConfig,{address:e.address,chainId:c,token:e.tokens?.[r.caipNetworkId]?.address});Se.updateNativeBalanceCache({caipAddress:s,balance:l.formatted,symbol:l.symbol,timestamp:Date.now()}),a({balance:l.formatted,symbol:l.symbol})}catch(c){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",c),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){return this.getWagmiConnector("walletConnect")?.provider}async disconnect(e){if(e.id){const n=this.getWagmiConnector(e.id),s=Sc(this.wagmiConfig).find(i=>as.isLowerCaseMatch(i.connector.id,e.id));return await GR(this.wagmiConfig,{connector:n}),ve.state.enableReconnect===!1&&this.deleteConnection(e.id),s?{connections:[{accounts:s.accounts.map(i=>({address:this.toChecksummedAddress(i)})),connectorId:s.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){const e=Sc(this.wagmiConfig),n=await Promise.allSettled(e.map(async r=>{const s=this.getWagmiConnector(r.connector.id);return s&&await GR(this.wagmiConfig,{connector:s}),r}));return this.wagmiConfig.state.connections.clear(),{connections:n.filter(r=>r.status==="fulfilled").map(({value:r})=>({accounts:r.accounts.map(s=>({address:this.toChecksummedAddress(s)})),connectorId:r.connector.id}))}}async switchNetwork(e){const{caipNetwork:n}=e,r=this.wagmiConfig.chains.find(s=>s.id.toString()===n.id.toString());await eB(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:r?.name??n.name,nativeCurrency:r?.nativeCurrency??n.nativeCurrency,rpcUrls:[n.rpcUrls?.chainDefault?.http?.[0]??r?.rpcUrls?.default?.http?.[0]??""],blockExplorerUrls:[r?.blockExplorers?.default?.url??n.blockExplorers?.default?.url??""]}}),await super.switchNetwork(e)}async getCapabilities(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Sc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Sc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Sc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Sc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setAuthProvider(e){if(!this.namespace)throw new Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:le.CONNECTOR_ID.AUTH,type:"AUTH",name:le.CONNECTOR_NAMES.AUTH,provider:e,imageId:mo.ConnectorImageIds[le.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(e){return e.on("connect",()=>{const n=Sc(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(K.state.activeChain==="eip155")return;KR(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new YO({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}toChecksummedAddress(e){return n_(e.toLowerCase())}}const Wxe={id:"app"},oB="02a231b2406ed316c861abefc95c5e59",Gxe={__name:"App",setup(t){const e={name:"AppKit",description:"AppKit Example",url:"https://example.com",icons:["https://avatars.githubusercontent.com/u/179229932"]},n=[gg,zR],r=new zxe({networks:n,projectId:oB});return txe({adapters:[r],networks:n,projectId:oB,metadata:e,features:{analytics:!0,email:!1,socials:!1}}),(s,i)=>{const o=Wa("router-view");return pt(),Lt("div",Wxe,[Xt(o)])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Gm=typeof document<"u";function Cz(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Kxe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Cz(t.default)}const Vn=Object.assign;function uP(t,e){const n={};for(const r in e){const s=e[r];n[r]=Xa(s)?s.map(t):t(s)}return n}const Fw=()=>{},Xa=Array.isArray,Iz=/#/g,Qxe=/&/g,Yxe=/\//g,Zxe=/=/g,Jxe=/\?/g,Tz=/\+/g,Xxe=/%5B/g,ePe=/%5D/g,Sz=/%5E/g,tPe=/%60/g,xz=/%7B/g,nPe=/%7C/g,Pz=/%7D/g,rPe=/%20/g;function XO(t){return encodeURI(""+t).replace(nPe,"|").replace(Xxe,"[").replace(ePe,"]")}function sPe(t){return XO(t).replace(xz,"{").replace(Pz,"}").replace(Sz,"^")}function ZR(t){return XO(t).replace(Tz,"%2B").replace(rPe,"+").replace(Iz,"%23").replace(Qxe,"%26").replace(tPe,"`").replace(xz,"{").replace(Pz,"}").replace(Sz,"^")}function iPe(t){return ZR(t).replace(Zxe,"%3D")}function oPe(t){return XO(t).replace(Iz,"%23").replace(Jxe,"%3F")}function aPe(t){return t==null?"":oPe(t).replace(Yxe,"%2F")}function sv(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const cPe=/\/$/,lPe=t=>t.replace(cPe,"");function dP(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=fPe(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:sv(o)}}function uPe(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function aB(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function dPe(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&zg(e.matched[r],n.matched[s])&&Rz(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function zg(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Rz(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!hPe(t[n],e[n]))return!1;return!0}function hPe(t,e){return Xa(t)?cB(t,e):Xa(e)?cB(e,t):t===e}function cB(t,e){return Xa(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function fPe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const bd={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var iv;(function(t){t.pop="pop",t.push="push"})(iv||(iv={}));var jw;(function(t){t.back="back",t.forward="forward",t.unknown=""})(jw||(jw={}));function pPe(t){if(!t)if(Gm){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),lPe(t)}const mPe=/^[^#]+#/;function gPe(t,e){return t.replace(mPe,"#")+e}function yPe(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const pT=()=>({left:window.scrollX,top:window.scrollY});function wPe(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=yPe(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function lB(t,e){return(history.state?history.state.position-e:-1)+t}const JR=new Map;function bPe(t,e){JR.set(t,e)}function vPe(t){const e=JR.get(t);return JR.delete(t),e}let _Pe=()=>location.protocol+"//"+location.host;function Nz(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),aB(c,"")}return aB(n,t)+r+s}function EPe(t,e,n,r){let s=[],i=[],o=null;const a=({state:h})=>{const f=Nz(t,location),p=n.value,g=e.value;let y=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}y=g?h.position-g.position:0}else r(f);s.forEach(v=>{v(n.value,p,{delta:y,type:iv.pop,direction:y?y>0?jw.forward:jw.back:jw.unknown})})};function c(){o=n.value}function l(h){s.push(h);const f=()=>{const p=s.indexOf(h);p>-1&&s.splice(p,1)};return i.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(Vn({},h.state,{scroll:pT()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:d}}function uB(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?pT():null}}function APe(t){const{history:e,location:n}=window,r={value:Nz(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+c:_Pe()+t+c;try{e[u?"replaceState":"pushState"](l,"",h),s.value=l}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function o(c,l){const u=Vn({},e.state,uB(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=Vn({},s.value,e.state,{forward:c,scroll:pT()});i(u.current,u,!0);const d=Vn({},uB(r.value,c,null),{position:u.position+1},l);i(c,d,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function CPe(t){t=pPe(t);const e=APe(t),n=EPe(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Vn({location:"",base:t,go:r,createHref:gPe.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function IPe(t){return typeof t=="string"||t&&typeof t=="object"}function kz(t){return typeof t=="string"||typeof t=="symbol"}const Oz=Symbol("");var dB;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(dB||(dB={}));function Wg(t,e){return Vn(new Error,{type:t,[Oz]:!0},e)}function Ml(t,e){return t instanceof Error&&Oz in t&&(e==null||!!(t.type&e))}const hB="[^/]+?",TPe={sensitive:!1,strict:!1,start:!0,end:!0},SPe=/[.+*?^${}()[\]/\\]/g;function xPe(t,e){const n=Vn({},TPe,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let d=0;d<l.length;d++){const h=l[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(s+="/"),s+=h.value.replace(SPe,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:g,optional:y,regexp:v}=h;i.push({name:p,repeatable:g,optional:y});const b=v||hB;if(b!==hB){f+=10;try{new RegExp(`(${b})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+S.message)}}let _=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(_=y&&l.length<2?`(?:/${_})`:"/"+_),y&&(_+="?"),s+=_,f+=20,y&&(f+=-8),g&&(f+=-20),b===".*"&&(f+=-50)}u.push(f)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=i[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function c(l){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:y}=f,v=p in l?l[p]:"";if(Xa(v)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Xa(v)?v.join("/"):v;if(!b)if(y)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=b}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function PPe(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Dz(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=PPe(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(fB(r))return 1;if(fB(s))return-1}return s.length-r.length}function fB(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const RPe={type:0,value:""},NPe=/[a-zA-Z0-9_]/;function kPe(t){if(!t)return[[]];if(t==="/")return[[RPe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${l}": ${f}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function d(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function h(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&d(),o()):c===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:c==="("?n=2:NPe.test(c)?h():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),d(),o(),s}function OPe(t,e,n){const r=xPe(kPe(t.path),n),s=Vn(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function DPe(t,e){const n=[],r=new Map;e=yB({strict:!1,end:!0,sensitive:!1},e);function s(d){return r.get(d)}function i(d,h,f){const p=!f,g=mB(d);g.aliasOf=f&&f.record;const y=yB(e,d),v=[g];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const C of S)v.push(mB(Vn({},g,{components:f?f.record.components:g.components,path:C,aliasOf:f?f.record:g})))}let b,_;for(const S of v){const{path:C}=S;if(h&&C[0]!=="/"){const x=h.record.path,I=x[x.length-1]==="/"?"":"/";S.path=h.record.path+(C&&I+C)}if(b=OPe(S,h,y),f?f.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),p&&d.name&&!gB(b)&&o(d.name)),Mz(b)&&c(b),g.children){const x=g.children;for(let I=0;I<x.length;I++)i(x[I],b,f&&f.children[I])}f=f||b}return _?()=>{o(_)}:Fw}function o(d){if(kz(d)){const h=r.get(d);h&&(r.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function c(d){const h=BPe(d,n);n.splice(h,0,d),d.record.name&&!gB(d)&&r.set(d.record.name,d)}function l(d,h){let f,p={},g,y;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw Wg(1,{location:d});y=f.record.name,p=Vn(pB(h.params,f.keys.filter(_=>!_.optional).concat(f.parent?f.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),d.params&&pB(d.params,f.keys.map(_=>_.name))),g=f.stringify(p)}else if(d.path!=null)g=d.path,f=n.find(_=>_.re.test(g)),f&&(p=f.parse(g),y=f.record.name);else{if(f=h.name?r.get(h.name):n.find(_=>_.re.test(h.path)),!f)throw Wg(1,{location:d,currentLocation:h});y=f.record.name,p=Vn({},h.params,d.params),g=f.stringify(p)}const v=[];let b=f;for(;b;)v.unshift(b.record),b=b.parent;return{name:y,path:g,params:p,matched:v,meta:LPe(v)}}t.forEach(d=>i(d));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function pB(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function mB(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:MPe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function MPe(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function gB(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function LPe(t){return t.reduce((e,n)=>Vn(e,n.meta),{})}function yB(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function BPe(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;Dz(t,e[i])<0?r=i:n=i+1}const s=$Pe(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function $Pe(t){let e=t;for(;e=e.parent;)if(Mz(e)&&Dz(t,e)===0)return e}function Mz({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function UPe(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Tz," "),o=i.indexOf("="),a=sv(o<0?i:i.slice(0,o)),c=o<0?null:sv(i.slice(o+1));if(a in e){let l=e[a];Xa(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function wB(t){let e="";for(let n in t){const r=t[n];if(n=iPe(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Xa(r)?r.map(i=>i&&ZR(i)):[r&&ZR(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function FPe(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Xa(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const jPe=Symbol(""),bB=Symbol(""),mT=Symbol(""),Lz=Symbol(""),XR=Symbol("");function Xy(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function kd(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const l=h=>{h===!1?c(Wg(4,{from:n,to:e})):h instanceof Error?c(h):IPe(h)?c(Wg(2,{from:e,to:h})):(o&&r.enterCallbacks[s]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>t.call(r&&r.instances[s],e,n,l));let d=Promise.resolve(u);t.length<3&&(d=d.then(l)),d.catch(h=>c(h))})}function hP(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Cz(c)){const u=(c.__vccOpts||c)[e];u&&i.push(kd(u,n,r,o,a,s))}else{let l=c();i.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Kxe(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&kd(f,n,r,o,a,s)()}))}}return i}function vB(t){const e=Io(mT),n=Io(Lz),r=xn(()=>{const c=ln(t.to);return e.resolve(c)}),s=xn(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(zg.bind(null,u));if(h>-1)return h;const f=_B(c[l-2]);return l>1&&_B(u)===f&&d[d.length-1].path!==f?d.findIndex(zg.bind(null,c[l-2])):h}),i=xn(()=>s.value>-1&&WPe(n.params,r.value.params)),o=xn(()=>s.value>-1&&s.value===n.matched.length-1&&Rz(n.params,r.value.params));function a(c={}){if(zPe(c)){const l=e[ln(t.replace)?"replace":"push"](ln(t.to)).catch(Fw);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:r,href:xn(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function VPe(t){return t.length===1?t[0]:t}const HPe=Pu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vB,setup(t,{slots:e}){const n=Th(vB(t)),{options:r}=Io(mT),s=xn(()=>({[EB(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[EB(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&VPe(e.default(n));return t.custom?i:Vk("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),qPe=HPe;function zPe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function WPe(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Xa(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function _B(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const EB=(t,e,n)=>t??e??n,GPe=Pu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Io(XR),s=xn(()=>t.route||r.value),i=Io(bB,0),o=xn(()=>{let l=ln(i);const{matched:u}=s.value;let d;for(;(d=u[l])&&!d.components;)l++;return l}),a=xn(()=>s.value.matched[o.value]);cE(bB,xn(()=>o.value+1)),cE(jPe,a),cE(XR,s);const c=Ct();return vo(()=>[c.value,a.value,t.name],([l,u,d],[h,f,p])=>{u&&(u.instances[d]=l,f&&f!==u&&l&&l===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),l&&u&&(!f||!zg(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return AB(n.default,{Component:h,route:l});const f=d.props[u],p=f?f===!0?l.params:typeof f=="function"?f(l):f:null,y=Vk(h,Vn({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return AB(n.default,{Component:y,route:l})||y}}});function AB(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const KPe=GPe;function QPe(t){const e=DPe(t.routes,t),n=t.parseQuery||UPe,r=t.stringifyQuery||wB,s=t.history,i=Xy(),o=Xy(),a=Xy(),c=zee(bd);let l=bd;Gm&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=uP.bind(null,oe=>""+oe),d=uP.bind(null,aPe),h=uP.bind(null,sv);function f(oe,_e){let se,Pe;return kz(oe)?(se=e.getRecordMatcher(oe),Pe=_e):Pe=oe,e.addRoute(Pe,se)}function p(oe){const _e=e.getRecordMatcher(oe);_e&&e.removeRoute(_e)}function g(){return e.getRoutes().map(oe=>oe.record)}function y(oe){return!!e.getRecordMatcher(oe)}function v(oe,_e){if(_e=Vn({},_e||c.value),typeof oe=="string"){const ne=dP(n,oe,_e.path),pe=e.resolve({path:ne.path},_e),we=s.createHref(ne.fullPath);return Vn(ne,pe,{params:h(pe.params),hash:sv(ne.hash),redirectedFrom:void 0,href:we})}let se;if(oe.path!=null)se=Vn({},oe,{path:dP(n,oe.path,_e.path).path});else{const ne=Vn({},oe.params);for(const pe in ne)ne[pe]==null&&delete ne[pe];se=Vn({},oe,{params:d(ne)}),_e.params=d(_e.params)}const Pe=e.resolve(se,_e),mt=oe.hash||"";Pe.params=u(h(Pe.params));const Y=uPe(r,Vn({},oe,{hash:sPe(mt),path:Pe.path})),X=s.createHref(Y);return Vn({fullPath:Y,hash:mt,query:r===wB?FPe(oe.query):oe.query||{}},Pe,{redirectedFrom:void 0,href:X})}function b(oe){return typeof oe=="string"?dP(n,oe,c.value.path):Vn({},oe)}function _(oe,_e){if(l!==oe)return Wg(8,{from:_e,to:oe})}function S(oe){return I(oe)}function C(oe){return S(Vn(b(oe),{replace:!0}))}function x(oe){const _e=oe.matched[oe.matched.length-1];if(_e&&_e.redirect){const{redirect:se}=_e;let Pe=typeof se=="function"?se(oe):se;return typeof Pe=="string"&&(Pe=Pe.includes("?")||Pe.includes("#")?Pe=b(Pe):{path:Pe},Pe.params={}),Vn({query:oe.query,hash:oe.hash,params:Pe.path!=null?{}:oe.params},Pe)}}function I(oe,_e){const se=l=v(oe),Pe=c.value,mt=oe.state,Y=oe.force,X=oe.replace===!0,ne=x(se);if(ne)return I(Vn(b(ne),{state:typeof ne=="object"?Vn({},mt,ne.state):mt,force:Y,replace:X}),_e||se);const pe=se;pe.redirectedFrom=_e;let we;return!Y&&dPe(r,Pe,se)&&(we=Wg(16,{to:pe,from:Pe}),W(Pe,Pe,!0,!1)),(we?Promise.resolve(we):T(pe,Pe)).catch(me=>Ml(me)?Ml(me,2)?me:ee(me):F(me,pe,Pe)).then(me=>{if(me){if(Ml(me,2))return I(Vn({replace:X},b(me.to),{state:typeof me.to=="object"?Vn({},mt,me.to.state):mt,force:Y}),_e||pe)}else me=M(pe,Pe,!0,X,mt);return k(pe,Pe,me),me})}function E(oe,_e){const se=_(oe,_e);return se?Promise.reject(se):Promise.resolve()}function A(oe){const _e=ye.values().next().value;return _e&&typeof _e.runWithContext=="function"?_e.runWithContext(oe):oe()}function T(oe,_e){let se;const[Pe,mt,Y]=YPe(oe,_e);se=hP(Pe.reverse(),"beforeRouteLeave",oe,_e);for(const ne of Pe)ne.leaveGuards.forEach(pe=>{se.push(kd(pe,oe,_e))});const X=E.bind(null,oe,_e);return se.push(X),Ve(se).then(()=>{se=[];for(const ne of i.list())se.push(kd(ne,oe,_e));return se.push(X),Ve(se)}).then(()=>{se=hP(mt,"beforeRouteUpdate",oe,_e);for(const ne of mt)ne.updateGuards.forEach(pe=>{se.push(kd(pe,oe,_e))});return se.push(X),Ve(se)}).then(()=>{se=[];for(const ne of Y)if(ne.beforeEnter)if(Xa(ne.beforeEnter))for(const pe of ne.beforeEnter)se.push(kd(pe,oe,_e));else se.push(kd(ne.beforeEnter,oe,_e));return se.push(X),Ve(se)}).then(()=>(oe.matched.forEach(ne=>ne.enterCallbacks={}),se=hP(Y,"beforeRouteEnter",oe,_e,A),se.push(X),Ve(se))).then(()=>{se=[];for(const ne of o.list())se.push(kd(ne,oe,_e));return se.push(X),Ve(se)}).catch(ne=>Ml(ne,8)?ne:Promise.reject(ne))}function k(oe,_e,se){a.list().forEach(Pe=>A(()=>Pe(oe,_e,se)))}function M(oe,_e,se,Pe,mt){const Y=_(oe,_e);if(Y)return Y;const X=_e===bd,ne=Gm?history.state:{};se&&(Pe||X?s.replace(oe.fullPath,Vn({scroll:X&&ne&&ne.scroll},mt)):s.push(oe.fullPath,mt)),c.value=oe,W(oe,_e,se,X),ee()}let B;function Z(){B||(B=s.listen((oe,_e,se)=>{if(!Ie.listening)return;const Pe=v(oe),mt=x(Pe);if(mt){I(Vn(mt,{replace:!0,force:!0}),Pe).catch(Fw);return}l=Pe;const Y=c.value;Gm&&bPe(lB(Y.fullPath,se.delta),pT()),T(Pe,Y).catch(X=>Ml(X,12)?X:Ml(X,2)?(I(Vn(b(X.to),{force:!0}),Pe).then(ne=>{Ml(ne,20)&&!se.delta&&se.type===iv.pop&&s.go(-1,!1)}).catch(Fw),Promise.reject()):(se.delta&&s.go(-se.delta,!1),F(X,Pe,Y))).then(X=>{X=X||M(Pe,Y,!1),X&&(se.delta&&!Ml(X,8)?s.go(-se.delta,!1):se.type===iv.pop&&Ml(X,20)&&s.go(-1,!1)),k(Pe,Y,X)}).catch(Fw)}))}let N=Xy(),L=Xy(),H;function F(oe,_e,se){ee(oe);const Pe=L.list();return Pe.length?Pe.forEach(mt=>mt(oe,_e,se)):console.error(oe),Promise.reject(oe)}function J(){return H&&c.value!==bd?Promise.resolve():new Promise((oe,_e)=>{N.add([oe,_e])})}function ee(oe){return H||(H=!oe,Z(),N.list().forEach(([_e,se])=>oe?se(oe):_e()),N.reset()),oe}function W(oe,_e,se,Pe){const{scrollBehavior:mt}=t;if(!Gm||!mt)return Promise.resolve();const Y=!se&&vPe(lB(oe.fullPath,0))||(Pe||!se)&&history.state&&history.state.scroll||null;return Kv().then(()=>mt(oe,_e,Y)).then(X=>X&&wPe(X)).catch(X=>F(X,oe,_e))}const ue=oe=>s.go(oe);let Ee;const ye=new Set,Ie={currentRoute:c,listening:!0,addRoute:f,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:g,resolve:v,options:t,push:S,replace:C,go:ue,back:()=>ue(-1),forward:()=>ue(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:L.add,isReady:J,install(oe){const _e=this;oe.component("RouterLink",qPe),oe.component("RouterView",KPe),oe.config.globalProperties.$router=_e,Object.defineProperty(oe.config.globalProperties,"$route",{enumerable:!0,get:()=>ln(c)}),Gm&&!Ee&&c.value===bd&&(Ee=!0,S(s.location).catch(mt=>{}));const se={};for(const mt in bd)Object.defineProperty(se,mt,{get:()=>c.value[mt],enumerable:!0});oe.provide(mT,_e),oe.provide(Lz,AI(se)),oe.provide(XR,c);const Pe=oe.unmount;ye.add(oe),oe.unmount=function(){ye.delete(oe),ye.size<1&&(l=bd,B&&B(),B=null,c.value=bd,Ee=!1,H=!1),Pe()}}};function Ve(oe){return oe.reduce((_e,se)=>_e.then(()=>A(se)),Promise.resolve())}return Ie}function YPe(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>zg(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>zg(l,c))||s.push(c))}return[n,r,s]}function Bz(){return Io(mT)}const ZPe="/assets/planet-arrow-BTo6e6jt.png",JPe="/assets/pattern-blur-left-BLI5Zzee.png",XPe="/image-removebg-preview.png";var fa;(function(t){t.NUMBER="NUMBER_NUMBER",t.HEX="NUMBER_HEX",t.STR="NUMBER_STR",t.BIGINT="NUMBER_BIGINT"})(fa||(fa={}));var vu;(function(t){t.HEX="BYTES_HEX",t.UINT8ARRAY="BYTES_UINT8ARRAY"})(vu||(vu={}));const Ci={number:fa.BIGINT,bytes:vu.HEX},Bt={number:fa.HEX,bytes:vu.HEX};var Xl;(function(t){t.EARLIEST="earliest",t.LATEST="latest",t.PENDING="pending",t.SAFE="safe",t.FINALIZED="finalized",t.COMMITTED="committed"})(Xl||(Xl={}));var Vw;(function(t){t.chainstart="chainstart",t.frontier="frontier",t.homestead="homestead",t.dao="dao",t.tangerineWhistle="tangerineWhistle",t.spuriousDragon="spuriousDragon",t.byzantium="byzantium",t.constantinople="constantinople",t.petersburg="petersburg",t.istanbul="istanbul",t.muirGlacier="muirGlacier",t.berlin="berlin",t.london="london",t.altair="altair",t.arrowGlacier="arrowGlacier",t.grayGlacier="grayGlacier",t.bellatrix="bellatrix",t.merge="merge",t.capella="capella",t.shanghai="shanghai"})(Vw||(Vw={}));const e6=Object.getPrototypeOf(Uint8Array);var CB=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const IB=Symbol.for("web3/base-provider");class g_{static isWeb3Provider(e){return e instanceof g_||!!(e&&e[IB])}get[IB](){return!0}send(e,n){this.request(e).then(r=>{n(null,r)}).catch(r=>{n(r)})}sendAsync(e){return CB(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){const e=Object.create(this),n=e.request;return e.request=function(s){return CB(this,void 0,void 0,function*(){return(yield n(s)).result})},e.asEIP1193Provider=void 0,e}}class e2e extends Array{constructor(e){super(),this._accountProvider=e}}const t2e=100,n2e=101,r2e=201,s2e=202,i2e=203,o2e=204,a2e=205,c2e=206,l2e=207,u2e=208,d2e=300,h2e=301,f2e=310,p2e=311,m2e=400,g2e=402,y2e=405,w2e=407,b2e=408,v2e=410,_2e=411,E2e=412,A2e=413,C2e=414,I2e=415,T2e=416,S2e=417,x2e=418,P2e=419,R2e=420,N2e=421,k2e=422,O2e=423,D2e=424,M2e=425,L2e=426,B2e=427,$2e=428,U2e=429,F2e=430,j2e=431,V2e=432,H2e=433,q2e=434,z2e=435,W2e=436,G2e=437,K2e=438,Q2e=439,Y2e=440,Z2e=441,J2e=500,X2e=503,eRe=505,tRe=506,nRe=507,rRe=600,sRe=602,iRe=603,oRe=604,aRe=701,cRe=702,lRe=703,uRe=704,dRe=705,hRe=706,fRe=707,pRe=709,mRe=801,gRe=802,yRe=4001,wRe=4100,bRe=4200,vRe=4900,_Re=4901,ERe=902,ARe=903,CRe=1001,IRe=1002,TRe=1003,SRe=1004,xRe=1005,PRe=1006,RRe=1008,NRe=1009,kRe=1010,ORe=1011,DRe=1012,MRe=1014,LRe=1015,BRe=1100,$z=1101,$Re=1200,QA=-32700,YA=-32600,ZA=-32601,JA=-32602,XA=-32603,eC=-32e3,tC=-32001,nC=-32002,rC=-32003,sC=-32004,iC=-32005,oC=-32006;class Ot extends Error{get innerError(){return this.cause instanceof Hw?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new Hw(e):this.cause=e}constructor(e,n){super(e),Array.isArray(n)?this.cause=new Hw(n):this.cause=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}static convertToString(e,n=!1){if(e==null)return"undefined";const r=JSON.stringify(e,(s,i)=>typeof i=="bigint"?i.toString():i);return n&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class Hw extends Ot{constructor(e){super(`Multiple errors occurred: [${e.map(n=>n.message).join("], [")}]`),this.code=u2e,this.errors=e}}class sn extends Ot{constructor(e,n){super(`Invalid value given "${Ot.convertToString(e,!0)}". Error: ${n}.`),this.name=this.constructor.name}}class TB extends Ot{constructor(){super("Private key must be 32 bytes."),this.code=aRe}}class URe extends Ot{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=cRe}}class FRe extends Ot{constructor(e){super(`"${e}"`),this.code=gRe}}class Uz extends Ot{constructor(){super("Invalid key derivation function"),this.code=lRe}}class jRe extends Ot{constructor(){super("Key derivation failed - possibly wrong password"),this.code=uRe}}class VRe extends Ot{constructor(){super("Unsupported key store version"),this.code=dRe}}class HRe extends Ot{constructor(){super("Password cannot be empty"),this.code=hRe}}class qRe extends Ot{constructor(){super("Initialization vector must be 16 bytes"),this.code=fRe}}class zRe extends Ot{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=pRe}}class y_ extends Ot{constructor(e,n){super(e),this.code=J2e,n&&(this.errorCode=n.code,this.errorReason=n.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class eN extends y_{constructor(e){super("Connection not open",e),this.code=X2e}}class WRe extends y_{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=eRe}}class GRe extends y_{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=tRe}}class KRe extends y_{constructor(e){super(`Request already sent with following id: ${e}`),this.code=nRe}}class Ii extends Ot{constructor(e,n){super(e),this.code=d2e,this.receipt=n}}class SB extends Ot{constructor(e,n){super(`The resolver at ${e} does not implement requested method: "${n}".`),this.address=e,this.name=n,this.code=h2e}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class gT extends Ii{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,typeof e.data=="object"){let n;e.data&&"originalError"in e.data?n=e.data.originalError:n=e.data,this.data=n.data,this.cause=new gT(n)}else this.data=e.data}setDecodedProperties(e,n,r){this.errorName=e,this.errorSignature=n,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class Wf extends Ii{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=f2e,this.cause=new gT(e)}}class QRe extends sn{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=p2e}}class YRe extends Ot{constructor(e){super(`ENS is not supported on network ${e}`),this.code=ERe}}class ZRe extends Ot{constructor(){super("Network not synced"),this.code=ARe}}class xB extends Ot{constructor(e){super(`Invalid parameters passed. "${typeof e<"u"?e:""}"`),this.hint=e,this.code=l2e}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class tN extends Ot{constructor(){super(...arguments),this.code=r2e}}class Ll extends Ot{constructor(){super("The method you're trying to call is not implemented."),this.code=s2e}}class Fz extends Ot{constructor(){super(...arguments),this.code=i2e}}class JRe extends Ot{constructor(){super(...arguments),this.code=o2e}}class gn extends Ot{constructor(e,n){super(e),this.code=a2e,this.props=n??{}}}class XRe extends Ot{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=c2e}}class NE extends Ot{constructor(){super(...arguments),this.code=rRe}}class nN extends Ot{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=sRe}}class zl extends Ot{constructor(){super(...arguments),this.code=iRe}}class eNe extends Ot{constructor(){super(...arguments),this.code=oRe}}class tNe extends sn{constructor(){super(...arguments),this.code=mRe}}class t6 extends Ot{constructor(e,n){super(e),this.receipt=n,this.code=m2e}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class aC extends Ot{constructor(e,n,r,s){super(`Transaction has been reverted by the EVM${r===void 0?"":`:
 ${Ot.convertToString(r)}`}`),this.reason=e,this.signature=n,this.receipt=r,this.data=s,this.code=g2e}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class jz extends aC{constructor(e,n,r,s,i,o,a){super(e),this.reason=e,this.customErrorName=n,this.customErrorDecodedSignature=r,this.customErrorArguments=s,this.signature=i,this.receipt=o,this.data=a,this.code=K2e}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class Vz extends t6{constructor(e){super(`Transaction has been reverted by the EVM${e===void 0?"":`:
 ${Ot.convertToString(e)}`}`,e),this.code=y2e}}class nNe extends t6{constructor(){super("Raw transaction undefined"),this.code=w2e}}class PB extends t6{constructor(){super("Transaction not found"),this.code=F2e}}class rNe extends sn{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=b2e}}class sNe extends sn{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=G2e}}class iNe extends sn{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=v2e}}class oNe extends sn{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=_2e}}class aNe extends sn{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=E2e}}class cNe extends sn{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=z2e}}class lNe extends sn{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=W2e}}class uNe extends sn{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=A2e}}class dNe extends sn{constructor(e){var n,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(n=e.chain)!==null&&n!==void 0?n:"undefined"}, "hardfork": ${(r=e.hardfork)!==null&&r!==void 0?r:"undefined"}`),this.code=C2e}}class hNe extends Ot{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=Y2e}}class fNe extends sn{constructor(e){var n,r,s,i;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(s=e.maxPriorityFeePerGas)!==null&&s!==void 0?s:"undefined"}, maxFeePerGas: ${(i=e.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,'"gas" is missing'),this.code=I2e,this.cause=new hNe}}class pNe extends Ot{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=Z2e}}class mNe extends sn{constructor(e){var n,r,s,i;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(s=e.maxPriorityFeePerGas)!==null&&s!==void 0?s:"undefined"}, maxFeePerGas: ${(i=e.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=q2e,this.cause=new pNe}}class gNe extends sn{constructor(e){var n,r;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=T2e}}class yNe extends sn{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=S2e}}class wNe extends sn{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=x2e}}class Hz extends sn{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=P2e}}class bNe extends sn{constructor(e){super(e,"invalid transaction object"),this.code=R2e}}class vNe extends sn{constructor(e){var n,r;super(`nonce: ${(n=e.nonce)!==null&&n!==void 0?n:"undefined"}, chainId: ${(r=e.chainId)!==null&&r!==void 0?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=N2e}}class _Ne extends sn{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=k2e}}class ENe extends sn{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=O2e}}class RB extends sn{constructor(e){super(e,"unsupported transaction type"),this.code=D2e}}class qz extends sn{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=M2e}}class ANe extends Ot{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=j2e}}function zz(t){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${t?t.toString():"not available"}`}class Wz extends Ot{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${zz(e.transactionHash)}`),this.code=L2e}}class Gz extends Ot{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${zz(e.transactionHash)}`),this.code=V2e}}class CNe extends sn{constructor(e){var n,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${(n=e.blockHash)===null||n===void 0?void 0:n.toString()}, transactionHash: ${(r=e.transactionHash)===null||r===void 0?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=B2e}}class INe extends sn{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=$2e}}class rN extends Ot{constructor(e){super(`Invalid signature. "${e}"`),this.code=H2e}}class NB extends sn{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=U2e}}class TNe extends Ot{constructor(e,n){const r=[];e.forEach(s=>r.push(s.keyword)),super(`The following properties are invalid for the transaction type ${n}: ${r.join(", ")}`),this.code=Q2e}}class wg extends sn{constructor(e){super(e,"can not parse as byte data"),this.code=IRe}}class n6 extends sn{constructor(e){super(e,"can not parse as number data"),this.code=TRe}}class r6 extends sn{constructor(e){super(e,"invalid ethereum address"),this.code=xRe}}class SNe extends sn{constructor(e){super(e,"not a valid string"),this.code=CRe}}class Kz extends sn{constructor(e){super(e,"invalid unit"),this.code=SRe}}class Qz extends sn{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=LRe}}class xNe extends sn{constructor(e){super(e,"can not be converted to hex"),this.code=PRe}}class Yz extends sn{constructor(e){super(e,"value greater than the nibble width"),this.code=MRe}}class s6 extends sn{constructor(e){super(e,"not a valid boolean."),this.code=RRe}}class PNe extends sn{constructor(e){super(e,"not a valid unsigned integer."),this.code=NRe}}class kB extends sn{constructor(e){super(e,"invalid size given."),this.code=kRe}}class OB extends sn{constructor(e){super(e,"value is larger than size."),this.code=ORe}}class RNe extends sn{constructor(e){super(e,"invalid string given"),this.code=DRe}}const NNe=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&(t.result===void 0||t.result===null)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),DB=t=>NNe(t)?t.error.message:"";class Dc extends Ot{constructor(e,n,r,s){var i;super(n??`Returned error: ${Array.isArray(e)?e.map(a=>DB(a)).join(","):DB(e)}`),this.code=t2e,n||(this.data=Array.isArray(e)?e.map(a=>{var c;return(c=a.error)===null||c===void 0?void 0:c.data}):(i=e?.error)===null||i===void 0?void 0:i.data),this.statusCode=s,this.request=r;let o;"error"in e?o=e.error:e instanceof Array&&(o=e.filter(a=>a.error).map(a=>a.error)),Array.isArray(o)&&o.length>0?this.cause=new Hw(o):this.cause=o}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class yT extends Dc{constructor(e,n){super(e,void 0,n),this.code=n2e;let r;"error"in e?r=e.error:e instanceof Array&&(r=e.map(s=>s.error)),Array.isArray(r)?this.cause=new Hw(r):this.cause=r}}class MB extends Ot{constructor(e,n){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=$z}}class LB extends Ot{constructor(e,n){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=$z}}const Zz="An Rpc error has occured with a code of *code*",ui={[QA]:{message:"Parse error",description:"Invalid JSON"},[YA]:{message:"Invalid request",description:"JSON is not a valid request object	"},[ZA]:{message:"Method not found",description:"Method does not exist	"},[JA]:{message:"Invalid params",description:"Invalid method parameters"},[XA]:{message:"Internal error",description:"Internal JSON-RPC error"},[eC]:{message:"Invalid input",description:"Missing or invalid parameters"},[tC]:{message:"Resource not found",description:"Requested resource not found"},[nC]:{message:"Resource unavailable",description:"Requested resource not available"},[rC]:{message:"Transaction rejected",description:"Transaction creation failed"},[sC]:{message:"Method not supported",description:"Method is not implemented"},[iC]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[oC]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[yRe]:{name:"User Rejected Request",message:"The user rejected the request."},[wRe]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[bRe]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[vRe]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[_Re]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class Lo extends Ot{constructor(e,n){super(n??Zz.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class kNe extends Ot{constructor(e,n){var r,s,i,o;if(!e)super();else if(!((r=ui[e])===null||r===void 0)&&r.message)super(ui[e].message);else{const a=Object.keys(ui).find(c=>typeof c=="string"&&e>=parseInt(c.split("-")[0],10)&&e<=parseInt(c.split("-")[1],10));super((i=(s=ui[a??""])===null||s===void 0?void 0:s.message)!==null&&i!==void 0?i:Zz.replace("*code*",(o=e?.toString())!==null&&o!==void 0?o:'""'))}this.code=e,this.data=n}}class ONe extends Lo{constructor(e){super(e,ui[QA].message),this.code=QA}}class DNe extends Lo{constructor(e){super(e,ui[YA].message),this.code=YA}}class MNe extends Lo{constructor(e){super(e,ui[ZA].message),this.code=ZA}}class LNe extends Lo{constructor(e){super(e,ui[JA].message),this.code=JA}}class BNe extends Lo{constructor(e){super(e,ui[XA].message),this.code=XA}}class $Ne extends Lo{constructor(e){super(e,ui[eC].message),this.code=eC}}class UNe extends Lo{constructor(e){super(e,ui[sC].message),this.code=sC}}class FNe extends Lo{constructor(e){super(e,ui[nC].message),this.code=nC}}class jNe extends Lo{constructor(e){super(e,ui[tC].message),this.code=tC}}class VNe extends Lo{constructor(e){super(e,ui[oC].message),this.code=oC}}class HNe extends Lo{constructor(e){super(e,ui[rC].message),this.code=rC}}class qNe extends Lo{constructor(e){super(e,ui[iC].message),this.code=iC}}const Si=new Map;Si.set(QA,{error:ONe});Si.set(YA,{error:DNe});Si.set(ZA,{error:MNe});Si.set(JA,{error:LNe});Si.set(XA,{error:BNe});Si.set(eC,{error:$Ne});Si.set(sC,{error:UNe});Si.set(nC,{error:FNe});Si.set(rC,{error:HNe});Si.set(tC,{error:jNe});Si.set(oC,{error:VNe});Si.set(iC,{error:qNe});class zNe extends Ot{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=$Re}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function Gi(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function WNe(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function GNe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function M0(t,...e){if(!GNe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function i6(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gi(t.outputLen),Gi(t.blockLen)}function pp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function o6(t,e){M0(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Jz={number:Gi,bool:WNe,bytes:M0,hash:i6,exists:pp,output:o6},W1=BigInt(2**32-1),BB=BigInt(32);function KNe(t,e=!1){return e?{h:Number(t&W1),l:Number(t>>BB&W1)}:{h:Number(t>>BB&W1)|0,l:Number(t&W1)|0}}function QNe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=KNe(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const YNe=(t,e,n)=>t<<n|e>>>32-n,ZNe=(t,e,n)=>e<<n|t>>>32-n,JNe=(t,e,n)=>e<<n-32|t>>>64-n,XNe=(t,e,n)=>t<<n-32|e>>>64-n,kE=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const OE=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),DE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),vc=(t,e)=>t<<32-e|t>>>e,Mn=(t,e)=>t<<e|t>>>32-e>>>0,cC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,eke=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function lC(t){for(let e=0;e<t.length;e++)t[e]=eke(t[e])}function Gg(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Kg(t){return typeof t=="string"&&(t=Gg(t)),M0(t),t}function uC(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];M0(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class a6{clone(){return this._cloneInto()}}const tke={}.toString;function Xz(t,e){if(e!==void 0&&tke.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function eW(t){const e=r=>t().update(Kg(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function tW(t=32){if(kE&&typeof kE.getRandomValues=="function")return kE.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const nW=[],rW=[],sW=[],nke=BigInt(0),ew=BigInt(1),rke=BigInt(2),ske=BigInt(7),ike=BigInt(256),oke=BigInt(113);for(let t=0,e=ew,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],nW.push(2*(5*r+n)),rW.push((t+1)*(t+2)/2%64);let s=nke;for(let i=0;i<7;i++)e=(e<<ew^(e>>ske)*oke)%ike,e&rke&&(s^=ew<<(ew<<BigInt(i))-ew);sW.push(s)}const[ake,cke]=QNe(sW,!0),$B=(t,e,n)=>n>32?JNe(t,e,n):YNe(t,e,n),UB=(t,e,n)=>n>32?XNe(t,e,n):ZNe(t,e,n);function lke(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=$B(l,u,1)^n[a],h=UB(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=rW[o],c=$B(s,i,a),l=UB(s,i,a),u=nW[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=ake[r],t[1]^=cke[r]}n.fill(0)}class c6 extends a6{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Gi(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=OE(this.state)}keccak(){cC||lC(this.state32),lke(this.state32,this.rounds),cC||lC(this.state32),this.posOut=0,this.pos=0}update(e){pp(this);const{blockLen:n,state:r}=this;e=Kg(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){pp(this,!1),M0(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Gi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(o6(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new c6(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const uke=(t,e,n)=>eW(()=>new c6(e,t,n)),FB=uke(1,136,256/8),dC=Jz.bytes;function iW(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function dke(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function hke(t){return e=>(Jz.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const _i=(()=>{const t=hke(FB);return t.create=FB.create,t})();var Sn;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Sn||(Sn={}));var sN;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(sN||(sN={}));const Je=Sn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ql=t=>{switch(typeof t){case"undefined":return Je.undefined;case"string":return Je.string;case"number":return Number.isNaN(t)?Je.nan:Je.number;case"boolean":return Je.boolean;case"function":return Je.function;case"bigint":return Je.bigint;case"symbol":return Je.symbol;case"object":return Array.isArray(t)?Je.array:t===null?Je.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Je.promise:typeof Map<"u"&&t instanceof Map?Je.map:typeof Set<"u"&&t instanceof Set?Je.set:typeof Date<"u"&&t instanceof Date?Je.date:Je.object;default:return Je.unknown}},Ne=Sn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fke=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class To extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}static assert(e){if(!(e instanceof To))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Sn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}To.create=t=>new To(t);const Qg=(t,e)=>{let n;switch(t.code){case Ne.invalid_type:t.received===Je.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Sn.jsonStringifyReplacer)}`;break;case Ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${Sn.joinValues(t.keys,", ")}`;break;case Ne.invalid_union:n="Invalid input";break;case Ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Sn.joinValues(t.options)}`;break;case Ne.invalid_enum_value:n=`Invalid enum value. Expected ${Sn.joinValues(t.options)}, received '${t.received}'`;break;case Ne.invalid_arguments:n="Invalid function arguments";break;case Ne.invalid_return_type:n="Invalid function return type";break;case Ne.invalid_date:n="Invalid date";break;case Ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Sn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ne.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ne.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ne.custom:n="Invalid input";break;case Ne.invalid_intersection_types:n="Intersection results could not be merged";break;case Ne.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ne.not_finite:n="Number must be finite";break;default:n=e.defaultError,Sn.assertNever(t)}return{message:n}};let oW=Qg;function pke(t){oW=t}function hC(){return oW}const fC=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},mke=[];function ze(t,e){const n=hC(),r=fC({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Qg?void 0:Qg].filter(s=>!!s)});t.common.issues.push(r)}class di{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return St;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return di.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return St;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const St=Object.freeze({status:"aborted"}),ag=t=>({status:"dirty",value:t}),xi=t=>({status:"valid",value:t}),iN=t=>t.status==="aborted",oN=t=>t.status==="dirty",mp=t=>t.status==="valid",ov=t=>typeof Promise<"u"&&t instanceof Promise;var ht;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(ht||(ht={}));class ol{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jB=(t,e)=>{if(mp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new To(t.common.issues);return this._error=n,this._error}}};function Qt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:c??n??a.defaultError}},description:s}}class tn{get description(){return this._def.description}_getType(e){return Ql(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ql(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new di,ctx:{common:e.parent.common,data:e.data,parsedType:Ql(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ov(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ql(e)},s=this._parseSync({data:e,path:r.path,parent:r});return jB(r,s)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ql(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return mp(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>mp(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ql(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(ov(s)?s:Promise.resolve(s));return jB(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Ne.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new ec({schema:this,typeName:kt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return zc.create(this,this._def)}nullable(){return gh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qa.create(this)}promise(){return Zg.create(this,this._def)}or(e){return uv.create([this,e],this._def)}and(e){return dv.create(this,e,this._def)}transform(e){return new ec({...Qt(this._def),schema:this,typeName:kt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new gv({...Qt(this._def),innerType:this,defaultValue:n,typeName:kt.ZodDefault})}brand(){return new l6({typeName:kt.ZodBranded,type:this,...Qt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new yv({...Qt(this._def),innerType:this,catchValue:n,typeName:kt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return w_.create(this,e)}readonly(){return wv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gke=/^c[^\s-]{8,}$/i,yke=/^[0-9a-z]+$/,wke=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bke=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vke=/^[a-z0-9_-]{21}$/i,_ke=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Eke=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ake=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Cke="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fP;const Ike=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Tke=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ske=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Pke=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rke=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aW="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Nke=new RegExp(`^${aW}$`);function cW(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function kke(t){return new RegExp(`^${cW(t)}$`)}function lW(t){let e=`${aW}T${cW(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Oke(t,e){return!!((e==="v4"||!e)&&Ike.test(t)||(e==="v6"||!e)&&Ske.test(t))}function Dke(t,e){if(!_ke.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Mke(t,e){return!!((e==="v4"||!e)&&Tke.test(t)||(e==="v6"||!e)&&xke.test(t))}class Va extends tn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Je.string){const i=this._getOrReturnCtx(e);return ze(i,{code:Ne.invalid_type,expected:Je.string,received:i.parsedType}),St}const r=new di;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ze(s,{code:Ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ze(s,{code:Ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ze(s,{code:Ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ze(s,{code:Ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Ake.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"email",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")fP||(fP=new RegExp(Cke,"u")),fP.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"emoji",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")bke.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"uuid",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")vke.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"nanoid",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")gke.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"cuid",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")yke.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"cuid2",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")wke.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"ulid",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ze(s,{validation:"url",code:Ne.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"regex",code:Ne.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ze(s,{code:Ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ze(s,{code:Ne.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ze(s,{code:Ne.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?lW(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{code:Ne.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Nke.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{code:Ne.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?kke(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{code:Ne.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Eke.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"duration",code:Ne.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Oke(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"ip",code:Ne.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Dke(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"jwt",code:Ne.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Mke(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"cidr",code:Ne.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Pke.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"base64",code:Ne.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Rke.test(e.data)||(s=this._getOrReturnCtx(e,s),ze(s,{validation:"base64url",code:Ne.invalid_string,message:i.message}),r.dirty()):Sn.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Ne.invalid_string,...ht.errToObj(r)})}_addCheck(e){return new Va({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ht.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ht.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ht.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ht.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ht.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ht.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ht.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ht.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ht.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ht.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ht.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ht.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ht.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...ht.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...ht.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ht.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ht.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...ht.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ht.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ht.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ht.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ht.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ht.errToObj(n)})}nonempty(e){return this.min(1,ht.errToObj(e))}trim(){return new Va({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Va({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Va({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Va.create=t=>new Va({checks:[],typeName:kt.ZodString,coerce:t?.coerce??!1,...Qt(t)});function Lke(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class fh extends tn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Je.number){const i=this._getOrReturnCtx(e);return ze(i,{code:Ne.invalid_type,expected:Je.number,received:i.parsedType}),St}let r;const s=new di;for(const i of this._def.checks)i.kind==="int"?Sn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ze(r,{code:Ne.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:Ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:Ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Lke(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ze(r,{code:Ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ze(r,{code:Ne.not_finite,message:i.message}),s.dirty()):Sn.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ht.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ht.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ht.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ht.toString(n))}setLimit(e,n,r,s){return new fh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ht.toString(s)}]})}_addCheck(e){return new fh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ht.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ht.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ht.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ht.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ht.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ht.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Sn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}fh.create=t=>new fh({checks:[],typeName:kt.ZodNumber,coerce:t?.coerce||!1,...Qt(t)});class ph extends tn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Je.bigint)return this._getInvalidInput(e);let r;const s=new di;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:Ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:Ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:Ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Sn.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ze(n,{code:Ne.invalid_type,expected:Je.bigint,received:n.parsedType}),St}gte(e,n){return this.setLimit("min",e,!0,ht.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ht.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ht.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ht.toString(n))}setLimit(e,n,r,s){return new ph({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ht.toString(s)}]})}_addCheck(e){return new ph({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ht.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ht.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ph.create=t=>new ph({checks:[],typeName:kt.ZodBigInt,coerce:t?.coerce??!1,...Qt(t)});class av extends tn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Je.boolean){const r=this._getOrReturnCtx(e);return ze(r,{code:Ne.invalid_type,expected:Je.boolean,received:r.parsedType}),St}return xi(e.data)}}av.create=t=>new av({typeName:kt.ZodBoolean,coerce:t?.coerce||!1,...Qt(t)});class gp extends tn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Je.date){const i=this._getOrReturnCtx(e);return ze(i,{code:Ne.invalid_type,expected:Je.date,received:i.parsedType}),St}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ze(i,{code:Ne.invalid_date}),St}const r=new di;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ze(s,{code:Ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ze(s,{code:Ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Sn.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gp({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ht.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ht.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}gp.create=t=>new gp({checks:[],coerce:t?.coerce||!1,typeName:kt.ZodDate,...Qt(t)});class pC extends tn{_parse(e){if(this._getType(e)!==Je.symbol){const r=this._getOrReturnCtx(e);return ze(r,{code:Ne.invalid_type,expected:Je.symbol,received:r.parsedType}),St}return xi(e.data)}}pC.create=t=>new pC({typeName:kt.ZodSymbol,...Qt(t)});class cv extends tn{_parse(e){if(this._getType(e)!==Je.undefined){const r=this._getOrReturnCtx(e);return ze(r,{code:Ne.invalid_type,expected:Je.undefined,received:r.parsedType}),St}return xi(e.data)}}cv.create=t=>new cv({typeName:kt.ZodUndefined,...Qt(t)});class lv extends tn{_parse(e){if(this._getType(e)!==Je.null){const r=this._getOrReturnCtx(e);return ze(r,{code:Ne.invalid_type,expected:Je.null,received:r.parsedType}),St}return xi(e.data)}}lv.create=t=>new lv({typeName:kt.ZodNull,...Qt(t)});class Yg extends tn{constructor(){super(...arguments),this._any=!0}_parse(e){return xi(e.data)}}Yg.create=t=>new Yg({typeName:kt.ZodAny,...Qt(t)});class Gf extends tn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xi(e.data)}}Gf.create=t=>new Gf({typeName:kt.ZodUnknown,...Qt(t)});class _u extends tn{_parse(e){const n=this._getOrReturnCtx(e);return ze(n,{code:Ne.invalid_type,expected:Je.never,received:n.parsedType}),St}}_u.create=t=>new _u({typeName:kt.ZodNever,...Qt(t)});class mC extends tn{_parse(e){if(this._getType(e)!==Je.undefined){const r=this._getOrReturnCtx(e);return ze(r,{code:Ne.invalid_type,expected:Je.void,received:r.parsedType}),St}return xi(e.data)}}mC.create=t=>new mC({typeName:kt.ZodVoid,...Qt(t)});class Qa extends tn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Je.array)return ze(n,{code:Ne.invalid_type,expected:Je.array,received:n.parsedType}),St;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ze(n,{code:o?Ne.too_big:Ne.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ze(n,{code:Ne.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ze(n,{code:Ne.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ol(n,o,n.path,a)))).then(o=>di.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ol(n,o,n.path,a)));return di.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Qa({...this._def,minLength:{value:e,message:ht.toString(n)}})}max(e,n){return new Qa({...this._def,maxLength:{value:e,message:ht.toString(n)}})}length(e,n){return new Qa({...this._def,exactLength:{value:e,message:ht.toString(n)}})}nonempty(e){return this.min(1,e)}}Qa.create=(t,e)=>new Qa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:kt.ZodArray,...Qt(e)});function Km(t){if(t instanceof xr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=zc.create(Km(r))}return new xr({...t._def,shape:()=>e})}else return t instanceof Qa?new Qa({...t._def,type:Km(t.element)}):t instanceof zc?zc.create(Km(t.unwrap())):t instanceof gh?gh.create(Km(t.unwrap())):t instanceof al?al.create(t.items.map(e=>Km(e))):t}class xr extends tn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Sn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Je.object){const l=this._getOrReturnCtx(e);return ze(l,{code:Ne.invalid_type,expected:Je.object,received:l.parsedType}),St}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof _u&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new ol(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof _u){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(ze(s,{code:Ne.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new ol(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,h=await u.value;l.push({key:d,value:h,alwaysSet:u.alwaysSet})}return l}).then(l=>di.mergeObjectSync(r,l)):di.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return ht.errToObj,new xr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const s=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:ht.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new xr({...this._def,unknownKeys:"strip"})}passthrough(){return new xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:kt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new xr({...this._def,catchall:e})}pick(e){const n={};for(const r of Sn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new xr({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Sn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new xr({...this._def,shape:()=>n})}deepPartial(){return Km(this)}partial(e){const n={};for(const r of Sn.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new xr({...this._def,shape:()=>n})}required(e){const n={};for(const r of Sn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof zc;)i=i._def.innerType;n[r]=i}return new xr({...this._def,shape:()=>n})}keyof(){return uW(Sn.objectKeys(this.shape))}}xr.create=(t,e)=>new xr({shape:()=>t,unknownKeys:"strip",catchall:_u.create(),typeName:kt.ZodObject,...Qt(e)});xr.strictCreate=(t,e)=>new xr({shape:()=>t,unknownKeys:"strict",catchall:_u.create(),typeName:kt.ZodObject,...Qt(e)});xr.lazycreate=(t,e)=>new xr({shape:t,unknownKeys:"strip",catchall:_u.create(),typeName:kt.ZodObject,...Qt(e)});class uv extends tn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new To(a.ctx.common.issues));return ze(n,{code:Ne.invalid_union,unionErrors:o}),St}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new To(c));return ze(n,{code:Ne.invalid_union,unionErrors:a}),St}}get options(){return this._def.options}}uv.create=(t,e)=>new uv({options:t,typeName:kt.ZodUnion,...Qt(e)});const Hl=t=>t instanceof fv?Hl(t.schema):t instanceof ec?Hl(t.innerType()):t instanceof pv?[t.value]:t instanceof mh?t.options:t instanceof mv?Sn.objectValues(t.enum):t instanceof gv?Hl(t._def.innerType):t instanceof cv?[void 0]:t instanceof lv?[null]:t instanceof zc?[void 0,...Hl(t.unwrap())]:t instanceof gh?[null,...Hl(t.unwrap())]:t instanceof l6||t instanceof wv?Hl(t.unwrap()):t instanceof yv?Hl(t._def.innerType):[];class wT extends tn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.object)return ze(n,{code:Ne.invalid_type,expected:Je.object,received:n.parsedType}),St;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ze(n,{code:Ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),St)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Hl(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new wT({typeName:kt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Qt(r)})}}function aN(t,e){const n=Ql(t),r=Ql(e);if(t===e)return{valid:!0,data:t};if(n===Je.object&&r===Je.object){const s=Sn.objectKeys(e),i=Sn.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=aN(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Je.array&&r===Je.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=aN(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Je.date&&r===Je.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class dv extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(iN(i)||iN(o))return St;const a=aN(i.value,o.value);return a.valid?((oN(i)||oN(o))&&n.dirty(),{status:n.value,value:a.data}):(ze(r,{code:Ne.invalid_intersection_types}),St)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}dv.create=(t,e,n)=>new dv({left:t,right:e,typeName:kt.ZodIntersection,...Qt(n)});class al extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.array)return ze(r,{code:Ne.invalid_type,expected:Je.array,received:r.parsedType}),St;if(r.data.length<this._def.items.length)return ze(r,{code:Ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),St;!this._def.rest&&r.data.length>this._def.items.length&&(ze(r,{code:Ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new ol(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>di.mergeArray(n,o)):di.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new al({...this._def,rest:e})}}al.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new al({items:t,typeName:kt.ZodTuple,rest:null,...Qt(e)})};class hv extends tn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.object)return ze(r,{code:Ne.invalid_type,expected:Je.object,received:r.parsedType}),St;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ol(r,a,r.path,a)),value:o._parse(new ol(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?di.mergeObjectAsync(n,s):di.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof tn?new hv({keyType:e,valueType:n,typeName:kt.ZodRecord,...Qt(r)}):new hv({keyType:Va.create(),valueType:e,typeName:kt.ZodRecord,...Qt(n)})}}class gC extends tn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.map)return ze(r,{code:Ne.invalid_type,expected:Je.map,received:r.parsedType}),St;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new ol(r,a,r.path,[l,"key"])),value:i._parse(new ol(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return St;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return St;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}gC.create=(t,e,n)=>new gC({valueType:e,keyType:t,typeName:kt.ZodMap,...Qt(n)});class yp extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.set)return ze(r,{code:Ne.invalid_type,expected:Je.set,received:r.parsedType}),St;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ze(r,{code:Ne.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ze(r,{code:Ne.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return St;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new ol(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new yp({...this._def,minSize:{value:e,message:ht.toString(n)}})}max(e,n){return new yp({...this._def,maxSize:{value:e,message:ht.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}yp.create=(t,e)=>new yp({valueType:t,minSize:null,maxSize:null,typeName:kt.ZodSet,...Qt(e)});class bg extends tn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.function)return ze(n,{code:Ne.invalid_type,expected:Je.function,received:n.parsedType}),St;function r(a,c){return fC({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hC(),Qg].filter(l=>!!l),issueData:{code:Ne.invalid_arguments,argumentsError:c}})}function s(a,c){return fC({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hC(),Qg].filter(l=>!!l),issueData:{code:Ne.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Zg){const a=this;return xi(async function(...c){const l=new To([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return xi(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new To([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new To([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new bg({...this._def,args:al.create(e).rest(Gf.create())})}returns(e){return new bg({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new bg({args:e||al.create([]).rest(Gf.create()),returns:n||Gf.create(),typeName:kt.ZodFunction,...Qt(r)})}}class fv extends tn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}fv.create=(t,e)=>new fv({getter:t,typeName:kt.ZodLazy,...Qt(e)});class pv extends tn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ze(n,{received:n.data,code:Ne.invalid_literal,expected:this._def.value}),St}return{status:"valid",value:e.data}}get value(){return this._def.value}}pv.create=(t,e)=>new pv({value:t,typeName:kt.ZodLiteral,...Qt(e)});function uW(t,e){return new mh({values:t,typeName:kt.ZodEnum,...Qt(e)})}class mh extends tn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ze(n,{expected:Sn.joinValues(r),received:n.parsedType,code:Ne.invalid_type}),St}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ze(n,{received:n.data,code:Ne.invalid_enum_value,options:r}),St}return xi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return mh.create(e,{...this._def,...n})}exclude(e,n=this._def){return mh.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}mh.create=uW;class mv extends tn{_parse(e){const n=Sn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Je.string&&r.parsedType!==Je.number){const s=Sn.objectValues(n);return ze(r,{expected:Sn.joinValues(s),received:r.parsedType,code:Ne.invalid_type}),St}if(this._cache||(this._cache=new Set(Sn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Sn.objectValues(n);return ze(r,{received:r.data,code:Ne.invalid_enum_value,options:s}),St}return xi(e.data)}get enum(){return this._def.values}}mv.create=(t,e)=>new mv({values:t,typeName:kt.ZodNativeEnum,...Qt(e)});class Zg extends tn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.promise&&n.common.async===!1)return ze(n,{code:Ne.invalid_type,expected:Je.promise,received:n.parsedType}),St;const r=n.parsedType===Je.promise?n.data:Promise.resolve(n.data);return xi(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Zg.create=(t,e)=>new Zg({type:t,typeName:kt.ZodPromise,...Qt(e)});class ec extends tn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ze(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return St;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?St:c.status==="dirty"||n.value==="dirty"?ag(c.value):c});{if(n.value==="aborted")return St;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?St:a.status==="dirty"||n.value==="dirty"?ag(a.value):a}}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?St:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?St:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!mp(o))return St;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>mp(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):St);Sn.assertNever(s)}}ec.create=(t,e,n)=>new ec({schema:t,typeName:kt.ZodEffects,effect:e,...Qt(n)});ec.createWithPreprocess=(t,e,n)=>new ec({schema:e,effect:{type:"preprocess",transform:t},typeName:kt.ZodEffects,...Qt(n)});class zc extends tn{_parse(e){return this._getType(e)===Je.undefined?xi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zc.create=(t,e)=>new zc({innerType:t,typeName:kt.ZodOptional,...Qt(e)});class gh extends tn{_parse(e){return this._getType(e)===Je.null?xi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gh.create=(t,e)=>new gh({innerType:t,typeName:kt.ZodNullable,...Qt(e)});class gv extends tn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Je.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}gv.create=(t,e)=>new gv({innerType:t,typeName:kt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qt(e)});class yv extends tn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ov(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new To(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new To(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}yv.create=(t,e)=>new yv({innerType:t,typeName:kt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qt(e)});class yC extends tn{_parse(e){if(this._getType(e)!==Je.nan){const r=this._getOrReturnCtx(e);return ze(r,{code:Ne.invalid_type,expected:Je.nan,received:r.parsedType}),St}return{status:"valid",value:e.data}}}yC.create=t=>new yC({typeName:kt.ZodNaN,...Qt(t)});const Bke=Symbol("zod_brand");class l6 extends tn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class w_ extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?St:i.status==="dirty"?(n.dirty(),ag(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?St:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new w_({in:e,out:n,typeName:kt.ZodPipeline})}}class wv extends tn{_parse(e){const n=this._def.innerType._parse(e),r=s=>(mp(s)&&(s.value=Object.freeze(s.value)),s);return ov(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}wv.create=(t,e)=>new wv({innerType:t,typeName:kt.ZodReadonly,...Qt(e)});function VB(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function dW(t,e={},n){return t?Yg.create().superRefine((r,s)=>{const i=t(r);if(i instanceof Promise)return i.then(o=>{if(!o){const a=VB(e,r),c=a.fatal??n??!0;s.addIssue({code:"custom",...a,fatal:c})}});if(!i){const o=VB(e,r),a=o.fatal??n??!0;s.addIssue({code:"custom",...o,fatal:a})}}):Yg.create()}const $ke={object:xr.lazycreate};var kt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(kt||(kt={}));const Uke=(t,e={message:`Input not instance of ${t.name}`})=>dW(n=>n instanceof t,e),hW=Va.create,fW=fh.create,Fke=yC.create,jke=ph.create,pW=av.create,Vke=gp.create,Hke=pC.create,qke=cv.create,zke=lv.create,cN=Yg.create,Wke=Gf.create,Gke=_u.create,Kke=mC.create,mW=Qa.create,ME=xr.create,Qke=xr.strictCreate,gW=uv.create,Yke=wT.create,Zke=dv.create,yW=al.create,Jke=hv.create,Xke=gC.create,eOe=yp.create,tOe=bg.create,nOe=fv.create,rOe=pv.create,sOe=mh.create,iOe=mv.create,oOe=Zg.create,HB=ec.create,aOe=zc.create,cOe=gh.create,lOe=ec.createWithPreprocess,uOe=w_.create,dOe=()=>hW().optional(),hOe=()=>fW().optional(),fOe=()=>pW().optional(),pOe={string:(t=>Va.create({...t,coerce:!0})),number:(t=>fh.create({...t,coerce:!0})),boolean:(t=>av.create({...t,coerce:!0})),bigint:(t=>ph.create({...t,coerce:!0})),date:(t=>gp.create({...t,coerce:!0}))},mOe=St,qB=Object.freeze(Object.defineProperty({__proto__:null,BRAND:Bke,DIRTY:ag,EMPTY_PATH:mke,INVALID:St,NEVER:mOe,OK:xi,ParseStatus:di,Schema:tn,ZodAny:Yg,ZodArray:Qa,ZodBigInt:ph,ZodBoolean:av,ZodBranded:l6,ZodCatch:yv,ZodDate:gp,ZodDefault:gv,ZodDiscriminatedUnion:wT,ZodEffects:ec,ZodEnum:mh,ZodError:To,get ZodFirstPartyTypeKind(){return kt},ZodFunction:bg,ZodIntersection:dv,ZodIssueCode:Ne,ZodLazy:fv,ZodLiteral:pv,ZodMap:gC,ZodNaN:yC,ZodNativeEnum:mv,ZodNever:_u,ZodNull:lv,ZodNullable:gh,ZodNumber:fh,ZodObject:xr,ZodOptional:zc,ZodParsedType:Je,ZodPipeline:w_,ZodPromise:Zg,ZodReadonly:wv,ZodRecord:hv,ZodSchema:tn,ZodSet:yp,ZodString:Va,ZodSymbol:pC,ZodTransformer:ec,ZodTuple:al,ZodType:tn,ZodUndefined:cv,ZodUnion:uv,ZodUnknown:Gf,ZodVoid:mC,addIssueToContext:ze,any:cN,array:mW,bigint:jke,boolean:pW,coerce:pOe,custom:dW,date:Vke,datetimeRegex:lW,defaultErrorMap:Qg,discriminatedUnion:Yke,effect:HB,enum:sOe,function:tOe,getErrorMap:hC,getParsedType:Ql,instanceof:Uke,intersection:Zke,isAborted:iN,isAsync:ov,isDirty:oN,isValid:mp,late:$ke,lazy:nOe,literal:rOe,makeIssue:fC,map:Xke,nan:Fke,nativeEnum:iOe,never:Gke,null:zke,nullable:cOe,number:fW,object:ME,get objectUtil(){return sN},oboolean:fOe,onumber:hOe,optional:aOe,ostring:dOe,pipeline:uOe,preprocess:lOe,promise:oOe,quotelessJson:fke,record:Jke,set:eOe,setErrorMap:pke,strictObject:Qke,string:hW,symbol:Hke,transformer:HB,tuple:yW,undefined:qke,union:gW,unknown:Wke,get util(){return Sn},void:Kke},Symbol.toStringTag,{value:"Module"})),gOe=t=>t.message?t.message:"unspecified error";class Jg extends Ot{constructor(e){super(),this.code=BRe,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(gOe)}}const yOe=["bool","int","uint","bytes","string","address","tuple"],wW=t=>typeof t=="object"&&"type"in t&&"name"in t,u6=t=>typeof t=="string",Un=t=>typeof t=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(t);function bW(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const wC=t=>typeof t=="number"||typeof t=="bigint"||typeof t=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(t);function d6(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t.startsWith("0x")}const h6=function(t){for(const[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${n.toString()}`)},wOe=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],zp=t=>{let e=t.replace(/ /,""),n,r=!1,s=[];if(t.includes("[")&&(e=e.slice(0,e.indexOf("[")),s=[...t.matchAll(/(?:\[(\d*)\])/g)].map(i=>parseInt(i[1],10)).map(i=>Number.isNaN(i)?-1:i),r=s.length>0),yOe.includes(e))return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:s};if(e.startsWith("int"))n=parseInt(e.substring(3),10),e="int";else if(e.startsWith("uint"))n=parseInt(t.substring(4),10),e="uint";else if(e.startsWith("bytes"))n=parseInt(e.substring(5),10),e="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:s};return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:s}},pP=(t,e={})=>{if(Object.keys(e).includes("type"))throw new Jg([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:t},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:s}=zp(t);if(!r&&!wOe.includes(t))throw new Jg([{keyword:"eth",message:`Eth data type "${t}" is not valid`,params:{eth:t},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${s??""}`,required:!0}}return t?{format:t,required:!0}:{}},bC=(t,e="/0")=>{const n={type:"array",items:[],maxItems:t.length,minItems:t.length};for(const[r,s]of t.entries()){let i,o,a=[];wW(s)?(i=s.type,o=s.name||`${e}/${r}`,a=s.components):typeof s=="string"?(i=s,o=`${e}/${r}`):Array.isArray(s)&&(s[0]&&typeof s[0]=="string"&&s[0].startsWith("tuple")&&!Array.isArray(s[0])&&s[1]&&Array.isArray(s[1])?(i=s[0],o=`${e}/${r}`,a=s[1]):(i="tuple",o=`${e}/${r}`,a=s));const{baseType:c,isArray:l,arraySizes:u}=zp(i);let d,h=n;for(let f=u.length-1;f>0;f-=1)d={type:"array",$id:o,items:[],maxItems:u[f],minItems:u[f]},u[f]<0&&(delete d.maxItems,delete d.minItems),Array.isArray(h.items)?h.items.length===0?h.items=[d]:h.items.push(d):h.items=[h.items,d],h=d;if(c==="tuple"&&!l){const f=bC(a,o);f.$id=o,h.items.push(f)}else if(c==="tuple"&&l){const f=u[0],p=Object.assign({type:"array",$id:o,items:bC(a,o)},f>=0&&{minItems:f,maxItems:f});h.items.push(p)}else if(l){const f=u[0],p=Object.assign({type:"array",$id:o,items:pP(i)},f>=0&&{minItems:f,maxItems:f});h.items.push(p)}else Array.isArray(h.items)?h.items.push(Object.assign({$id:o},pP(i))):h.items.push(Object.assign({$id:o},pP(i)));h=n}return n},f6=t=>bC(t),p6=(t,e)=>e===1?t:p6(t[0],e-1),qw=(t,e,n)=>{const r=[];for(const[s,i]of t.entries()){let o,a,c=[];wW(i)?(o=i.type,a=i.name,c=i.components):typeof i=="string"?o=i:Array.isArray(i)&&(i[1]&&Array.isArray(i[1])?(o=i[0],c=i[1]):(o="tuple",c=i));const{baseType:l,isArray:u,arraySizes:d}=zp(o),h=Array.isArray(e)?e[s]:e[a];if(l==="tuple"&&!u)r.push(qw(c,h,n));else if(l==="tuple"&&u){const f=[];for(const p of h)if(d.length>1){const g=p6(p,d.length-1),y=[];for(const v of g)y.push(qw(c,v,n));f.push(y)}else f.push(qw(c,p,n));r.push(f)}else r.push(h)}return n=n??[],n.push(...r),n},vW=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error(`Invalid code point: ${t}`)},bT=t=>{if(!Un(t))throw new Error("Invalid hex string");const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?e?-r:r:r<Number.MIN_SAFE_INTEGER?r:e?-1*Number(r):Number(r)},vT=t=>{if((typeof t=="number"||typeof t=="bigint")&&t<0)return`-0x${t.toString(16).slice(1)}`;if((typeof t=="number"||typeof t=="bigint")&&t>=0)return`0x${t.toString(16)}`;if(typeof t=="string"&&Un(t)){const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${e?"-":""}0x${r.replace(/^0+/,"").toLowerCase()}`}if(typeof t=="string"&&!Un(t))return vT(BigInt(t));throw new n6(t)},vC=(t,e,n="0")=>{if(typeof t=="string"&&!Un(t))return t.padStart(e,n);const r=typeof t=="string"&&Un(t)?t:vT(t),[s,i]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${s}${i.padStart(e,n)}`};function Ou(t){let e="0x";for(const n of t){const r=n.toString(16);e+=r.length===1?`0${r}`:r}return e}const Bl={zero:48,nine:57,A:65,F:70,a:97,f:102};function zB(t){if(t>=Bl.zero&&t<=Bl.nine)return t-Bl.zero;if(t>=Bl.A&&t<=Bl.F)return t-(Bl.A-10);if(t>=Bl.a&&t<=Bl.f)return t-(Bl.a-10)}function Wp(t){let e=0;if(t.startsWith("0")&&(t[1]==="x"||t[1]==="X")&&(e=2),t.length%2!==0)throw new wg(`hex string has odd length: ${t}`);const n=(t.length-e)/2,r=new Uint8Array(n);for(let s=0,i=e;s<n;s+=1){const o=zB(t.charCodeAt(i++)),a=zB(t.charCodeAt(i++));if(o===void 0||a===void 0)throw new wg(`Invalid byte sequence ("${t[i-2]}${t[i-1]}" in "${t}").`);r[s]=o*16+a}return r}function _T(t){var e;return!(t instanceof Uint8Array)&&((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"?Uint8Array.from(t):t}const _W=Object.freeze(Object.defineProperty({__proto__:null,abiSchemaToJsonSchema:bC,codePointToInt:vW,ensureIfUint8Array:_T,ethAbiToJsonSchema:f6,fetchArrayElement:p6,hexToNumber:bT,hexToUint8Array:Wp,numberToHex:vT,padLeft:vC,parseBaseType:zp,transformJsonDataToAbiFormat:qw,uint8ArrayToHexString:Ou},Symbol.toStringTag,{value:"Module"})),lN=t=>{var e,n;return t instanceof Uint8Array||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="Buffer"},xh=(t,e={abiType:"bytes"})=>{if(typeof t!="string"&&!Array.isArray(t)&&!lN(t)||typeof t=="string"&&Un(t)&&t.startsWith("-")||typeof t=="string"&&!Un(t))return!1;let n;if(typeof t=="string"){if(t.length%2!==0)return!1;n=Wp(t)}else if(Array.isArray(t)){if(t.some(r=>r<0||r>255||!Number.isInteger(r)))return!1;n=new Uint8Array(t)}else n=t;if(e?.abiType){const{baseTypeSize:r}=zp(e.abiType);return r?n.length===r:!0}return e?.size?n.length===e?.size:!0},EW=t=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(t))return!1;const e=t.slice(2),n=Gg(e.toLowerCase()),r=Ou(_i(_T(n))).slice(2);for(let s=0;s<40;s+=1)if(parseInt(r[s],16)>7&&e[s].toUpperCase()!==e[s]||parseInt(r[s],16)<=7&&e[s].toLowerCase()!==e[s])return!1;return!0},No=(t,e=!0)=>{if(typeof t!="string"&&!lN(t))return!1;let n;return lN(t)?n=Ou(t):typeof t=="string"&&!Un(t)?n=t.toLowerCase().startsWith("0x")?t:`0x${t}`:n=t,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:e?EW(n):!0:!1},wp=(t,e)=>{if(e===BigInt(0))return BigInt(1);let n=t;for(let r=1;r<e;r+=1)n*=t;return n},Eu=(t,e={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="string"&&t.length===0)return!1;let n;if(e?.abiType){const{baseTypeSize:s}=zp(e.abiType);s&&(n=s)}else e.bitSize&&(n=e.bitSize);const r=wp(BigInt(2),BigInt(n??256))-BigInt(1);try{const s=typeof t=="string"&&Un(t)?BigInt(bT(t)):BigInt(t);return s>=0&&s<=r}catch{return!1}},bv=(t,e={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="number"&&t>Number.MAX_SAFE_INTEGER)return!1;let n;if(e?.abiType){const{baseTypeSize:i,baseType:o}=zp(e.abiType);if(o!=="int")return!1;i&&(n=i)}else e.bitSize&&(n=e.bitSize);const r=wp(BigInt(2),BigInt((n??256)-1)),s=BigInt(-1)*wp(BigInt(2),BigInt((n??256)-1));try{const i=typeof t=="string"&&Un(t)?BigInt(bT(t)):BigInt(t);return i>=s&&i<=r}catch{return!1}},AW=t=>!!(bv(t)||typeof t=="string"&&/[0-9.]/.test(t)&&t.indexOf(".")===t.lastIndexOf(".")||typeof t=="number"),CW=t=>Eu(t),Ts=t=>Object.values(Xl).includes(t),uN=t=>Ts(t)||CW(t),L0=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t)),ET=(t,e)=>{if(typeof e=="string"&&!Un(e)||!L0(t))return!1;const n=typeof e=="string"?Wp(e):e,r=Ou(_i(n)).slice(2);for(let s=0;s<12;s+=4){const i=(parseInt(r.slice(s,s+2),16)<<8)+parseInt(r.slice(s+2,s+4),16)&2047,o=vW(t.charCodeAt(t.length-1-Math.floor(i/4))),a=1<<i%4;if((o&a)!==a)return!1}return!0},bOe=(t,e)=>{if(!L0(t)||!No(e))return!1;const n=vC(e,64);return ET(t,n)},vOe=(t,e)=>!L0(t)||!No(e)?!1:ET(t,e),_Oe=t=>["number","string","boolean"].includes(typeof t)?typeof t=="boolean"?!0:typeof t=="string"&&!Un(t)?t==="1"||t==="0":typeof t=="string"&&Un(t)?t==="0x1"||t==="0x0":t===1||t===0:!1,de=t=>t==null,Xg=t=>typeof t=="object"&&!de(t)&&!Array.isArray(t)&&!(t instanceof e6),_C=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t)),EOe=(t,e)=>!L0(t)||!_C(e)?!1:ET(t,e),AOe=t=>{const e=["fromBlock","toBlock","address","topics","blockHash"];if(de(t)||typeof t!="object"||!Object.keys(t).every(n=>e.includes(n))||!de(t.fromBlock)&&!uN(t.fromBlock)||!de(t.toBlock)&&!uN(t.toBlock))return!1;if(!de(t.address)){if(Array.isArray(t.address)){if(!t.address.every(n=>No(n)))return!1}else if(!No(t.address))return!1}return!(!de(t.topics)&&!t.topics.every(n=>de(n)?!0:Array.isArray(n)?n.every(r=>_C(r)):!!_C(n)))},bp={address:t=>No(t),bloom:t=>L0(t),blockNumber:t=>CW(t),blockTag:t=>Ts(t),blockNumberOrTag:t=>uN(t),bool:t=>_Oe(t),bytes:t=>xh(t),filter:t=>AOe(t),hex:t=>Un(t),uint:t=>Eu(t),int:t=>bv(t),number:t=>AW(t),string:t=>u6(t)};for(let t=8;t<=256;t+=8)bp[`int${t}`]=e=>bv(e,{bitSize:t}),bp[`uint${t}`]=e=>Eu(e,{bitSize:t});for(let t=1;t<=32;t+=1)bp[`bytes${t}`]=e=>xh(e,{size:t});bp.bytes256=bp.bytes;const fw=t=>{if((!t?.type||t?.type==="object")&&t?.properties){const e={};for(const n of Object.keys(t.properties)){const r=fw(t.properties[n]);r&&(e[n]=r)}return Array.isArray(t.required)?ME(e).partial().required(t.required.reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:!0}),{})):ME(e).partial()}if(t?.type==="array"&&t?.items){if(Array.isArray(t.items)&&t.items.length>1&&t.maxItems!==void 0&&new Set(t.items.map(r=>r.$id)).size===t.items.length){const r=[];for(const s of t.items){const i=fw(s);i&&r.push(i)}return yW(r)}const e=Array.isArray(t.items)?t.items[0]:t.items;let n=mW(fw(e));return n=t.minItems!==void 0?n.min(t.minItems):n,n=t.maxItems!==void 0?n.max(t.maxItems):n,n}if(t.oneOf&&Array.isArray(t.oneOf))return gW(t.oneOf.map(e=>fw(e)));if(t?.format){if(!bp[t.format])throw new zNe(t.format);return cN().refine(bp[t.format],e=>({params:{value:e,format:t.format}}))}return t?.type&&t?.type!=="object"&&typeof qB[String(t.type)]=="function"?qB[String(t.type)]():ME({data:cN()}).partial()};class cg{static factory(){return cg.validatorInstance||(cg.validatorInstance=new cg),cg.validatorInstance}validate(e,n,r){var s,i;const a=fw(e).safeParse(n);if(!a.success){const c=this.convertErrors((i=(s=a.error)===null||s===void 0?void 0:s.issues)!==null&&i!==void 0?i:[]);if(c){if(r?.silent)return c;throw new Jg(c)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(n=>{var r;let s,i,o,a;a=n.path.join("/");const c=String(n.path[n.path.length-1]),l=n.path.join("/");if(n.code===Ne.too_big)i="maxItems",a=`${l}/maxItems`,o={limit:n.maximum},s=`must NOT have more than ${n.maximum} items`;else if(n.code===Ne.too_small)i="minItems",a=`${l}/minItems`,o={limit:n.minimum},s=`must NOT have fewer than ${n.minimum} items`;else if(n.code===Ne.custom){const{value:u,format:d}=(r=n.params)!==null&&r!==void 0?r:{};typeof u>"u"?s=`value at "/${a}" is required`:s=`value "${typeof u=="object"?JSON.stringify(u):u}" at "/${a}" must pass "${d}" validation`,o={value:u}}return{keyword:i??c,instancePath:l?`/${l}`:"",schemaPath:a?`#${a}`:"#",params:o??{value:n.message},message:s??n.message}})}}class COe{constructor(){this._validator=cg.factory()}validateJSONSchema(e,n,r){return this._validator.validate(e,n,r)}validate(e,n,r={silent:!1}){var s,i;const o=f6(e);if(!(Array.isArray(o.items)&&((s=o.items)===null||s===void 0?void 0:s.length)===0&&n.length===0)){if(Array.isArray(o.items)&&((i=o.items)===null||i===void 0?void 0:i.length)===0&&n.length!==0)throw new Jg([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(o,n,r)}}}const Et=new COe;function Ph(t){var e,n;return t instanceof Uint8Array||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function Pi(...t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function AT(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n+=1)if(t[n]!==e[n])return!1;return!0}const CT={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},dN="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",cl=t=>{if(Et.validate(["bytes"],[t]),Ph(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return Wp(t);throw new wg(t)},{uint8ArrayToHexString:IOe}=_W,cn=t=>IOe(cl(t)),mr=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?cl(`0x${t}`):cl(t),b_=t=>(Et.validate(["hex"],[t]),bT(t)),TOe=b_,ls=(t,e)=>{typeof t!="bigint"&&Et.validate(["int"],[t]);let n=vT(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},SOe=ls,xOe=t=>b_(t).toString(),tc=t=>{Et.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),cn(new TextEncoder().encode(e))},IW=tc,POe=tc,IT=t=>iW(mr(t)),ROe=t=>typeof t=="string"?IT(t):(Et.validate(["bytes"],[t]),iW(t)),m6=Gg,NOe=IT,TW=t=>{Et.validate(["string"],[t]);let e="";for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n).toString(16);e+=r.length%2!==0?`0${r}`:r}return`0x${e}`},kOe=TW,SW=t=>new TextDecoder("ascii").decode(mr(t)),OOe=SW,Au=(t,e)=>{if(typeof t=="string"&&No(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":ls(t);if(typeof t=="bigint")return e?"bigint":ls(t);if(Ph(t))return e?"bytes":cn(t);if(typeof t=="object"&&t)return e?"string":tc(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":ls(t);if(Un(t))return e?"bytes":t;if(wC(t)&&!bv(t)&&!Eu(t))return e?"bytes":`0x${t}`;if(wC(t)&&!bv(t)&&Eu(t))return e?"uint":ls(t);if(!Number.isFinite(t))return e?"string":tc(t)}throw new xNe(t)},Zi=t=>{if(typeof t=="number")return t>1e20?(console.warn(dN),BigInt(t)):t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&Un(t))return b_(t);try{return Zi(BigInt(t))}catch{throw new n6(t)}},Of=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&wC(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new n6(t)},DOe=(t,e)=>{let n;if(typeof e=="string"){if(n=CT[e],!n)throw new Kz(e)}else{if(e<0||!Number.isInteger(e))throw new Qz(e);n=wp(BigInt(10),BigInt(e))}const r=String(Zi(t)),s=n.toString().length-1;if(s<=0)return r.toString();const i=r.padStart(s,"0"),o=i.slice(0,-s),a=i.slice(-s).replace(/\.?0+$/,"");return o===""?a?`0.${a}`:"0":a===""?o:`${o}.${a}`.slice(0,o.length+s+1)},MOe=(t,e)=>{Et.validate(["number"],[t]);let n;if(typeof e=="string"){if(n=CT[e],!n)throw new Kz(e)}else{if(e<0||!Number.isInteger(e))throw new Qz(e);n=wp(BigInt(10),BigInt(e))}let r=t;typeof r=="number"&&(r<1e-15&&console.warn(dN),r>1e20?(console.warn(dN),r=BigInt(r)):r=r.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[s,i]=String(typeof r=="string"&&!Un(r)?r:Zi(r)).split(".").concat(""),a=BigInt(`${s}${i}`)*n,c=i.length;return c===0?a.toString():a.toString().slice(0,-c)},hl=t=>{if(!No(t,!1))throw new r6(t);const e=t.toLowerCase().replace(/^0x/i,""),n=Ou(_i(_T(m6(e))));if(de(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const s=n.replace(/^0x/i,"");for(let i=0;i<e.length;i+=1)parseInt(s[i],16)>7?r+=e[i].toUpperCase():r+=e[i];return r},xW=t=>{if(typeof t=="boolean")return t;if(typeof t=="number"&&(t===0||t===1)||typeof t=="bigint"&&(t===BigInt(0)||t===BigInt(1)))return!!t;if(typeof t=="string"&&!Un(t)&&(t==="1"||t==="0"||t==="false"||t==="true"))return t==="true"?!0:t==="false"?!1:!!Number(t);if(typeof t=="string"&&Un(t)&&(t==="0x1"||t==="0x0"))return!!Zi(t);throw new s6(t)};class g6 extends ZO{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const LOe=Un,BOe=wC,$Oe=EW,UOe=No,FOe=L0,jOe=ET,VOe=bOe,HOe=vOe,qOe=_C,zOe=EOe,WOe=(t,e)=>{const n=typeof t=="string"&&Ts(t),r=typeof e=="string"&&Ts(e);if(t===e||(t==="earliest"||t===0)&&(e==="earliest"||e===0))return 0;if(t==="earliest")return-1;if(e==="earliest")return 1;if(n&&r){const o={[Xl.EARLIEST]:1,[Xl.FINALIZED]:2,[Xl.SAFE]:3,[Xl.LATEST]:4,[Xl.PENDING]:5};return o[t]<o[e]?-1:1}if(n&&!r||!n&&r)throw new RNe("Cannot compare blocktag with provided non-blocktag input.");const s=BigInt(t),i=BigInt(e);return s<i?-1:s===i?0:1},Hd=t=>typeof t=="object"&&!de(t)&&Object.keys(t).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(e=>e in t),It=de,WB=t=>typeof t=="object"&&!de(t)&&!Array.isArray(t)&&!(t instanceof e6),Rh=(t,...e)=>{if(!WB(t))return t;const n=Object.assign({},t);for(const r of e)for(const s in r)WB(r[s])?(n[s]||(n[s]={}),n[s]=Rh(n[s],r[s])):!de(r[s])&&Object.hasOwnProperty.call(r,s)&&(Array.isArray(r[s])||r[s]instanceof e6?n[s]=r[s].slice(0):n[s]=r[s]);return n},e0=(t,e,n="0")=>typeof t=="string"?Un(t)?vC(t,e,n):t.padStart(e,n):(Et.validate(["int"],[t]),vC(t,e,n)),PW=(t,e,n="0")=>{if(typeof t=="string"&&!Un(t))return t.padEnd(e,n);const r=typeof t=="string"&&Un(t)?t:ls(t),s=r.startsWith("-")?3:2;return Et.validate([r.startsWith("-")?"int":"uint"],[t]),r.padEnd(e+s,n)},RW=PW,vv=e0,NW=(t,e=64)=>{Et.validate(["int"],[t]);const n=Zi(t);if(n>=0)return e0(Au(n),e);const r=wp(BigInt(2),BigInt(e*4));if(-n>=r)throw new Yz(`value: ${t}, nibbleWidth: ${e}`);const i=BigInt(n)+r;return e0(ls(i),e)},GOe=(t,e=64)=>{Et.validate(["int"],[t]);const n=Zi(t);if(n<0)return n;const r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>e*4)throw new Yz(`value: "${t}", nibbleWidth: "${e}"`);if(e*4!==r)return n;const s=wp(BigInt(2),BigInt(e)*BigInt(4));return Zi(BigInt(n)-s)},{parseBaseType:KOe}=_W,Yl=t=>typeof t=="object"&&!de(t)&&"number"in t&&"bytes"in t,QOe=(t,e,n=[])=>{let r=Object.assign({},t),s;for(const i of e){if(r.oneOf&&s){const o=s,a=n.find(([c])=>c===o);a&&a[0]===s&&(r=r.oneOf[a[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[i]:r.items&&r.items.properties?r=r.items.properties[i]:r.items&&Xg(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(i,10)]),r&&i&&(s=i)}return r},_v=(t,e,n)=>{try{const{baseType:r,baseTypeSize:s}=KOe(e);if(r==="int"||r==="uint")switch(n.number){case fa.NUMBER:return Number(Of(t));case fa.HEX:return ls(Of(t));case fa.STR:return Of(t).toString();case fa.BIGINT:return Of(t);default:throw new tN(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let i;switch(s?typeof t=="string"?i=e0(t,s*2):Ph(t)&&(i=Pi(new Uint8Array(s-t.length),t)):i=t,n.bytes){case vu.HEX:return cn(cl(i));case vu.UINT8ARRAY:return cl(i);default:throw new tN(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},GB=({value:t,schemaProp:e,schema:n,object:r,key:s,dataPath:i,format:o,oneOfPath:a=[]})=>{var c,l;if(Array.isArray(t)){let u=e;if(e?.oneOf!==void 0&&e.oneOf.forEach((d,h)=>{var f,p;!Array.isArray(e?.items)&&(typeof t[0]=="object"&&((f=d?.items)===null||f===void 0?void 0:f.type)==="object"||typeof t[0]=="string"&&((p=d?.items)===null||p===void 0?void 0:p.type)!=="object")&&(u=d,a.push([s,h]))}),de(u?.items))return delete r[s],i.pop(),!0;if(Xg(u.items)&&!de(u.items.format)){for(let d=0;d<t.length;d+=1)r[s][d]=_v(t[d],(c=u?.items)===null||c===void 0?void 0:c.format,o);return i.pop(),!0}if(!Array.isArray(u?.items)&&((l=u?.items)===null||l===void 0?void 0:l.type)==="object"){for(const d of t)TT(d,n,i,o,a);return i.pop(),!0}if(Array.isArray(u?.items)){for(let d=0;d<t.length;d+=1)r[s][d]=_v(t[d],u.items[d].format,o);return i.pop(),!0}}return!1},TT=(t,e,n,r,s=[])=>{var i;if(!Xg(t)&&!Array.isArray(t))return _v(t,e?.format,r);const o=t;if(Array.isArray(o)&&e?.type==="array"&&((i=e?.items)===null||i===void 0?void 0:i.type)==="object")GB({value:o,schemaProp:e,schema:e,object:o,key:"",dataPath:n,format:r,oneOfPath:s});else for(const[a,c]of Object.entries(o)){n.push(a);let l=QOe(e,n,s);if(de(l)){delete o[a],n.pop();continue}if(Xg(c)){TT(c,e,n,r,s),n.pop();continue}if(!GB({value:c,schemaProp:l,schema:e,object:o,key:a,dataPath:n,format:r,oneOfPath:s})){if(l?.format===void 0&&l?.oneOf!==void 0){for(const[u,d]of l.oneOf.entries())if(d?.format!==void 0){l=d;break}}o[a]=_v(c,l.format,r),n.pop()}}return o},Re=(t,e,n=Ci)=>{let r;Xg(e)?r=Rh({},e):Array.isArray(e)?r=[...e]:r=e;const s=Xg(t)?t:f6(t);if(!s.properties&&!s.items&&!s.format)throw new tN("Invalid json schema for formatting");return TT(r,s,[],n)},kW="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t0=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=Gg(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!Un(t)?e=Gg(t):e=cl(t),cn(_i(_T(e)))},v_=t=>{let e;typeof t=="string"?t.startsWith("0x")&&Un(t)?e=mr(t):e=Gg(t):e=t;const n=t0(e);return n===kW?void 0:n},ko=t=>{const e=v_(t);return de(e)?kW:e},YOe=t=>{if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");let e,n;if(typeof t=="object"&&("t"in t||"type"in t)&&("v"in t||"value"in t))e="t"in t?t.t:t.type,n="v"in t?t.v:t.value,e=e.toLowerCase()==="bigint"?"int":e;else{if(typeof t=="bigint")return["int",t];e=Au(t,!0),n=Au(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")}return(e.startsWith("int")||e.startsWith("uint"))&&typeof n=="string"&&!/^(-)?0x/i.test(n)&&(n=Of(n)),[e,n]},ZOe=t=>t.startsWith("int[")?`int256${t.slice(3)}`:t==="int"?"int256":t.startsWith("uint[")?`uint256'${t.slice(4)}`:t==="uint"?"uint256":t,mP=(t,e)=>{const n=/^(\d+).*$/.exec(t.slice(e));return n?parseInt(n[1],10):0},KB=t=>t.toString(2).length,QB=(t,e)=>{const n=e.toString();if(t==="string"){if(typeof e=="string")return tc(e);throw new SNe(e)}if(t==="bool"||t==="boolean"){if(typeof e=="boolean")return e?"01":"00";throw new s6(e)}if(t==="address"){if(!No(n))throw new r6(n);return n}const r=ZOe(t);if(t.startsWith("uint")){const s=mP(r,4);if(s%8||s<8||s>256)throw new kB(n);const i=Zi(n);if(KB(i)>s)throw new OB(n);if(i<BigInt(0))throw new PNe(n);return s?vv(i.toString(16),s/8*2):i.toString(16)}if(t.startsWith("int")){const s=mP(r,3);if(s%8||s<8||s>256)throw new kB(t);const i=Zi(n);if(KB(i)>s)throw new OB(n);return i<BigInt(0)?NW(i.toString(),s/8*2):s?vv(i.toString(16),s/4):i.toString(16)}if(r==="bytes"){if(n.replace(/^0x/i,"").length%2!==0)throw new wg(n);return n}if(t.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new wg(n);const s=mP(t,5);if(!s||s<1||s>64||s<n.replace(/^0x/i,"").length/2)throw new wg(n);return RW(n,s*2)}return""},OW=t=>{const[e,n]=YOe(t);return Array.isArray(n)?n.map(i=>QB(e,i).replace("0x","")).join(""):QB(e,n).replace("0x","")},y6=(...t)=>`0x${t.map(OW).join("").toLowerCase()}`,JOe=(...t)=>v_(y6(...t)),XOe=(...t)=>ko(y6(...t)),e6e=t=>v_(`0x${(typeof t=="number"?t.toString():t).padStart(64,"0")}`);function t6e(t){return tW(t)}const Ev=t=>t6e(t),n6e=t=>cn(Ev(t));var ST=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function DW(t){return(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function MW(t,e,n){return ST(this,void 0,void 0,function*(){let r;const s=yield Promise.race([t instanceof Promise?t:t(),new Promise((i,o)=>{r=setTimeout(()=>n?o(n):i(void 0),e)})]);if(r&&clearTimeout(r),s instanceof Error)throw s;return s})}function w6(t,e){let n;return[new Promise((s,i)=>{n=setInterval((function o(){return ST(this,void 0,void 0,function*(){try{const a=yield MW(t,e);de(a)||(clearInterval(n),s(a))}catch(a){clearInterval(n),i(a)}}),o})(),e)}),n]}function r6e(t,e){return ST(this,void 0,void 0,function*(){return w6(t,e)[0]})}function b6(t,e){let n;const r=new Promise((s,i)=>{n=setTimeout(()=>{i(e)},t)});return[n,r]}function LW(t,e){let n;const r=new Promise((s,i)=>{n=setInterval(()=>{ST(this,void 0,void 0,function*(){const o=yield t();o&&(clearInterval(n),i(o))})},e)});return[n,r]}const v6=()=>{const t=Ev(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=cn(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},_6=t=>{const e=t.error.code;return Si.has(e)||e>=-32099&&e<=-32e3},Xd=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&de(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),eh=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&de(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),xT=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!de(t.params)&&!de(t.method),BW=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"id"in t&&"result"in t,EC=t=>Xd(t)||eh(t),E6=t=>Array.isArray(t)?t.every(EC):EC(t),Av=t=>Array.isArray(t)&&t.length>0&&E6(t);let LE;const $W=t=>{LE=t},vp=t=>{var e,n,r,s;return typeof LE<"u"&&(LE+=1),{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:LE)!==null&&r!==void 0?r:v6(),method:t.method,params:(s=t.params)!==null&&s!==void 0?s:void 0}},A6=t=>t.map(e=>vp(e)),xc=t=>Array.isArray(t)&&t.length>0,s6e=Object.freeze(Object.defineProperty({__proto__:null,isBatchRequest:xc,isBatchResponse:Av,isResponseRpcError:_6,isResponseWithError:eh,isResponseWithNotification:xT,isResponseWithResult:Xd,isSubscriptionResult:BW,isValidResponse:E6,setRequestIdStart:$W,toBatchPayload:A6,toPayload:vp,validateResponse:EC},Symbol.toStringTag,{value:"Module"}));var gP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},UW;class AC{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[UW]="Promise",this._state="pending",this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return gP(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return gP(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return gP(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new Fz(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}UW=Symbol.toStringTag;class FW{constructor(e,n){this.eventEmitter=e,this.autoReconnect=n,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(s=>{let i=s;this.lastChunk&&(i=this.lastChunk+i);let o;try{o=JSON.parse(i)}catch{this.lastChunk=i,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new yT({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,o&&n.push(o)}),n}}var YB=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class C6 extends g_{constructor(){super(...arguments),this._eventEmitter=new ZO,this._chainId="",this._accounts=[]}_getChainId(){return YB(this,void 0,void 0,function*(){var e;const n=yield this.request(vp({method:"eth_chainId",params:[]}));return(e=n?.result)!==null&&e!==void 0?e:""})}_getAccounts(){return YB(this,void 0,void 0,function*(){var e;const n=yield this.request(vp({method:"eth_accounts",params:[]}));return(e=n?.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new kNe(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var yP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const i6e={autoReconnect:!0,delay:5e3,maxAttempts:5},o6e=1e3;class jW extends C6{get SocketConnection(){return this._socketConnection}constructor(e,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new nN(e);this._socketPath=e,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},i6e),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new FW(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new y_(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new nN(this._socketPath)}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,n){this._eventEmitter.on(e,n)}once(e,n){this._eventEmitter.once(e,n)}removeListener(e,n){this._eventEmitter.removeListener(e,n)}_onDisconnect(e,n){this._connectionStatus="disconnected",super._onDisconnect(e,n)}disconnect(e,n){const r=e??o6e;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(e,n){return yP(this,arguments,void 0,function*(r,s,i=!1,o=1e3){let a=0;yield yP(this,void 0,void 0,function*(){return new Promise(l=>{const u=setInterval(()=>{i&&a>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(u),l(!0)),a+=1},o)})}),this.disconnect(r,s)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,n)=>{e.deferredPromise.reject(new GRe),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new WRe(this._reconnectOptions.maxAttempts))))}request(e){return yP(this,void 0,void 0,function*(){if(It(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const n=xc(e)?e[0].id:e.id;if(!n)throw new eNe("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new KRe(n);const r=new AC;r.catch(i=>{this._eventEmitter.emit("error",i)});const s={payload:e,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,s),s.deferredPromise;this._sentRequestsQueue.set(n,s);try{this._sendToSocket(s.payload)}catch(i){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",i)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,n)}catch(r){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",r)}}_onMessage(e){const n=this._parseResponses(e);if(!(It(n)||n.length===0))for(const r of n){if(xT(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}const s=Av(r)?r[0].id:r.id,i=this._sentRequestsQueue.get(s);if(!i)return;(Av(r)||Xd(r)||eh(r))&&(this._eventEmitter.emit("message",r),i.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(s)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new eN(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new eN(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}}const VW=Object.freeze(Object.defineProperty({__proto__:null,ChunkResponseParser:FW,Eip1193Provider:C6,EventEmitter:g6,SocketProvider:jW,Web3DeferredPromise:AC,asciiToHex:TW,bytesToHex:cn,bytesToUint8Array:cl,checkAddressCheckSum:$Oe,compareBlockNumbers:WOe,convert:TT,convertScalarValue:_v,encodePacked:y6,ethUnitMap:CT,format:Re,fromAscii:kOe,fromDecimal:SOe,fromTwosComplement:GOe,fromUtf8:IW,fromWei:DOe,getStorageSlotNumForLongString:e6e,hexToAscii:SW,hexToBytes:mr,hexToNumber:b_,hexToNumberString:xOe,hexToString:NOe,hexToUtf8:IT,isAddress:UOe,isBatchRequest:xc,isBatchResponse:Av,isBloom:FOe,isContractAddressInBloom:HOe,isContractInitOptions:Hd,isDataFormat:Yl,isHex:BOe,isHexStrict:LOe,isInBloom:jOe,isNullish:It,isPromise:DW,isResponseRpcError:_6,isResponseWithError:eh,isResponseWithNotification:xT,isResponseWithResult:Xd,isSubscriptionResult:BW,isTopic:qOe,isTopicInBloom:zOe,isUint8Array:Ph,isUserEthereumAddressInBloom:VOe,isValidResponse:E6,jsonRpc:s6e,keccak256:t0,keccak256Wrapper:t0,leftPad:vv,mergeDeep:Rh,numberToHex:ls,padLeft:e0,padRight:PW,pollTillDefined:r6e,pollTillDefinedAndReturnIntervalId:w6,processSolidityEncodePackedArgs:OW,randomBytes:Ev,randomHex:n6e,rejectIfConditionAtInterval:LW,rejectIfTimeout:b6,rightPad:RW,setRequestIdStart:$W,sha3:v_,sha3Raw:ko,soliditySha3:JOe,soliditySha3Raw:XOe,stringToHex:POe,toAscii:OOe,toBatchPayload:A6,toBigInt:Of,toBool:xW,toChecksumAddress:hl,toDecimal:TOe,toHex:Au,toNumber:Zi,toPayload:vp,toTwosComplement:NW,toUtf8:ROe,toWei:MOe,uint8ArrayConcat:Pi,uint8ArrayEquals:AT,utf8ToBytes:m6,utf8ToHex:tc,uuidV4:v6,validateResponse:EC,waitWithTimeout:MW},Symbol.toStringTag,{value:"Module"}));class PT{constructor(){this._emitter=new g6}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,n){this._emitter.emit(e,n)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var _p;(function(t){t.CONFIG_CHANGE="CONFIG_CHANGE"})(_p||(_p={}));class a6e extends PT{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:Au(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:Ci,ignoreGasPricing:!1},this.setConfig(e??{})}setConfig(e){const n=Object.keys(e);for(const r of n)this._triggerConfigChange(r,e[r]),!It(e[r])&&typeof e[r]=="number"&&r==="maxListenersWarningThreshold"&&this.setMaxListenerWarningThreshold(Number(e[r]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!It(this.config.defaultCommon)&&!It(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new LB(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!It(this.config.defaultCommon)&&!It(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new MB(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!It(this.config.defaultHardfork)&&!It(e)&&!It(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new MB(this.config.defaultHardfork,e.hardfork);if(!It(this.config.defaultChain)&&!It(e)&&!It(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new LB(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,n){this.emit(_p.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:n})}}var G1={exports:{}},ZB;function c6e(){return ZB||(ZB=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=(function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i})();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof i<"u"&&i||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(N){return N&&DataView.prototype.isPrototypeOf(N)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(N){return N&&u.indexOf(Object.prototype.toString.call(N))>-1};function h(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function f(N){return typeof N!="string"&&(N=String(N)),N}function p(N){var L={next:function(){var H=N.shift();return{done:H===void 0,value:H}}};return c.iterable&&(L[Symbol.iterator]=function(){return L}),L}function g(N){this.map={},N instanceof g?N.forEach(function(L,H){this.append(H,L)},this):Array.isArray(N)?N.forEach(function(L){if(L.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+L.length);this.append(L[0],L[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(L){this.append(L,N[L])},this)}g.prototype.append=function(N,L){N=h(N),L=f(L);var H=this.map[N];this.map[N]=H?H+", "+L:L},g.prototype.delete=function(N){delete this.map[h(N)]},g.prototype.get=function(N){return N=h(N),this.has(N)?this.map[N]:null},g.prototype.has=function(N){return this.map.hasOwnProperty(h(N))},g.prototype.set=function(N,L){this.map[h(N)]=f(L)},g.prototype.forEach=function(N,L){for(var H in this.map)this.map.hasOwnProperty(H)&&N.call(L,this.map[H],H,this)},g.prototype.keys=function(){var N=[];return this.forEach(function(L,H){N.push(H)}),p(N)},g.prototype.values=function(){var N=[];return this.forEach(function(L){N.push(L)}),p(N)},g.prototype.entries=function(){var N=[];return this.forEach(function(L,H){N.push([H,L])}),p(N)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(N){if(!N._noBody){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}}function v(N){return new Promise(function(L,H){N.onload=function(){L(N.result)},N.onerror=function(){H(N.error)}})}function b(N){var L=new FileReader,H=v(L);return L.readAsArrayBuffer(N),H}function _(N){var L=new FileReader,H=v(L),F=/charset=([A-Za-z0-9_-]+)/.exec(N.type),J=F?F[1]:"utf-8";return L.readAsText(N,J),H}function S(N){for(var L=new Uint8Array(N),H=new Array(L.length),F=0;F<L.length;F++)H[F]=String.fromCharCode(L[F]);return H.join("")}function C(N){if(N.slice)return N.slice(0);var L=new Uint8Array(N.byteLength);return L.set(new Uint8Array(N)),L.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(N){this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:c.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:c.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():c.arrayBuffer&&c.blob&&l(N)?(this._bodyArrayBuffer=C(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||d(N))?this._bodyArrayBuffer=C(N):this._bodyText=N=Object.prototype.toString.call(N):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var N=y(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var N=y(this);return N||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var N=y(this);if(N)return N;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var I=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(N){var L=N.toUpperCase();return I.indexOf(L)>-1?L:N}function A(N,L){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');L=L||{};var H=L.body;if(N instanceof A){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,L.headers||(this.headers=new g(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!H&&N._bodyInit!=null&&(H=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=L.credentials||this.credentials||"same-origin",(L.headers||!this.headers)&&(this.headers=new g(L.headers)),this.method=E(L.method||this.method||"GET"),this.mode=L.mode||this.mode||null,this.signal=L.signal||this.signal||(function(){if("AbortController"in a){var ee=new AbortController;return ee.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(H),(this.method==="GET"||this.method==="HEAD")&&(L.cache==="no-store"||L.cache==="no-cache")){var F=/([?&])_=[^&]*/;if(F.test(this.url))this.url=this.url.replace(F,"$1_="+new Date().getTime());else{var J=/\?/;this.url+=(J.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function T(N){var L=new FormData;return N.trim().split("&").forEach(function(H){if(H){var F=H.split("="),J=F.shift().replace(/\+/g," "),ee=F.join("=").replace(/\+/g," ");L.append(decodeURIComponent(J),decodeURIComponent(ee))}}),L}function k(N){var L=new g,H=N.replace(/\r?\n[\t ]+/g," ");return H.split("\r").map(function(F){return F.indexOf(`
`)===0?F.substr(1,F.length):F}).forEach(function(F){var J=F.split(":"),ee=J.shift().trim();if(ee){var W=J.join(":").trim();try{L.append(ee,W)}catch(ue){console.warn("Response "+ue.message)}}}),L}x.call(A.prototype);function M(N,L){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(L||(L={}),this.type="default",this.status=L.status===void 0?200:L.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=L.statusText===void 0?"":""+L.statusText,this.headers=new g(L.headers),this.url=L.url||"",this._initBody(N)}x.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},M.error=function(){var N=new M(null,{status:200,statusText:""});return N.ok=!1,N.status=0,N.type="error",N};var B=[301,302,303,307,308];M.redirect=function(N,L){if(B.indexOf(L)===-1)throw new RangeError("Invalid status code");return new M(null,{status:L,headers:{location:N}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(L,H){this.message=L,this.name=H;var F=Error(L);this.stack=F.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Z(N,L){return new Promise(function(H,F){var J=new A(N,L);if(J.signal&&J.signal.aborted)return F(new o.DOMException("Aborted","AbortError"));var ee=new XMLHttpRequest;function W(){ee.abort()}ee.onload=function(){var ye={statusText:ee.statusText,headers:k(ee.getAllResponseHeaders()||"")};J.url.indexOf("file://")===0&&(ee.status<200||ee.status>599)?ye.status=200:ye.status=ee.status,ye.url="responseURL"in ee?ee.responseURL:ye.headers.get("X-Request-URL");var Ie="response"in ee?ee.response:ee.responseText;setTimeout(function(){H(new M(Ie,ye))},0)},ee.onerror=function(){setTimeout(function(){F(new TypeError("Network request failed"))},0)},ee.ontimeout=function(){setTimeout(function(){F(new TypeError("Network request timed out"))},0)},ee.onabort=function(){setTimeout(function(){F(new o.DOMException("Aborted","AbortError"))},0)};function ue(ye){try{return ye===""&&a.location.href?a.location.href:ye}catch{return ye}}if(ee.open(J.method,ue(J.url),!0),J.credentials==="include"?ee.withCredentials=!0:J.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&(c.blob?ee.responseType="blob":c.arrayBuffer&&(ee.responseType="arraybuffer")),L&&typeof L.headers=="object"&&!(L.headers instanceof g||a.Headers&&L.headers instanceof a.Headers)){var Ee=[];Object.getOwnPropertyNames(L.headers).forEach(function(ye){Ee.push(h(ye)),ee.setRequestHeader(ye,f(L.headers[ye]))}),J.headers.forEach(function(ye,Ie){Ee.indexOf(Ie)===-1&&ee.setRequestHeader(Ie,ye)})}else J.headers.forEach(function(ye,Ie){ee.setRequestHeader(Ie,ye)});J.signal&&(J.signal.addEventListener("abort",W),ee.onreadystatechange=function(){ee.readyState===4&&J.signal.removeEventListener("abort",W)}),ee.send(typeof J._bodyInit>"u"?null:J._bodyInit)})}return Z.polyfill=!0,a.fetch||(a.fetch=Z,a.Headers=g,a.Request=A,a.Response=M),o.Headers=g,o.Request=A,o.Response=M,o.fetch=Z,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(G1,G1.exports)),G1.exports}var l6e=c6e();const u6e=w0(l6e);var d6e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class RT extends g_{constructor(e,n){if(super(),!RT.validateClientUrl(e))throw new nN(e);this.clientUrl=e,this.httpProviderOptions=n}static validateClientUrl(e){return typeof e=="string"?/^http(s)?:\/\//i.test(e):!1}getStatus(){throw new Ll}supportsSubscriptions(){return!1}request(e,n){var r;return d6e(this,void 0,void 0,function*(){const s=Object.assign(Object.assign({},(r=this.httpProviderOptions)===null||r===void 0?void 0:r.providerOptions),n),i=yield u6e(this.clientUrl,Object.assign(Object.assign({},s),{method:"POST",headers:Object.assign(Object.assign({},s.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!i.ok)throw new Dc(yield i.json(),void 0,void 0,i.status);return yield i.json()})}on(){throw new Ll}removeListener(){throw new Ll}once(){throw new Ll}removeAllListeners(){throw new Ll}connect(){throw new Ll}disconnect(){throw new Ll}reset(){throw new Ll}reconnect(){throw new Ll}}var Qm=null;typeof WebSocket<"u"?Qm=WebSocket:typeof MozWebSocket<"u"?Qm=MozWebSocket:typeof globalThis<"u"?Qm=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?Qm=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Qm=self.WebSocket||self.MozWebSocket);const h6e=Qm;class HW extends jW{constructor(e,n,r){super(e,n,r)}_validateProviderPath(e){return typeof e=="string"?/^ws(s)?:\/\//i.test(e):!1}getStatus(){if(this._socketConnection&&!It(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new h6e(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(e,n){var r;(r=this._socketConnection)===null||r===void 0||r.close(e,n)}_sendToSocket(e){var n;if(this.getStatus()==="disconnected")throw new eN;(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,n,r,s;(e=this._socketConnection)===null||e===void 0||e.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("close",i=>this._onCloseHandler(i)),(s=this._socketConnection)===null||s===void 0||s.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,n,r;(e=this._socketConnection)===null||e===void 0||e.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler)}}const qW=t=>g_.isWeb3Provider(t),zW=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="Function",WW=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="AsyncFunction",GW=t=>typeof t!="string"&&"send"in t,KW=t=>typeof t!="string"&&"sendAsync"in t,CC=t=>t&&(qW(t)||WW(t)||zW(t)||KW(t)||GW(t)),f6e=t=>t&&"supportsSubscriptions"in t?t.supportsSubscriptions():!!(t&&typeof t!="string"&&"on"in t);var wP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},n0;(function(t){t.PROVIDER_CHANGED="PROVIDER_CHANGED",t.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(n0||(n0={}));const JB={HttpProvider:RT,WebsocketProvider:HW};class Kf extends PT{constructor(e,n,r){super(),It(e)||this.setProvider(e),this.useRpcCallSpecification=n,It(r)||(this.middleware=r)}static get providers(){return JB}get provider(){return this._provider}get providers(){return JB}setProvider(e){let n;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))n=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))n=new this.providers.WebsocketProvider(e);else throw new NE(`Can't autodetect provider for "${e}"`);else It(e)?n=void 0:n=e;return this.emit(n0.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=n,this.emit(n0.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return wP(this,void 0,void 0,function*(){const n=Object.assign({},e);let r=yield this._sendRequest(n);if(It(this.middleware)||(r=yield this.middleware.processResponse(r)),Xd(r))return r.result;throw new Dc(r)})}sendBatch(e){return wP(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return wP(this,void 0,void 0,function*(){const{provider:n}=this;if(It(n))throw new NE("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=xc(e)?A6(e):vp(e);if(It(this.middleware)||(r=yield this.middleware.processRequest(r)),qW(n)){let s;try{s=yield n.request(r)}catch(i){s=i}return this._processJsonRpcResponse(r,s,{legacy:!1,error:!1})}if(WW(n))return n.request(r).then(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!1})).catch(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));if(zW(n))return new Promise((s,i)=>{const o=l=>{i(this._processJsonRpcResponse(r,l,{legacy:!0,error:!0}))},a=l=>s(this._processJsonRpcResponse(r,l,{legacy:!0,error:!1})),c=n.request(r,(l,u)=>l?o(l):a(u));DW(c)&&c.then(a).catch(u=>{try{const d=this._processJsonRpcResponse(r,u,{legacy:!0,error:!0});i(d)}catch(d){i(d)}})});if(GW(n))return new Promise((s,i)=>{n.send(r,(o,a)=>{if(o)return i(this._processJsonRpcResponse(r,o,{legacy:!0,error:!0}));if(It(a))throw new Dc({},'Got a "nullish" response from provider.');return s(this._processJsonRpcResponse(r,a,{legacy:!0,error:!1}))})});if(KW(n))return n.sendAsync(r).then(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!1})).catch(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));throw new NE("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,n,{legacy:r,error:s}){if(It(n))return this._buildResponse(e,null,s);if(eh(n)){if(this.useRpcCallSpecification&&_6(n)){const i=n;if(Si.get(i.error.code)){const o=Si.get(i.error.code).error;throw new o(i)}else throw new Lo(i)}else if(!Kf._isReverted(n))throw new yT(n,e)}if(Xd(n))return n;if(n instanceof Error)throw Kf._isReverted(n),n;if(!r&&xc(e)&&Av(n)||r&&!s&&xc(e))return n;if(r&&s&&xc(e))throw n;if(r&&!eh(n)&&!Xd(n))return this._buildResponse(e,n,s);throw xc(e)&&!Array.isArray(n)?new Dc(n,"Got normal response for a batch request."):!xc(e)&&Array.isArray(n)?new Dc(n,"Got batch response for a normal request."):new Dc(n,"Invalid response")}static _isReverted(e){let n;if(eh(e)?n=e.error:e instanceof Error&&(n=e),n?.message.includes("revert"))throw new Wf(n);return!1}_buildResponse(e,n,r){const s={jsonrpc:"2.0",id:xc(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},s),{error:n}):Object.assign(Object.assign({},s),{result:n})}}var tw=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class IC{constructor(e,n,r=!1){this.requestManager=e,this.registeredSubscriptions=n,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(n0.BEFORE_PROVIDER_CHANGE,()=>tw(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(n0.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;!this.requestManager.provider||typeof e?.supportsSubscriptions=="function"&&!e?.supportsSubscriptions()||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",n=>this.messageListener(n)):e.on("data",n=>this.messageListener(n)))}messageListener(e){var n,r,s;if(!e)throw new zl("Should not call messageListener with no data. Type was");const i=((n=e.params)===null||n===void 0?void 0:n.subscription)||((r=e.data)===null||r===void 0?void 0:r.subscription)||((s=e.id)===null||s===void 0?void 0:s.toString(16));if(i){const o=this._subscriptions.get(i);o?.processSubscriptionData(e)}}subscribe(e,n){return tw(this,arguments,void 0,function*(r,s,i=Ci){const o=this.registeredSubscriptions[r];if(!o)throw new zl("Invalid subscription type");const a=new o(s??void 0,{subscriptionManager:this,returnFormat:i});return yield this.addSubscription(a),a})}get subscriptions(){return this._subscriptions}addSubscription(e){return tw(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new NE("Provider not available");if(!this.supportsSubscriptions())throw new zl("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new zl(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),It(e.id))throw new zl("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return tw(this,void 0,void 0,function*(){const{id:n}=e;if(It(n))throw new zl("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(n)&&!this.tolerateUnlinkedSubscription)throw new zl(`Subscription with id "${n.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(n),n})}unsubscribe(e){return tw(this,void 0,void 0,function*(){const n=[];for(const[r,s]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:r,sub:s}))&&n.push(this.removeSubscription(s));return Promise.all(n)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return It(this.requestManager.provider)?!1:f6e(this.requestManager.provider)}}var nw=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class __ extends PT{constructor(e,n){var r;super(),this.args=e;const{requestManager:s}=n,{subscriptionManager:i}=n;s?this._subscriptionManager=new IC(s,{},!0):this._subscriptionManager=i,this._returnFormat=(r=n?.returnFormat)!==null&&r!==void 0?r:Ci}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return nw(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var n,r;e?.data?this._processSubscriptionResult((r=(n=e?.data)===null||n===void 0?void 0:n.result)!==null&&r!==void 0?r:e?.data):e&&xT(e)&&this._processSubscriptionResult(e?.params.result)}sendSubscriptionRequest(){return nw(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return nw(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return nw(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return nw(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var Um=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class TC extends e2e{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!de(e)&&e.length!==0?e:void 0}}create(e){for(let n=0;n<e;n+=1)this.add(this._accountProvider.create());return this}add(e){var n;if(typeof e=="string")return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=(n=this._addressMap.get(e.address.toLowerCase()))!==null&&n!==void 0?n:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return de(n)?void 0:this[n]}return this[e]}remove(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return de(n)?!1:(this._addressMap.delete(e.toLowerCase()),this.splice(n,1),!0)}return this[e]?(this.splice(e,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,n){return Um(this,void 0,void 0,function*(){return Promise.all(this.map(r=>Um(this,void 0,void 0,function*(){return r.encrypt(e,n)})))})}decrypt(e,n,r){return Um(this,void 0,void 0,function*(){const s=yield Promise.all(e.map(i=>Um(this,void 0,void 0,function*(){return this._accountProvider.decrypt(i,n,r)})));for(const i of s)this.add(i);return this})}save(e,n){return Um(this,void 0,void 0,function*(){const r=TC.getStorage();if(!r)throw new Error("Local storage not available.");return r.setItem(n??this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0})}load(e,n){return Um(this,void 0,void 0,function*(){const r=TC.getStorage();if(!r)throw new Error("Local storage not available.");const s=r.getItem(n??this._defaultKeyName);return s&&(yield this.decrypt(JSON.parse(s)||[],e)),this})}}const Uc={web:kE};function QW(t,e,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(e.length!==16)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&t.length!==16||n.startsWith("aes-256")&&t.length!==32)throw new Error("AES: wrong key length")}async function YW(t,e,n){if(!Uc.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(t)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(t)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[await Uc.web.subtle.importKey("raw",e,{name:`AES-${r.toUpperCase()}`,length:e.length*8},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]}async function I6(t,e,n,r="aes-128-ctr",s=!0){if(QW(e,n,r),Uc.web){const[i,o]=await YW(r,e,n),a=await Uc.web.subtle.encrypt(o,i,t);let c=new Uint8Array(a);return!s&&o.name==="aes-cbc"&&!(t.length%16)&&(c=c.slice(0,-16)),c}else if(Uc.node){const i=Uc.node.createCipheriv(r,e,n);return i.setAutoPadding(s),uC(i.update(t),i.final())}else throw new Error("The environment doesn't have AES module")}async function p6e(t,e,n,r){const s=t.slice(-16);for(let o=0;o<16;o++)s[o]^=n[o]^16;return(await I6(s,e,n,r)).slice(0,16)}async function m6e(t,e,n,r="aes-128-ctr",s=!0){if(QW(e,n,r),Uc.web){const[i,o]=await YW(r,e,n);if(!s&&o.name==="aes-cbc"){const l=await p6e(t,e,n,r);t=uC(t,l)}const a=await Uc.web.subtle.decrypt(o,i,t),c=new Uint8Array(a);if(o.name==="aes-cbc"){const l=await I6(c,e,n,r);if(!dke(l,t))throw new Error("AES: wrong padding")}return c}else if(Uc.node){const i=Uc.node.createDecipheriv(r,e,n);return i.setAutoPadding(s),uC(i.update(t),i.final())}else throw new Error("The environment doesn't have AES module")}class ZW extends a6{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,i6(e);const r=Kg(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return pp(this),this.iHash.update(e),this}digestInto(e){pp(this),M0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const T6=(t,e,n)=>new ZW(t,e).update(n).digest();T6.create=(t,e)=>new ZW(t,e);function g6e(t,e,n,r){i6(t);const s=Xz({dkLen:32,asyncTick:10},r),{c:i,dkLen:o,asyncTick:a}=s;if(Gi(i),Gi(o),Gi(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Kg(e),l=Kg(n),u=new Uint8Array(o),d=T6.create(t,c),h=d._cloneInto().update(l);return{c:i,dkLen:o,asyncTick:a,DK:u,PRF:d,PRFSalt:h}}function y6e(t,e,n,r,s){return t.destroy(),e.destroy(),r&&r.destroy(),s.fill(0),n}function S6(t,e,n,r){const{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=g6e(t,e,n,r);let l;const u=new Uint8Array(4),d=DE(u),h=new Uint8Array(a.outputLen);for(let f=1,p=0;p<i;f++,p+=a.outputLen){const g=o.subarray(p,p+a.outputLen);d.setInt32(0,f,!1),(l=c._cloneInto(l)).update(u).digestInto(h),g.set(h.subarray(0,g.length));for(let y=1;y<s;y++){a._cloneInto(l).update(h).digestInto(h);for(let v=0;v<g.length;v++)g[v]^=h[v]}}return y6e(a,c,o,l,h)}function w6e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}const b6e=(t,e,n)=>t&e^~t&n,v6e=(t,e,n)=>t&e^t&n^e&n;class _6e extends a6{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=DE(this.buffer)}update(e){pp(this);const{view:n,buffer:r,blockLen:s}=this;e=Kg(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=DE(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pp(this),o6(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;w6e(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=DE(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const E6e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_d=new Uint32Array(64);class A6e extends _6e{constructor(){super(64,32,8,!1),this.A=vd[0]|0,this.B=vd[1]|0,this.C=vd[2]|0,this.D=vd[3]|0,this.E=vd[4]|0,this.F=vd[5]|0,this.G=vd[6]|0,this.H=vd[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)_d[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=_d[d-15],f=_d[d-2],p=vc(h,7)^vc(h,18)^h>>>3,g=vc(f,17)^vc(f,19)^f>>>10;_d[d]=g+_d[d-7]+p+_d[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=vc(a,6)^vc(a,11)^vc(a,25),f=u+h+b6e(a,c,l)+E6e[d]+_d[d]|0,g=(vc(r,2)^vc(r,13)^vc(r,22))+v6e(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){_d.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const NT=eW(()=>new A6e);function JW(t,e,n,r,s){if(!["sha256","sha512"].includes(s))throw new Error("Only sha256 and sha512 are supported");return dC(t),dC(e),S6(NT,t,e,{c:n,dkLen:r})}function XB(t,e,n,r,s,i){let o=t[e++]^n[r++],a=t[e++]^n[r++],c=t[e++]^n[r++],l=t[e++]^n[r++],u=t[e++]^n[r++],d=t[e++]^n[r++],h=t[e++]^n[r++],f=t[e++]^n[r++],p=t[e++]^n[r++],g=t[e++]^n[r++],y=t[e++]^n[r++],v=t[e++]^n[r++],b=t[e++]^n[r++],_=t[e++]^n[r++],S=t[e++]^n[r++],C=t[e++]^n[r++],x=o,I=a,E=c,A=l,T=u,k=d,M=h,B=f,Z=p,N=g,L=y,H=v,F=b,J=_,ee=S,W=C;for(let ue=0;ue<8;ue+=2)T^=Mn(x+F|0,7),Z^=Mn(T+x|0,9),F^=Mn(Z+T|0,13),x^=Mn(F+Z|0,18),N^=Mn(k+I|0,7),J^=Mn(N+k|0,9),I^=Mn(J+N|0,13),k^=Mn(I+J|0,18),ee^=Mn(L+M|0,7),E^=Mn(ee+L|0,9),M^=Mn(E+ee|0,13),L^=Mn(M+E|0,18),A^=Mn(W+H|0,7),B^=Mn(A+W|0,9),H^=Mn(B+A|0,13),W^=Mn(H+B|0,18),I^=Mn(x+A|0,7),E^=Mn(I+x|0,9),A^=Mn(E+I|0,13),x^=Mn(A+E|0,18),M^=Mn(k+T|0,7),B^=Mn(M+k|0,9),T^=Mn(B+M|0,13),k^=Mn(T+B|0,18),H^=Mn(L+N|0,7),Z^=Mn(H+L|0,9),N^=Mn(Z+H|0,13),L^=Mn(N+Z|0,18),F^=Mn(W+ee|0,7),J^=Mn(F+W|0,9),ee^=Mn(J+F|0,13),W^=Mn(ee+J|0,18);s[i++]=o+x|0,s[i++]=a+I|0,s[i++]=c+E|0,s[i++]=l+A|0,s[i++]=u+T|0,s[i++]=d+k|0,s[i++]=h+M|0,s[i++]=f+B|0,s[i++]=p+Z|0,s[i++]=g+N|0,s[i++]=y+L|0,s[i++]=v+H|0,s[i++]=b+F|0,s[i++]=_+J|0,s[i++]=S+ee|0,s[i++]=C+W|0}function bP(t,e,n,r,s){let i=r+0,o=r+16*s;for(let a=0;a<16;a++)n[o+a]=t[e+(2*s-1)*16+a];for(let a=0;a<s;a++,i+=16,e+=16)XB(n,o,t,e,n,i),a>0&&(o+=16),XB(n,i,t,e+=16,n,o)}function C6e(t,e,n){const r=Xz({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:s,r:i,p:o,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=r;if(Gi(s),Gi(i),Gi(o),Gi(a),Gi(c),Gi(l),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const d=128*i,h=d/4;if(s<=1||(s&s-1)!==0||s>=2**(d/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const f=d*(s+o);if(f>l)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${l} (maxmem)`);const p=S6(NT,t,e,{c:1,dkLen:d*o}),g=OE(p),y=OE(new Uint8Array(d*s)),v=OE(new Uint8Array(d));let b=()=>{};if(u){const _=2*s*o,S=Math.max(Math.floor(_/1e4),1);let C=0;b=()=>{C++,u&&(!(C%S)||C===_)&&u(C/_)}}return{N:s,r:i,p:o,dkLen:a,blockSize32:h,V:y,B32:g,B:p,tmp:v,blockMixCb:b,asyncTick:c}}function I6e(t,e,n,r,s){const i=S6(NT,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),s.fill(0),i}function T6e(t,e,n){const{N:r,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:d,blockMixCb:h}=C6e(t,e,n);cC||lC(l);for(let f=0;f<i;f++){const p=a*f;for(let g=0;g<a;g++)c[g]=l[p+g];for(let g=0,y=0;g<r-1;g++)bP(c,y,c,y+=a,s),h();bP(c,(r-1)*a,l,p,s),h();for(let g=0;g<r;g++){const y=l[p+a-16]%r;for(let v=0;v<a;v++)d[v]=l[p+v]^c[y*a+v];bP(d,0,l,p,s),h()}}return cC||lC(l),I6e(t,o,u,c,d)}function XW(t,e,n,r,s,i,o){return dC(t),dC(e),T6e(t,e,{N:n,r:s,p:r,dkLen:i,onProgress:o})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eG=BigInt(0),kT=BigInt(1),S6e=BigInt(2);function Ep(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function E_(t){if(!Ep(t))throw new Error("Uint8Array expected")}const x6e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function r0(t){E_(t);let e="";for(let n=0;n<t.length;n++)e+=x6e[t[n]];return e}function tG(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function x6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const $l={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function e$(t){if(t>=$l._0&&t<=$l._9)return t-$l._0;if(t>=$l._A&&t<=$l._F)return t-($l._A-10);if(t>=$l._a&&t<=$l._f)return t-($l._a-10)}function s0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=e$(t.charCodeAt(i)),a=e$(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Qf(t){return x6(r0(t))}function P6(t){return E_(t),x6(r0(Uint8Array.from(t).reverse()))}function i0(t,e){return s0(t.toString(16).padStart(e*2,"0"))}function R6(t,e){return i0(t,e).reverse()}function P6e(t){return s0(tG(t))}function Ba(t,e,n){let r;if(typeof e=="string")try{r=s0(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Ep(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function Cv(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];E_(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}function R6e(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function N6e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function k6e(t){let e;for(e=0;t>eG;t>>=kT,e+=1);return e}function O6e(t,e){return t>>BigInt(e)&kT}function D6e(t,e,n){return t|(n?kT:eG)<<BigInt(e)}const N6=t=>(S6e<<BigInt(t-1))-kT,vP=t=>new Uint8Array(t),t$=t=>Uint8Array.from(t);function nG(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=vP(t),s=vP(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=vP())=>{s=a(t$([0]),d),r=a(),d.length!==0&&(s=a(t$([1]),d),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const f=r.slice();h.push(f),d+=r.length}return Cv(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const M6e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Ep(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function A_(t,e,n={}){const r=(s,i,o)=>{const a=M6e[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const L6e=Object.freeze(Object.defineProperty({__proto__:null,abytes:E_,bitGet:O6e,bitLen:k6e,bitMask:N6,bitSet:D6e,bytesToHex:r0,bytesToNumberBE:Qf,bytesToNumberLE:P6,concatBytes:Cv,createHmacDrbg:nG,ensureBytes:Ba,equalBytes:R6e,hexToBytes:s0,hexToNumber:x6,isBytes:Ep,numberToBytesBE:i0,numberToBytesLE:R6,numberToHexUnpadded:tG,numberToVarBytesBE:P6e,utf8ToBytes:N6e,validateObject:A_},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Is=BigInt(0),Vr=BigInt(1),Af=BigInt(2),B6e=BigInt(3),hN=BigInt(4),n$=BigInt(5),r$=BigInt(8);BigInt(9);BigInt(16);function zi(t,e){const n=t%e;return n>=Is?n:e+n}function $6e(t,e,n){if(n<=Is||e<Is)throw new Error("Expected power/modulo > 0");if(n===Vr)return Is;let r=Vr;for(;e>Is;)e&Vr&&(r=r*t%n),t=t*t%n,e>>=Vr;return r}function Zo(t,e,n){let r=t;for(;e-- >Is;)r*=r,r%=n;return r}function fN(t,e){if(t===Is||e<=Is)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=zi(t,e),r=e,s=Is,i=Vr;for(;n!==Is;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==Vr)throw new Error("invert: does not exist");return zi(s,e)}function U6e(t){const e=(t-Vr)/Af;let n,r,s;for(n=t-Vr,r=0;n%Af===Is;n/=Af,r++);for(s=Af;s<t&&$6e(s,e,t)!==t-Vr;s++);if(r===1){const o=(t+Vr)/hN;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const i=(n+Vr)/Af;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,s),n),d=a.pow(c,i),h=a.pow(c,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let f=1;for(let g=a.sqr(h);f<l&&!a.eql(g,a.ONE);f++)g=a.sqr(g);const p=a.pow(u,Vr<<BigInt(l-f-1));u=a.sqr(p),d=a.mul(d,p),h=a.mul(h,u),l=f}return d}}function F6e(t){if(t%hN===B6e){const e=(t+Vr)/hN;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%r$===n$){const e=(t-n$)/r$;return function(r,s){const i=r.mul(s,Af),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Af),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),s))throw new Error("Cannot find square root");return l}}return U6e(t)}const j6e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V6e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=j6e.reduce((r,s)=>(r[s]="function",r),e);return A_(t,n)}function H6e(t,e,n){if(n<Is)throw new Error("Expected power > 0");if(n===Is)return t.ONE;if(n===Vr)return e;let r=t.ONE,s=e;for(;n>Is;)n&Vr&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Vr;return r}function q6e(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function rG(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function z6e(t,e,n=!1,r={}){if(t<=Is)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=rG(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=F6e(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:N6(s),ZERO:Is,ONE:Vr,create:c=>zi(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Is<=c&&c<t},is0:c=>c===Is,isOdd:c=>(c&Vr)===Vr,neg:c=>zi(-c,t),eql:(c,l)=>c===l,sqr:c=>zi(c*c,t),add:(c,l)=>zi(c+l,t),sub:(c,l)=>zi(c-l,t),mul:(c,l)=>zi(c*l,t),pow:(c,l)=>H6e(a,c,l),div:(c,l)=>zi(c*fN(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>fN(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>q6e(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?R6(c,i):i0(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return n?P6(c):Qf(c)}});return Object.freeze(a)}function sG(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function iG(t){const e=sG(t);return e+Math.ceil(e/2)}function W6e(t,e,n=!1){const r=t.length,s=sG(e),i=iG(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=n?Qf(t):P6(t),a=zi(o,e-Vr)+Vr;return n?R6(a,s):i0(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const G6e=BigInt(0),_P=BigInt(1);function K6e(t,e){const n=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>G6e;)i&_P&&(o=o.add(a)),a=a.double(),i>>=_P;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),c=[];let l=s,u=l;for(let d=0;d<o;d++){u=l,c.push(u);for(let h=1;h<a;h++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=r(s);let l=t.ZERO,u=t.BASE;const d=BigInt(2**s-1),h=2**s,f=BigInt(s);for(let p=0;p<a;p++){const g=p*c;let y=Number(o&d);o>>=f,y>c&&(y-=h,o+=_P);const v=g,b=g+Math.abs(y)-1,_=p%2!==0,S=y<0;y===0?u=u.add(n(_,i[v])):l=l.add(n(S,i[b]))}return{p:l,f:u}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let l=i.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&i.set(s,a(l))),this.wNAF(c,l,o)}}}function oG(t){return V6e(t.Fp),A_(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rG(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Q6e(t){const e=oG(t);A_(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Y6e,hexToBytes:Z6e}=L6e,Df={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Df;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Y6e(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Df,n=typeof t=="string"?Z6e(t):t;E_(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Df._parseInt(n.subarray(2)),{d:o,l:a}=Df._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,o=s.length/2,a=n(i),c=n(o);return`30${n(o+i+4)}02${c}${s}02${a}${r}`}},eu=BigInt(0),na=BigInt(1);BigInt(2);const s$=BigInt(3);BigInt(4);function J6e(t){const e=Q6e(t),{Fp:n}=e,r=e.toBytes||((p,g,y)=>{const v=g.toAffine();return Cv(Uint8Array.from([4]),n.toBytes(v.x),n.toBytes(v.y))}),s=e.fromBytes||(p=>{const g=p.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),v=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:v}});function i(p){const{a:g,b:y}=e,v=n.sqr(p),b=n.mul(v,p);return n.add(n.add(b,n.mul(p,g)),y)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(p){return typeof p=="bigint"&&eu<p&&p<e.n}function a(p){if(!o(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(p){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:v,n:b}=e;if(g&&typeof p!="bigint"){if(Ep(p)&&(p=r0(p)),typeof p!="string"||!g.includes(p.length))throw new Error("Invalid key");p=p.padStart(y*2,"0")}let _;try{_=typeof p=="bigint"?p:Qf(Ba("private key",p,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof p}`)}return v&&(_=zi(_,b)),a(_),_}const l=new Map;function u(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(g,y,v){if(this.px=g,this.py=y,this.pz=v,g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(v==null||!n.isValid(v))throw new Error("z required")}static fromAffine(g){const{x:y,y:v}=g||{};if(!g||!n.isValid(y)||!n.isValid(v))throw new Error("invalid affine point");if(g instanceof d)throw new Error("projective point not allowed");const b=_=>n.eql(_,n.ZERO);return b(y)&&b(v)?d.ZERO:new d(y,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=n.invertBatch(g.map(v=>v.pz));return g.map((v,b)=>v.toAffine(y[b])).map(d.fromAffine)}static fromHex(g){const y=d.fromAffine(s(Ba("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return d.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=this.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");const v=n.sqr(y),b=i(g);if(!n.eql(v,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:y,py:v,pz:b}=this,{px:_,py:S,pz:C}=g,x=n.eql(n.mul(y,C),n.mul(_,b)),I=n.eql(n.mul(v,C),n.mul(S,b));return x&&I}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:y}=e,v=n.mul(y,s$),{px:b,py:_,pz:S}=this;let C=n.ZERO,x=n.ZERO,I=n.ZERO,E=n.mul(b,b),A=n.mul(_,_),T=n.mul(S,S),k=n.mul(b,_);return k=n.add(k,k),I=n.mul(b,S),I=n.add(I,I),C=n.mul(g,I),x=n.mul(v,T),x=n.add(C,x),C=n.sub(A,x),x=n.add(A,x),x=n.mul(C,x),C=n.mul(k,C),I=n.mul(v,I),T=n.mul(g,T),k=n.sub(E,T),k=n.mul(g,k),k=n.add(k,I),I=n.add(E,E),E=n.add(I,E),E=n.add(E,T),E=n.mul(E,k),x=n.add(x,E),T=n.mul(_,S),T=n.add(T,T),E=n.mul(T,k),C=n.sub(C,E),I=n.mul(T,A),I=n.add(I,I),I=n.add(I,I),new d(C,x,I)}add(g){u(g);const{px:y,py:v,pz:b}=this,{px:_,py:S,pz:C}=g;let x=n.ZERO,I=n.ZERO,E=n.ZERO;const A=e.a,T=n.mul(e.b,s$);let k=n.mul(y,_),M=n.mul(v,S),B=n.mul(b,C),Z=n.add(y,v),N=n.add(_,S);Z=n.mul(Z,N),N=n.add(k,M),Z=n.sub(Z,N),N=n.add(y,b);let L=n.add(_,C);return N=n.mul(N,L),L=n.add(k,B),N=n.sub(N,L),L=n.add(v,b),x=n.add(S,C),L=n.mul(L,x),x=n.add(M,B),L=n.sub(L,x),E=n.mul(A,N),x=n.mul(T,B),E=n.add(x,E),x=n.sub(M,E),E=n.add(M,E),I=n.mul(x,E),M=n.add(k,k),M=n.add(M,k),B=n.mul(A,B),N=n.mul(T,N),M=n.add(M,B),B=n.sub(k,B),B=n.mul(A,B),N=n.add(N,B),k=n.mul(M,N),I=n.add(I,k),k=n.mul(L,N),x=n.mul(Z,x),x=n.sub(x,k),k=n.mul(Z,M),E=n.mul(L,E),E=n.add(E,k),new d(x,I,E)}subtract(g){return this.add(g.negate())}is0(){return this.equals(d.ZERO)}wNAF(g){return f.wNAFCached(this,l,g,y=>{const v=n.invertBatch(y.map(b=>b.pz));return y.map((b,_)=>b.toAffine(v[_])).map(d.fromAffine)})}multiplyUnsafe(g){const y=d.ZERO;if(g===eu)return y;if(a(g),g===na)return this;const{endo:v}=e;if(!v)return f.unsafeLadder(this,g);let{k1neg:b,k1:_,k2neg:S,k2:C}=v.splitScalar(g),x=y,I=y,E=this;for(;_>eu||C>eu;)_&na&&(x=x.add(E)),C&na&&(I=I.add(E)),E=E.double(),_>>=na,C>>=na;return b&&(x=x.negate()),S&&(I=I.negate()),I=new d(n.mul(I.px,v.beta),I.py,I.pz),x.add(I)}multiply(g){a(g);let y=g,v,b;const{endo:_}=e;if(_){const{k1neg:S,k1:C,k2neg:x,k2:I}=_.splitScalar(y);let{p:E,f:A}=this.wNAF(C),{p:T,f:k}=this.wNAF(I);E=f.constTimeNegate(S,E),T=f.constTimeNegate(x,T),T=new d(n.mul(T.px,_.beta),T.py,T.pz),v=E.add(T),b=A.add(k)}else{const{p:S,f:C}=this.wNAF(y);v=S,b=C}return d.normalizeZ([v,b])[0]}multiplyAndAddUnsafe(g,y,v){const b=d.BASE,_=(C,x)=>x===eu||x===na||!C.equals(b)?C.multiplyUnsafe(x):C.multiply(x),S=_(this,y).add(_(g,v));return S.is0()?void 0:S}toAffine(g){const{px:y,py:v,pz:b}=this,_=this.is0();g==null&&(g=_?n.ONE:n.inv(b));const S=n.mul(y,g),C=n.mul(v,g),x=n.mul(b,g);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql(x,n.ONE))throw new Error("invZ was invalid");return{x:S,y:C}}isTorsionFree(){const{h:g,isTorsionFree:y}=e;if(g===na)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=e;return g===na?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),r(d,this,g)}toHex(g=!0){return r0(this.toRawBytes(g))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,f=K6e(d,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function X6e(t){const e=oG(t);return A_(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function e5e(t){const e=X6e(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function o(N){return eu<N&&N<n.ORDER}function a(N){return zi(N,r)}function c(N){return fN(N,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:h}=J6e({...e,toBytes(N,L,H){const F=L.toAffine(),J=n.toBytes(F.x),ee=Cv;return H?ee(Uint8Array.from([L.hasEvenY()?2:3]),J):ee(Uint8Array.from([4]),J,n.toBytes(F.y))},fromBytes(N){const L=N.length,H=N[0],F=N.subarray(1);if(L===s&&(H===2||H===3)){const J=Qf(F);if(!o(J))throw new Error("Point is not on curve");const ee=d(J);let W;try{W=n.sqrt(ee)}catch(ye){const Ie=ye instanceof Error?": "+ye.message:"";throw new Error("Point is not on curve"+Ie)}const ue=(W&na)===na;return(H&1)===1!==ue&&(W=n.neg(W)),{x:J,y:W}}else if(L===i&&H===4){const J=n.fromBytes(F.subarray(0,n.BYTES)),ee=n.fromBytes(F.subarray(n.BYTES,2*n.BYTES));return{x:J,y:ee}}else throw new Error(`Point of length ${L} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),f=N=>r0(i0(N,e.nByteLength));function p(N){const L=r>>na;return N>L}function g(N){return p(N)?a(-N):N}const y=(N,L,H)=>Qf(N.slice(L,H));class v{constructor(L,H,F){this.r=L,this.s=H,this.recovery=F,this.assertValidity()}static fromCompact(L){const H=e.nByteLength;return L=Ba("compactSignature",L,H*2),new v(y(L,0,H),y(L,H,2*H))}static fromDER(L){const{r:H,s:F}=Df.toSig(Ba("DER",L));return new v(H,F)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(L){return new v(this.r,this.s,L)}recoverPublicKey(L){const{r:H,s:F,recovery:J}=this,ee=I(Ba("msgHash",L));if(J==null||![0,1,2,3].includes(J))throw new Error("recovery id invalid");const W=J===2||J===3?H+e.n:H;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ue=(J&1)===0?"02":"03",Ee=l.fromHex(ue+f(W)),ye=c(W),Ie=a(-ee*ye),Ve=a(F*ye),oe=l.BASE.multiplyAndAddUnsafe(Ee,Ie,Ve);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return s0(this.toDERHex())}toDERHex(){return Df.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return s0(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const b={isValidPrivateKey(N){try{return u(N),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const N=iG(e.n);return W6e(e.randomBytes(N),e.n)},precompute(N=8,L=l.BASE){return L._setWindowSize(N),L.multiply(BigInt(3)),L}};function _(N,L=!0){return l.fromPrivateKey(N).toRawBytes(L)}function S(N){const L=Ep(N),H=typeof N=="string",F=(L||H)&&N.length;return L?F===s||F===i:H?F===2*s||F===2*i:N instanceof l}function C(N,L,H=!0){if(S(N))throw new Error("first arg must be private key");if(!S(L))throw new Error("second arg must be public key");return l.fromHex(L).multiply(u(N)).toRawBytes(H)}const x=e.bits2int||function(N){const L=Qf(N),H=N.length*8-e.nBitLength;return H>0?L>>BigInt(H):L},I=e.bits2int_modN||function(N){return a(x(N))},E=N6(e.nBitLength);function A(N){if(typeof N!="bigint")throw new Error("bigint expected");if(!(eu<=N&&N<E))throw new Error(`bigint expected < 2^${e.nBitLength}`);return i0(N,e.nByteLength)}function T(N,L,H=k){if(["recovered","canonical"].some(se=>se in H))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:J}=e;let{lowS:ee,prehash:W,extraEntropy:ue}=H;ee==null&&(ee=!0),N=Ba("msgHash",N),W&&(N=Ba("prehashed msgHash",F(N)));const Ee=I(N),ye=u(L),Ie=[A(ye),A(Ee)];if(ue!=null&&ue!==!1){const se=ue===!0?J(n.BYTES):ue;Ie.push(Ba("extraEntropy",se))}const Ve=Cv(...Ie),oe=Ee;function _e(se){const Pe=x(se);if(!h(Pe))return;const mt=c(Pe),Y=l.BASE.multiply(Pe).toAffine(),X=a(Y.x);if(X===eu)return;const ne=a(mt*a(oe+X*ye));if(ne===eu)return;let pe=(Y.x===X?0:2)|Number(Y.y&na),we=ne;return ee&&p(ne)&&(we=g(ne),pe^=1),new v(X,we,pe)}return{seed:Ve,k2sig:_e}}const k={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function B(N,L,H=k){const{seed:F,k2sig:J}=T(N,L,H),ee=e;return nG(ee.hash.outputLen,ee.nByteLength,ee.hmac)(F,J)}l.BASE._setWindowSize(8);function Z(N,L,H,F=M){const J=N;if(L=Ba("msgHash",L),H=Ba("publicKey",H),"strict"in F)throw new Error("options.strict was renamed to lowS");const{lowS:ee,prehash:W}=F;let ue,Ee;try{if(typeof J=="string"||Ep(J))try{ue=v.fromDER(J)}catch(Y){if(!(Y instanceof Df.Err))throw Y;ue=v.fromCompact(J)}else if(typeof J=="object"&&typeof J.r=="bigint"&&typeof J.s=="bigint"){const{r:Y,s:X}=J;ue=new v(Y,X)}else throw new Error("PARSE");Ee=l.fromHex(H)}catch(Y){if(Y.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ee&&ue.hasHighS())return!1;W&&(L=e.hash(L));const{r:ye,s:Ie}=ue,Ve=I(L),oe=c(Ie),_e=a(Ve*oe),se=a(ye*oe),Pe=l.BASE.multiplyAndAddUnsafe(Ee,_e,se)?.toAffine();return Pe?a(Pe.x)===ye:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:C,sign:B,verify:Z,ProjectivePoint:l,Signature:v,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function t5e(t){return{hash:t,hmac:(e,...n)=>T6(t,e,uC(...n)),randomBytes:tW}}function n5e(t,e){const n=r=>e5e({...t,...t5e(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aG=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),i$=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),r5e=BigInt(1),pN=BigInt(2),o$=(t,e)=>(t+e/pN)/e;function s5e(t){const e=aG,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Zo(u,n,e)*u%e,h=Zo(d,n,e)*u%e,f=Zo(h,pN,e)*l%e,p=Zo(f,s,e)*f%e,g=Zo(p,i,e)*p%e,y=Zo(g,a,e)*g%e,v=Zo(y,c,e)*y%e,b=Zo(v,a,e)*g%e,_=Zo(b,n,e)*u%e,S=Zo(_,o,e)*p%e,C=Zo(S,r,e)*l%e,x=Zo(C,pN,e);if(!mN.eql(mN.sqr(x),t))throw new Error("Cannot find square root");return x}const mN=z6e(aG,void 0,void 0,{sqrt:s5e}),k6=n5e({a:BigInt(0),b:BigInt(7),Fp:mN,n:i$,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=i$,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-r5e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=o$(i*t,e),c=o$(-r*t,e);let l=zi(t-a*n-c*s,e),u=zi(-a*r-c*i,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},NT);BigInt(0);k6.ProjectivePoint;const i5e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:k6},Symbol.toStringTag,{value:"Module"}));var EP;const Du=(EP=k6)!==null&&EP!==void 0?EP:i5e,a$=BigInt("0xffffffffffffffff"),Iv=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),o5e=Du.CURVE.n,a5e=o5e/BigInt(2),c5e={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var SC;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"})(SC||(SC={}));var fr;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai",t.ShardingForkDev="shardingFork"})(fr||(fr={}));var c$;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(c$||(c$={}));var l$;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(l$||(l$={}));var ni;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(ni||(ni={}));var ca;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(ca||(ca={}));const cG=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return d6(t)?t.slice(2):t};function l5e(t){return!t||t==="0x0"?"0x0000000000000000":d6(t)?`0x${cG(t).padStart(16,"0")}`:`0x${t.padStart(16,"0")}`}const lG=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};function u5e(t,e=!0){var n,r;const{name:s,config:i,difficulty:o,mixHash:a,gasLimit:c,coinbase:l,baseFeePerGas:u}=t;let{extraData:d,timestamp:h,nonce:f}=t;const p=Number(h),{chainId:g}=i;if(d===""&&(d="0x"),d6(h)||(h=lG(parseInt(h))),f.length!==18&&(f=l5e(f)),i.eip155Block!==i.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const y={name:s,chainId:g,networkId:g,genesis:{timestamp:h,gasLimit:parseInt(c),difficulty:parseInt(o),nonce:f,extraData:d,mixHash:a,coinbase:l,baseFeePerGas:u},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:i.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(n=i.clique.period)!==null&&n!==void 0?n:i.clique.blockperiodseconds,epoch:(r=i.clique.epoch)!==null&&r!==void 0?r:i.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},v={[fr.Homestead]:{name:"homesteadBlock"},[fr.Dao]:{name:"daoForkBlock"},[fr.TangerineWhistle]:{name:"eip150Block"},[fr.SpuriousDragon]:{name:"eip155Block"},[fr.Byzantium]:{name:"byzantiumBlock"},[fr.Constantinople]:{name:"constantinopleBlock"},[fr.Petersburg]:{name:"petersburgBlock"},[fr.Istanbul]:{name:"istanbulBlock"},[fr.MuirGlacier]:{name:"muirGlacierBlock"},[fr.Berlin]:{name:"berlinBlock"},[fr.London]:{name:"londonBlock"},[fr.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[fr.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[fr.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},b=Object.keys(v).reduce((C,x)=>(C[v[x].name]=x,C),{}),_=Object.keys(i).filter(C=>b[C]!==void 0&&i[C]!==void 0&&i[C]!==null);if(y.hardforks=_.map(C=>({name:b[C],block:v[b[C]].isTimestamp===!0||typeof i[C]!="number"?null:i[C],timestamp:v[b[C]].isTimestamp===!0&&typeof i[C]=="number"?i[C]:void 0})).filter(C=>C.block!==null||C.timestamp!==void 0),y.hardforks.sort((C,x)=>{var I,E;return((I=C.block)!==null&&I!==void 0?I:1/0)-((E=x.block)!==null&&E!==void 0?E:1/0)}),y.hardforks.sort((C,x)=>{var I,E;return((I=C.timestamp)!==null&&I!==void 0?I:p)-((E=x.timestamp)!==null&&E!==void 0?E:p)}),i.terminalTotalDifficulty!==void 0){const C={name:fr.Merge,ttd:i.terminalTotalDifficulty,block:null},x=y.hardforks.findIndex(I=>{var E;return((E=v[I.name])===null||E===void 0?void 0:E.postMerge)===!0});x!==-1?y.hardforks.splice(x,0,C):y.hardforks.push(C)}const S=y.hardforks.length>0?y.hardforks.slice(-1)[0]:void 0;return y.hardfork=S?.name,y.hardforks.unshift({name:fr.Chainstart,block:0}),y}function d5e(t,e,n){try{if(["config","difficulty","gasLimit","alloc"].some(r=>!(r in t)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(t.name=e),u5e(t,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}function uG(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}const h5e=function(t){const e=lG(t);return mr(`0x${uG(e.slice(2))}`)},Cr=function(t){var e;if(t==null)return new Uint8Array;if(t instanceof Uint8Array)return t;if(((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||Array.isArray(t))return Uint8Array.from(t);if(typeof t=="string"){if(!bW(t))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${t}`);return mr(uG(cG(t)))}if(typeof t=="number")return Cr(ls(t));if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let n=t.toString(16);return n.length%2&&(n=`0${n}`),Cr(`0x${n}`)}if(t.toArray)return Uint8Array.from(t.toArray());throw new Error("invalid type")};function cr(t){const e=cn(t);return BigInt(e==="0x"?0:e)}function f5e(t){return Cr(`0x${t.toString(16)}`)}const dG=function(t){return new Uint8Array(t).fill(0)},p5e=function(t,e,n){const r=dG(e);return t.length<e?(r.set(t,e-t.length),r):t.subarray(-e)};function O6(t){if(!Ph(t)){const e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}}const u$=function(t,e){return O6(t),p5e(t,e)};function m5e(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t}const xC=function(t){return O6(t),m5e(t)},Ir=t=>`0x${t.toString(16)}`;function Tn(t){return xC(f5e(t))}function g5e(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function y5e(t){return t===BigInt(0)||t===BigInt(1)}const D6=function(t,e,n,r,s){const i=g5e(e,s);if(!y5e(i))throw new Error("Invalid signature v value");return new Du.Signature(cr(n),cr(r)).addRecoveryBit(Number(i)).recoverPublicKey(t).toRawBytes(!1).slice(1)};function Fm(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!bW(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=Cr(t);switch(e){case ca.Uint8Array:return n;case ca.BigInt:return cr(n);case ca.Number:{const r=cr(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case ca.PrefixedHexString:return cn(n);default:throw new Error("unknown outputType")}}var Oa={},d$;function w5e(){if(d$)return Oa;d$=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.RLP=Oa.utils=Oa.decode=Oa.encode=void 0;function t(v){if(Array.isArray(v)){const _=[];let S=0;for(let C=0;C<v.length;C++){const x=t(v[C]);_.push(x),S+=x.length}return u(r(S,192),..._)}const b=y(v);return b.length===1&&b[0]<128?b:u(r(b.length,128),b)}Oa.encode=t;function e(v,b,_){if(_>v.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return v.slice(b,_)}function n(v){if(v[0]===0)throw new Error("invalid RLP: extra zeros");return c(a(v))}function r(v,b){if(v<56)return Uint8Array.from([v+b]);const _=h(v),S=_.length/2,C=h(b+55+S);return Uint8Array.from(l(C+_))}function s(v,b=!1){if(typeof v>"u"||v===null||v.length===0)return Uint8Array.from([]);const _=y(v),S=i(_);if(b)return S;if(S.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return S.data}Oa.decode=s;function i(v){let b,_,S,C,x;const I=[],E=v[0];if(E<=127)return{data:v.slice(0,1),remainder:v.slice(1)};if(E<=183){if(b=E-127,E===128?S=Uint8Array.from([]):S=e(v,1,b),b===2&&S[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:S,remainder:v.slice(b)}}else if(E<=191){if(_=E-182,v.length-1<_)throw new Error("invalid RLP: not enough bytes for string length");if(b=n(e(v,1,_)),b<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return S=e(v,_,b+_),{data:S,remainder:v.slice(b+_)}}else if(E<=247){for(b=E-191,C=e(v,1,b);C.length;)x=i(C),I.push(x.data),C=x.remainder;return{data:I,remainder:v.slice(b)}}else{if(_=E-246,b=n(e(v,1,_)),b<56)throw new Error("invalid RLP: encoded list too short");const A=_+b;if(A>v.length)throw new Error("invalid RLP: total length is larger than the data");for(C=e(v,_,A);C.length;)x=i(C),I.push(x.data),C=x.remainder;return{data:I,remainder:v.slice(A)}}}const o=Array.from({length:256},(v,b)=>b.toString(16).padStart(2,"0"));function a(v){let b="";for(let _=0;_<v.length;_++)b+=o[v[_]];return b}function c(v){const b=Number.parseInt(v,16);if(Number.isNaN(b))throw new Error("Invalid byte sequence");return b}function l(v){if(typeof v!="string")throw new TypeError("hexToBytes: expected string, got "+typeof v);if(v.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const b=new Uint8Array(v.length/2);for(let _=0;_<b.length;_++){const S=_*2;b[_]=c(v.slice(S,S+2))}return b}function u(...v){if(v.length===1)return v[0];const b=v.reduce((S,C)=>S+C.length,0),_=new Uint8Array(b);for(let S=0,C=0;S<v.length;S++){const x=v[S];_.set(x,C),C+=x.length}return _}function d(v){return new TextEncoder().encode(v)}function h(v){if(v<0)throw new Error("Invalid integer as argument, must be unsigned!");const b=v.toString(16);return b.length%2?`0${b}`:b}function f(v){return v.length%2?`0${v}`:v}function p(v){return v.length>=2&&v[0]==="0"&&v[1]==="x"}function g(v){return typeof v!="string"?v:p(v)?v.slice(2):v}function y(v){if(v instanceof Uint8Array)return v;if(typeof v=="string")return p(v)?l(f(g(v))):d(v);if(typeof v=="number"||typeof v=="bigint")return v?l(h(v)):Uint8Array.from([]);if(v==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof v)}return Oa.utils={bytesToHex:a,concatBytes:u,hexToBytes:l,utf8ToBytes:d},Oa.RLP={encode:t,decode:s},Oa}var la=w5e(),AP={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */var h$;function b5e(){return h$||(h$=1,(function(t){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})})(function(e){e.version="1.2.2";function n(){for(var E=0,A=new Array(256),T=0;T!=256;++T)E=T,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,A[T]=E;return typeof Int32Array<"u"?new Int32Array(A):A}var r=n();function s(E){var A=0,T=0,k=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)M[k]=E[k];for(k=0;k!=256;++k)for(T=E[k],A=256+k;A<4096;A+=256)T=M[A]=T>>>8^E[T&255];var B=[];for(k=1;k!=16;++k)B[k-1]=typeof Int32Array<"u"?M.subarray(k*256,k*256+256):M.slice(k*256,k*256+256);return B}var i=s(r),o=i[0],a=i[1],c=i[2],l=i[3],u=i[4],d=i[5],h=i[6],f=i[7],p=i[8],g=i[9],y=i[10],v=i[11],b=i[12],_=i[13],S=i[14];function C(E,A){for(var T=A^-1,k=0,M=E.length;k<M;)T=T>>>8^r[(T^E.charCodeAt(k++))&255];return~T}function x(E,A){for(var T=A^-1,k=E.length-15,M=0;M<k;)T=S[E[M++]^T&255]^_[E[M++]^T>>8&255]^b[E[M++]^T>>16&255]^v[E[M++]^T>>>24]^y[E[M++]]^g[E[M++]]^p[E[M++]]^f[E[M++]]^h[E[M++]]^d[E[M++]]^u[E[M++]]^l[E[M++]]^c[E[M++]]^a[E[M++]]^o[E[M++]]^r[E[M++]];for(k+=15;M<k;)T=T>>>8^r[(T^E[M++])&255];return~T}function I(E,A){for(var T=A^-1,k=0,M=E.length,B=0,Z=0;k<M;)B=E.charCodeAt(k++),B<128?T=T>>>8^r[(T^B)&255]:B<2048?(T=T>>>8^r[(T^(192|B>>6&31))&255],T=T>>>8^r[(T^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,Z=E.charCodeAt(k++)&1023,T=T>>>8^r[(T^(240|B>>8&7))&255],T=T>>>8^r[(T^(128|B>>2&63))&255],T=T>>>8^r[(T^(128|Z>>6&15|(B&3)<<4))&255],T=T>>>8^r[(T^(128|Z&63))&255]):(T=T>>>8^r[(T^(224|B>>12&15))&255],T=T>>>8^r[(T^(128|B>>6&63))&255],T=T>>>8^r[(T^(128|B&63))&255]);return~T}e.table=r,e.bstr=C,e.buf=x,e.str=I})})(AP)),AP}var v5e=b5e();const _5e=w0(v5e),E5e={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},A5e={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},C5e={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},I5e={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},T5e={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},S5e={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},x5e={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},P5e={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},R5e={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},N5e={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},k5e={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},O5e={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},D5e={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},M5e={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},L5e={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},B5e={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},$5e={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},U5e={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},F5e={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},j5e={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},V5e={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},H5e={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},q5e={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},z5e={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},W5e={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},jm={1153:I5e,1559:T5e,2315:S5e,2537:x5e,2565:P5e,2718:R5e,2929:N5e,2930:k5e,3198:O5e,3529:D5e,3540:M5e,3541:L5e,3554:B5e,3607:$5e,3651:U5e,3670:F5e,3675:j5e,3855:V5e,3860:H5e,4345:q5e,4399:z5e,5133:W5e},G5e={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},K5e={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},Q5e={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},Y5e={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},Z5e={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},J5e={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},X5e={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},e3e={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},t3e={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},n3e={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},r3e={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},s3e={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},i3e={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},o3e={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},a3e={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},c3e={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},l3e={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},u3e={chainstart:G5e,homestead:Q5e,dao:K5e,tangerineWhistle:Y5e,spuriousDragon:Z5e,byzantium:J5e,constantinople:X5e,petersburg:e3e,istanbul:t3e,muirGlacier:n3e,berlin:r3e,london:s3e,shanghai:i3e,arrowGlacier:o3e,grayGlacier:a3e,mergeForkIdTransition:c3e,merge:l3e},{buf:d3e}=_5e;class ss extends g6{static custom(e,n={}){var r;const s=(r=n.baseChain)!==null&&r!==void 0?r:"mainnet",i=Object.assign({},ss._getChainParams(s));if(i.name="custom-chain",typeof e!="string")return new ss(Object.assign({chain:Object.assign(Object.assign({},i),e)},n));if(e===ni.PolygonMainnet)return ss.custom({name:ni.PolygonMainnet,chainId:137,networkId:137},n);if(e===ni.PolygonMumbai)return ss.custom({name:ni.PolygonMumbai,chainId:80001,networkId:80001},n);if(e===ni.ArbitrumRinkebyTestnet)return ss.custom({name:ni.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},n);if(e===ni.ArbitrumOne)return ss.custom({name:ni.ArbitrumOne,chainId:42161,networkId:42161},n);if(e===ni.xDaiChain)return ss.custom({name:ni.xDaiChain,chainId:100,networkId:100},n);if(e===ni.OptimisticKovan)return ss.custom({name:ni.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:fr.Berlin},n));if(e===ni.OptimisticEthereum)return ss.custom({name:ni.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:fr.Berlin},n));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:n,eips:r,genesisHash:s,hardfork:i,mergeForkIdPostMerge:o}){var a;const c=d5e(e,n,o),l=new ss({chain:(a=c.name)!==null&&a!==void 0?a:"custom",customChains:[c],eips:r,hardfork:i??c.hardfork});return s!==void 0&&l.setForkHashes(s),l}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,n){let r=e;const s=this._getInitializedChains(n);if(typeof r=="number"||typeof r=="bigint"){if(r=r.toString(),s.names[r]){const i=s.names[r];return s[i]}throw new Error(`Chain with ID ${r} not supported`)}if(s[r]!==void 0)return s[r];throw new Error(`Chain with name ${r} not supported`)}constructor(e){var n,r;super(),this._eips=[],this._customChains=(n=e.customChains)!==null&&n!==void 0?n:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=(r=this._chainParams.defaultHardfork)!==null&&r!==void 0?r:fr.Merge,this.HARDFORK_CHANGES=this.hardforks().map(s=>[s.name,u3e[s.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=ss._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const n=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of n)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(const n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let n=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0);if(!n)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,n,r){const s=Fm(e,ca.BigInt),i=Fm(n,ca.BigInt),o=Fm(r,ca.Number),a=this.hardforks().filter(f=>f.block!==null||f.ttd!==null&&f.ttd!==void 0||f.timestamp!==void 0),c=a.findIndex(f=>f.ttd!==null&&f.ttd!==void 0);if(a.slice(c+1).findIndex(f=>f.ttd!==null&&f.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let u=a.findIndex(f=>f.block!==null&&f.block>s||o!==void 0&&Number(f.timestamp)>o);if(u===-1)u=a.length;else if(u===0)throw Error("Must have at least one hardfork at block 0");if(o===void 0){const f=a.slice(0,u).reverse().findIndex(p=>p.block!==null||p.ttd!==void 0);u-=f}if(u-=1,a[u].block===null&&a[u].timestamp===void 0)(i==null||BigInt(a[u].ttd)>i)&&(u-=1);else if(c>=0&&i!==void 0&&i!==null){if(u>=c&&BigInt(a[c].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(u<c&&BigInt(a[c].ttd)<=i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const d=u;for(;u<a.length-1&&!(a[u].block!==a[u+1].block||a[u].timestamp!==a[u+1].timestamp);u+=1);if(o){if(a.slice(0,d).reduce((g,y)=>{var v;return Math.max(Number((v=y.timestamp)!==null&&v!==void 0?v:"0"),g)},0)>o)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(a.slice(u+1).reduce((g,y)=>{var v;return Math.min(Number((v=y.timestamp)!==null&&v!==void 0?v:o),g)},o)<o)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return a[u].name}setHardforkByBlockNumber(e,n,r){const s=this.getHardforkByBlockNumber(e,n,r);return this.setHardfork(s),s}_getHardfork(e){const n=this.hardforks();for(const r of n)if(r.name===e)return r;return null}setEIPs(e=[]){for(const n of e){if(!(n in jm))throw new Error(`${n} not supported`);const r=this.gteHardfork(jm[n].minimumHardfork);if(!r)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(jm[n].requiredEIPs!==void 0){for(const s of jm[n].requiredEIPs)if(!(e.includes(s)||this.isActivatedEIP(s)))throw new Error(`${n} requires EIP ${s}, but is not included in the EIP list`)}}this._eips=e}param(e,n){let r;for(const s of this._eips)if(r=this.paramByEIP(e,n,s),r!==void 0)return r;return this.paramByHardfork(e,n,this._hardfork)}paramByHardfork(e,n,r){let s=null;for(const i of this.HARDFORK_CHANGES){if("eips"in i[1]){const o=i[1].eips;for(const a of o){const c=this.paramByEIP(e,n,a);s=typeof c=="bigint"?c:s}}else{if(i[1][e]===void 0)throw new Error(`Topic ${e} not defined`);i[1][e][n]!==void 0&&(s=i[1][e][n].v)}if(i[0]===r)break}return BigInt(s??0)}paramByEIP(e,n,r){if(!(r in jm))throw new Error(`${r} not supported`);const s=jm[r];if(!(e in s))throw new Error(`Topic ${e} not defined`);if(s[e][n]===void 0)return;const i=s[e][n].v;return BigInt(i)}paramByBlock(e,n,r,s,i){const o=this.getHardforkByBlockNumber(r,s,i);return this.paramByHardfork(e,n,o)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const n of this.HARDFORK_CHANGES){const r=n[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,n){const r=Fm(n,ca.BigInt),s=e??this._hardfork,i=this.hardforkBlock(s);return typeof i=="bigint"&&i!==BigInt(0)&&r>=i}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,n){const r=e??this._hardfork,s=this.hardforks();let i=-1,o=-1,a=0;for(const c of s)c.name===r&&(i=a),c.name===n&&(o=a),a+=1;return i>=o&&o!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.block;return s==null?null:BigInt(s)}hardforkTimestamp(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.timestamp;return s==null?null:BigInt(s)}eipBlock(e){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(typeof n[0]=="number"?String(n[0]):n[0])}return null}hardforkTTD(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.ttd;return s==null?null:BigInt(s)}isHardforkBlock(e,n){const r=Fm(e,ca.BigInt),s=n??this._hardfork,i=this.hardforkBlock(s);return typeof i=="bigint"&&i!==BigInt(0)?i===r:!1}nextHardforkBlockOrTimestamp(e){var n,r,s;const i=(n=e)!==null&&n!==void 0?n:this._hardfork,o=this.hardforks();let a=o.findIndex(d=>d.name===i);if(i===fr.Merge&&(a-=1),a<0)return null;let c=(r=o[a].timestamp)!==null&&r!==void 0?r:o[a].block;c=c!=null?Number(c):null;const l=o.slice(a+1).find(d=>{var h;let f=(h=d.timestamp)!==null&&h!==void 0?h:d.block;return f=f!=null?Number(f):null,d.name!==fr.Merge&&f!==null&&f!==void 0&&f!==c});if(l===void 0)return null;const u=(s=l.timestamp)!==null&&s!==void 0?s:l.block;return u==null?null:BigInt(u)}nextHardforkBlock(e){var n;const r=(n=e)!==null&&n!==void 0?n:this._hardfork;let s=this.hardforkBlock(r);if(s===null&&r===fr.Merge){const o=this.hardforks(),a=o.findIndex(c=>c.ttd!==null&&c.ttd!==void 0);if(a<0)throw Error("Merge hardfork should have been found");s=this.hardforkBlock(o[a-1].name)}return s===null?null:this.hardforks().reduce((o,a)=>{const c=BigInt(a.block===null||a.ttd!==void 0&&a.ttd!==null?0:a.block);return c>s&&o===null?c:o},null)}isNextHardforkBlock(e,n){const r=Fm(e,ca.BigInt),s=n??this._hardfork,i=this.nextHardforkBlock(s);return i===null?!1:i===r}_calcForkHash(e,n){let r=new Uint8Array,s=0;for(const a of this.hardforks()){const{block:c,timestamp:l,name:u}=a;let d=l??c;if(d=d!==null?Number(d):null,typeof d=="number"&&d!==0&&d!==s&&u!==fr.Merge){const h=mr(d.toString(16).padStart(16,"0"));r=Pi(r,h),s=d}if(a.name===e)break}const i=Pi(n,r);return cn(h5e(d3e(i)>>>0))}forkHash(e,n){const r=e??this._hardfork,s=this._getHardfork(r);if(s===null||s?.block===null&&s?.timestamp===void 0&&s?.ttd===void 0){const i="No fork hash calculation possible for future hardfork";throw new Error(i)}if(s?.forkHash!==null&&s?.forkHash!==void 0)return s.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,n)}hardforkForForkHash(e){const n=this.hardforks().filter(r=>r.forkHash===e);return n.length>=1?n[n.length-1]:null}setForkHashes(e){var n;for(const r of this.hardforks()){const s=(n=r.timestamp)!==null&&n!==void 0?n:r.block;(r.forkHash===null||r.forkHash===void 0)&&(s!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===e)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===e)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){var e;const n=this.hardfork();let r;for(const s of this.HARDFORK_CHANGES)if("consensus"in s[1]&&(r=s[1].consensus[s[1].consensus.algorithm]),s[0]===n)break;return(e=r??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&e!==void 0?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const n={};for(const[s,i]of Object.entries(SC))n[i]=s.toLowerCase();const r={mainnet:A5e,goerli:E5e,sepolia:C5e};if(e)for(const s of e){const{name:i}=s;n[s.chainId.toString()]=i,r[i]=s}return r.names=n,r}}var Mc;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(Mc||(Mc={}));function h3e(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function f3e(t){return!h3e(t)}class vg{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new vg(dG(20))}equals(e){return AT(this.buf,e.buf)}isZero(){return this.equals(vg.zero())}toString(){return cn(this.buf)}toArray(){return this.buf}static publicToAddress(e,n=!1){let r=e;if(O6(r),n&&r.length!==64&&(r=Du.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),r.length!==64)throw new Error("Expected pubKey to be of length 64");return _i(r).slice(-20)}}const p3e=(t,e)=>{const n=t.param("vm","maxInitCodeSize");if(n&&BigInt(e)>n)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)},hG=t=>{let e,n;if(f3e(t)){e=t;const r=[];for(let s=0;s<t.length;s+=1){const i=t[s],o=Cr(i.address),a=[];for(let c=0;c<i.storageKeys.length;c+=1)a.push(Cr(i.storageKeys[c]));r.push([o,a])}n=r}else{n=t??[];const r=[];for(let s=0;s<n.length;s+=1){const i=n[s],o=cn(i[0]),a=[];for(let l=0;l<i[1].length;l+=1)a.push(cn(i[1][l]));const c={address:o,storageKeys:a};r.push(c)}e=r}return{AccessListJSON:e,accessList:n}},fG=t=>{for(let e=0;e<t.length;e+=1){const n=t[e],r=n[0],s=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(r.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let i=0;i<s.length;i+=1)if(s[i].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},pG=t=>{const e=[];for(let n=0;n<t.length;n+=1){const r=t[n],s={address:cn(u$(r[0],20)),storageKeys:[]},i=r&&r[1];for(let o=0;o<i.length;o+=1){const a=i[o];s.storageKeys.push(cn(u$(a,32)))}e.push(s)}return e},mG=(t,e)=>{const n=e.param("gasPrices","accessListStorageKeyCost"),r=e.param("gasPrices","accessListAddressCost");let s=0;for(let o=0;o<t.length;o+=1){const c=t[o][1];s+=c.length}return t.length*Number(r)+s*Number(n)};class o0{constructor(e,n){var r,s;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=SC.Mainnet,this.DEFAULT_HARDFORK=fr.Merge;const{nonce:i,gasLimit:o,to:a,value:c,data:l,v:u,r:d,s:h,type:f}=e;this._type=Number(cr(Cr(f))),this.txOptions=n;const p=Cr(a===""?"0x":a),g=Cr(u===""?"0x":u),y=Cr(d===""?"0x":d),v=Cr(h===""?"0x":h);this.nonce=cr(Cr(i===""?"0x":i)),this.gasLimit=cr(Cr(o===""?"0x":o)),this.to=p.length>0?new vg(p):void 0,this.value=cr(Cr(c===""?"0x":c)),this.data=Cr(l===""?"0x":l),this.v=g.length>0?cr(g):void 0,this.r=y.length>0?cr(y):void 0,this.s=v.length>0?cr(v):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const b=this.to===void 0||this.to===null,_=(r=n.allowUnlimitedInitCodeSize)!==null&&r!==void 0?r:!1,S=(s=n.common)!==null&&s!==void 0?s:this._getCommon();b&&S.isActivatedEIP(3860)&&!_&&p3e(S,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const n=[];return this.getBaseFee()>this.gasLimit&&n.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&n.push("Invalid Signature"),e?n:n.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const n=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(n)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>a5e){const n=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let n=this.getDataFee();if(e&&(n+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(n+=r)}return n}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let s=0;s<this.data.length;s+=1)this.data[s]===0?r+=e:r+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const s=BigInt(Math.ceil(this.data.length/32)),i=this.common.param("gasPrices","initCodeWordCost")*s;r+=i}return r}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:n,s:r}=this;return!(e===void 0||n===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return xC(e).length!==0}catch{return!1}}getSenderAddress(){return new vg(vg.publicToAddress(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const c=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(c)}let n=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(Mc.EIP155ReplayProtection)&&(this.activeCapabilities.push(Mc.EIP155ReplayProtection),n=!0);const r=this.getMessageToSign(!0),{v:s,r:i,s:o}=this._ecsign(r,e),a=this._processSignature(s,i,o);if(n){const c=this.activeCapabilities.indexOf(Mc.EIP155ReplayProtection);c>-1&&this.activeCapabilities.splice(c,1)}return a}_getCommon(e,n){var r,s,i,o;if(n!==void 0){const a=cr(Cr(n));if(e){if(e.chainId()!==a){const c=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(c)}return e.copy()}return ss.isSupportedChainId(a)?new ss({chain:a,hardfork:this.DEFAULT_HARDFORK}):ss.custom({name:"custom-chain",networkId:a,chainId:a},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if(e?.copy&&typeof e?.copy=="function")return e.copy();if(e){const a=typeof e.hardfork=="function"?e.hardfork():e.hardfork;return ss.custom({name:"custom-chain",networkId:e.networkId?e.networkId():(s=BigInt((r=e.customChain)===null||r===void 0?void 0:r.networkId))!==null&&s!==void 0?s:void 0,chainId:e.chainId?e.chainId():(o=BigInt((i=e.customChain)===null||i===void 0?void 0:i.chainId))!==null&&o!==void 0?o:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:a||this.DEFAULT_HARDFORK})}return new ss({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,n=256,r=!1){for(const[s,i]of Object.entries(e))switch(n){case 64:if(r){if(i!==void 0&&i>=a$){const o=this._errorMsg(`${s} cannot equal or exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(o)}}else if(i!==void 0&&i>a$){const o=this._errorMsg(`${s} cannot exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(o)}break;case 256:if(r){if(i!==void 0&&i>=Iv){const o=this._errorMsg(`${s} cannot equal or exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(o)}}else if(i!==void 0&&i>Iv){const o=this._errorMsg(`${s} cannot exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(o)}break;default:{const o=this._errorMsg("unimplemented bits value");throw new Error(o)}}}static _validateNotArray(e){const n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,s]of Object.entries(e))if(n.includes(r)&&Array.isArray(s))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?cn(this.hash()):"not available (unsigned)"}catch{e="error"}let n="";try{n=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let s=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return s+=`signed=${n} hf=${r}`,s}_ecsign(e,n,r){const s=Du.sign(e,n),i=s.toCompactRawBytes(),o=i.subarray(0,32),a=i.subarray(32,64),c=r===void 0?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(r)*BigInt(2);return{r:o,s:a,v:c}}static fromSerializedTx(e,n={}){}static fromTxData(e,n={}){}}const gN=2,CP=mr(gN.toString(16).padStart(2,"0"));class Mf extends o0{static fromTxData(e,n={}){return new Mf(e,n)}static fromSerializedTx(e,n={}){if(!AT(e.subarray(0,1),CP))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${gN}, received: ${cn(e.subarray(0,1))}`);const r=la.RLP.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Mf.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,s,i,o,a,c,l,u,d,h,f,p]=e;return this._validateNotArray({chainId:r,v:h}),h6({nonce:s,maxPriorityFeePerGas:i,maxFeePerGas:o,gasLimit:a,value:l,v:h,r:f,s:p}),new Mf({chainId:cr(r),nonce:s,maxPriorityFeePerGas:i,maxFeePerGas:o,gasLimit:a,to:c,value:l,data:u,accessList:d??[],v:h!==void 0?cr(h):void 0,r:f,s:p},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:gN}),n),this.DEFAULT_HARDFORK="london";const{chainId:s,accessList:i,maxFeePerGas:o,maxPriorityFeePerGas:a}=e;if(this.common=this._getCommon(n.common,s),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const c=hG(i??[]);if(this.accessList=c.accessList,this.AccessListJSON=c.AccessListJSON,fG(this.accessList),this.maxFeePerGas=cr(Cr(o===""?"0x":o)),this.maxPriorityFeePerGas=cr(Cr(a===""?"0x":a)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),o0._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Iv){const u=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(u)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const u=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(u)}this._validateYParity(),this._validateHighS(),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(mG(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const n=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,i=(n<r?n:r)+e;return this.gasLimit*i+this.value}raw(){return[Tn(this.chainId),Tn(this.nonce),Tn(this.maxPriorityFeePerGas),Tn(this.maxFeePerGas),Tn(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Tn(this.value),this.data,this.accessList,this.v!==void 0?Tn(this.v):Uint8Array.from([]),this.r!==void 0?Tn(this.r):Uint8Array.from([]),this.s!==void 0?Tn(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Pi(CP,la.RLP.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,9),r=Pi(CP,la.RLP.encode(n));return e?_i(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=_i(this.serialize())),this.cache.hash):_i(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const i=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(i)}const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return D6(e,n+BigInt(27),Tn(r),Tn(s))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,n,r){const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Mf.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:cr(n),s:cr(r)},s)}toJSON(){const e=pG(this.accessList);return{chainId:Ir(this.chainId),nonce:Ir(this.nonce),maxPriorityFeePerGas:Ir(this.maxPriorityFeePerGas),maxFeePerGas:Ir(this.maxFeePerGas),gasLimit:Ir(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Ir(this.value),data:cn(this.data),accessList:e,v:this.v!==void 0?Ir(this.v):void 0,r:this.r!==void 0?Ir(this.r):void 0,s:this.s!==void 0?Ir(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const yN=1,IP=mr(yN.toString(16).padStart(2,"0"));class Lf extends o0{static fromTxData(e,n={}){return new Lf(e,n)}static fromSerializedTx(e,n={}){if(!AT(e.subarray(0,1),IP))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${yN}, received: ${cn(e.subarray(0,1))}`);const r=la.RLP.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Lf.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,s,i,o,a,c,l,u,d,h,f]=e;this._validateNotArray({chainId:r,v:d}),h6({nonce:s,gasPrice:i,gasLimit:o,value:c,v:d,r:h,s:f});const p=[];return new Lf({chainId:cr(r),nonce:s,gasPrice:i,gasLimit:o,to:a,value:c,data:l,accessList:u??p,v:d!==void 0?cr(d):void 0,r:h,s:f},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:yN}),n),this.DEFAULT_HARDFORK="berlin";const{chainId:s,accessList:i,gasPrice:o}=e;if(this.common=this._getCommon(n.common,s),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const a=hG(i??[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,fG(this.accessList),this.gasPrice=cr(Cr(o===""?"0x":o)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),o0._validateNotArray(e),this.gasPrice*this.gasLimit>Iv){const l=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(l)}this._validateYParity(),this._validateHighS(),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(mG(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[Tn(this.chainId),Tn(this.nonce),Tn(this.gasPrice),Tn(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Tn(this.value),this.data,this.accessList,this.v!==void 0?Tn(this.v):Uint8Array.from([]),this.r!==void 0?Tn(this.r):Uint8Array.from([]),this.s!==void 0?Tn(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Pi(IP,la.RLP.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,8),r=Pi(IP,la.RLP.encode(n));return e?_i(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=_i(this.serialize())),this.cache.hash):_i(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const i=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(i)}const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return D6(e,n+BigInt(27),Tn(r),Tn(s))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,n,r){const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Lf.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:cr(n),s:cr(r)},s)}toJSON(){const e=pG(this.accessList);return{chainId:Ir(this.chainId),nonce:Ir(this.nonce),gasPrice:Ir(this.gasPrice),gasLimit:Ir(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Ir(this.value),data:cn(this.data),accessList:e,v:this.v!==void 0?Ir(this.v):void 0,r:this.r!==void 0?Ir(this.r):void 0,s:this.s!==void 0?Ir(this.s):void 0}}errorStr(){var e,n;let r=this._getSharedErrorPostfix();return r+=` gasPrice=${this.gasPrice} accessListCount=${(n=(e=this.accessList)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}const m3e=0;function f$(t,e){const n=Number(t),r=Number(e)*2;return n===r+35||n===r+36}class qd extends o0{static fromTxData(e,n={}){return new qd(e,n)}static fromSerializedTx(e,n={}){const r=la.RLP.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,s,i,o,a,c,l,u,d]=e;return h6({nonce:r,gasPrice:s,gasLimit:i,value:a,v:l,r:u,s:d}),new qd({nonce:r,gasPrice:s,gasLimit:i,to:o,value:a,data:c,v:l,r:u,s:d},n)}constructor(e,n={}){var r;if(super(Object.assign(Object.assign({},e),{type:m3e}),n),this.common=this._validateTxV(this.v,n.common),this.gasPrice=cr(Cr(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>Iv){const i=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(i)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),o0._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?f$(this.v,this.common.chainId())&&this.activeCapabilities.push(Mc.EIP155ReplayProtection):this.activeCapabilities.push(Mc.EIP155ReplayProtection)),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}raw(){return[Tn(this.nonce),Tn(this.gasPrice),Tn(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Tn(this.value),this.data,this.v!==void 0?Tn(this.v):Uint8Array.from([]),this.r!==void 0?Tn(this.r):Uint8Array.from([]),this.s!==void 0?Tn(this.s):Uint8Array.from([])]}serialize(){return la.RLP.encode(this.raw())}_getMessageToSign(){const e=[Tn(this.nonce),Tn(this.gasPrice),Tn(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Tn(this.value),this.data];return this.supports(Mc.EIP155ReplayProtection)&&(e.push(Cr(this.common.chainId())),e.push(xC(Cr(0))),e.push(xC(Cr(0)))),e}getMessageToSign(e=!0){const n=this._getMessageToSign();return e?_i(la.RLP.encode(n)):n}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=_i(la.RLP.encode(this.raw()))),this.cache.hash):_i(la.RLP.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const n=this._errorMsg("This transaction is not signed");throw new Error(n)}const e=this._getMessageToSign();return _i(la.RLP.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return D6(e,n,Tn(r),Tn(s),this.supports(Mc.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,n,r){let s=e;this.supports(Mc.EIP155ReplayProtection)&&(s+=this.common.chainId()*BigInt(2)+BigInt(8));const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return qd.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:s,r:cr(n),s:cr(r)},i)}toJSON(){return{nonce:Ir(this.nonce),gasPrice:Ir(this.gasPrice),gasLimit:Ir(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Ir(this.value),data:cn(this.data),v:this.v!==void 0?Ir(this.v):void 0,r:this.r!==void 0?Ir(this.r):void 0,s:this.s!==void 0?Ir(this.s):void 0}}_validateTxV(e,n){let r;const s=e!==void 0?Number(e):void 0;if(s!==void 0&&s<37&&s!==27&&s!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${s}`);if(s!==void 0&&s!==0&&(!n||n.gteHardfork("spuriousDragon"))&&s!==27&&s!==28)if(n){if(!f$(BigInt(s),n.chainId()))throw new Error(`Incompatible EIP155-based V ${s} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let i;(s-35)%2===0?i=35:i=36,r=BigInt(s-i)/BigInt(2)}return this._getCommon(n,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const TP=new Map;class Ap{constructor(){}static typeToInt(e){return Number(cr(Cr(e)))}static registerTransactionType(e,n){const r=Ap.typeToInt(e);TP.set(r,n)}static fromTxData(e,n={}){if(!("type"in e)||e.type===void 0)return qd.fromTxData(e,n);const r=Ap.typeToInt(e.type);if(r===0)return qd.fromTxData(e,n);if(r===1)return Lf.fromTxData(e,n);if(r===2)return Mf.fromTxData(e,n);const s=TP.get(r);if(s?.fromTxData)return s.fromTxData(e,n);throw new Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e,n={}){if(e[0]<=127)switch(e[0]){case 1:return Lf.fromSerializedTx(e,n);case 2:return Mf.fromSerializedTx(e,n);default:{const r=TP.get(Number(e[0]));if(r?.fromSerializedTx)return r.fromSerializedTx(e,n);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}else return qd.fromSerializedTx(e,n)}static fromBlockBodyData(e,n={}){if(Ph(e))return this.fromSerializedData(e,n);if(Array.isArray(e))return qd.fromValuesArray(e,n);throw new Error("Cannot decode transaction: unknown type input")}}var OT=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const B0=(t,e)=>{let n;if(!e&&typeof t=="string"&&Un(t)&&t.length!==66)throw new TB;try{n=Ph(t)?t:cl(t)}catch{throw new URe}if(!e&&n.byteLength!==32)throw new TB;return n},M6=(t,e=!1)=>{const n=Un(t)?t:tc(t),r=mr(n),s=mr(IW(`Ethereum Signed Message:
${r.byteLength}`)),i=e?r:Pi(s,r);return ko(i)},g3e=(t,e)=>{const n=B0(e),r=Du.sign(t.substring(2),n),s=r.toCompactRawBytes(),i=r.r.toString(16).padStart(64,"0"),o=r.s.toString(16).padStart(64,"0"),a=r.recovery+27;return{messageHash:t,v:ls(a),r:`0x${i}`,s:`0x${o}`,signature:`${cn(s)}${a.toString(16)}`}},gG=(t,e)=>{const n=M6(t),{messageHash:r,v:s,r:i,s:o,signature:a}=g3e(n,e);return{message:t,messageHash:r,v:s,r:i,s:o,signature:a}},y3e=(t,e)=>OT(void 0,void 0,void 0,function*(){const n=t.sign(mr(e));if(de(n.v)||de(n.r)||de(n.s))throw new rN("Signer Error");const r=n.validate(!0);if(r.length>0){let o="Signer Error ";for(const a of r)o+=`${o} ${a}.`;throw new rN(o)}const s=cn(n.serialize()),i=ko(s);return{messageHash:cn(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:s,transactionHash:cn(i)}}),w3e=t=>{if(de(t))throw new nNe;const e=Ap.fromSerializedData(mr(t));return hl(e.getSenderAddress().toString())},wN=(t,e,n,r,s)=>{if(typeof t=="object"){const d=`${t.r}${t.s.slice(2)}${t.v.slice(2)}`;return wN(t.messageHash,d,n)}if(typeof e=="string"&&typeof n=="string"&&!de(r)){const d=`${n}${r.slice(2)}${e.slice(2)}`;return wN(t,d,s)}if(de(e))throw new FRe("signature string undefined");const i=130,o=n?t:M6(t);let a=parseInt(e.substring(i),16);a>26&&(a-=27);const c=Du.Signature.fromCompact(e.slice(2,i)).addRecoveryBit(a).recoverPublicKey(o.replace("0x","")).toRawBytes(!1),l=ko(c.subarray(1));return hl(`0x${l.slice(-40)}`)},DT=t=>{const e=B0(t),n=Du.getPublicKey(e,!1),s=ko(n.slice(1)).slice(-40);return hl(`0x${s}`)},b3e=(t,e)=>{const n=B0(t);return`0x${cn(Du.getPublicKey(n,e)).slice(4)}`},yG=(t,e,n)=>OT(void 0,void 0,void 0,function*(){var r,s,i,o,a,c,l;const u=B0(t);let d;if(n?.salt?d=typeof n.salt=="string"?mr(n.salt):n.salt:d=Ev(32),!(u6(e)||Ph(e)))throw new HRe;const h=typeof e=="string"?mr(tc(e)):e;let f;if(n?.iv){if(f=typeof n.iv=="string"?mr(n.iv):n.iv,f.length!==16)throw new qRe}else f=Ev(16);const p=(r=n?.kdf)!==null&&r!==void 0?r:"scrypt";let g,y;if(p==="pbkdf2"){if(y={dklen:(s=n?.dklen)!==null&&s!==void 0?s:32,salt:cn(d).replace("0x",""),c:(i=n?.c)!==null&&i!==void 0?i:262144,prf:"hmac-sha256"},y.c<1e3)throw new zRe;g=JW(h,d,y.c,y.dklen,"sha256")}else if(p==="scrypt")y={n:(o=n?.n)!==null&&o!==void 0?o:8192,r:(a=n?.r)!==null&&a!==void 0?a:8,p:(c=n?.p)!==null&&c!==void 0?c:1,dklen:(l=n?.dklen)!==null&&l!==void 0?l:32,salt:cn(d).replace("0x","")},g=XW(h,d,y.n,y.p,y.r,y.dklen);else throw new Uz;const v=yield I6(u,g.slice(0,16),f,"aes-128-ctr"),b=cn(v).slice(2),_=ko(Pi(g.slice(16,32),v)).replace("0x","");return{version:3,id:v6(),address:DT(u).toLowerCase().replace("0x",""),crypto:{ciphertext:b,cipherparams:{iv:cn(f).replace("0x","")},cipher:"aes-128-ctr",kdf:p,kdfparams:y,mac:_}}}),L6=(t,e)=>{const n=B0(t,e);return{address:DT(n),privateKey:cn(n),signTransaction:r=>{throw new rN("Do not have network access to sign the transaction")},sign:r=>gG(typeof r=="string"?r:JSON.stringify(r),n),encrypt:(r,s)=>OT(void 0,void 0,void 0,function*(){return yG(n,r,s)})}},v3e=()=>{const t=Du.utils.randomPrivateKey();return L6(`${cn(t)}`)},_3e=(t,e,n)=>OT(void 0,void 0,void 0,function*(){const r=typeof t=="object"?t:JSON.parse(n?t.toLowerCase():t);if(Et.validateJSONSchema(c5e,r),r.version!==3)throw new VRe;const s=typeof e=="string"?mr(tc(e)):e;Et.validate(["bytes"],[s]);let i;if(r.crypto.kdf==="scrypt"){const l=r.crypto.kdfparams,u=typeof l.salt=="string"?mr(l.salt):l.salt;i=XW(s,u,l.n,l.p,l.r,l.dklen)}else if(r.crypto.kdf==="pbkdf2"){const l=r.crypto.kdfparams,u=typeof l.salt=="string"?mr(l.salt):l.salt;i=JW(s,u,l.c,l.dklen,"sha256")}else throw new Uz;const o=mr(r.crypto.ciphertext);if(ko(Pi(i.slice(16,32),o)).replace("0x","")!==r.crypto.mac)throw new jRe;const c=yield m6e(mr(r.crypto.ciphertext),i.slice(0,16),mr(r.crypto.cipherparams.iv));return L6(c)});var p$=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const E3e=1e3;class A3e{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){const n=vp(e),r=new AC;return this._requests.set(n.id,{payload:n,promise:r}),r}execute(e){return p$(this,void 0,void 0,function*(){var n;if(this.requests.length===0)return Promise.resolve([]);const r=new AC({timeout:(n=e?.timeout)!==null&&n!==void 0?n:E3e,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(s=>r.reject(s)),r.catch(s=>{s instanceof Fz&&this._abortAllRequests("Batch request timeout"),r.reject(s)}),r})}_processBatchRequest(e){return p$(this,void 0,void 0,function*(){var n,r;const s=yield this._requestManager.sendBatch([...this._requests.values()].map(a=>a.payload));if(s.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new Dc(s,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${s.length}`);const i=this.requests.map(a=>a.id).map(Number).sort((a,c)=>a-c),o=s.map(a=>a.id).map(Number).sort((a,c)=>a-c);if(JSON.stringify(i)!==JSON.stringify(o))throw this._abortAllRequests("Invalid batch response"),new Dc(s,`Batch request mismatch the results. Requests: [${i.join()}], Responses: [${o.join()}]`);for(const a of s)Xd(a)?(n=this._requests.get(a.id))===null||n===void 0||n.promise.resolve(a.result):eh(a)&&((r=this._requests.get(a.id))===null||r===void 0||r.promise.reject(a.error));e.resolve(s)})}_abortAllRequests(e){for(const{promise:n}of this._requests.values())n.reject(new JRe(e))}}var C3e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,[])).next())})};class Ji extends a6e{constructor(e){var n;if(super(),this.providers=Kf.providers,It(e)||typeof e=="string"&&e.trim()!==""||CC(e)){this._requestManager=new Kf(e),this._subscriptionManager=new IC(this._requestManager,{});return}const{config:r,provider:s,requestManager:i,subscriptionManager:o,registeredSubscriptions:a,accountProvider:c,wallet:l,requestManagerMiddleware:u}=e;this.setConfig(r??{}),this._requestManager=i??new Kf(s,(n=r?.enableExperimentalFeatures)===null||n===void 0?void 0:n.useSubscriptionWhenCheckingBlockTimeout,u),o?this._subscriptionManager=o:this._subscriptionManager=new IC(this.requestManager,a??{}),c&&(this._accountProvider=c),l&&(this._wallet=l)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...n){const r=new e(...n,this.getContextObject());return this.on(_p.CONFIG_CHANGE,s=>{r.setConfig({[s.name]:s.newValue})}),this[e.name]=r,r}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(_p.CONFIG_CHANGE,n=>{this.setConfig({[n.name]:n.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new XRe(e.pluginNamespace);const n={[e.pluginNamespace]:e};n[e.pluginNamespace].link(this),Object.assign(this,n)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return Ji.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return A3e.bind(void 0,this._requestManager)}extend(e){var n;return e.property&&!this[e.property]&&(this[e.property]={}),(n=e.methods)===null||n===void 0||n.forEach(r=>{const s=(...i)=>C3e(this,void 0,void 0,function*(){return this.requestManager.send({method:r.call,params:i})});e.property?this[e.property][r.name]=s:this[r.name]=s}),this}}Ji.providers=Kf.providers;class Kr{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const n=this._iban.slice(4),r=Kr._parseInt(n,36),s=vv(r,40);return hl(s)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},Kr.isIndirect(e)||Kr.isDirect(e))this._iban=e;else throw new Error("Invalid IBAN was provided")}static isDirect(e){return e.length===34||e.length===35}isDirect(){return Kr.isDirect(this._iban)}static isIndirect(e){return e.length===20}isIndirect(){return Kr.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&Kr._mod9710(Kr._iso13616Prepare(e))===1}isValid(){return Kr.isValid(this._iban)}static fromBban(e){const s=`0${(98-this._mod9710(this._iso13616Prepare(`XE00${e}`))).toString()}`.slice(-2);return new Kr(`XE${s}${e}`)}static createIndirect(e){return Kr.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!No(e))throw new r6(e);const r=BigInt(b_(e)).toString(36),s=vv(r,15);return Kr.fromBban(s.toUpperCase())}static toIban(e){return Kr.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}Kr._iso13616Prepare=t=>{const r=t.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map(i=>{const o=i.charCodeAt(0);return o>=65&&o<=90?o-65+10:i}).join("")};Kr._parseInt=(t,e)=>[...t].reduce((n,r)=>BigInt(parseInt(r,e))+BigInt(e)*n,BigInt(0));Kr._mod9710=t=>{let e=t,n;for(;e.length>2;)n=e.slice(0,9),e=`${(parseInt(n,10)%97).toString()}${e.slice(n.length)}`;return parseInt(e,10)%97};Kr.toAddress=t=>new Kr(t).toAddress();var SP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},wG;class bG extends PT{constructor(e){super(),this[wG]="Promise",this._promise=new Promise(e)}then(e,n){return SP(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return SP(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return SP(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}}wG=Symbol.toStringTag;(function(t,e){if(t.setImmediate)return;var n=1,r={},s=!1,i=t.document,o;function a(b){typeof b!="function"&&(b=new Function(""+b));for(var _=new Array(arguments.length-1),S=0;S<_.length;S++)_[S]=arguments[S+1];var C={callback:b,args:_};return r[n]=C,o(n),n++}function c(b){delete r[b]}function l(b){var _=b.callback,S=b.args;switch(S.length){case 0:_();break;case 1:_(S[0]);break;case 2:_(S[0],S[1]);break;case 3:_(S[0],S[1],S[2]);break;default:_.apply(e,S);break}}function u(b){if(s)setTimeout(u,0,b);else{var _=r[b];if(_){s=!0;try{l(_)}finally{c(b),s=!1}}}}function d(){o=function(b){process.nextTick(function(){u(b)})}}function h(){if(t.postMessage&&!t.importScripts){var b=!0,_=t.onmessage;return t.onmessage=function(){b=!1},t.postMessage("","*"),t.onmessage=_,b}}function f(){var b="setImmediate$"+Math.random()+"$",_=function(S){S.source===t&&typeof S.data=="string"&&S.data.indexOf(b)===0&&u(+S.data.slice(b.length))};t.addEventListener?t.addEventListener("message",_,!1):t.attachEvent("onmessage",_),o=function(S){t.postMessage(b+S,"*")}}function p(){var b=new MessageChannel;b.port1.onmessage=function(_){var S=_.data;u(S)},o=function(_){b.port2.postMessage(_)}}function g(){var b=i.documentElement;o=function(_){var S=i.createElement("script");S.onreadystatechange=function(){u(_),S.onreadystatechange=null,b.removeChild(S),S=null},b.appendChild(S)}}function y(){o=function(b){setTimeout(u,0,b)}}var v=Object.getPrototypeOf&&Object.getPrototypeOf(t);v=v&&v.setTimeout?v:t,{}.toString.call(t.process)==="[object process]"?d():h()?f():t.MessageChannel?p():i&&"onreadystatechange"in i.createElement("script")?g():y(),v.setImmediate=a,v.clearImmediate=c})(typeof self>"u"?typeof globalThis>"u"?void 0:globalThis:self);var Dt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function I3e(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_protocolVersion",params:[]})})}function vG(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_syncing",params:[]})})}function T3e(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_coinbase",params:[]})})}function S3e(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_mining",params:[]})})}function x3e(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_hashrate",params:[]})})}function P3e(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_gasPrice",params:[]})})}function R3e(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_maxPriorityFeePerGas",params:[]})})}function N3e(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_accounts",params:[]})})}function k3e(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_blockNumber",params:[]})})}function O3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getBalance",params:[e,n]})})}function D3e(t,e,n,r){return Dt(this,void 0,void 0,function*(){return Et.validate(["address","hex","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getStorageAt",params:[e,n,r]})})}function M3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getTransactionCount",params:[e,n]})})}function L3e(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["bytes32"],[e]),t.send({method:"eth_getBlockTransactionCountByHash",params:[e]})})}function B3e(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getBlockTransactionCountByNumber",params:[e]})})}function $3e(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["bytes32"],[e]),t.send({method:"eth_getUncleCountByBlockHash",params:[e]})})}function U3e(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getUncleCountByBlockNumber",params:[e]})})}function F3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getCode",params:[e,n]})})}function j3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["address","hex"],[e,n]),t.send({method:"eth_sign",params:[e,n]})})}function V3e(t,e){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_signTransaction",params:[e]})})}function H3e(t,e){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_sendTransaction",params:[e]})})}function _G(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["hex"],[e]),t.send({method:"eth_sendRawTransaction",params:[e]})})}function q3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_call",params:[e,n]})})}function z3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_estimateGas",params:[e,n]})})}function W3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["bytes32","bool"],[e,n]),t.send({method:"eth_getBlockByHash",params:[e,n]})})}function EG(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["blockNumberOrTag","bool"],[e,n]),t.send({method:"eth_getBlockByNumber",params:[e,n]})})}function G3e(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionByHash",params:[e]})})}function K3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockHashAndIndex",params:[e,n]})})}function Q3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[e,n]})})}function Y3e(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionReceipt",params:[e]})})}function Z3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getUncleByBlockHashAndIndex",params:[e,n]})})}function J3e(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getUncleByBlockNumberAndIndex",params:[e,n]})})}function X3e(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["filter"],[e]),t.send({method:"eth_newFilter",params:[e]})})}function eDe(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_newBlockFilter",params:[]})})}function tDe(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_newPendingTransactionFilter",params:[]})})}function nDe(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["hex"],[e]),t.send({method:"eth_uninstallFilter",params:[e]})})}function rDe(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["hex"],[e]),t.send({method:"eth_getFilterChanges",params:[e]})})}function sDe(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["hex"],[e]),t.send({method:"eth_getFilterLogs",params:[e]})})}function iDe(t,e){return Dt(this,void 0,void 0,function*(){return Et.validate(["filter"],[e]),t.send({method:"eth_getLogs",params:[e]})})}function oDe(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_getWork",params:[]})})}function aDe(t,e,n,r){return Dt(this,void 0,void 0,function*(){return Et.validate(["bytes8","bytes32","bytes32"],[e,n,r]),t.send({method:"eth_submitWork",params:[e,n,r]})})}function cDe(t,e,n,r){return Dt(this,void 0,void 0,function*(){Et.validate(["hex","blockNumberOrTag"],[e,n]);for(const s of r)Et.validate(["number"],[s]);return t.send({method:"eth_feeHistory",params:[e,n,r]})})}function lDe(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_pendingTransactions",params:[]})})}function uDe(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_requestAccounts",params:[]})})}function dDe(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"eth_chainId",params:[]})})}function hDe(t,e,n,r){return Dt(this,void 0,void 0,function*(){return Et.validate(["address","bytes32[]","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getProof",params:[e,n,r]})})}function fDe(t){return Dt(this,void 0,void 0,function*(){return t.send({method:"web3_clientVersion",params:[]})})}function pDe(t,e,n){return Dt(this,void 0,void 0,function*(){return Et.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_createAccessList",params:[e,n]})})}function mDe(t,e,n,r=!1){return Dt(this,void 0,void 0,function*(){return Et.validate(["address"],[e]),t.send({method:`eth_signTypedData${r?"":"_v4"}`,params:[e,n]})})}var B6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function gDe(t){return B6(this,void 0,void 0,function*(){return t.send({method:"net_version",params:[]})})}function yDe(t){return B6(this,void 0,void 0,function*(){return t.send({method:"net_peerCount",params:[]})})}function wDe(t){return B6(this,void 0,void 0,function*(){return t.send({method:"net_listening",params:[]})})}var Mu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const bDe=t=>Mu(void 0,void 0,void 0,function*(){return t.send({method:"personal_listAccounts",params:[]})}),vDe=(t,e)=>Mu(void 0,void 0,void 0,function*(){return t.send({method:"personal_newAccount",params:[e]})}),_De=(t,e,n,r)=>Mu(void 0,void 0,void 0,function*(){return t.send({method:"personal_unlockAccount",params:[e,n,r]})}),EDe=(t,e)=>Mu(void 0,void 0,void 0,function*(){return t.send({method:"personal_lockAccount",params:[e]})}),ADe=(t,e,n)=>Mu(void 0,void 0,void 0,function*(){return t.send({method:"personal_importRawKey",params:[e,n]})}),CDe=(t,e,n)=>Mu(void 0,void 0,void 0,function*(){return t.send({method:"personal_sendTransaction",params:[e,n]})}),IDe=(t,e,n)=>Mu(void 0,void 0,void 0,function*(){return t.send({method:"personal_signTransaction",params:[e,n]})}),TDe=(t,e,n,r)=>Mu(void 0,void 0,void 0,function*(){return t.send({method:"personal_sign",params:[e,n,r]})}),SDe=(t,e,n)=>Mu(void 0,void 0,void 0,function*(){return t.send({method:"personal_ecRecover",params:[e,n]})}),m$={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},g$={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},y$={type:"object",properties:{gasPrice:{type:"null"}}},K1=(t,e,n)=>{try{Et.validateJSONSchema(t,e)}catch(r){throw r instanceof Jg?new TNe(r.errors,n):r}},xDe=t=>{var e,n;const r=t;if(!de(r.type)){let i;switch(r.type){case"0x0":i=m$;break;case"0x1":i=g$;break;case"0x2":i=y$;break;default:return Re({format:"uint"},r.type,Bt)}return K1(i,r,r.type),Re({format:"uint"},r.type,Bt)}if(!de(r.maxFeePerGas)||!de(r.maxPriorityFeePerGas))return K1(y$,r,"0x2"),"0x2";if(!de(r.accessList))return K1(g$,r,"0x1"),"0x1";const s=(e=r.hardfork)!==null&&e!==void 0?e:(n=r.common)===null||n===void 0?void 0:n.hardfork;if(!de(s)){const i=Object.keys(Vw).indexOf(s);if(i>=Object.keys(Vw).indexOf("london"))return de(r.gasPrice)?"0x2":"0x0";if(i===Object.keys(Vw).indexOf("berlin"))return"0x0"}if(!de(r.gasPrice))return K1(m$,r,"0x0"),"0x0"},PDe=(t,e)=>{var n;return((n=e?.transactionTypeParser)!==null&&n!==void 0?n:xDe)(t)},RDe=t=>t[0]>127?"0x0":Au(t[0]),NDe={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},$6={type:"array",items:Object.assign({},NDe)},kDe={type:"object",properties:{accessList:Object.assign({},$6),gasUsed:{type:"string"}}},w$={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},b$={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},ODe={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},AG={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},$6),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},w$),hardfork:Object.assign({},b$),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},ODe),baseChain:Object.assign({},w$),hardfork:Object.assign({},b$)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},bN={type:"object",properties:Object.assign(Object.assign({},AG.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},$6),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},CG={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},PC={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},bN)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},CG)},withdrawalsRoot:{format:"bytes32"}}},DDe={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},CG)},withdrawalsRoot:{format:"bytes32"}}},$0={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},MDe={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},U0={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},$0)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},LDe={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},BDe={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},$De={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},UDe={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},$De)}}};function so(t,e=Ci,n={transactionSchema:bN,fillInputAndData:!1}){var r,s;let i=Rh({},t);if(de(t?.common)||(i.common=Object.assign({},t.common),de((r=t.common)===null||r===void 0?void 0:r.customChain)||(i.common.customChain=Object.assign({},t.common.customChain))),i=Re((s=n.transactionSchema)!==null&&s!==void 0?s:bN,i,e),!de(i.data)&&!de(i.input)&&Au(i.data)!==Au(i.input))throw new qz({data:cn(i.data),input:cn(i.input)});return n.fillInputAndData&&(de(i.data)?de(i.input)||(i.data=i.input):i.input=i.data),de(i.gasLimit)||(i.gas=i.gasLimit,delete i.gasLimit),i}function FDe(t,e,n={fillInputAndData:!1}){return{raw:Re({format:"bytes"},t,e),tx:so(Object.assign(Object.assign({},Ap.fromSerializedData(mr(t)).toJSON()),{hash:cn(t0(mr(t))),type:RDe(mr(t))}),e,{fillInputAndData:n.fillInputAndData,transactionSchema:n.transactionSchema})}}var U6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function F6(t,e){return U6(this,void 0,void 0,function*(){const n=yield gDe(t.requestManager);return Re({format:"uint"},n,e)})}function jDe(t,e){return U6(this,void 0,void 0,function*(){const n=yield yDe(t.requestManager);return Re({format:"uint"},n,e)})}const VDe=t=>U6(void 0,void 0,void 0,function*(){return wDe(t.requestManager)});var xP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class IG extends Ji{getId(e=this.defaultReturnFormat){return xP(this,void 0,void 0,function*(){return F6(this,e)})}getPeerCount(e=this.defaultReturnFormat){return xP(this,void 0,void 0,function*(){return jDe(this,e)})}isListening(){return xP(this,void 0,void 0,function*(){return VDe(this)})}}const a0="ALLEVENTS",vN={name:a0,signature:"",type:"event",inputs:[]},MT={bytes:vu.HEX,number:fa.NUMBER};var TG=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function HDe(t,e,n){return TG(this,void 0,void 0,function*(){var r,s,i,o;const a=yield tK(e,e.defaultBlock,!1,Bt);if(de(a.baseFeePerGas))throw new ENe;let c;if(de(t.gasPrice)&&BigInt(a.baseFeePerGas)===BigInt(0)&&(c=yield Q6(e,n)),!de(t.gasPrice)||!de(c)){const l=Re({format:"uint"},(r=t.gasPrice)!==null&&r!==void 0?r:c,n);return{maxPriorityFeePerGas:l,maxFeePerGas:l}}return{maxPriorityFeePerGas:Re({format:"uint"},(s=t.maxPriorityFeePerGas)!==null&&s!==void 0?s:e.defaultMaxPriorityFeePerGas,n),maxFeePerGas:Re({format:"uint"},(i=t.maxFeePerGas)!==null&&i!==void 0?i:BigInt(a.baseFeePerGas)*BigInt(2)+BigInt((o=t.maxPriorityFeePerGas)!==null&&o!==void 0?o:e.defaultMaxPriorityFeePerGas),n)}})}function SG(t,e,n){return TG(this,void 0,void 0,function*(){const r=xG(t,e);if(!de(r)){if(r.startsWith("-"))throw new RB(r);if(Number(r)<0||Number(r)>127)throw new RB(r);if(de(t.gasPrice)&&(r==="0x0"||r==="0x1"))return{gasPrice:yield Q6(e,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(r==="0x2")return Object.assign({gasPrice:void 0},yield HDe(t,e,n))}})}var j6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const _N=(t,e,n,r)=>{if(n!==void 0&&t in n&&n[t]!==void 0){if(typeof n[t]=="string"&&No(n[t]))return n[t];if(!Un(n[t])&&AW(n[t])){if(e.wallet){const s=e.wallet.get(Re({format:"uint"},n[t],MT));if(!de(s))return s.address;throw new NB}throw new NB}else throw t==="from"?new rNe(n.from):new sNe(n.to)}if(t==="from"){if(!de(r))return DT(r);if(!de(e.defaultAccount))return e.defaultAccount}},qDe=(t,e,...n)=>j6(void 0,[t,e,...n],void 0,function*(r,s,i=r.defaultReturnFormat){if(de(s))throw new _Ne;return rK(r,s,r.defaultBlock,i)}),xG=(t,e)=>{const n=PDe(t,e);if(!de(n))return n;if(!de(e.defaultTransactionType))return Re({format:"uint"},e.defaultTransactionType,Bt)};function zDe(t){return j6(this,void 0,void 0,function*(){var e,n;let r=Re(AG,t.transaction,t.web3Context.defaultReturnFormat);if(de(r.from)&&(r.from=_N("from",t.web3Context,void 0,t.privateKey)),de(r.nonce)&&(r.nonce=yield qDe(t.web3Context,r.from,Bt)),de(r.value)&&(r.value="0x0"),de(r.data))de(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!de(r.input)&&r.data!==r.input)throw new qz({data:cn(r.data),input:cn(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(de(r.common)){if(t.web3Context.defaultCommon){const s=t.web3Context.defaultCommon,i=s.customChain.chainId,o=s.customChain.networkId,a=s.customChain.name;r.common=Object.assign(Object.assign({},s),{customChain:{chainId:i,networkId:o,name:a}})}de(r.chain)&&(r.chain=t.web3Context.defaultChain),de(r.hardfork)&&(r.hardfork=t.web3Context.defaultHardfork)}if(de(r.chainId)&&de((e=r.common)===null||e===void 0?void 0:e.customChain.chainId)&&(r.chainId=yield iK(t.web3Context,Bt)),de(r.networkId)&&(r.networkId=(n=t.web3Context.defaultNetworkId)!==null&&n!==void 0?n:yield F6(t.web3Context,Bt)),de(r.gasLimit)&&!de(r.gas)&&(r.gasLimit=r.gas),r.type=xG(r,t.web3Context),de(r.accessList)&&(r.type==="0x1"||r.type==="0x2")&&(r.accessList=[]),t.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield SG(r,t.web3Context,Bt))),de(r.gas)&&de(r.gasLimit)&&t.fillGasLimit){const s=yield J6(t.web3Context,r,"latest",Bt);r=Object.assign(Object.assign({},r),{gas:Re({format:"uint"},s,Bt)})}return r})}const WDe=t=>j6(void 0,void 0,void 0,function*(){var e;return((e=t.web3Context.transactionBuilder)!==null&&e!==void 0?e:zDe)(Object.assign(Object.assign({},t),{transaction:t.transaction}))});var V6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function EN(t,e,n){const r=t.transactionPollingInterval,[s,i]=LW(()=>V6(this,void 0,void 0,function*(){let a;try{a=yield Y6(t,MT)}catch(l){console.warn("An error happen while trying to get the block number",l);return}const c=a-e;if(c>=t.transactionBlockTimeout)return new Gz({starterBlockNumber:e,numberOfBlocks:c,transactionHash:n})}),r);return[i,{clean:()=>{clearInterval(s)}}]}function GDe(t,e,n){return V6(this,void 0,void 0,function*(){var r;let s=!0,i,o;function a(l,u){u&&console.warn("error happened at subscription. So revert to polling...",u),o.clean(),s=!1;const[d,h]=EN(t,e,n);o.clean=h.clean,d.catch(f=>l(f))}try{i=yield(r=t.subscriptionManager)===null||r===void 0?void 0:r.subscribe("newHeads"),o={clean:()=>{var l;i.id&&((l=t.subscriptionManager)===null||l===void 0||l.removeSubscription(i).then(()=>{}).catch(()=>{}))}}}catch{return EN(t,e,n)}return[new Promise((l,u)=>{try{i.on("data",d=>{if(s=!1,!d?.number)return;const h=Number(BigInt(d.number)-BigInt(e));h>=t.transactionBlockTimeout&&u(new Gz({starterBlockNumber:e,numberOfBlocks:h,transactionHash:n}))}),i.on("error",d=>{a(u,d)})}catch(d){a(u,d)}setTimeout(()=>{s&&a(u)},t.blockHeaderTimeout*1e3)}),o]})}function PG(t,e){return V6(this,void 0,void 0,function*(){var n,r;const{provider:s}=t.requestManager;let i;const o=yield Y6(t,MT);return!((r=(n=s).supportsSubscriptions)===null||r===void 0)&&r.call(n)&&t.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?i=yield GDe(t,o,e):i=EN(t,o,e),i})}var KDe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function AN(t,e,n){return KDe(this,void 0,void 0,function*(){const[r,s]=b6(t.transactionSendTimeout,new ANe({numberOfSeconds:t.transactionSendTimeout/1e3,transactionHash:n})),[i,o]=yield PG(t,n);try{return yield Promise.race([e(),s,i])}finally{clearTimeout(r),o.clean()}})}var v$=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function RG(t,e,n,r){return v$(this,void 0,void 0,function*(){var s;const i=(s=t.transactionReceiptPollingInterval)!==null&&s!==void 0?s:t.transactionPollingInterval,[o,a]=w6(()=>v$(this,void 0,void 0,function*(){try{return(r??nK)(t,e,n)}catch(h){console.warn("An error happen while trying to get the transaction receipt",h);return}}),i),[c,l]=b6(t.transactionPollingTimeout,new Wz({numberOfSeconds:t.transactionPollingTimeout/1e3,transactionHash:e})),[u,d]=yield PG(t,e);try{return yield Promise.race([o,l,u])}finally{c&&clearTimeout(c),a&&clearInterval(a),d.clean()}})}var QDe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const BE=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})=>{var i;let o=1;const a=setInterval(()=>{QDe(void 0,void 0,void 0,function*(){if(o>=t.transactionConfirmationBlocks){clearInterval(a);return}const c=yield EG(t.requestManager,ls(BigInt(e.blockNumber)+BigInt(o)),!1);c?.hash&&(o+=1,n.emit("confirmation",{confirmations:Re({format:"uint"},o,s),receipt:Re(r??U0,e,s),latestBlockHash:Re({format:"bytes32"},c.hash,s)}))})},(i=t.transactionReceiptPollingInterval)!==null&&i!==void 0?i:t.transactionPollingInterval)};var _$=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const YDe=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})=>{let i=!0,o;setImmediate(()=>{var a;(a=t.subscriptionManager)===null||a===void 0||a.subscribe("newHeads").then(c=>{c.on("data",l=>_$(void 0,void 0,void 0,function*(){var u;if(i=!1,!l?.number||o===l?.parentHash)return;o=l?.parentHash;const d=BigInt(l.number)-BigInt(e.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:Re({format:"uint"},d,s),receipt:Re(r??U0,e,s),latestBlockHash:Re({format:"bytes32"},l.parentHash,s)}),d>=t.transactionConfirmationBlocks&&(yield(u=t.subscriptionManager)===null||u===void 0?void 0:u.removeSubscription(c))})),c.on("error",()=>_$(void 0,void 0,void 0,function*(){var l;yield(l=t.subscriptionManager)===null||l===void 0?void 0:l.removeSubscription(c),i=!1,BE({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})}))}).catch(()=>{i=!1,BE({web3Context:t,transactionReceipt:e,customTransactionReceiptSchema:r,transactionPromiEvent:n,returnFormat:s})})}),setTimeout(()=>{i&&BE({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:s})},t.blockHeaderTimeout*1e3)};function ZDe(t,e,n,r,s,i){if(de(n)||de(n.blockHash))throw new CNe({receipt:n,blockHash:Re({format:"bytes32"},n?.blockHash,s),transactionHash:Re({format:"bytes32"},r,s)});if(!n.blockNumber)throw new INe({receipt:n});e.emit("confirmation",{confirmations:Re({format:"uint"},1,s),receipt:Re(i??U0,n,s),latestBlockHash:Re({format:"bytes32"},n.blockHash,s)});const o=t.requestManager.provider;o&&"supportsSubscriptions"in o&&o.supportsSubscriptions()?YDe({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:i,returnFormat:s}):BE({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:i,returnFormat:s})}const LT=t=>!It(t)&&typeof t=="object"&&!It(t.type)&&t.type==="error",H6=t=>!It(t)&&typeof t=="object"&&!It(t.type)&&t.type==="event",BT=t=>!It(t)&&typeof t=="object"&&!It(t.type)&&t.type==="function",JDe=t=>!It(t)&&typeof t=="object"&&!It(t.type)&&t.type==="constructor",XDe=t=>typeof t=="object"&&typeof t.components>"u"&&typeof t.name>"u",NG=t=>t.includes("[]")?{type:"tuple[]",name:t.slice(0,-2)}:{type:"tuple",name:t},kG=t=>{const e=[];for(const n of Object.keys(t)){const r=t[n];typeof r=="object"?e.push(Object.assign(Object.assign({},NG(n)),{components:kG(r)})):e.push({name:n,type:t[n]})}return e},CN=(t,e)=>{const n=[];return e.forEach(r=>{if(typeof r.components=="object"){if(!r.type.startsWith("tuple"))throw new gn(`Invalid value given "${r.type}". Error: components found but type is not tuple.`);const s=r.type.indexOf("["),i=s>=0?r.type.substring(s):"",o=CN(t,r.components);n.push(`(${o.join(",")})${i}`)}else n.push(r.type)}),n},uu=t=>{var e,n,r,s;return LT(t)||H6(t)||BT(t)?!((e=t.name)===null||e===void 0)&&e.includes("(")?t.name:`${(n=t.name)!==null&&n!==void 0?n:""}(${CN(!1,(r=t.inputs)!==null&&r!==void 0?r:[]).join(",")})`:`(${CN(!1,(s=t.inputs)!==null&&s!==void 0?s:[]).join(",")})`},e8e=t=>{if(typeof t!="string"&&!LT(t))throw new gn("Invalid parameter value in encodeErrorSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=uu(t):e=t,ko(e)},q6=t=>{if(typeof t!="string"&&!H6(t))throw new gn("Invalid parameter value in encodeEventSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=uu(t):e=t,ko(e)};function z6(t,e){return t.exec(e)?.groups}var OG=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,DG=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,MG=/^\(.+?\).*?$/,t8e=Object.defineProperty,n8e=(t,e,n)=>e in t?t8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rw=(t,e,n)=>(n8e(t,typeof e!="symbol"?e+"":e,n),n),r8e="abitype",s8e="0.7.1",Ki=class extends Error{constructor(e,n={}){const r=n.cause instanceof Ki?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Ki&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: ${r8e}@${s8e}`].join(`
`);super(i),rw(this,"details"),rw(this,"docsPath"),rw(this,"metaMessages"),rw(this,"shortMessage"),rw(this,"name","AbiTypeError"),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}},LG=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function BG(t){return LG.test(t)}function i8e(t){return z6(LG,t)}var E$=new Set(["memory","indexed","storage","calldata"]),o8e=new Set(["calldata","memory","storage"]);function a8e(t,e){return e?`${e}:${t}`:t}var PP=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),c8e=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,l8e=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,u8e=/^u?int$/;function RC(t,e){const n=a8e(t,e?.type);if(PP.has(n))return PP.get(n);const r=MG.test(t),s=z6(r?l8e:c8e,t);if(!s)throw new Ki("Invalid ABI parameter.",{details:t});if(s.name&&h8e(s.name))throw new Ki("Invalid ABI parameter.",{details:t,metaMessages:[`"${s.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{};let c,l={};if(r){c="tuple";const d=Ym(s.type),h=[],f=d.length;for(let p=0;p<f;p++)h.push(RC(d[p],{structs:a}));l={components:h}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(u8e.test(s.type))c=`${s.type}256`;else if(c=s.type,e?.type!=="struct"&&!$G(c))throw new Ki("Unknown type.",{metaMessages:[`Type "${c}" is not a valid ABI type.`]});if(s.modifier){if(!e?.modifiers?.has?.(s.modifier))throw new Ki("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s.modifier}" not allowed${e?.type?` in "${e.type}" type`:""}.`]});if(o8e.has(s.modifier)&&!f8e(c,!!s.array))throw new Ki("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s.modifier}" not allowed${e?.type?` in "${e.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s.modifier}" was given.`]})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return PP.set(n,u),u}function Ym(t,e=[],n="",r=0){if(t===""){if(n==="")return e;if(r!==0)throw new Ki("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...e,n.trim()]}const s=t.length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?Ym(a,[...e,n.trim()]):Ym(a,e,`${n}${o}`,r);case"(":return Ym(a,e,`${n}${o}`,r+1);case")":return Ym(a,e,`${n}${o}`,r-1);default:return Ym(a,e,`${n}${o}`,r)}}return[]}function $G(t){return t==="address"||t==="bool"||t==="function"||t==="string"||OG.test(t)||DG.test(t)}var d8e=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function h8e(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||OG.test(t)||DG.test(t)||d8e.test(t)}function f8e(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function p8e(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!BG(a))continue;const c=i8e(a);if(!c)throw new Ki("Invalid struct signature.",{details:a});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const g=RC(p,{type:"struct"});u.push(g)}if(!u.length)throw new Ki("Invalid struct signature.",{details:a,metaMessages:["No properties exist."]});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=UG(c,e)}return r}var m8e=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function UG(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(MG.test(o.type))r.push(o);else{const c=z6(m8e,o.type);if(!c?.type)throw new Ki("Invalid ABI parameter.",{details:JSON.stringify(o,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new Ki("Circular reference detected.",{metaMessages:[`Struct "${u}" is a circular reference.`]});r.push({...o,type:`tuple${l??""}`,components:UG(e[u]??[],e,new Set([...n,u]))})}else if($G(u))r.push(o);else throw new Ki("Unknown type.",{metaMessages:[`Type "${u}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return r}function g8e(t){let e;if(typeof t=="string")e=RC(t,{modifiers:E$});else{const n=p8e(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!BG(i)){e=RC(i,{modifiers:E$,structs:n});break}}}if(!e)throw new Ki("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return e}const Mr=32;function IN(t=0){var e;if(((e=globalThis.Buffer)===null||e===void 0?void 0:e.alloc)!==void 0){const n=globalThis.Buffer.alloc(t);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return new Uint8Array(t)}function FG(t){var e,n;return Object.assign(Object.assign({},t),{name:(e=t.name)!==null&&e!==void 0?e:"",components:(n=t.components)===null||n===void 0?void 0:n.map(r=>FG(r))})}function y8e(t){return!It(t)&&typeof t=="object"&&!It(t.type)&&typeof t.type=="string"}function jG(t){return t.map(e=>{var n;if(y8e(e))return e;if(typeof e=="string")return FG(g8e(e.replace(/tuple/,"")));if(XDe(e)){const r=Object.keys(e)[0],s=NG(r);return s.name=(n=s.name)!==null&&n!==void 0?n:"",Object.assign(Object.assign({},s),{components:kG(e[r])})}throw new gn("Invalid abi")})}function W6(t){const e=t.type.lastIndexOf("["),n=t.type.substring(0,e),r=t.type.substring(e);let s=-1;if(r!=="[]"&&(s=Number(r.slice(1,-1)),isNaN(s)))throw new gn("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:t.components},size:s}}function NC(t){var e,n;return t.type==="string"||t.type==="bytes"||t.type.endsWith("[]")?!0:t.type==="tuple"?(n=(e=t.components)===null||e===void 0?void 0:e.some(NC))!==null&&n!==void 0?n:!1:t.type.endsWith("]")?NC(W6(t).param):!1}const VG=20,HG=Mr-VG;function w8e(t,e){if(typeof e!="string")throw new gn("address type expects string as input type",{value:e,name:t.name,type:t.type});let n=e.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!No(n))throw new gn("provided input is not valid address",{value:e,name:t.name,type:t.type});const r=Wp(n),s=IN(Mr);return s.set(r,HG),{dynamic:!1,encoded:s}}function b8e(t,e){const n=e.subarray(HG,Mr);if(n.length!==VG)throw new gn("Invalid decoding input, not enough bytes to decode address",{bytes:e});const r=Ou(n);return{result:hl(r),encoded:e.subarray(Mr),consumed:Mr}}const yh=new Map;let Q1=BigInt(256);for(let t=8;t<=256;t+=8)yh.set(`uint${t}`,{min:BigInt(0),max:Q1-BigInt(1)}),yh.set(`int${t}`,{min:-Q1/BigInt(2),max:Q1/BigInt(2)-BigInt(1)}),Q1*=BigInt(256);yh.set("int",yh.get("int256"));yh.set("uint",yh.get("uint256"));const qG=BigInt(1)<<BigInt(256);function v8e(t,e=Mr){let n;return t<0?n=(qG+t).toString(16):n=t.toString(16),n=e0(n,e*2),Wp(n)}function _8e(t,e){const n=Ou(t),r=BigInt(n);return r<=e?r:r-qG}function C_(t,e){let n;try{n=Of(e)}catch{throw new gn("provided input is not number value",{type:t.type,value:e,name:t.name})}const r=yh.get(t.type);if(!r)throw new gn("provided abi contains invalid number datatype",{type:t.type});if(n<r.min)throw new gn("provided input is less then minimum for given type",{type:t.type,value:e,name:t.name,minimum:r.min.toString()});if(n>r.max)throw new gn("provided input is greater then maximum for given type",{type:t.type,value:e,name:t.name,maximum:r.max.toString()});return{dynamic:!1,encoded:v8e(n)}}function c0(t,e){if(e.length<Mr)throw new gn("Not enough bytes left to decode",{param:t,bytesLeft:e.length});const n=e.subarray(0,Mr),r=yh.get(t.type);if(!r)throw new gn("provided abi contains invalid number datatype",{type:t.type});const s=_8e(n,r.max);if(s<r.min)throw new gn("decoded value is less then minimum for given type",{type:t.type,value:s,name:t.name,minimum:r.min.toString()});if(s>r.max)throw new gn("decoded value is greater then maximum for given type",{type:t.type,value:s,name:t.name,maximum:r.max.toString()});return{result:s,encoded:e.subarray(Mr),consumed:Mr}}function E8e(t,e){let n;try{n=xW(e)}catch(r){if(r instanceof s6)throw new gn("provided input is not valid boolean value",{type:t.type,value:e,name:t.name})}return C_({type:"uint8",name:""},Number(n))}function A8e(t,e){const n=c0({type:"uint8",name:""},e);if(n.result>1||n.result<0)throw new gn("Invalid boolean value encoded",{boolBytes:e.subarray(0,Mr),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:Mr}}const C8e=32;function zG(t,e){if(typeof e=="string"&&e.length%2!==0&&(e+="0"),!xh(e))throw new gn("provided input is not valid bytes value",{type:t.type,value:e,name:t.name});const n=cl(e),[,r]=t.type.split("bytes");if(r){if(Number(r)>C8e||Number(r)<1)throw new gn("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:t.type});if(Number(r)<n.length)throw new gn("provided input size is different than type size",{type:t.type,value:e,name:t.name});const o=IN(Mr);return o.set(n),{dynamic:!1,encoded:o}}const s=Math.ceil(n.length/Mr),i=IN(Mr+s*Mr);return i.set(C_({type:"uint32",name:""},n.length).encoded),i.set(n,Mr),{dynamic:!0,encoded:i}}function WG(t,e){const[,n]=t.type.split("bytes");let r=Number(n),s=e,i=1,o=0;if(!r){const a=c0({type:"uint32",name:""},s);r=Number(a.result),o+=a.consumed,s=a.encoded,i=Math.ceil(r/Mr)}if(r>e.length)throw new gn("there is not enough data to decode",{type:t.type,encoded:e,size:r});return{result:cn(s.subarray(0,r)),encoded:s.subarray(i*Mr),consumed:o+i*Mr}}function I8e(t,e){if(typeof e!="string")throw new gn("invalid input, should be string",{input:e});const n=m6(e);return zG({type:"bytes",name:""},n)}function T8e(t,e){const n=WG({type:"bytes"},e);return{result:IT(n.result),encoded:n.encoded,consumed:n.consumed}}function GG(t){let e=0,n=0;const r=[],s=[];for(const i of t)i.dynamic?e+=Mr:e+=i.encoded.length;for(const i of t)i.dynamic?(r.push(C_({type:"uint256",name:""},e+n)),s.push(i),n+=i.encoded.length):r.push(i);return Pi(...r.map(i=>i.encoded),...s.map(i=>i.encoded))}function S8e(t,e){if(!Array.isArray(e))throw new gn("Expected value to be array",{abi:t,values:e});const{size:n,param:r}=W6(t),s=e.map(a=>TN(r,a)),i=n===-1,o=s.length>0&&s[0].dynamic;if(!i&&e.length!==n)throw new gn("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:e.length});if(i||o){const a=GG(s);if(i){const c=C_({type:"uint256",name:""},s.length).encoded;return{dynamic:!0,encoded:s.length>0?Pi(c,a):c}}return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Pi(...s.map(a=>a.encoded))}}function x8e(t,e){let{size:n,param:r}=W6(t);const s=n===-1;let i=0;const o=[];let a=e;if(s){const l=c0({type:"uint32",name:""},e);n=Number(l.result),i=l.consumed,a=l.encoded}if(NC(r)){for(let l=0;l<n;l+=1){const u=c0({type:"uint32",name:""},a.subarray(l*Mr));i+=u.consumed;const d=kC(r,a.subarray(Number(u.result)));i+=d.consumed,o.push(d.result)}return{result:o,encoded:a.subarray(i),consumed:i}}for(let l=0;l<n;l+=1){const u=kC(r,e.subarray(i));i+=u.consumed,o.push(u.result)}return{result:o,encoded:e.subarray(i),consumed:i}}function TN(t,e){if(t.type==="string")return I8e(t,e);if(t.type==="bool")return E8e(t,e);if(t.type==="address")return w8e(t,e);if(t.type==="tuple")return G6(t,e);if(t.type.endsWith("]"))return S8e(t,e);if(t.type.startsWith("bytes"))return zG(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return C_(t,e);throw new gn("Unsupported",{param:t,value:e})}function kC(t,e){if(t.type==="string")return T8e(t,e);if(t.type==="bool")return A8e(t,e);if(t.type==="address")return b8e(t,e);if(t.type==="tuple")return KG(t,e);if(t.type.endsWith("]"))return x8e(t,e);if(t.type.startsWith("bytes"))return WG(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return c0(t,e);throw new gn("Unsupported",{param:t,bytes:e})}function G6(t,e){var n,r,s;let i=!1;if(!Array.isArray(e)&&typeof e!="object")throw new gn("param must be either Array or Object",{param:t,input:e});const o=e,a=[];for(let c=0;c<((r=(n=t.components)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);c+=1){const l=t.components[c];let u;if(Array.isArray(o)){if(c>=o.length)throw new gn("input param length missmatch",{param:t,input:e});u=TN(l,o[c])}else{const d=o[(s=l.name)!==null&&s!==void 0?s:""];if(d==null)throw new gn("missing input defined in abi",{param:t,input:e,paramName:l.name});u=TN(l,d)}u.dynamic&&(i=!0),a.push(u)}return i?{dynamic:!0,encoded:GG(a)}:{dynamic:!1,encoded:Pi(...a.map(c=>c.encoded))}}function KG(t,e){const n={__length__:0};let r=0;if(!t.components)return{result:n,encoded:e,consumed:r};let s=0;for(const[i,o]of t.components.entries()){let a;if(NC(o)){const c=c0({type:"uint32",name:""},e.subarray(r));a=kC(o,e.subarray(Number(c.result))),r+=c.consumed,s+=a.consumed}else a=kC(o,e.subarray(r)),r+=a.consumed;n.__length__+=1,n[i]=a.result,o.name&&o.name!==""&&(n[o.name]=a.result)}return{encoded:e.subarray(r+s),result:n,consumed:r+s}}function P8e(t,e,n){const r=jG(t),s=Wp(e);return KG({components:r},s).result}function QG(t){const e=[];return t.forEach(n=>{if(Array.isArray(n)){const r=QG(n);e.push({type:"tuple",components:r,name:""})}else e.push({type:Au(n,!0)})}),e}function $T(t,e){if(t?.length!==e.length)throw new gn("Invalid number of values received for given ABI",{expected:t?.length,received:e.length});const n=jG(t);return Ou(G6({type:"tuple",name:"",components:n},e).encoded)}function R8e(t){try{const e=QG(t);return Ou(G6({type:"tuple",name:"",components:e},t).encoded)}catch{throw new gn("Could not infer types from given params",{params:t})}}const SN=(t,e)=>$T([t],[e]),YG=(t,e,n)=>{try{if(t.length>0&&(!e||e==="0x"||e==="0X"))throw new gn("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return P8e(t,`0x${e.replace(/0x/i,"")}`,n)}catch(r){throw new gn(`Parameter decoding error: ${r.message}`,{internalErr:r})}},Yf=(t,e)=>YG(t,e,!1),ZG=(t,e)=>Yf([t],e)[0],Tv=t=>{if(typeof t!="string"&&!BT(t))throw new gn("Invalid parameter value in encodeFunctionSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=uu(t):e=t,ko(e).slice(0,10)},N8e=(t,e)=>{var n;if(!BT(t))throw new gn("Invalid parameter value in encodeFunctionCall");return`${Tv(t)}${$T((n=t.inputs)!==null&&n!==void 0?n:[],e??[]).replace("0x","")}`},xN=(t,e,n=!0)=>{const r=n&&e&&e.length>=10&&e.startsWith("0x")?e.slice(10):e;if(!t.inputs)throw new Ii("No inputs found in the ABI");const s=Yf([...t.inputs],r);return Object.assign(Object.assign({},s),{__method__:uu(t)})},k8e=(t,e)=>{if(t.type==="constructor")return e;if(!e)return null;const n=e.length>=2?e.slice(2):e;if(!t.outputs)return null;const r=Yf([...t.outputs],n);return r.__length__===1?r[0]:r},O8e=["bool","string","int","uint","address","fixed","ufixed"],D8e=(t,e)=>t==="string"?e:ZG(t,e),JG=(t,e,n)=>{const r=Array.isArray(n)?n:[n],s={},i={};for(const[h,f]of t.entries())f.indexed?s[h]=f:i[h]=f;const o=e?YG(Object.values(i),e,!0):{__length__:0},a=r.length-Object.keys(s).length,c=Object.values(s).map((h,f)=>O8e.some(p=>h.type.startsWith(p))?D8e(h.type,r[f+a]):r[f+a]),l={__length__:0};let u=0,d=0;for(const[h,f]of t.entries())l[h]=f.type==="string"?"":void 0,s[h]&&(l[h]=c[u],u+=1),i[h]&&(l[h]=o[String(d)],d+=1),f.name&&(l[f.name]=l[h]),l.__length__+=1;return l},$E=(t,e)=>{if(e?.data){let n,r,s;try{const i=e.data.slice(0,10),o=t.find(a=>e8e(a).startsWith(i));o?.inputs?(n=o.name,r=uu(o),s=Yf([...o.inputs],e.data.substring(10))):e.data.startsWith("0x08c379a0")?(n="Error",r="Error(string)",s=Yf([{name:"message",type:"string"}],e.data.substring(10))):e.data.startsWith("0x4e487b71")?(n="Panic",r="Panic(uint256)",s=Yf([{name:"code",type:"uint256"}],e.data.substring(10))):console.error("No matching error abi found for error data",e.data)}catch(i){console.error(i)}n&&e.setDecodedProperties(n,r,s)}};var M8e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const L8e=(t,e)=>{var n,r,s,i,o;if(t instanceof Wf&&t.cause instanceof gT){if(e!==void 0){const a=e.filter(c=>LT(c));return $E(a,t.cause),{reason:t.cause.message,signature:(n=t.cause.data)===null||n===void 0?void 0:n.slice(0,10),data:(r=t.cause.data)===null||r===void 0?void 0:r.substring(10),customErrorName:t.cause.errorName,customErrorDecodedSignature:t.cause.errorSignature,customErrorArguments:t.cause.errorArgs}}return{reason:t.cause.message,signature:(s=t.cause.data)===null||s===void 0?void 0:s.slice(0,10),data:(i=t.cause.data)===null||i===void 0?void 0:i.substring(10)}}if(t instanceof yT&&!Array.isArray((o=t.cause)===null||o===void 0?void 0:o.errors)&&t.cause!==void 0)return t.cause.message;throw t};function XG(t,e,n){return M8e(this,arguments,void 0,function*(r,s,i,o=r.defaultReturnFormat){try{yield Z6(r,s,r.defaultBlock,o);return}catch(a){return L8e(a,i)}})}var B8e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function RP(t,e,n,r,s,i){return B8e(this,void 0,void 0,function*(){let o=i;o===void 0&&t.handleRevert&&e!==void 0&&(o=yield XG(t,e,s));let a;if(o===void 0)a=new Vz(n);else if(typeof o=="string")a=new aC(o,void 0,n);else if(o.customErrorName!==void 0&&o.customErrorDecodedSignature!==void 0&&o.customErrorArguments!==void 0){const c=o;a=new jz(c.reason,c.customErrorName,c.customErrorDecodedSignature,c.customErrorArguments,c.signature,n,c.data)}else a=new aC(o.reason,o.signature,n,o.data);return a})}const K6=(t,e,n,r=Ci)=>{var s,i,o,a,c,l;let u=Object.assign({},t);const d=Re($0,e,r);if([a0,"allEvents"].includes(u.name)){const f=n.find(p=>p.signature===e.topics[0]);f?u=f:u={anonymous:!0}}if(u.inputs=(i=(s=u.inputs)!==null&&s!==void 0?s:t.inputs)!==null&&i!==void 0?i:[],!u.anonymous){let f=0;((o=u.inputs)!==null&&o!==void 0?o:[]).forEach(p=>{p.indexed&&(f+=1)}),f>0&&e?.topics&&e?.topics.length!==f+1&&(u=Object.assign(Object.assign({},u),{anonymous:!0,inputs:[]}))}const h=u.anonymous?e.topics:((a=e.topics)!==null&&a!==void 0?a:[]).slice(1);return Object.assign(Object.assign({},d),{returnValues:JG([...(c=u.inputs)!==null&&c!==void 0?c:[]],e.data,h),event:u.name,signature:!u.anonymous&&((l=e.topics)===null||l===void 0?void 0:l.length)>0&&e.topics[0]?e.topics[0]:void 0,raw:{data:e.data,topics:e.topics}})};var hf=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class eK{constructor({options:e,web3Context:n,promiEvent:r,returnFormat:s}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=n,this.promiEvent=r,this.returnFormat=s}getReceiptWithEvents(e){var n,r;const s=Object.assign({},e??{});if(!((n=this.options)===null||n===void 0)&&n.contractAbi&&s.logs&&s.logs.length>0){s.events={};for(const i of s.logs){const o=K6(vN,i,(r=this.options)===null||r===void 0?void 0:r.contractAbi,this.returnFormat);o.event&&(s.events[o.event]=o)}}return s}checkRevertBeforeSending(e){return hf(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let n=e;de(e.data)&&de(e.input)&&de(e.gas)&&(n=Object.assign(Object.assign({},e),{gas:21e3}));const r=yield XG(this.web3Context,n,this.options.contractAbi);if(r!==void 0)throw yield RP(this.web3Context,e,void 0,void 0,this.options.contractAbi,r)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){return hf(this,arguments,void 0,function*({transactionFormatted:n,transaction:r}){var s;let i=n;return!this.web3Context.config.ignoreGasPricing&&!(!((s=this.options)===null||s===void 0)&&s.ignoreGasPricing)&&de(n.gasPrice)&&(de(r.maxPriorityFeePerGas)||de(r.maxFeePerGas))&&(i=Object.assign(Object.assign({},n),yield SG(n,this.web3Context,Bt))),i})}signAndSend(e){return hf(this,arguments,void 0,function*({wallet:n,tx:r}){if(n){const s=yield n.signTransaction(r);return AN(this.web3Context,()=>hf(this,void 0,void 0,function*(){return _G(this.web3Context.requestManager,s.rawTransaction)}),s.transactionHash)}return AN(this.web3Context,()=>hf(this,void 0,void 0,function*(){return H3e(this.web3Context.requestManager,r)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){return hf(this,arguments,void 0,function*({error:n,tx:r}){var s;let i=n;return i instanceof Wf&&this.web3Context.handleRevert&&(i=yield RP(this.web3Context,r,void 0,void 0,(s=this.options)===null||s===void 0?void 0:s.contractAbi)),(i instanceof yT||i instanceof Wf||i instanceof jz||i instanceof Vz||i instanceof aC||i instanceof Wz)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",i),i})}emitConfirmation({receipt:e,transactionHash:n,customTransactionReceiptSchema:r}){this.promiEvent.listenerCount("confirmation")>0&&ZDe(this.web3Context,this.promiEvent,e,n,this.returnFormat,r)}handleResolve(e){return hf(this,arguments,void 0,function*({receipt:n,tx:r}){var s,i,o;if(!((s=this.options)===null||s===void 0)&&s.transactionResolver)return(i=this.options)===null||i===void 0?void 0:i.transactionResolver(n);if(n.status===BigInt(0)){const a=yield RP(this.web3Context,r,n,void 0,(o=this.options)===null||o===void 0?void 0:o.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",a),a}else return n})}}var zn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},$8e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const U8e=t=>zn(void 0,void 0,void 0,function*(){return vG(t.requestManager)});function F8e(t,e){return zn(this,void 0,void 0,function*(){const n=yield x3e(t.requestManager);return Re({format:"uint"},n,e??t.defaultReturnFormat)})}function Q6(t,e){return zn(this,void 0,void 0,function*(){const n=yield P3e(t.requestManager);return Re({format:"uint"},n,e??t.defaultReturnFormat)})}function j8e(t,e){return zn(this,void 0,void 0,function*(){const n=yield R3e(t.requestManager);return Re({format:"uint"},n,e??t.defaultReturnFormat)})}function Y6(t,e){return zn(this,void 0,void 0,function*(){const n=yield k3e(t.requestManager);return Re({format:"uint"},n,e??t.defaultReturnFormat)})}function V8e(t,e){return zn(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const o=Ts(s)?s:Re({format:"uint"},s,Bt),a=yield O3e(n.requestManager,r,o);return Re({format:"uint"},a,i??n.defaultReturnFormat)})}function H8e(t,e,n){return zn(this,arguments,void 0,function*(r,s,i,o=r.defaultBlock,a){const c=Re({format:"uint"},i,Bt),l=Ts(o)?o:Re({format:"uint"},o,Bt),u=yield D3e(r.requestManager,s,c,l);return Re({format:"bytes"},u,a??r.defaultReturnFormat)})}function q8e(t,e){return zn(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const o=Ts(s)?s:Re({format:"uint"},s,Bt),a=yield F3e(n.requestManager,r,o);return Re({format:"bytes"},a,i??n.defaultReturnFormat)})}function tK(t){return zn(this,arguments,void 0,function*(e,n=e.defaultBlock,r=!1,s){var i;let o;if(xh(n)){const c=Re({format:"bytes32"},n,Bt);o=yield W3e(e.requestManager,c,r)}else{const c=Ts(n)?n:Re({format:"uint"},n,Bt);o=yield EG(e.requestManager,c,r)}const a=Re(PC,o,s??e.defaultReturnFormat);return de(a)?a:Object.assign(Object.assign({},a),{transactions:(i=a.transactions)!==null&&i!==void 0?i:[]})})}function z8e(t){return zn(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let s;if(xh(n)){const i=Re({format:"bytes32"},n,Bt);s=yield L3e(e.requestManager,i)}else{const i=Ts(n)?n:Re({format:"uint"},n,Bt);s=yield B3e(e.requestManager,i)}return Re({format:"uint"},s,r??e.defaultReturnFormat)})}function W8e(t){return zn(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let s;if(xh(n)){const i=Re({format:"bytes32"},n,Bt);s=yield $3e(e.requestManager,i)}else{const i=Ts(n)?n:Re({format:"uint"},n,Bt);s=yield U3e(e.requestManager,i)}return Re({format:"uint"},s,r??e.defaultReturnFormat)})}function G8e(t){return zn(this,arguments,void 0,function*(e,n=e.defaultBlock,r,s){const i=Re({format:"uint"},r,Bt);let o;if(xh(n)){const a=Re({format:"bytes32"},n,Bt);o=yield Z3e(e.requestManager,a,i)}else{const a=Ts(n)?n:Re({format:"uint"},n,Bt);o=yield J3e(e.requestManager,a,i)}return Re(PC,o,s??e.defaultReturnFormat)})}function K8e(t,e){return zn(this,arguments,void 0,function*(n,r,s=n.defaultReturnFormat){const i=Re({format:"bytes32"},r,Ci),o=yield G3e(n.requestManager,i);return de(o)?o:so(o,s,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})})}function Q8e(t,e){return zn(this,void 0,void 0,function*(){return(yield lDe(t.requestManager)).map(r=>so(r,e??t.defaultReturnFormat,{transactionSchema:t.config.customTransactionSchema,fillInputAndData:!0}))})}function Y8e(t){return zn(this,arguments,void 0,function*(e,n=e.defaultBlock,r,s){const i=Re({format:"uint"},r,Bt);let o;if(xh(n)){const a=Re({format:"bytes32"},n,Bt);o=yield K3e(e.requestManager,a,i)}else{const a=Ts(n)?n:Re({format:"uint"},n,Bt);o=yield Q3e(e.requestManager,a,i)}return de(o)?o:so(o,s??e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})})}function nK(t,e,n){return zn(this,void 0,void 0,function*(){const r=Re({format:"bytes32"},e,Ci);let s;try{s=yield Y3e(t.requestManager,r)}catch(i){if(typeof i=="object"&&!de(i)&&"message"in i&&i.message==="transaction indexing is in progress")console.warn("Transaction indexing is in progress.");else throw i}return de(s)?s:Re(U0,s,n??t.defaultReturnFormat)})}function rK(t,e){return zn(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const o=Ts(s)?s:Re({format:"uint"},s,Bt),a=yield M3e(n.requestManager,r,o);return Re({format:"uint"},a,i??n.defaultReturnFormat)})}function Sv(t,e,n,r={checkRevertBeforeSending:!0},s){const i=new bG((o,a)=>{setImmediate(()=>{zn(this,void 0,void 0,function*(){const c=new eK({web3Context:t,promiEvent:i,options:r,returnFormat:n});let l=Object.assign({},e);de(s)||(l=yield s.processTransaction(l));let u=so(Object.assign(Object.assign({},l),{from:_N("from",t,l),to:_N("to",t,l)}),Bt,{transactionSchema:t.config.customTransactionSchema});try{u=yield c.populateGasPrice({transaction:l,transactionFormatted:u}),yield c.checkRevertBeforeSending(u),c.emitSending(u);let d;t.wallet&&!de(u.from)&&(d=t.wallet.get(u.from));const h=yield c.signAndSend({wallet:d,tx:u}),f=Re({format:"bytes32"},h,n??t.defaultReturnFormat);c.emitSent(u),c.emitTransactionHash(f);const p=yield RG(t,h,n??t.defaultReturnFormat),g=c.getReceiptWithEvents(Re(U0,p,n??t.defaultReturnFormat));c.emitReceipt(g),o(yield c.handleResolve({receipt:g,tx:u})),c.emitConfirmation({receipt:g,transactionHash:h})}catch(d){a(yield c.handleError({error:d,tx:u}))}})})});return i}function Z8e(t,e,n,r={checkRevertBeforeSending:!0}){const s=new bG((i,o)=>{setImmediate(()=>{zn(this,void 0,void 0,function*(){const a=new eK({web3Context:t,promiEvent:s,options:r,returnFormat:n}),c=Re({format:"bytes"},e,Bt),l=Ap.fromSerializedData(cl(mr(c))),u=Object.assign(Object.assign({},l.toJSON()),{from:l.getSenderAddress().toString()});try{const{v:d,r:h,s:f}=u,p=$8e(u,["v","r","s"]);yield a.checkRevertBeforeSending(p),a.emitSending(c);const g=yield AN(t,()=>zn(this,void 0,void 0,function*(){return _G(t.requestManager,c)}));a.emitSent(c);const y=Re({format:"bytes32"},g,n??t.defaultReturnFormat);a.emitTransactionHash(y);const v=yield RG(t,g,n??t.defaultReturnFormat),b=a.getReceiptWithEvents(Re(U0,v,n??t.defaultReturnFormat));a.emitReceipt(b),i(yield a.handleResolve({receipt:b,tx:u})),a.emitConfirmation({receipt:b,transactionHash:g})}catch(d){o(yield a.handleError({error:d,tx:u}))}})})});return s}function J8e(t,e,n){return zn(this,arguments,void 0,function*(r,s,i,o=r.defaultReturnFormat){var a;const c=Re({format:"bytes"},s,Ci);if(!((a=r.wallet)===null||a===void 0)&&a.get(i)){const d=r.wallet.get(i).sign(c);return Re(LDe,d,o)}if(typeof i=="number")throw new tNe(s,'RPC method "eth_sign" does not support index signatures');const l=yield j3e(r.requestManager,i,c);return Re({format:"bytes"},l,o)})}function X8e(t,e){return zn(this,arguments,void 0,function*(n,r,s=n.defaultReturnFormat){const i=yield V3e(n.requestManager,so(r,Bt,{transactionSchema:n.config.customTransactionSchema}));return u6(i)?FDe(i,s,{fillInputAndData:!0}):{raw:Re({format:"bytes"},i.raw,s),tx:so(i.tx,s,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})}})}function Z6(t,e){return zn(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i=n.defaultReturnFormat){const o=Ts(s)?s:Re({format:"uint"},s,Bt),a=yield q3e(n.requestManager,so(r,Bt,{transactionSchema:n.config.customTransactionSchema}),o);return Re({format:"bytes"},a,i)})}function J6(t,e){return zn(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const o=so(r,Bt,{transactionSchema:n.config.customTransactionSchema}),a=Ts(s)?s:Re({format:"uint"},s,Bt),c=yield z3e(n.requestManager,o,a);return Re({format:"uint"},c,i??n.defaultReturnFormat)})}function sK(t,e,n){return zn(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:s}=e;de(r)||(typeof r=="number"||typeof r=="bigint")&&(r=ls(r)),de(s)||(typeof s=="number"||typeof s=="bigint")&&(s=ls(s));const i=Object.assign(Object.assign({},e),{fromBlock:s,toBlock:r});return(yield iDe(t.requestManager,i)).map(c=>typeof c=="string"?c:Re($0,c,n??t.defaultReturnFormat))})}function iK(t,e){return zn(this,void 0,void 0,function*(){const n=yield dDe(t.requestManager);return Re({format:"uint"},n,e??t.defaultReturnFormat)})}function eMe(t,e,n){return zn(this,arguments,void 0,function*(r,s,i,o=r.defaultBlock,a){const c=i.map(d=>Re({format:"bytes"},d,Bt)),l=Ts(o)?o:Re({format:"uint"},o,Bt),u=yield hDe(r.requestManager,s,c,l);return Re(UDe,u,a??r.defaultReturnFormat)})}function tMe(t,e){return zn(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i,o){const a=Re({format:"uint"},r,Bt),c=Ts(s)?s:Re({format:"uint"},s,Bt),l=Re({type:"array",items:{format:"uint"}},i,MT),u=yield cDe(n.requestManager,a,c,l);return Re(BDe,u,o??n.defaultReturnFormat)})}function oK(t,e){return zn(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const o=Ts(s)?s:Re({format:"uint"},s,Bt),a=yield pDe(n.requestManager,so(r,Bt,{transactionSchema:n.config.customTransactionSchema}),o);return Re(kDe,a,i??n.defaultReturnFormat)})}function nMe(t,e,n,r,s){return zn(this,void 0,void 0,function*(){const i=yield mDe(t.requestManager,e,n,r);return Re({format:"bytes"},i,s??t.defaultReturnFormat)})}var F0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function rMe(t,e){return F0(this,void 0,void 0,function*(){const n=yield tDe(t.requestManager);return Re({format:"uint"},n,e??t.defaultReturnFormat)})}function sMe(t,e,n){return F0(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:s}=e;de(r)||(typeof r=="number"||typeof r=="bigint")&&(r=ls(r)),de(s)||(typeof s=="number"||typeof s=="bigint")&&(s=ls(s));const i=Object.assign(Object.assign({},e),{fromBlock:s,toBlock:r}),o=yield X3e(t.requestManager,i);return Re({format:"uint"},o,n??t.defaultReturnFormat)})}function iMe(t,e){return F0(this,void 0,void 0,function*(){const n=yield eDe(t.requestManager);return Re({format:"uint"},n,e??t.defaultReturnFormat)})}function oMe(t,e){return F0(this,void 0,void 0,function*(){return yield nDe(t.requestManager,ls(e))})}function aMe(t,e,n){return F0(this,void 0,void 0,function*(){return(yield rDe(t.requestManager,ls(e))).map(i=>typeof i=="string"?i:Re($0,i,n??t.defaultReturnFormat))})}function cMe(t,e,n){return F0(this,void 0,void 0,function*(){return(yield sDe(t.requestManager,ls(e))).map(i=>typeof i=="string"?i:Re($0,i,n??t.defaultReturnFormat))})}class aK extends __{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return Re($0,e,super.returnFormat)}}class A$ extends __{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return Re({format:"string"},e,super.returnFormat)}}class OC extends __{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return Re(DDe,e,super.returnFormat)}}class cK extends __{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if(typeof e=="boolean")this.emit("changed",e);else{const n=Object.fromEntries(Object.entries(e?.status||e).map(([r,s])=>[r.charAt(0).toLowerCase()+r.substring(1),s]));this.emit("changed",e.syncing),this.emit("data",Re(MDe,n,super.returnFormat))}}}var Ht=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const PN={logs:aK,newPendingTransactions:A$,newHeads:OC,syncing:cK,pendingTransactions:A$,newBlockHeaders:OC};class UT extends Ji{constructor(e){if(typeof e=="string"||CC(e)){super({provider:e,registeredSubscriptions:PN});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:PN})),this.getFeeData=this.calculateFeeData}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return Ht(this,void 0,void 0,function*(){return I3e(this.requestManager)})}isSyncing(){return Ht(this,void 0,void 0,function*(){return vG(this.requestManager)})}getCoinbase(){return Ht(this,void 0,void 0,function*(){return T3e(this.requestManager)})}isMining(){return Ht(this,void 0,void 0,function*(){return S3e(this.requestManager)})}getHashrate(e){return Ht(this,void 0,void 0,function*(){var n;return e===void 0&&(e=(n=this.defaultReturnFormat)!==null&&n!==void 0?n:Ci),this.getHashRate(e)})}getHashRate(){return Ht(this,arguments,void 0,function*(e=this.defaultReturnFormat){return F8e(this,e)})}getGasPrice(){return Ht(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Q6(this,e)})}getMaxPriorityFeePerGas(){return Ht(this,arguments,void 0,function*(e=this.defaultReturnFormat){return j8e(this,e)})}calculateFeeData(){return Ht(this,arguments,void 0,function*(e=BigInt(2),n=CT.Gwei){var r;const s=yield this.getBlock(void 0,!1),i=(r=s?.baseFeePerGas)!==null&&r!==void 0?r:void 0;let o;try{o=yield this.getGasPrice()}catch{}let a;try{a=yield this.getMaxPriorityFeePerGas()}catch{}let c;if(i){a=a??n;let l;typeof e=="number"?l=BigInt(Math.floor(e*1e3))/BigInt(1e3):l=e,c=i*l+a}return{gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:a,baseFeePerGas:i}})}getAccounts(){return Ht(this,void 0,void 0,function*(){var e;return((e=yield N3e(this.requestManager))!==null&&e!==void 0?e:[]).map(r=>hl(r))})}getBlockNumber(){return Ht(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Y6(this,e)})}getBalance(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return V8e(this,n,r,s)})}getStorageAt(e,n){return Ht(this,arguments,void 0,function*(r,s,i=this.defaultBlock,o=this.defaultReturnFormat){return H8e(this,r,s,i,o)})}getCode(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return q8e(this,n,r,s)})}getBlock(){return Ht(this,arguments,void 0,function*(e=this.defaultBlock,n=!1,r=this.defaultReturnFormat){return tK(this,e,n,r)})}getBlockTransactionCount(){return Ht(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return z8e(this,e,n)})}getBlockUncleCount(){return Ht(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return W8e(this,e,n)})}getUncle(){return Ht(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return G8e(this,e,n,r)})}getTransaction(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const s=yield K8e(this,n,r);if(!s)throw new PB;return s})}getPendingTransactions(){return Ht(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Q8e(this,e)})}getTransactionFromBlock(){return Ht(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return Y8e(this,e,n,r)})}getTransactionReceipt(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const s=yield nK(this,n,r);if(!s)throw new PB;return s})}getTransactionCount(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return rK(this,n,r,s)})}sendTransaction(e,n=this.defaultReturnFormat,r){return Sv(this,e,n,r,this.transactionMiddleware)}sendSignedTransaction(e,n=this.defaultReturnFormat,r){return Z8e(this,e,n,r)}sign(e,n){return Ht(this,arguments,void 0,function*(r,s,i=this.defaultReturnFormat){return J8e(this,r,s,i)})}signTransaction(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return X8e(this,n,r)})}call(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return Z6(this,n,r,s)})}estimateGas(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return J6(this,n,r,s)})}getPastLogs(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return sK(this,n,r)})}getWork(){return Ht(this,void 0,void 0,function*(){return oDe(this.requestManager)})}submitWork(e,n,r){return Ht(this,void 0,void 0,function*(){return aDe(this.requestManager,e,n,r)})}requestAccounts(){return Ht(this,void 0,void 0,function*(){return uDe(this.requestManager)})}getChainId(){return Ht(this,arguments,void 0,function*(e=this.defaultReturnFormat){return iK(this,e)})}getNodeInfo(){return Ht(this,void 0,void 0,function*(){return fDe(this.requestManager)})}getProof(e,n){return Ht(this,arguments,void 0,function*(r,s,i=this.defaultBlock,o=this.defaultReturnFormat){return eMe(this,r,s,i,o)})}getFeeHistory(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultBlock,s,i=this.defaultReturnFormat){return tMe(this,n,r,s,i)})}createAccessList(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return oK(this,n,r,s)})}signTypedData(e,n,r,s){return Ht(this,void 0,void 0,function*(){var i;return r===void 0&&(r=!1),s===void 0&&(s=(i=this.defaultReturnFormat)!==null&&i!==void 0?i:Ci),nMe(this,e,n,r,s)})}subscribe(e,n,r){return Ht(this,void 0,void 0,function*(){var s,i;r===void 0&&(r=(s=this.defaultReturnFormat)!==null&&s!==void 0?s:Ci);const o=yield(i=this.subscriptionManager)===null||i===void 0?void 0:i.subscribe(e,n,r);return o instanceof aK&&e==="logs"&&typeof n=="object"&&!It(n.fromBlock)&&Number.isFinite(Number(n.fromBlock))&&setImmediate(()=>{this.getPastLogs(n).then(a=>{for(const c of a)o._processSubscriptionResult(c)}).catch(a=>{o._processSubscriptionError(a)})}),o})}static shouldClearSubscription({sub:e}){return!(e instanceof cK)}clearSubscriptions(e=!1){var n;return(n=this.subscriptionManager)===null||n===void 0?void 0:n.unsubscribe(e?UT.shouldClearSubscription:void 0)}createNewPendingTransactionFilter(){return Ht(this,arguments,void 0,function*(e=this.defaultReturnFormat){return rMe(this,e)})}createNewFilter(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return sMe(this,n,r)})}createNewBlockFilter(){return Ht(this,arguments,void 0,function*(e=this.defaultReturnFormat){return iMe(this,e)})}uninstallFilter(e){return Ht(this,void 0,void 0,function*(){return oMe(this,e)})}getFilterChanges(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return aMe(this,n,r)})}getFilterLogs(e){return Ht(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return cMe(this,n,r)})}}const lMe=t=>{if(!de(t.common)){if(de(t.common.customChain))throw new iNe;if(de(t.common.customChain.chainId))throw new oNe;if(!de(t.chainId)&&t.chainId!==t.common.customChain.chainId)throw new aNe({txChainId:t.chainId,customChainId:t.common.customChain.chainId})}},uMe=t=>{if(!de(t.common)&&!de(t.chain)&&!de(t.hardfork))throw new uNe;if(!de(t.chain)&&de(t.hardfork)||!de(t.hardfork)&&de(t.chain))throw new dNe({chain:t.chain,hardfork:t.hardfork})},dMe=t=>{if(!de(t.common)&&!de(t.common.baseChain)&&!de(t.chain)&&t.chain!==t.common.baseChain)throw new cNe({txChain:t.chain,baseChain:t.common.baseChain})},hMe=t=>{if(!de(t.common)&&!de(t.common.hardfork)&&!de(t.hardfork)&&t.hardfork!==t.common.hardfork)throw new lNe({txHardfork:t.hardfork,commonHardfork:t.common.hardfork})},C$=t=>{if(de(t.gas)||!Eu(t.gas)||de(t.gasPrice)||!Eu(t.gasPrice))throw new gNe({gas:t.gas,gasPrice:t.gasPrice});if(!de(t.maxFeePerGas)||!de(t.maxPriorityFeePerGas))throw new Hz({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas})},I$=t=>{if(!de(t.gasPrice)&&t.type==="0x2")throw new wNe(t.gasPrice);if(t.type==="0x0"||t.type==="0x1")throw new Hz({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas});if(de(t.maxFeePerGas)||!Eu(t.maxFeePerGas)||de(t.maxPriorityFeePerGas)||!Eu(t.maxPriorityFeePerGas))throw new yNe({maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},fMe=t=>{const e=!de(t.gas)||!de(t.gasLimit),n=e&&!de(t.gasPrice),r=e&&!de(t.maxPriorityFeePerGas)&&!de(t.maxFeePerGas);if(!n&&!r)throw new fNe({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});if(n&&r)throw new mNe({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});(n?C$:I$)(t),(!de(t.type)&&t.type>"0x1"?I$:C$)(t)},pMe=(t,e,n={transactionSchema:void 0})=>{if(!de(e)){e(t);return}if(typeof t!="object"||de(t))throw new bNe(t);lMe(t),uMe(t),dMe(t),hMe(t);const r=so(t,Bt,{transactionSchema:n.transactionSchema});if(fMe(r),de(r.nonce)||de(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new vNe({nonce:t.nonce,chainId:t.chainId})};var mMe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const gMe=t=>{var e,n;return Object.assign(Object.assign({},t),{nonce:t.nonce,gasPrice:t.gasPrice,gasLimit:(e=t.gasLimit)!==null&&e!==void 0?e:t.gas,to:t.to,value:t.value,data:(n=t.data)!==null&&n!==void 0?n:t.input,type:t.type,chainId:t.chainId,accessList:t.accessList,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},yMe=(t,e)=>{var n,r,s,i,o,a,c,l,u,d,h,f,p,g,y,v,b,_;const S=!de(t.chain)&&!de(t.hardfork)||!de(t.common);let C;if(!S)e.defaultCommon?(C=Object.assign({},e.defaultCommon),de(C.hardfork)&&(C.hardfork=(n=t.hardfork)!==null&&n!==void 0?n:e.defaultHardfork),de(C.baseChain)&&(C.baseChain=e.defaultChain)):C=ss.custom({name:"custom-network",chainId:Zi(t.chainId),networkId:de(t.networkId)?void 0:Zi(t.networkId),defaultHardfork:(r=t.hardfork)!==null&&r!==void 0?r:e.defaultHardfork},{baseChain:e.defaultChain});else{const x=(a=(o=(i=(s=t?.common)===null||s===void 0?void 0:s.customChain)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:t.chain)!==null&&a!==void 0?a:"custom-network",I=Zi((u=(l=(c=t?.common)===null||c===void 0?void 0:c.customChain)===null||l===void 0?void 0:l.chainId)!==null&&u!==void 0?u:t?.chainId),E=Zi((f=(h=(d=t?.common)===null||d===void 0?void 0:d.customChain)===null||h===void 0?void 0:h.networkId)!==null&&f!==void 0?f:t?.networkId),A=(y=(g=(p=t?.common)===null||p===void 0?void 0:p.hardfork)!==null&&g!==void 0?g:t?.hardfork)!==null&&y!==void 0?y:e.defaultHardfork,T=(_=(b=(v=t.common)===null||v===void 0?void 0:v.baseChain)!==null&&b!==void 0?b:t.chain)!==null&&_!==void 0?_:e.defaultChain;I&&E&&x&&(C=ss.custom({name:x,chainId:I,networkId:E,defaultHardfork:A},{baseChain:T}))}return{common:C}},wMe=(t,e,n,...r)=>mMe(void 0,[t,e,n,...r],void 0,function*(s,i,o,a=!1,c=!0){const l=yield WDe({transaction:s,web3Context:i,privateKey:o,fillGasPrice:a,fillGasLimit:c}),u=so(l,Bt,{transactionSchema:i.config.customTransactionSchema});return pMe(u,void 0,{transactionSchema:i.config.customTransactionSchema}),Ap.fromTxData(gMe(u),yMe(u,i))}),T$=({address:t},e,n)=>{var r,s;const i=n?.topics,o=(r=n?.filter)!==null&&r!==void 0?r:{},a={};if(It(n?.fromBlock)||(a.fromBlock=Re(PC.properties.number,n?.fromBlock,{number:fa.HEX,bytes:vu.HEX})),It(n?.toBlock)||(a.toBlock=Re(PC.properties.number,n?.toBlock,{number:fa.HEX,bytes:vu.HEX})),i&&Array.isArray(i))a.topics=[...i];else if(a.topics=[],e&&!e.anonymous&&![a0,"allEvents"].includes(e.name)&&a.topics.push((s=e.signature)!==null&&s!==void 0?s:q6(uu(e))),![a0,"allEvents"].includes(e.name)&&e.inputs)for(const c of e.inputs){if(!c.indexed)continue;const l=o[c.name];if(!l){a.topics.push(null);continue}Array.isArray(l)?a.topics.push(l.map(u=>SN(c.type,u))):c.type==="string"?a.topics.push(t0(l)):a.topics.push(SN(c.type,l))}return a.topics.length||delete a.topics,t&&(a.address=t.toLowerCase()),a},zw=(t,e,n)=>{const r=Array.isArray(t.inputs)?t.inputs.length:0;if(t.inputs&&r!==e.length)throw new Ii(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let s;if(t.inputs?s=$T(Array.isArray(t.inputs)?t.inputs:[],e).replace("0x",""):s=R8e(e).replace("0x",""),JDe(t)){if(!n)throw new Ii("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${s}`:`0x${n}${s}`}return`${Tv(t)}${s}`};class lK extends __{constructor(e,n){super(e,n),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return K6(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const FT=(t,e,n,r)=>{var s,i;const o={};return(!It(t.data)||r==="both")&&(o.data=zw(e,n,(s=t.data)!==null&&s!==void 0?s:t.input)),(!It(t.input)||r==="both")&&(o.input=zw(e,n,(i=t.input)!==null&&i!==void 0?i:t.data)),It(o.input)&&It(o.data)&&(o[r]=zw(e,n)),{data:o.data,input:o.input}},RN=({abi:t,params:e,options:n,contractOptions:r})=>{var s,i,o;if(!((o=(i=(s=n?.input)!==null&&s!==void 0?s:n?.data)!==null&&i!==void 0?i:r.input)!==null&&o!==void 0?o:r.data)&&!n?.to&&!r.address)throw new Ii("Contract address not specified");if(!n?.from&&!r.from)throw new Ii('Contract "from" address not specified');let c=Rh({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const l=FT(c,t,e,n?.dataInputFill);return c=Object.assign(Object.assign({},c),{data:l.data,input:l.input}),c},bMe=({abi:t,params:e,options:n,contractOptions:r})=>{if(!n?.to&&!r.address)throw new Ii("Contract address not specified");let s=Rh({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=FT(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},vMe=({abi:t,params:e,options:n,contractOptions:r})=>{let s=Rh({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,data:r.data},n);const i=FT(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},S$=t=>typeof t=="object"&&!It(t)&&Object.keys(t).length!==0&&!Hd(t),_Me=({abi:t,params:e,options:n,contractOptions:r})=>{if(!n?.to&&!r.address)throw new Ii("Contract address not specified");if(!n?.from&&!r.from)throw new Ii('Contract "from" address not specified');let s=Rh({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=FT(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s};var EMe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class AMe{_contractMethodDeploySend(e){const n={transactionResolver:r=>{if(r.status===BigInt(0))throw new Ii("code couldn't be stored",r);const s=this.parent.clone();return s.options.address=r.contractAddress,s},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return de(this.parent.getTransactionMiddleware())?Sv(this.parent,e,this.parent.defaultReturnFormat,n):Sv(this.parent,e,this.parent.defaultReturnFormat,n,this.parent.getTransactionMiddleware())}constructor(e,n){this.parent=e,this.deployOptions=n;const{args:r,abi:s,contractOptions:i,deployData:o}=this.calculateDeployParams();this.args=r,this.constructorAbi=s,this.contractOptions=i,this.deployData=o}send(e){const n=Object.assign({},e),r=this.populateTransaction(n);return this._contractMethodDeploySend(r)}populateTransaction(e){var n,r;const s=Object.assign(Object.assign({},this.contractOptions),{from:(r=(n=this.contractOptions.from)!==null&&n!==void 0?n:this.parent.defaultAccount)!==null&&r!==void 0?r:void 0}),i=RN({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:s});return i.dataInputFill&&delete i.dataInputFill,i}calculateDeployParams(){var e,n,r,s,i,o;let a=this.parent.options.jsonInterface.find(f=>f.type==="constructor");a||(a={type:"constructor",stateMutability:""});const c=Re({format:"bytes"},(n=(e=this.deployOptions)===null||e===void 0?void 0:e.input)!==null&&n!==void 0?n:this.parent.options.input,Ci),l=Re({format:"bytes"},(s=(r=this.deployOptions)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:this.parent.options.data,Ci);if((!c||c.trim()==="0x")&&(!l||l.trim()==="0x"))throw new Ii("contract creation without any data provided.");const u=(o=(i=this.deployOptions)===null||i===void 0?void 0:i.arguments)!==null&&o!==void 0?o:[],d=Object.assign(Object.assign({},this.parent.options),{input:c,data:l});return{args:u,abi:a,contractOptions:d,deployData:c??l}}estimateGas(e){return EMe(this,arguments,void 0,function*(n,r=this.parent.defaultReturnFormat){const s=Object.assign({},n);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:r,options:s,contractOptions:this.contractOptions})})}encodeABI(){return zw(this.constructorAbi,this.args,Re({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},xN(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var CMe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class IMe extends IC{constructor(e,n){super(e.requestManager,e.registeredSubscriptions),this.parentContract=n}subscribe(e,n){const r=Object.create(null,{subscribe:{get:()=>super.subscribe}});return CMe(this,arguments,void 0,function*(s,i,o=Ci){return r.subscribe.call(this,s,i??this.parentContract.options,o)})}}var ff=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const TMe={logs:lK,newHeads:OC,newBlockHeaders:OC};class Zf extends Ji{get subscriptionManager(){return this._subscriptionManager}constructor(e,n,r,s,i){var o,a,c;const l=Hd(n)?n:Hd(r)?r:void 0;let u;S$(n)?u=n:S$(r)?u=r:u=s;let d;if(typeof n=="object"&&"provider"in n?d=n.provider:typeof r=="object"&&"provider"in r?d=r.provider:typeof s=="object"&&"provider"in s?d=s.provider:d=Zf.givenProvider,super(Object.assign(Object.assign({},u),{provider:d,registeredSubscriptions:TMe})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new IMe(super.subscriptionManager,this),u?.wallet&&(this._wallet=u.wallet),u?.accountProvider&&(this._accountProvider=u.accountProvider),!de(l)&&!de(l.data)&&!de(l.input)&&this.config.contractDataInputFill!=="both")throw new QRe({data:l.data,input:l.input});this._overloadedMethodAbis=new Map;const h=Yl(s)?s:Yl(r)?r:i??this.defaultReturnFormat,f=typeof n=="string"?n:void 0;this.config.contractDataInputFill=(o=l?.dataInputFill)!==null&&o!==void 0?o:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,h),this.defaultReturnFormat!==h&&(this.defaultReturnFormat=h),de(f)||this._parseAndSetAddress(f,h),this.options={address:f,jsonInterface:this._jsonInterface,gas:(a=l?.gas)!==null&&a!==void 0?a:l?.gasLimit,gasPrice:l?.gasPrice,from:l?.from,input:l?.input,data:l?.data},this.syncWithContext=(c=l?.syncWithContext)!==null&&c!==void 0?c:!1,u instanceof Ji&&this.subscribeToContextEvents(u),Object.defineProperty(this.options,"address",{set:p=>this._parseAndSetAddress(p,h),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:p=>this._parseAndSetJsonInterface(p,h),get:()=>this._jsonInterface}),u instanceof Ji&&u.on(_p.CONFIG_CHANGE,p=>{this.setConfig({[p.name]:p.newValue})})}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return this.options.address?e=new Zf([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):e=new Zf([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new AMe(this,e)}getPastEvents(e,n,r){return ff(this,void 0,void 0,function*(){var s;const i=typeof e=="string"?e:a0,o=typeof e!="string"&&!Yl(e)?e:Yl(n)?{}:n,a=Yl(e)?e:Yl(n)?n:r??this.defaultReturnFormat,c=i==="allEvents"||i===a0?vN:this._jsonInterface.find(v=>"name"in v&&v.name===i);if(!c)throw new Ii(`Event ${String(i)} not found.`);const{fromBlock:l,toBlock:u,topics:d,address:h}=T$(this.options,c,o??{}),f=yield sK(this,{fromBlock:l,toBlock:u,topics:d,address:h},a),p=f?f.map(v=>typeof v=="string"?v:K6(c,v,this._jsonInterface,a)):[],g=(s=o?.filter)!==null&&s!==void 0?s:{},y=Object.keys(g);return y.length>0?p.filter(v=>typeof v=="string"?!0:y.every(b=>{var _;if(Array.isArray(g[b]))return g[b].some(C=>String(v.returnValues[b]).toUpperCase()===String(C).toUpperCase());const S=(_=c.inputs)===null||_===void 0?void 0:_.filter(C=>C.name===b)[0];return S?.indexed&&S.type==="string"&&t0(g[b])===String(v.returnValues[b])?!0:String(v.returnValues[b]).toUpperCase()===String(g[b]).toUpperCase()})):p})}_parseAndSetAddress(e,n=this.defaultReturnFormat){this._address=e&&hl(Re({format:"address"},e,n))}decodeMethodData(e){const n=e.slice(0,10),s=this._jsonInterface.filter(i=>i.type!=="error").find(i=>n===Tv(uu(i)));if(!s)throw new Ii(`The ABI for the provided method signature ${n} was not found.`);return xN(s,e)}_parseAndSetJsonInterface(e,n=this.defaultReturnFormat){var r,s;this._functions={},this._methods={},this._events={};let i=[];const o=e.filter(c=>c.type!=="error"),a=e.filter(c=>LT(c));for(const c of o){const l=Object.assign(Object.assign({},c),{signature:""});if(BT(l)){const u=uu(l),d=Tv(u);l.methodNameWithInputs=u,l.signature=d,l.constant=l.stateMutability==="view"||l.stateMutability==="pure"||l.constant,l.payable=l.stateMutability==="payable"||l.payable,this._overloadedMethodAbis.set(l.name,[...(r=this._overloadedMethodAbis.get(l.name))!==null&&r!==void 0?r:[],l]);const h=(s=this._overloadedMethodAbis.get(l.name))!==null&&s!==void 0?s:[],f=this._createContractMethod(h,a),p=this._createContractMethod(h,a,!0);this._functions[u]={signature:d,method:p},this._methods[l.name]=f,this._methods[u]=p,this._methods[d]=p}else if(H6(l)){const u=uu(l),d=q6(u),h=this._createContractEvent(l,n);l.signature=d,(!(u in this._events)||l.name==="bound")&&(this._events[u]=h),this._events[l.name]=h,this._events[d]=h}i=[...i,l]}this._events.allEvents=this._createContractEvent(vN,n),this._jsonInterface=[...i],this._errorsInterface=a}_getAbiParams(e,n){var r;try{return qw((r=e.inputs)!==null&&r!==void 0?r:[],n)}catch(s){throw new Ii(`Invalid parameters for method ${e.name}: ${s.message}`)}}_createContractMethod(e,n,r=!1){const s=e[e.length-1];return(...i)=>{var o,a,c;let l;const u=(a=r?(o=this._overloadedMethodAbis.get(s.name))===null||o===void 0?void 0:o.filter(g=>g.signature===s.signature):this._overloadedMethodAbis.get(s.name))!==null&&a!==void 0?a:[];let d=u[0];const h=n,f=u.filter(g=>{var y;return((y=g.inputs)!==null&&y!==void 0?y:[]).length===i.length});if(u.length===1||f.length===0)l=this._getAbiParams(d,i),Et.validate((c=s.inputs)!==null&&c!==void 0?c:[],l);else{const g=[],y=[];for(const v of f)try{l=this._getAbiParams(v,i),Et.validate(v.inputs,l),y.push(v)}catch(b){g.push(b)}if(y.length===1?[d]=y:y.length>1&&([d]=y,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${y.length} compatible methods: ${JSON.stringify(y.map(v=>`${v.methodNameWithInputs} (signature: ${v.signature})`))} 
	The first one will be used: ${d.methodNameWithInputs}`)),g.length===f.length)throw new Jg(g)}const p={arguments:l,call:(g,y)=>ff(this,void 0,void 0,function*(){return this._contractMethodCall(d,l,h,g,y)}),send:g=>this._contractMethodSend(d,l,h,g),populateTransaction:(g,y)=>{var v,b;let _=y??this.options;_=Object.assign(Object.assign({},_),{input:void 0,from:(b=(v=_?.from)!==null&&v!==void 0?v:this.defaultAccount)!==null&&b!==void 0?b:void 0});const S=RN({abi:s,params:i,options:Object.assign(Object.assign({},g),{dataInputFill:this.config.contractDataInputFill}),contractOptions:_});return S.dataInputFill&&delete S.dataInputFill,S},estimateGas:(g,...y)=>ff(this,[g,...y],void 0,function*(v,b=this.defaultReturnFormat){return this.contractMethodEstimateGas({abi:d,params:l,returnFormat:b,options:v})}),encodeABI:()=>zw(d,l),decodeData:g=>xN(d,g),createAccessList:(g,y)=>ff(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(d,l,h,g,y)})};return d.stateMutability==="payable",p}}_contractMethodCall(e,n,r,s,i){return ff(this,void 0,void 0,function*(){var o;const a=bMe({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(o=this.options.from)!==null&&o!==void 0?o:this.config.defaultAccount})});try{const c=yield Z6(this,a,i,this.defaultReturnFormat);return k8e(e,c)}catch(c){throw c instanceof Wf&&$E(r,c.cause),c}})}_contractMethodCreateAccessList(e,n,r,s,i){return ff(this,void 0,void 0,function*(){var o;const a=_Me({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(o=this.options.from)!==null&&o!==void 0?o:this.config.defaultAccount})});try{return oK(this,a,i,this.defaultReturnFormat)}catch(c){throw c instanceof Wf&&$E(r,c.cause),c}})}_contractMethodSend(e,n,r,s,i){var o,a;let c=i??this.options;c=Object.assign(Object.assign({},c),{input:void 0,from:(a=(o=c.from)!==null&&o!==void 0?o:this.defaultAccount)!==null&&a!==void 0?a:void 0});const l=RN({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:c}),u=de(this.transactionMiddleware)?Sv(this,l,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):Sv(this,l,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return u.on("error",d=>{d instanceof Wf&&$E(r,d.cause)}),u}contractMethodEstimateGas(e){return ff(this,arguments,void 0,function*({abi:n,params:r,returnFormat:s,options:i,contractOptions:o}){const a=vMe({abi:n,params:r,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:o??this.options});return J6(this,a,Xl.LATEST,s??this.defaultReturnFormat)})}_createContractEvent(e,n=this.defaultReturnFormat){return(...r)=>{var s;const{topics:i,fromBlock:o}=T$(this.options,e,r[0]),a=new lK({address:this.options.address,topics:i,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:n});return de(o)||this.getPastEvents(e.name,{fromBlock:o,topics:i},n).then(c=>{c&&c.forEach(l=>a.emit("data",l))}).catch(c=>{a.emit("error",new zl("Failed to get past events.",c))}),(s=this.subscriptionManager)===null||s===void 0||s.addSubscription(a).catch(c=>{a.emit("error",new zl("Failed to subscribe.",c))}),a}}subscribeToContextEvents(e){const n=this;this.context=e,n.syncWithContext&&e.on(_p.CONFIG_CHANGE,r=>{n.setConfig({[r.name]:r.newValue})})}}const x$={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},Vm={setAddr:"addr",addr:"addr",pubkey:"pubkey",contenthash:"contenthash",text:"text",name:"name"},DC={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},SMe={"0x1":"main","0x5":"goerli"},xMe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],PMe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];var RMe="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const P$=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),R$=4;function NMe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let C=1;C<r;C++)i.push(s+=n());let o=n(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const d=31,h=2**d,f=h>>>1,p=f>>1,g=h-1;let y=0;for(let C=0;C<d;C++)y=y<<1|u();let v=[],b=0,_=h;for(;;){let C=Math.floor(((y-b+1)*s-1)/_),x=0,I=r;for(;I-x>1;){let T=x+I>>>1;C<i[T]?I=T:x=T}if(x==0)break;v.push(x);let E=b+Math.floor(_*i[x]/s),A=b+Math.floor(_*i[x+1]/s)-1;for(;((E^A)&f)==0;)y=y<<1&g|u(),E=E<<1&g,A=A<<1&g|1;for(;E&~A&p;)y=y&f|y<<1&g>>>1|u(),E=E<<1^f,A=(A^f)<<1|f|1;b=E,_=1+A-E}let S=r-4;return v.map(C=>{switch(C-S){case 3:return S+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return S+256+(t[a++]<<8|t[a++]);case 1:return S+t[a++];default:return C-1}})}function kMe(t){let e=0;return()=>t[e++]}function uK(t){return kMe(NMe(OMe(t)))}function OMe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,o=0,a=0;s<n;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function DMe(t){return t&1?~t>>1:t>>1}function MMe(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=DMe(e());return n}function xv(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function dK(t){return Pv(()=>{let e=xv(t);if(e.length)return e})}function hK(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(LMe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(BMe(n,t))}return e.flat()}function Pv(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function fK(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)MMe(t,n).forEach((i,o)=>r[o].push(i));return r}function LMe(t,e){let n=1+e(),r=e(),s=Pv(e);return fK(s.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(s[a]).fill().map((u,d)=>{let h=d*r;return[c+d*n,l.map(f=>f+h)]})})}function BMe(t,e){let n=1+e();return fK(n,1+t,e).map(s=>[s[0],s.slice(1)])}function $Me(t){let e=[],n=xv(t);return s(r([]),[]),e;function r(i){let o=t(),a=Pv(()=>{let c=xv(t).map(l=>n[l]);if(c.length)return r(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let l of o)for(let u of l.Q)s(l,[...a,u],c)}}}function UMe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function pK(t){return`{${UMe(t)}}`}function FMe(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function l0(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function jMe(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var VMe="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const Rv=44032,MC=4352,LC=4449,BC=4519,mK=19,gK=21,u0=28,$C=gK*u0,HMe=mK*$C,qMe=Rv+HMe,zMe=MC+mK,WMe=LC+gK,GMe=BC+u0;function pw(t){return t>>24&255}function yK(t){return t&16777215}let NN,N$,kN,UE;function KMe(){let t=uK(VMe);NN=new Map(dK(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),N$=new Set(xv(t)),kN=new Map,UE=new Map;for(let[e,n]of hK(t)){if(!N$.has(e)&&n.length==2){let[r,s]=n,i=UE.get(r);i||(i=new Map,UE.set(r,i)),i.set(s,e)}kN.set(e,n.reverse())}}function wK(t){return t>=Rv&&t<qMe}function QMe(t,e){if(t>=MC&&t<zMe&&e>=LC&&e<WMe)return Rv+(t-MC)*$C+(e-LC)*u0;if(wK(t)&&e>BC&&e<GMe&&(t-Rv)%u0==0)return t+(e-BC);{let n=UE.get(t);return n&&(n=n.get(e),n)?n:-1}}function bK(t){NN||KMe();let e=[],n=[],r=!1;function s(i){let o=NN.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(wK(i)){let o=i-Rv,a=o/$C|0,c=o%$C/u0|0,l=o%u0;s(MC+a),s(LC+c),l>0&&s(BC+l)}else{let o=kN.get(i);o?n.push(...o):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=pw(e[0]);for(let o=1;o<e.length;o++){let a=pw(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=pw(e[--c]),i<=a))break}i=pw(e[o])}}return e}function YMe(t){let e=[],n=[],r=-1,s=0;for(let i of t){let o=pw(i),a=yK(i);if(r==-1)o==0?r=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),s=o;else{let c=QMe(r,a);c>=0?r=c:s==0&&o==0?(e.push(r),r=a):(n.push(a),s=o)}}return r>=0&&e.push(r,...n),e}function vK(t){return bK(t).map(yK)}function ZMe(t){return YMe(bK(t))}const k$=45,_K=".",EK=65039,AK=1,UC=t=>Array.from(t);function Nv(t,e){return t.P.has(e)||t.Q.has(e)}class JMe extends Array{get is_emoji(){return!0}}let ON,CK,Bf,DN,IK,_g,NP,Zm,yf,O$,MN;function X6(){if(ON)return;let t=uK(RMe);const e=()=>xv(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(h=>u.add(h));ON=new Map(hK(t)),CK=n(),Bf=e(),DN=new Set(e().map(u=>Bf[u])),Bf=new Set(Bf),IK=n(),n();let s=dK(t),i=t();const o=()=>{let u=new Set;return e().forEach(d=>r(u,s[d])),r(u,e()),u};_g=Pv(u=>{let d=Pv(t).map(h=>h+96);if(d.length){let h=u>=i;d[0]-=32,d=l0(d),h&&(d=`Restricted[${d}]`);let f=o(),p=o(),g=!t();return{N:d,P:f,Q:p,M:g,R:h}}}),NP=n(),Zm=new Map;let a=e().concat(UC(NP)).sort((u,d)=>u-d);a.forEach((u,d)=>{let h=t(),f=a[d]=h?a[d-h]:{V:[],M:new Map};f.V.push(u),NP.has(u)||Zm.set(u,f)});for(let{V:u,M:d}of new Set(Zm.values())){let h=[];for(let p of u){let g=_g.filter(v=>Nv(v,p)),y=h.find(({G:v})=>g.some(b=>v.has(b)));y||(y={G:new Set,V:[]},h.push(y)),y.V.push(p),r(y.G,g)}let f=h.flatMap(p=>UC(p.G));for(let{G:p,V:g}of h){let y=new Set(f.filter(v=>!p.has(v)));for(let v of g)d.set(v,y)}}yf=new Set;let c=new Set;const l=u=>yf.has(u)?c.add(u):yf.add(u);for(let u of _g){for(let d of u.P)l(d);for(let d of u.Q)l(d)}for(let u of yf)!Zm.has(u)&&!c.has(u)&&Zm.set(u,AK);r(yf,vK(yf)),O$=$Me(t).map(u=>JMe.from(u)).sort(jMe),MN=new Map;for(let u of O$){let d=[MN];for(let h of u){let f=d.map(p=>{let g=p.get(h);return g||(g=new Map,p.set(h,g)),g});h===EK?d.push(...f):d=f}for(let h of d)h.V=u}}function e5(t){return(TK(t)?"":`${t5(jT([t]))} `)+pK(t)}function t5(t){return`"${t}"‎`}function XMe(t){if(t.length>=4&&t[2]==k$&&t[3]==k$)throw new Error(`invalid label extension: "${l0(t.slice(0,4))}"`)}function eLe(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function tLe(t){let e=t[0],n=P$.get(e);if(n)throw Ww(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let o=P$.get(e);if(o){if(s==i)throw Ww(`${n} + ${o}`);s=i+1,n=o}}if(s==r)throw Ww(`trailing ${n}`)}function jT(t,e=1/0,n=pK){let r=[];nLe(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];TK(a)&&(r.push(l0(t.slice(s,o))),r.push(n(a)),s=o+1)}return r.push(l0(t.slice(s,i))),r.join("")}function nLe(t,e){return X6(),Bf.has(t)}function TK(t){return X6(),IK.has(t)}function rLe(t){return aLe(sLe(t,ZMe,uLe))}function sLe(t,e,n){if(!t)return[];X6();let r=0;return t.split(_K).map(s=>{let i=FMe(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=lLe(i,e,n),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(eLe(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(h=>h<128))XMe(u),l="ASCII";else{let h=a.flatMap(f=>f.is_emoji?[]:f);if(!h.length)l="Emoji";else{if(Bf.has(u[0]))throw Ww("leading combining mark");for(let g=1;g<c;g++){let y=a[g];if(!y.is_emoji&&Bf.has(y[0]))throw Ww(`emoji + combining mark: "${l0(a[g-1])} + ${jT([y[0]])}"`)}tLe(u);let f=UC(new Set(h)),[p]=oLe(f);cLe(p,h),iLe(p,f),l=p.N}}o.type=l}catch(a){o.error=a}return o})}function iLe(t,e){let n,r=[];for(let s of e){let i=Zm.get(s);if(i===AK)return;if(i){let o=i.M.get(s);if(n=n?n.filter(a=>o.has(a)):UC(o),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>Nv(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function oLe(t){let e=_g;for(let n of t){let r=e.filter(s=>Nv(s,n));if(!r.length)throw _g.some(s=>Nv(s,n))?xK(e[0],n):SK(n);if(e=r,r.length==1)break}return e}function aLe(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${t5(jT(e,63))}: ${s}`)}return l0(r)}).join(_K)}function SK(t){return new Error(`disallowed character: ${e5(t)}`)}function xK(t,e){let n=e5(e),r=_g.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Ww(t){return new Error(`illegal placement: ${t}`)}function cLe(t,e){for(let n of e)if(!Nv(t,n))throw xK(t,n);if(t.M){let n=vK(e);for(let r=1,s=n.length;r<s;r++)if(DN.has(n[r])){let i=r+1;for(let o;i<s&&DN.has(o=n[i]);i++)for(let a=r;a<i;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${e5(o)}`);if(i-r>R$)throw new Error(`excessive non-spacing marks: ${t5(jT(n.slice(r-1,i)))} (${i-r}/${R$})`);r=i}}}function lLe(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=dLe(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let o=t.pop();if(yf.has(o))s.push(o);else{let a=ON.get(o);if(a)s.push(...a);else if(!CK.has(o))throw SK(o)}}}return s.length&&r.push(e(s)),r}function uLe(t){return t.filter(e=>e!=EK)}function dLe(t,e){let n=MN,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const hLe=t=>rLe(t),kc=t=>{let e="";for(let n=0;n<32;n+=1)e+="00";if(t){const r=hLe(t).split(".");for(let s=r.length-1;s>=0;s-=1){const i=ko(r[s]).slice(2);e=ko(`0x${e}${i}`).slice(2)}}return`0x${e}`};var Y1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class fLe{constructor(e,n){this.contract=new Zf(xMe,n??DC.main,e),this.context=e}getOwner(e){return Y1(this,void 0,void 0,function*(){try{return this.contract.methods.owner(kc(e)).call()}catch{throw new Error}})}getTTL(e){return Y1(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(kc(e)).call()}catch{throw new Error}})}recordExists(e){return Y1(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(kc(e)).call()}catch{throw new Error}})}getResolver(e){return Y1(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(kc(e)).call().then(n=>{if(typeof n=="string")return new Zf(PMe,n,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}}var Ul=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class pLe{constructor(e){this.registry=e}getResolverContractAdapter(e){return Ul(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,n){var r,s;return Ul(this,void 0,void 0,function*(){if(It(x$[n]))throw new SB((r=e.options.address)!==null&&r!==void 0?r:"",n);if(!(yield e.methods.supportsInterface(x$[n]).call()))throw new SB((s=e.options.address)!==null&&s!==void 0?s:"",n)})}supportsInterface(e,n){var r;return Ul(this,void 0,void 0,function*(){const s=yield this.getResolverContractAdapter(e);let i=n;if(!Un(i)){if(i=(r=v_(n))!==null&&r!==void 0?r:"",n==="")throw new Error("Invalid interface Id");i=i.slice(0,10)}return s.methods.supportsInterface(i).call()})}getAddress(e,n=60){return Ul(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,Vm.addr),r.methods.addr(kc(e),n).call()})}getPubkey(e){return Ul(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,Vm.pubkey),n.methods.pubkey(kc(e)).call()})}getContenthash(e){return Ul(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,Vm.contenthash),n.methods.contenthash(kc(e)).call()})}setAddress(e,n,r){return Ul(this,void 0,void 0,function*(){const s=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(s,Vm.setAddr),s.methods.setAddr(kc(e),n).send(r)})}getText(e,n){return Ul(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,Vm.text),r.methods.text(kc(e),n).call()})}getName(e,n=!0){return Ul(this,void 0,void 0,function*(){const r=`${e.toLowerCase().substring(2)}.addr.reverse`,s=yield this.getResolverContractAdapter(r);return n&&(yield this.checkInterfaceSupport(s,Vm.name)),s.methods.name(kc(r)).call()})}}var Jo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,[])).next())})};class PK extends Ji{constructor(e,n){super(n??""),this.registryAddress=e??DC.main,this._registry=new fLe(this.getContextObject(),e),this._resolver=new pLe(this._registry)}getResolver(e){return Jo(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return Jo(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return Jo(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return Jo(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,n=60){return Jo(this,void 0,void 0,function*(){return this._resolver.getAddress(e,n)})}getText(e,n){return Jo(this,void 0,void 0,function*(){return No(e)?this._resolver.getText(yield this._resolver.getName(e,!1),n):this._resolver.getText(e,n)})}getName(e,n=!0){return Jo(this,void 0,void 0,function*(){return this._resolver.getName(e,n)})}getPubkey(e){return Jo(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return Jo(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return Jo(this,void 0,void 0,function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const s=yield U8e(this);if(!(typeof s=="boolean"&&!s))throw new ZRe;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;const n=yield F6(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:fa.HEX})),r=DC[SMe[n]];if(typeof r>"u")throw new YRe(n);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,n){return Jo(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,n)})}get events(){return this._registry.events}setAddress(e,n,r){return Jo(this,void 0,void 0,function*(){return this._resolver.setAddress(e,n,r)})}}var Lu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const mLe=t=>Lu(void 0,void 0,void 0,function*(){return(yield bDe(t)).map(hl)}),gLe=(t,e)=>Lu(void 0,void 0,void 0,function*(){Et.validate(["string"],[e]);const n=yield vDe(t,e);return hl(n)}),yLe=(t,e,n,r)=>Lu(void 0,void 0,void 0,function*(){return Et.validate(["address","string","uint"],[e,n,r]),_De(t,e,n,r)}),wLe=(t,e)=>Lu(void 0,void 0,void 0,function*(){return Et.validate(["address"],[e]),EDe(t,e)}),bLe=(t,e,n)=>Lu(void 0,void 0,void 0,function*(){return Et.validate(["string","string"],[e,n]),ADe(t,e,n)}),vLe=(t,e,n,r)=>Lu(void 0,void 0,void 0,function*(){const s=so(e,Bt,{transactionSchema:r?.customTransactionSchema});return CDe(t,s,n)}),_Le=(t,e,n,r)=>Lu(void 0,void 0,void 0,function*(){const s=so(e,Bt,{transactionSchema:r?.customTransactionSchema});return IDe(t,s,n)}),ELe=(t,e,n,r)=>Lu(void 0,void 0,void 0,function*(){Et.validate(["string","address","string"],[e,n,r]);const s=Un(e)?e:tc(e);return TDe(t,s,n,r)}),ALe=(t,e,n)=>Lu(void 0,void 0,void 0,function*(){Et.validate(["string","string"],[e,n]);const r=Un(e)?e:tc(e);return SDe(t,r,n)});var Fl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class RK extends Ji{getAccounts(){return Fl(this,void 0,void 0,function*(){return mLe(this.requestManager)})}newAccount(e){return Fl(this,void 0,void 0,function*(){return gLe(this.requestManager,e)})}unlockAccount(e,n,r){return Fl(this,void 0,void 0,function*(){return yLe(this.requestManager,e,n,r)})}lockAccount(e){return Fl(this,void 0,void 0,function*(){return wLe(this.requestManager,e)})}importRawKey(e,n){return Fl(this,void 0,void 0,function*(){return bLe(this.requestManager,e,n)})}sendTransaction(e,n){return Fl(this,void 0,void 0,function*(){return vLe(this.requestManager,e,n,this.config)})}signTransaction(e,n){return Fl(this,void 0,void 0,function*(){return _Le(this.requestManager,e,n,this.config)})}sign(e,n,r){return Fl(this,void 0,void 0,function*(){return ELe(this.requestManager,e,n,r)})}ecRecover(e,n){return Fl(this,void 0,void 0,function*(){return ALe(this.requestManager,e,n)})}}var Lc;(function(t){t.HTTPS="https",t.WebSocket="wss"})(Lc||(Lc={}));var Ye;(function(t){t.ETH_MAINNET="eth_mainnet",t.ETH_SEPOLIA="eth_sepolia",t.ETH_HOLESKY="eth_holesky",t.POLYGON_MAINNET="polygon_mainnet",t.POLYGON_AMOY="polygon_amoy",t.AVALANCHE_C_MAINNET="avalanche_c_mainnet",t.AVALANCHE_P_MAINNET="avalanche_p_mainnet",t.AVALANCHE_X_MAINNET="avalanche_x_mainnet",t.ARBITRUM_MAINNET="arbitrum_mainnet",t.ARBITRUM_SEPOLIA="arbitrum_sepolia",t.BASE_MAINNET="base_mainnet",t.BASE_SEPOLIA="base_sepolia",t.OPTIMISM_MAINNET="optimism_mainnet",t.OPTIMISM_SEPOLIA="optimism_sepolia",t.FANTOM_MAINNET="fantom_mainnet",t.FANTOM_TESTNET="fantom_testnet",t.DYMENSION_MAINNET="dymension_mainnet",t.DYMENSION_TESTNET="dymension_testnet",t.BNB_MAINNET="bnb_mainnet",t.BNB_TESTNET="bnb_testnet",t.BSC_MAINNET="bsc_mainnet",t.BSC_TESTNET="bsc_testnet",t.ARBITRUM_ONE="arbitrum_one",t.ARBITRUM_NOVA="arbitrum_nova",t.AVALANCHE_FUJI_C="avalanche_fuji_c",t.AVALANCHE_FUJI_P="avalanche_fuji_p",t.AVALANCHE_FUJI_X="avalanche_fuji_x",t.BLAST_MAINNET="blast_mainnet",t.OPBNB_MAINNET="opbnb_mainnet",t.OPBNB_TESTNET="opbnb_testnet",t.GNOSIS_MAINNET="gnosis_mainnet",t.GNOSIS_CHIADO="gnosis_chiado",t.PULSECHAIN_MAINNET="pulsechain_mainnet",t.PULSECHAIN_TESTNET="pulsechain_testnet",t.KAVA_MAINNET="kava_mainnet",t.CRONOS_MAINNET="cronos_mainnet",t.MANTLE_MAINNET="mantle_mainnet",t.CHILIZ_MAINNET="chiliz_mainnet",t.CHILIZ_SPICY="chiliz_spicy",t.MOONBEAM_MAINNET="moonbeam_mainnet",t.TAIKO_MAINNET="taiko_mainnet",t.TAIKO_HEKLA="taiko_hekla",t.LINEA_MAINNET="linea_mainnet",t.LINEA_SEPOLIA="linea_sepolia",t.BAHAMUT_MAINNET="bahamut_mainnet",t.SCROLL_MAINNET="scroll_mainnet",t.SCROLL_SEPOLIA="scroll_sepolia",t.TRON_MAINNET="tron_mainnet",t.SYSCOIN_MAINNET="syscoin_mainnet",t.SYSCOIN_TANENBAUM="syscoin_tanenbaum",t.MOONRIVER_MAINNET="moonriver_mainnet",t.HAQQ_MAINNET="haqq_mainnet",t.EVMOS_MAINNET="evmos_mainnet",t.EVMOS_TESTNET="evmos_testnet",t.BERACHAIN_TESTNET="berachain_testnet"})(Ye||(Ye={}));const CLe=1300;class ILe extends Ot{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=CLe}}const TLe=1301;class D$ extends Ot{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=TLe}}var SLe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class NK extends C6{constructor(e,n,r,s,i){if(super(),i!==void 0&&n===Lc.HTTPS&&!("providerOptions"in i))throw new D$("HTTP Provider");if(i!==void 0&&n===Lc.WebSocket&&!("socketOptions"in i||"reconnectOptions"in i))throw new D$("Websocket Provider");this.transport=n,n===Lc.HTTPS?this.provider=new RT(this.getRPCURL(e,n,r,s),i):n===Lc.WebSocket&&(this.provider=new HW(this.getRPCURL(e,n,r,s),i?.socketOptions,i?.reconnectOptions))}request(e,n){return SLe(this,void 0,void 0,function*(){return this.transport===Lc.HTTPS?yield this.provider.request(e,n):this.provider.request(e)})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.once&&this.provider.once(e,n)}removeAllListeners(e){var n;!((n=this.provider)===null||n===void 0)&&n.removeAllListeners&&this.provider.removeAllListeners(e)}connect(){var e;!((e=this.provider)===null||e===void 0)&&e.connect&&this.provider.connect()}disconnect(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.disconnect&&this.provider.disconnect(e,n)}reset(){var e;!((e=this.provider)===null||e===void 0)&&e.reset&&this.provider.reset()}on(e,n){this.provider&&this.provider.on(e,n)}removeListener(e,n){this.provider&&this.provider.removeListener(e,n)}}var xLe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const bs=t=>t!==void 0&&t.trim().length>0;class PLe extends NK{constructor(e=Ye.ETH_MAINNET,n=Lc.HTTPS,r="",s="",i){super(e,n,r,s,i)}request(e,n){const r=Object.create(null,{request:{get:()=>super.request}});return xLe(this,void 0,void 0,function*(){try{return yield r.request.call(this,e,n)}catch(s){throw s instanceof Dc&&s.statusCode===429?new ILe(s):s}})}getRPCURL(e,n,r,s){let i="",o="";switch(e){case Ye.ETH_MAINNET:i=bs(s)?s:"powerful-holy-bush.quiknode.pro",o=bs(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case Ye.ETH_SEPOLIA:i=bs(s)?s:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",o=bs(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case Ye.ETH_HOLESKY:i=bs(s)?s:"yolo-morning-card.ethereum-holesky.quiknode.pro",o=bs(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case Ye.ARBITRUM_MAINNET:i=bs(s)?s:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",o=bs(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case Ye.ARBITRUM_SEPOLIA:i=bs(s)?s:"few-patient-pond.arbitrum-sepolia.quiknode.pro",o=bs(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case Ye.BNB_MAINNET:i=bs(s)?s:"purple-empty-reel.bsc.quiknode.pro",o=bs(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case Ye.BNB_TESTNET:i=bs(s)?s:"floral-rough-scion.bsc-testnet.quiknode.pro",o=bs(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case Ye.POLYGON_MAINNET:i=bs(s)?s:"small-chaotic-moon.matic.quiknode.pro",o=bs(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case Ye.POLYGON_AMOY:i=bs(s)?s:"prettiest-side-shape.matic-amoy.quiknode.pro",o=bs(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${n}://${i}/${o}`}}const RLe=t=>t!==void 0&&t.trim().length>0,NLe=[Ye.DYMENSION_MAINNET,Ye.DYMENSION_TESTNET,Ye.KAVA_MAINNET,Ye.CRONOS_MAINNET,Ye.POLYGON_MAINNET];class FC extends NK{constructor(e=Ye.ETH_MAINNET,n=Lc.HTTPS,r="",s){super(e,n,"",r,s)}getRPCURL(e,n,r,s){if(!FC.networkHostMap[e])throw new Error("Network info not avalible.");const i=`${FC.networkHostMap[e]}.publicnode.com`,o=RLe(s)?s:i;return NLe.includes(e)&&n===Lc.WebSocket?`${n}://${o}/websocket`:`${n}://${o}`}}FC.networkHostMap={[Ye.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[Ye.DYMENSION_MAINNET]:"dymension-evm-rpc",[Ye.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[Ye.BLAST_MAINNET]:"blast-rpc",[Ye.GNOSIS_MAINNET]:"gnosis-rpc",[Ye.PULSECHAIN_MAINNET]:"pulsechain-rpc",[Ye.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[Ye.KAVA_MAINNET]:"kava-evm-rpc",[Ye.CRONOS_MAINNET]:"cronos-evm-rpc",[Ye.MANTLE_MAINNET]:"mantle-rpc",[Ye.TAIKO_MAINNET]:"taiko-rpc",[Ye.TAIKO_HEKLA]:"taiko-hekla-rpc",[Ye.LINEA_MAINNET]:"linea-rpc",[Ye.LINEA_SEPOLIA]:"linea-sepolia-rpc",[Ye.SCROLL_MAINNET]:"scroll-rpc",[Ye.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[Ye.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[Ye.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[Ye.HAQQ_MAINNET]:"haqq-evm-rpc",[Ye.EVMOS_MAINNET]:"evmos-evm-rpc",[Ye.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[Ye.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[Ye.ETH_MAINNET]:"ethereum-rpc",[Ye.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[Ye.ETH_HOLESKY]:"ethereum-holesky-rpc",[Ye.BSC_MAINNET]:"bsc-rpc",[Ye.BSC_TESTNET]:"bsc-testnet-rpc",[Ye.POLYGON_MAINNET]:"polygon-bor-rpc",[Ye.BASE_MAINNET]:"base-rpc",[Ye.BASE_SEPOLIA]:"base-sepolia-rpc",[Ye.ARBITRUM_ONE]:"arbitrum-one-rpc",[Ye.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[Ye.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[Ye.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[Ye.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[Ye.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[Ye.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[Ye.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[Ye.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[Ye.OPTIMISM_MAINNET]:"optimism-rpc",[Ye.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[Ye.FANTOM_MAINNET]:"fantom-rpc",[Ye.FANTOM_TESTNET]:"fantom-testnet-rpc",[Ye.OPBNB_MAINNET]:"opbnb-rpc",[Ye.OPBNB_TESTNET]:"opbnb-testnet-rpc",[Ye.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[Ye.CHILIZ_MAINNET]:"chiliz-rpc",[Ye.CHILIZ_SPICY]:"chiliz-spicy-rpc",[Ye.MOONBEAM_MAINNET]:"moonbeam-rpc",[Ye.BAHAMUT_MAINNET]:"bahamut-rpc",[Ye.TRON_MAINNET]:"tron-evm-rpc",[Ye.MOONRIVER_MAINNET]:"moonriver-rpc"};const kLe=new PLe,OLe={encodeEventSignature:q6,encodeFunctionCall:N8e,encodeFunctionSignature:Tv,encodeParameter:SN,encodeParameters:$T,decodeParameter:ZG,decodeParameters:Yf,decodeLog:JG};var sw=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const DLe=t=>{const e=(o,a)=>sw(void 0,void 0,void 0,function*(){const c=yield wMe(o,t),l=Re({format:"bytes"},a,Bt);return y3e(c,l)}),n=o=>{const a=L6(o);return Object.assign(Object.assign({},a),{signTransaction:c=>sw(void 0,void 0,void 0,function*(){return e(c,a.privateKey)})})},r=(o,a,c)=>sw(void 0,void 0,void 0,function*(){var l;const u=yield _3e(o,a,(l=c?.nonStrict)!==null&&l!==void 0?l:!0);return Object.assign(Object.assign({},u),{signTransaction:d=>sw(void 0,void 0,void 0,function*(){return e(d,u.privateKey)})})}),s=()=>{const o=v3e();return Object.assign(Object.assign({},o),{signTransaction:a=>sw(void 0,void 0,void 0,function*(){return e(a,o.privateKey)})})},i=new TC({create:s,privateKeyToAccount:n,decrypt:r});return{signTransaction:e,create:s,privateKeyToAccount:n,decrypt:r,recoverTransaction:w3e,hashMessage:M6,sign:gG,recover:wN,encrypt:yG,wallet:i,privateKeyToAddress:DT,parseAndValidatePrivateKey:B0,privateKeyToPublicKey:b3e}},MLe={version:"4.16.0"};var LLe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},jC;(function(t){t.eip6963announceProvider="eip6963:announceProvider",t.eip6963requestProvider="eip6963:requestProvider"})(jC||(jC={}));const kP=new Map,kK="web3:providersMapUpdated",BLe=()=>LLe(void 0,void 0,void 0,function*(){return new Promise((t,e)=>{typeof window>"u"&&e(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(jC.eip6963announceProvider,(n=>{kP.set(n.detail.info.uuid,n.detail);const r=new CustomEvent(kK,{detail:kP});window.dispatchEvent(r),t(kP)})),window.dispatchEvent(new Event(jC.eip6963requestProvider))})}),$Le=t=>{if(typeof window>"u")throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(kK,t)};class j0 extends Ji{constructor(e=kLe){var n;(It(e)||typeof e=="string"&&e.trim()===""||typeof e!="string"&&!CC(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};typeof e=="string"||CC(e)?r.provider=e:e?r=e:r={},r.registeredSubscriptions=Object.assign(Object.assign({},PN),(n=r.registeredSubscriptions)!==null&&n!==void 0?n:{}),super(r);const s=DLe(this);this._wallet=s.wallet,this._accountProvider=s,this.utils=VW;const i=this;class o extends Zf{constructor(l,u,d,h,f){if(Hd(u)&&Hd(d))throw new xB("Should not provide options at both 2nd and 3rd parameters");let p,g={},y,v;if(!It(u)&&typeof u!="object"&&typeof u!="string")throw new xB;if(typeof u=="string"&&(p=u),Hd(u)?g=u:Hd(d)?g=d:g={},u instanceof Ji?y=u:d instanceof Ji?y=d:h instanceof Ji?y=h:y=i.getContextObject(),f?v=f:Yl(d)?v=d:Yl(h)&&(v=h),super(l,p,g,y,v),super.subscribeToContextEvents(i),!It(a)){const b=a.getTransactionMiddleware();It(b)||super.setTransactionMiddleware(b)}}}const a=i.use(UT);this.eth=Object.assign(a,{ens:i.use(PK,DC.main),Iban:Kr,net:i.use(IG),personal:i.use(RK),Contract:o,abi:OLe,accounts:s})}}j0.version=MLe.version;j0.utils=VW;j0.requestEIP6963Providers=BLe;j0.onNewProviderDiscovered=$Le;j0.modules={Web3Eth:UT,Iban:Kr,Net:IG,ENS:PK,Personal:RK};function ULe(){const t=Ct(!1),e=Ct(null),n=Ct(!1),r=Ct(""),s=Ct("0"),i=Ct(null),o=xn(()=>r.value?`${r.value.slice(0,6)}...${r.value.slice(-4)}`:""),a=xn(()=>i.value?.eth?.net?.getId()===1),c=async()=>{try{if(window.ethereum){const b=await window.ethereum.request({method:"eth_accounts"});b.length>0&&(r.value=b[0],n.value=!0,await h(),window.dispatchEvent(new CustomEvent("wallet-connected",{detail:{address:b[0]}})))}}catch(b){console.error("Error checking wallet connection:",b)}},l=async()=>{try{typeof window.ethereum<"u"?(i.value=new j0(window.ethereum),t.value=!0,e.value=null,await c(),window.ethereum.on("accountsChanged",f),window.ethereum.on("chainChanged",p),console.log("✅ Web3 initialized successfully")):(e.value="MetaMask is not installed. Please install MetaMask to use this feature.",console.warn("⚠️ MetaMask not found"))}catch(b){e.value=`Failed to initialize Web3: ${b.message}`,console.error("❌ Web3 initialization failed:",b)}},u=async()=>{try{t.value||await l();const b=await window.ethereum.request({method:"eth_requestAccounts"});b.length>0&&(r.value=b[0],n.value=!0,await h(),window.dispatchEvent(new CustomEvent("wallet-connected",{detail:{address:b[0]}})),console.log("✅ Wallet connected successfully"))}catch(b){e.value=`Failed to connect wallet: ${b.message}`,console.error("❌ Wallet connection failed:",b)}},d=()=>{r.value="",s.value="0",n.value=!1,window.dispatchEvent(new CustomEvent("wallet-disconnected")),console.log("✅ Wallet disconnected successfully")},h=async()=>{try{if(!n.value||!i.value)return"0";const b=await i.value.eth.getBalance(r.value),_=i.value.utils.fromWei(b,"ether");return s.value=parseFloat(_).toFixed(4),s.value}catch(b){return console.error("❌ Failed to get balance:",b),"0"}},f=async b=>{b.length===0?d():(r.value=b[0],await h(),window.dispatchEvent(new CustomEvent("wallet-connected",{detail:{address:b[0]}})))},p=()=>{window.location.reload()},g=async(b,_,S="")=>{try{if(!n.value)throw new Error("Wallet not connected");const C={from:r.value,to:b,value:i.value.utils.toWei(_.toString(),"ether"),data:S},x=await window.ethereum.request({method:"eth_sendTransaction",params:[C]});return console.log("✅ Transaction sent successfully"),x}catch(C){throw console.error("❌ Transaction failed:",C),C}},y=async b=>{try{if(!n.value)throw new Error("Wallet not connected");const _=await window.ethereum.request({method:"personal_sign",params:[b,r.value]});return console.log("✅ Message signed successfully"),_}catch(_){throw console.error("❌ Message signing failed:",_),_}},v=async()=>{try{if(!i.value)return null;const b=await i.value.eth.net.getId(),_=await i.value.eth.net.getNetworkType();return{id:b,type:_}}catch(b){return console.error("❌ Failed to get network info:",b),null}};return Lp(()=>{l()}),{isWeb3Ready:t,web3Error:e,isWalletConnected:n,walletAddress:r,walletBalance:s,web3Instance:i,shortAddress:o,isMainnet:a,initializeWeb3:l,connectWallet:u,disconnectWallet:d,getBalance:h,sendTransaction:g,signMessage:y,getNetworkInfo:v,checkWalletConnection:c}}const FLe=()=>{};var M$={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},jLe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},DK={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OK(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jLe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||d==null)throw new VLe;const h=i<<2|a>>4;if(r.push(h),l!==64){const f=a<<4&240|l>>2;if(r.push(f),d!==64){const p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VLe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HLe=function(t){const e=OK(t);return DK.encodeByteArray(e,!0)},VC=function(t){return HLe(t).replace(/\./g,"")},MK=function(t){try{return DK.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qLe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zLe=()=>qLe().__FIREBASE_DEFAULTS__,WLe=()=>{if(typeof process>"u"||typeof M$>"u")return;const t=M$.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GLe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MK(t[1]);return e&&JSON.parse(e)},VT=()=>{try{return FLe()||zLe()||WLe()||GLe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LK=t=>VT()?.emulatorHosts?.[t],KLe=t=>{const e=LK(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BK=()=>VT()?.config,$K=t=>VT()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QLe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UK(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YLe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[VC(JSON.stringify(n)),VC(JSON.stringify(o)),""].join(".")}const Gw={};function ZLe(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gw))Gw[e]?t.emulator.push(e):t.prod.push(e);return t}function JLe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let L$=!1;function FK(t,e){if(typeof window>"u"||typeof document>"u"||!V0(window.location.host)||Gw[t]===e||Gw[t]||L$)return;Gw[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=ZLe().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function l(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{L$=!0,o()},h}function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=JLe(r),f=n("text"),p=document.getElementById(f)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),v=n("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;a(_),u(y,g);const S=l();c(b,v),_.append(b,p,y,S),document.body.appendChild(_)}i?(p.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XLe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hi())}function e4e(){const t=VT()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function t4e(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jK(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n4e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r4e(){const t=hi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s4e(){return!e4e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VK(){try{return typeof indexedDB=="object"}catch{return!1}}function HK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function i4e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4e="FirebaseError";class oc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o4e,Object.setPrototypeOf(this,oc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gp.prototype.create)}}class Gp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?a4e(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new oc(s,a,r)}}function a4e(t,e){return t.replace(c4e,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const c4e=/\{\$([^}]+)}/g;function l4e(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(B$(i)&&B$(o)){if(!wh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function B$(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mw(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function gw(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u4e(t,e){const n=new d4e(t,e);return n.subscribe.bind(n)}class d4e{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h4e(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=OP),s.error===void 0&&(s.error=OP),s.complete===void 0&&(s.complete=OP);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h4e(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function OP(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4e=1e3,p4e=2,m4e=14400*1e3,g4e=.5;function $$(t,e=f4e,n=p4e){const r=e*Math.pow(n,t),s=Math.round(g4e*r*(Math.random()-.5)*2);return Math.min(m4e,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){return t&&t._delegate?t._delegate:t}class nc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QLe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b4e(e))try{this.getOrInitializeService({instanceIdentifier:wf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=wf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wf){return this.instances.has(e)}getOptions(e=wf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w4e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wf){return this.component?this.component.multipleInstances?e:wf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w4e(t){return t===wf?void 0:t}function b4e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y4e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fn||(fn={}));const _4e={debug:fn.DEBUG,verbose:fn.VERBOSE,info:fn.INFO,warn:fn.WARN,error:fn.ERROR,silent:fn.SILENT},E4e=fn.INFO,A4e={[fn.DEBUG]:"log",[fn.VERBOSE]:"log",[fn.INFO]:"info",[fn.WARN]:"warn",[fn.ERROR]:"error"},C4e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=A4e[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class HT{constructor(e){this.name=e,this._logLevel=E4e,this._logHandler=C4e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_4e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fn.DEBUG,...e),this._logHandler(this,fn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fn.VERBOSE,...e),this._logHandler(this,fn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fn.INFO,...e),this._logHandler(this,fn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fn.WARN,...e),this._logHandler(this,fn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fn.ERROR,...e),this._logHandler(this,fn.ERROR,...e)}}const I4e=(t,e)=>e.some(n=>t instanceof n);let U$,F$;function T4e(){return U$||(U$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S4e(){return F$||(F$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qK=new WeakMap,LN=new WeakMap,zK=new WeakMap,DP=new WeakMap,n5=new WeakMap;function x4e(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(th(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qK.set(n,t)}).catch(()=>{}),n5.set(e,t),e}function P4e(t){if(LN.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});LN.set(t,e)}let BN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return LN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zK.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return th(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R4e(t){BN=t(BN)}function N4e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(MP(this),e,...n);return zK.set(r,e.sort?e.sort():[e]),th(r)}:S4e().includes(t)?function(...e){return t.apply(MP(this),e),th(qK.get(this))}:function(...e){return th(t.apply(MP(this),e))}}function k4e(t){return typeof t=="function"?N4e(t):(t instanceof IDBTransaction&&P4e(t),I4e(t,T4e())?new Proxy(t,BN):t)}function th(t){if(t instanceof IDBRequest)return x4e(t);if(DP.has(t))return DP.get(t);const e=k4e(t);return e!==t&&(DP.set(t,e),n5.set(e,t)),e}const MP=t=>n5.get(t);function WK(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=th(o);return r&&o.addEventListener("upgradeneeded",c=>{r(th(o.result),c.oldVersion,c.newVersion,th(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const O4e=["get","getKey","getAll","getAllKeys","count"],D4e=["put","add","delete","clear"],LP=new Map;function j$(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(LP.get(e))return LP.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=D4e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||O4e.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return LP.set(e,i),i}R4e(t=>({...t,get:(e,n,r)=>j$(e,n)||t.get(e,n,r),has:(e,n)=>!!j$(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L4e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function L4e(t){return t.getComponent()?.type==="VERSION"}const $N="@firebase/app",V$="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new HT("@firebase/app"),B4e="@firebase/app-compat",$4e="@firebase/analytics-compat",U4e="@firebase/analytics",F4e="@firebase/app-check-compat",j4e="@firebase/app-check",V4e="@firebase/auth",H4e="@firebase/auth-compat",q4e="@firebase/database",z4e="@firebase/data-connect",W4e="@firebase/database-compat",G4e="@firebase/functions",K4e="@firebase/functions-compat",Q4e="@firebase/installations",Y4e="@firebase/installations-compat",Z4e="@firebase/messaging",J4e="@firebase/messaging-compat",X4e="@firebase/performance",eBe="@firebase/performance-compat",tBe="@firebase/remote-config",nBe="@firebase/remote-config-compat",rBe="@firebase/storage",sBe="@firebase/storage-compat",iBe="@firebase/firestore",oBe="@firebase/ai",aBe="@firebase/firestore-compat",cBe="firebase",lBe="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="[DEFAULT]",uBe={[$N]:"fire-core",[B4e]:"fire-core-compat",[U4e]:"fire-analytics",[$4e]:"fire-analytics-compat",[j4e]:"fire-app-check",[F4e]:"fire-app-check-compat",[V4e]:"fire-auth",[H4e]:"fire-auth-compat",[q4e]:"fire-rtdb",[z4e]:"fire-data-connect",[W4e]:"fire-rtdb-compat",[G4e]:"fire-fn",[K4e]:"fire-fn-compat",[Q4e]:"fire-iid",[Y4e]:"fire-iid-compat",[Z4e]:"fire-fcm",[J4e]:"fire-fcm-compat",[X4e]:"fire-perf",[eBe]:"fire-perf-compat",[tBe]:"fire-rc",[nBe]:"fire-rc-compat",[rBe]:"fire-gcs",[sBe]:"fire-gcs-compat",[iBe]:"fire-fst",[aBe]:"fire-fst-compat",[oBe]:"fire-vertex","fire-js":"fire-js",[cBe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Map,dBe=new Map,FN=new Map;function H$(t,e){try{t.container.addComponent(e)}catch(n){Cu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ll(t){const e=t.name;if(FN.has(e))return Cu.debug(`There were multiple attempts to register component ${e}.`),!1;FN.set(e,t);for(const n of HC.values())H$(n,t);for(const n of dBe.values())H$(n,t);return!0}function Kp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ua(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hBe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nh=new Gp("app","Firebase",hBe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fBe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=lBe;function GK(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:UN,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw nh.create("bad-app-name",{appName:String(s)});if(n||(n=BK()),!n)throw nh.create("no-options");const i=HC.get(s);if(i){if(wh(n,i.options)&&wh(r,i.config))return i;throw nh.create("duplicate-app",{appName:s})}const o=new v4e(s);for(const c of FN.values())o.addComponent(c);const a=new fBe(n,r,o);return HC.set(s,a),a}function r5(t=UN){const e=HC.get(t);if(!e&&t===UN&&BK())return GK();if(!e)throw nh.create("no-app",{appName:t});return e}function ya(t,e,n){let r=uBe[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cu.warn(o.join(" "));return}ll(new nc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pBe="firebase-heartbeat-database",mBe=1,kv="firebase-heartbeat-store";let BP=null;function KK(){return BP||(BP=WK(pBe,mBe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kv)}catch(n){console.warn(n)}}}}).catch(t=>{throw nh.create("idb-open",{originalErrorMessage:t.message})})),BP}async function gBe(t){try{const n=(await KK()).transaction(kv),r=await n.objectStore(kv).get(QK(t));return await n.done,r}catch(e){if(e instanceof oc)Cu.warn(e.message);else{const n=nh.create("idb-get",{originalErrorMessage:e?.message});Cu.warn(n.message)}}}async function q$(t,e){try{const r=(await KK()).transaction(kv,"readwrite");await r.objectStore(kv).put(e,QK(t)),await r.done}catch(n){if(n instanceof oc)Cu.warn(n.message);else{const r=nh.create("idb-set",{originalErrorMessage:n?.message});Cu.warn(r.message)}}}function QK(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yBe=1024,wBe=30;class bBe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _Be(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=z$();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>wBe){const s=EBe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z$(),{heartbeatsToSend:n,unsentEntries:r}=vBe(this._heartbeatsCache.heartbeats),s=VC(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Cu.warn(e),""}}}function z$(){return new Date().toISOString().substring(0,10)}function vBe(t,e=yBe){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),W$(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),W$(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _Be{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VK()?HK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gBe(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return q$(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return q$(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function W$(t){return VC(JSON.stringify({version:2,heartbeats:t})).length}function EBe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ABe(t){ll(new nc("platform-logger",e=>new M4e(e),"PRIVATE")),ll(new nc("heartbeat",e=>new bBe(e),"PRIVATE")),ya($N,V$,t),ya($N,V$,"esm2020"),ya("fire-js","")}ABe("");function YK(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CBe=YK,ZK=new Gp("auth","Firebase",YK());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new HT("@firebase/auth");function IBe(t,...e){qC.logLevel<=fn.WARN&&qC.warn(`Auth (${H0}): ${t}`,...e)}function FE(t,...e){qC.logLevel<=fn.ERROR&&qC.error(`Auth (${H0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t,...e){throw s5(t,...e)}function Wc(t,...e){return s5(t,...e)}function JK(t,e,n){const r={...CBe(),[e]:n};return new Gp("auth","Firebase",r).create(e,{appName:t.name})}function du(t){return JK(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZK.create(t,...e)}function Pt(t,e,...n){if(!t)throw s5(e,...n)}function nu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw FE(e),new Error(e)}function Iu(t,e){t||nu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return typeof self<"u"&&self.location?.href||""}function TBe(){return G$()==="http:"||G$()==="https:"}function G$(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SBe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TBe()||jK()||"connection"in navigator)?navigator.onLine:!0}function xBe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n){this.shortDelay=e,this.longDelay=n,Iu(n>e,"Short delay should be less than long delay!"),this.isMobile=XLe()||n4e()}get(){return SBe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t,e){Iu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PBe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RBe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NBe=new T_(3e4,6e4);function Bu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fl(t,e,n,r,s={}){return eQ(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=I_({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const l={method:e,headers:c,...i};return t4e()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&V0(t.emulatorConfig.host)&&(l.credentials="include"),XK.fetch()(await tQ(t,t.config.apiHost,n,a),l)})}async function eQ(t,e,n){t._canInitEmulator=!1;const r={...PBe,...e};try{const s=new OBe(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Z1(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Z1(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Z1(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Z1(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw JK(t,u,l);rc(t,u)}}catch(s){if(s instanceof oc)throw s;rc(t,"network-request-failed",{message:String(s)})}}async function S_(t,e,n,r,s={}){const i=await fl(t,e,n,r,s);return"mfaPendingCredential"in i&&rc(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function tQ(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?i5(t.config,s):`${t.config.apiScheme}://${s}`;return RBe.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function kBe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OBe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wc(this.auth,"network-request-failed")),NBe.get())})}}function Z1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Wc(t,e,r);return s.customData._tokenResponse=n,s}function K$(t){return t!==void 0&&t.enterprise!==void 0}class DBe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kBe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MBe(t,e){return fl(t,"GET","/v2/recaptchaConfig",Bu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LBe(t,e){return fl(t,"POST","/v1/accounts:delete",e)}async function zC(t,e){return fl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BBe(t,e=!1){const n=zr(t),r=await n.getIdToken(e),s=o5(r);Pt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Kw($P(s.auth_time)),issuedAtTime:Kw($P(s.iat)),expirationTime:Kw($P(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function $P(t){return Number(t)*1e3}function o5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return FE("JWT malformed, contained fewer than 3 sections"),null;try{const s=MK(n);return s?JSON.parse(s):(FE("Failed to decode base64 JWT payload"),null)}catch(s){return FE("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Q$(t){const e=o5(t);return Pt(e,"internal-error"),Pt(typeof e.exp<"u","internal-error"),Pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oc&&$Be(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $Be({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UBe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kw(this.lastLoginAt),this.creationTime=Kw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(t){const e=t.auth,n=await t.getIdToken(),r=await d0(t,zC(e,{idToken:n}));Pt(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?nQ(s.providerUserInfo):[],o=jBe(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!o?.length,l=a?c:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new VN(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,u)}async function FBe(t){const e=zr(t);await WC(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jBe(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function nQ(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VBe(t,e){const n=await eQ(t,{},async()=>{const r=I_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await tQ(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&V0(t.emulatorConfig.host)&&(c.credentials="include"),XK.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HBe(t,e){return fl(t,"POST","/v2/accounts:revokeToken",Bu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pt(e.idToken,"internal-error"),Pt(typeof e.idToken<"u","internal-error"),Pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pt(e.length!==0,"internal-error");const n=Q$(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await VBe(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Eg;return r&&(Pt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Pt(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Pt(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eg,this.toJSON())}_performRefresh(){return nu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e){Pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ha{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new UBe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new VN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await d0(this,this.stsTokenManager.getToken(this.auth,e));return Pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BBe(this,e)}reload(){return FBe(this)}_assign(e){this!==e&&(Pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ha({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await WC(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ua(this.auth.app))return Promise.reject(du(this.auth));const e=await this.getIdToken();return await d0(this,LBe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:f,providerData:p,stsTokenManager:g}=n;Pt(d&&g,e,"internal-error");const y=Eg.fromJSON(this.name,g);Pt(typeof d=="string",e,"internal-error"),Ed(r,e.name),Ed(s,e.name),Pt(typeof h=="boolean",e,"internal-error"),Pt(typeof f=="boolean",e,"internal-error"),Ed(i,e.name),Ed(o,e.name),Ed(a,e.name),Ed(c,e.name),Ed(l,e.name),Ed(u,e.name);const v=new Ha({uid:d,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:f,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:y,createdAt:l,lastLoginAt:u});return p&&Array.isArray(p)&&(v.providerData=p.map(b=>({...b}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new Eg;s.updateFromServerResponse(n);const i=new Ha({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await WC(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?nQ(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new Eg;a.updateFromIdToken(r);const c=new Ha({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new VN(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(c,l),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=new Map;function ru(t){Iu(t instanceof Function,"Expected a class definition");let e=Y$.get(t);return e?(Iu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y$.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rQ.type="NONE";const Z$=rQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t,e,n){return`firebase:${t}:${e}:${n}`}class Ag{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=jE(this.userKey,s.apiKey,i),this.fullPersistenceKey=jE("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zC(this.auth,{idToken:e}).catch(()=>{});return n?Ha._fromGetAccountInfoResponse(this.auth,n,e):null}return Ha._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ag(ru(Z$),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||ru(Z$);const o=jE(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){let d;if(typeof u=="string"){const h=await zC(e,{idToken:u}).catch(()=>{});if(!h)break;d=await Ha._fromGetAccountInfoResponse(e,h,u)}else d=Ha._fromJSON(e,u);l!==i&&(a=d),i=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ag(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new Ag(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aQ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sQ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lQ(e))return"Blackberry";if(uQ(e))return"Webos";if(iQ(e))return"Safari";if((e.includes("chrome/")||oQ(e))&&!e.includes("edge/"))return"Chrome";if(cQ(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function sQ(t=hi()){return/firefox\//i.test(t)}function iQ(t=hi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oQ(t=hi()){return/crios\//i.test(t)}function aQ(t=hi()){return/iemobile/i.test(t)}function cQ(t=hi()){return/android/i.test(t)}function lQ(t=hi()){return/blackberry/i.test(t)}function uQ(t=hi()){return/webos/i.test(t)}function a5(t=hi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qBe(t=hi()){return a5(t)&&!!window.navigator?.standalone}function zBe(){return r4e()&&document.documentMode===10}function dQ(t=hi()){return a5(t)||cQ(t)||uQ(t)||lQ(t)||/windows phone/i.test(t)||aQ(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hQ(t,e=[]){let n;switch(t){case"Browser":n=J$(hi());break;case"Worker":n=`${J$(hi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${H0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WBe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GBe(t,e={}){return fl(t,"GET","/v2/passwordPolicy",Bu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KBe=6;class QBe{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KBe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YBe{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X$(this),this.idTokenSubscription=new X$(this),this.beforeStateQueue=new WBe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZK,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ru(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ag.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zC(this,{idToken:e}),r=await Ha._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ua(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await WC(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xBe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ua(this.app))return Promise.reject(du(this));const n=e?zr(e):null;return n&&Pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ua(this.app)?Promise.reject(du(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ua(this.app)?Promise.reject(du(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ru(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GBe(this),n=new QBe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HBe(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ru(e)||this._popupRedirectResolver;Pt(n,this,"argument-error"),this.redirectPersistenceManager=await Ag.create(this,[ru(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pt(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hQ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ua(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IBe(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Nh(t){return zr(t)}class X${constructor(e){this.auth=e,this.observer=null,this.addObserver=u4e(n=>this.observer=n)}get next(){return Pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZBe(t){qT=t}function fQ(t){return qT.loadJS(t)}function JBe(){return qT.recaptchaEnterpriseScript}function XBe(){return qT.gapiScript}function e$e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t$e{constructor(){this.enterprise=new n$e}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n$e{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r$e="recaptcha-enterprise",pQ="NO_RECAPTCHA";class s$e{constructor(e){this.type=r$e,this.auth=Nh(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{MBe(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new DBe(c);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;K$(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(pQ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t$e().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&K$(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=JBe();c.length!==0&&(c+=a),fQ(c).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function eU(t,e,n,r=!1,s=!1){const i=new s$e(t);let o;if(s)o=pQ;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function GC(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await eU(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await eU(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$e(t,e){const n=Kp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(wh(i,e??{}))return s;rc(s,"already-initialized")}return n.initialize({options:e})}function o$e(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ru);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function a$e(t,e,n){const r=Nh(t);Pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=mQ(e),{host:o,port:a}=c$e(e),c=a===null?"":`:${a}`,l={url:`${i}//${o}${c}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pt(wh(l,r.config.emulator)&&wh(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,V0(o)?(UK(`${i}//${o}${c}`),FK("Auth",!0)):l$e()}function mQ(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c$e(t){const e=mQ(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:tU(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:tU(o)}}}function tU(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l$e(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nu("not implemented")}_getIdTokenResponse(e){return nu("not implemented")}_linkToIdToken(e,n){return nu("not implemented")}_getReauthenticationResolver(e){return nu("not implemented")}}async function u$e(t,e){return fl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$e(t,e){return S_(t,"POST","/v1/accounts:signInWithPassword",Bu(t,e))}async function h$e(t,e){return fl(t,"POST","/v1/accounts:sendOobCode",Bu(t,e))}async function f$e(t,e){return h$e(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p$e(t,e){return S_(t,"POST","/v1/accounts:signInWithEmailLink",Bu(t,e))}async function m$e(t,e){return S_(t,"POST","/v1/accounts:signInWithEmailLink",Bu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov extends c5{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ov(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ov(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GC(e,n,"signInWithPassword",d$e);case"emailLink":return p$e(e,{email:this._email,oobCode:this._password});default:rc(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GC(e,r,"signUpPassword",u$e);case"emailLink":return m$e(e,{idToken:n,email:this._email,oobCode:this._password});default:rc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(t,e){return S_(t,"POST","/v1/accounts:signInWithIdp",Bu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$e="http://localhost";class Cp extends c5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Cp(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Cg(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cg(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cg(e,n)}buildRequest(){const e={requestUri:g$e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=I_(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w$e(t){const e=mw(gw(t)).link,n=e?mw(gw(e)).deep_link_id:null,r=mw(gw(t)).deep_link_id;return(r?mw(gw(r)).link:null)||r||n||e||t}class l5{constructor(e){const n=mw(gw(e)),r=n.apiKey??null,s=n.oobCode??null,i=y$e(n.mode??null);Pt(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=w$e(e);try{return new l5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.providerId=q0.PROVIDER_ID}static credential(e,n){return Ov._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=l5.parseLink(n);return Pt(r,"argument-error"),Ov._fromEmailAndCode(e,r.code,r.tenantId)}}q0.PROVIDER_ID="password";q0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";q0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_ extends gQ{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends x_{constructor(){super("facebook.com")}static credential(e){return Cp._fromParams({providerId:Bd.PROVIDER_ID,signInMethod:Bd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bd.credentialFromTaggedObject(e)}static credentialFromError(e){return Bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bd.credential(e.oauthAccessToken)}catch{return null}}}Bd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends x_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cp._fromParams({providerId:$d.PROVIDER_ID,signInMethod:$d.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $d.credentialFromTaggedObject(e)}static credentialFromError(e){return $d.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $d.credential(n,r)}catch{return null}}}$d.GOOGLE_SIGN_IN_METHOD="google.com";$d.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends x_{constructor(){super("github.com")}static credential(e){return Cp._fromParams({providerId:Ud.PROVIDER_ID,signInMethod:Ud.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ud.credentialFromTaggedObject(e)}static credentialFromError(e){return Ud.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ud.credential(e.oauthAccessToken)}catch{return null}}}Ud.GITHUB_SIGN_IN_METHOD="github.com";Ud.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends x_{constructor(){super("twitter.com")}static credential(e,n){return Cp._fromParams({providerId:Fd.PROVIDER_ID,signInMethod:Fd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fd.credentialFromTaggedObject(e)}static credentialFromError(e){return Fd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fd.credential(n,r)}catch{return null}}}Fd.TWITTER_SIGN_IN_METHOD="twitter.com";Fd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b$e(t,e){return S_(t,"POST","/v1/accounts:signUp",Bu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ha._fromIdTokenResponse(e,r,s),o=nU(r);return new Ip({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=nU(r);return new Ip({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function nU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC extends oc{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,KC.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new KC(e,n,r,s)}}function yQ(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?KC._fromErrorAndOperation(t,i,e,r):i})}async function v$e(t,e,n=!1){const r=await d0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ip._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$e(t,e,n=!1){const{auth:r}=t;if(ua(r.app))return Promise.reject(du(r));const s="reauthenticate";try{const i=await d0(t,yQ(r,s,e,t),n);Pt(i.idToken,r,"internal-error");const o=o5(i.idToken);Pt(o,r,"internal-error");const{sub:a}=o;return Pt(t.uid===a,r,"user-mismatch"),Ip._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&rc(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wQ(t,e,n=!1){if(ua(t.app))return Promise.reject(du(t));const r="signIn",s=await yQ(t,r,e),i=await Ip._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function E$e(t,e){return wQ(Nh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bQ(t){const e=Nh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A$e(t,e,n){const r=Nh(t);await GC(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",f$e)}async function C$e(t,e,n){if(ua(t.app))return Promise.reject(du(t));const r=Nh(t),o=await GC(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b$e).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&bQ(t),c}),a=await Ip._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function I$e(t,e,n){return ua(t.app)?Promise.reject(du(t)):E$e(zr(t),q0.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bQ(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$e(t,e){return fl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S$e(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=zr(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await d0(r,T$e(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function x$e(t,e,n,r){return zr(t).onIdTokenChanged(e,n,r)}function P$e(t,e,n){return zr(t).beforeAuthStateChanged(e,n)}function R$e(t,e,n,r){return zr(t).onAuthStateChanged(e,n,r)}function N$e(t){return zr(t).signOut()}const QC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(QC,"1"),this.storage.removeItem(QC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$e=1e3,O$e=10;class _Q extends vQ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dQ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);zBe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,O$e):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k$e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_Q.type="LOCAL";const D$e=_Q;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ extends vQ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}EQ.type="SESSION";const AQ=EQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new zT(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await M$e(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zT.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L$e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=u5("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(){return window}function B$e(t){Gc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CQ(){return typeof Gc().WorkerGlobalScope<"u"&&typeof Gc().importScripts=="function"}async function $$e(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U$e(){return navigator?.serviceWorker?.controller||null}function F$e(){return CQ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ="firebaseLocalStorageDb",j$e=1,YC="firebaseLocalStorage",TQ="fbase_key";class P_{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function WT(t,e){return t.transaction([YC],e?"readwrite":"readonly").objectStore(YC)}function V$e(){const t=indexedDB.deleteDatabase(IQ);return new P_(t).toPromise()}function HN(){const t=indexedDB.open(IQ,j$e);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(YC,{keyPath:TQ})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(YC)?e(r):(r.close(),await V$e(),e(await HN()))})})}async function rU(t,e,n){const r=WT(t,!0).put({[TQ]:e,value:n});return new P_(r).toPromise()}async function H$e(t,e){const n=WT(t,!1).get(e),r=await new P_(n).toPromise();return r===void 0?null:r.value}function sU(t,e){const n=WT(t,!0).delete(e);return new P_(n).toPromise()}const q$e=800,z$e=3;class SQ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await HN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>z$e)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CQ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zT._getInstance(F$e()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $$e(),!this.activeServiceWorker)return;this.sender=new L$e(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U$e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await HN();return await rU(e,QC,"1"),await sU(e,QC),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rU(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>H$e(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sU(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=WT(s,!1).getAll();return new P_(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q$e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SQ.type="LOCAL";const W$e=SQ;new T_(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$e(t,e){return e?ru(e):(Pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5 extends c5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cg(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K$e(t){return wQ(t.auth,new d5(t),t.bypassAuthState)}function Q$e(t){const{auth:e,user:n}=t;return Pt(n,e,"internal-error"),_$e(n,new d5(t),t.bypassAuthState)}async function Y$e(t){const{auth:e,user:n}=t;return Pt(n,e,"internal-error"),v$e(n,new d5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K$e;case"linkViaPopup":case"linkViaRedirect":return Y$e;case"reauthViaPopup":case"reauthViaRedirect":return Q$e;default:rc(this.auth,"internal-error")}}resolve(e){Iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$e=new T_(2e3,1e4);class lg extends xQ{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,lg.currentPopupAction&&lg.currentPopupAction.cancel(),lg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pt(e,this.auth,"internal-error"),e}async onExecution(){Iu(this.filter.length===1,"Popup operations only handle one event");const e=u5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lg.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z$e.get())};e()}}lg.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$e="pendingRedirect",VE=new Map;class X$e extends xQ{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=VE.get(this.auth._key());if(!e){try{const r=await eUe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}VE.set(this.auth._key(),e)}return this.bypassAuthState||VE.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eUe(t,e){const n=rUe(e),r=nUe(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function tUe(t,e){VE.set(t._key(),e)}function nUe(t){return ru(t._redirectPersistence)}function rUe(t){return jE(J$e,t.config.apiKey,t.name)}async function sUe(t,e,n=!1){if(ua(t.app))return Promise.reject(du(t));const r=Nh(t),s=G$e(r,e),o=await new X$e(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iUe=600*1e3;class oUe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aUe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!PQ(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wc(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iUe&&this.cachedEventUids.clear(),this.cachedEventUids.has(iU(e))}saveEventToCache(e){this.cachedEventUids.add(iU(e)),this.lastProcessedEventTime=Date.now()}}function iU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PQ({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aUe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PQ(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cUe(t,e={}){return fl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lUe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uUe=/^https?/;async function dUe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cUe(t);for(const n of e)try{if(hUe(n))return}catch{}rc(t,"unauthorized-domain")}function hUe(t){const e=jN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uUe.test(n))return!1;if(lUe.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fUe=new T_(3e4,6e4);function oU(){const t=Gc().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pUe(t){return new Promise((e,n)=>{function r(){oU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oU(),n(Wc(t,"network-request-failed"))},timeout:fUe.get()})}if(Gc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gc().gapi?.load)r();else{const s=e$e("iframefcb");return Gc()[s]=()=>{gapi.load?r():n(Wc(t,"network-request-failed"))},fQ(`${XBe()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw HE=null,e})}let HE=null;function mUe(t){return HE=HE||pUe(t),HE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gUe=new T_(5e3,15e3),yUe="__/auth/iframe",wUe="emulator/auth/iframe",bUe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vUe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _Ue(t){const e=t.config;Pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?i5(e,wUe):`https://${t.config.authDomain}/${yUe}`,r={apiKey:e.apiKey,appName:t.name,v:H0},s=vUe.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${I_(r).slice(1)}`}async function EUe(t){const e=await mUe(t),n=Gc().gapi;return Pt(n,t,"internal-error"),e.open({where:document.body,url:_Ue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bUe,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Wc(t,"network-request-failed"),a=Gc().setTimeout(()=>{i(o)},gUe.get());function c(){Gc().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AUe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CUe=500,IUe=600,TUe="_blank",SUe="http://localhost";class aU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xUe(t,e,n,r=CUe,s=IUe){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...AUe,width:r.toString(),height:s.toString(),top:i,left:o},l=hi().toLowerCase();n&&(a=oQ(l)?TUe:n),sQ(l)&&(e=e||SUe,c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(qBe(l)&&a!=="_self")return PUe(e||"",a),new aU(null);const d=window.open(e||"",a,u);Pt(d,t,"popup-blocked");try{d.focus()}catch{}return new aU(d)}function PUe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RUe="__/auth/handler",NUe="emulator/auth/handler",kUe=encodeURIComponent("fac");async function cU(t,e,n,r,s,i){Pt(t.config.authDomain,t,"auth-domain-config-required"),Pt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:H0,eventId:s};if(e instanceof gQ){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",l4e(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof x_){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const c=await t._getAppCheckToken(),l=c?`#${kUe}=${encodeURIComponent(c)}`:"";return`${OUe(t)}?${I_(a).slice(1)}${l}`}function OUe({config:t}){return t.emulator?i5(t,NUe):`https://${t.authDomain}/${RUe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="webStorageSupport";class DUe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AQ,this._completeRedirectFn=sUe,this._overrideRedirectResult=tUe}async _openPopup(e,n,r,s){Iu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await cU(e,n,r,jN(),s);return xUe(e,i,u5())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await cU(e,n,r,jN(),s);return B$e(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Iu(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EUe(e),r=new oUe(e);return n.register("authEvent",s=>(Pt(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(UP,{type:UP},s=>{const i=s?.[0]?.[UP];i!==void 0&&n(!!i),rc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dUe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dQ()||iQ()||a5()}}const MUe=DUe;var lU="@firebase/auth",uU="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LUe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BUe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $Ue(t){ll(new nc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hQ(t)},l=new YBe(r,s,i,c);return o$e(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ll(new nc("auth-internal",e=>{const n=Nh(e.getProvider("auth").getImmediate());return(r=>new LUe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ya(lU,uU,BUe(t)),ya(lU,uU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UUe=300,FUe=$K("authIdTokenMaxAge")||UUe;let dU=null;const jUe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FUe)return;const s=n?.token;dU!==s&&(dU=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function RQ(t=r5()){const e=Kp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=i$e(t,{popupRedirectResolver:MUe,persistence:[W$e,D$e,AQ]}),r=$K("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=jUe(i.toString());P$e(n,o,()=>o(n.currentUser)),x$e(n,a=>o(a))}}const s=LK("auth");return s&&a$e(n,`http://${s}`),n}function VUe(){return document.getElementsByTagName("head")?.[0]??document}ZBe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Wc("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",VUe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$Ue("Browser");var hU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rh,NQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function A(){}A.prototype=E.prototype,I.D=E.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(T,k,M){for(var B=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)B[Z-2]=arguments[Z];return E.prototype[k].apply(T,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,E,A){A||(A=0);var T=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)T[k]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(k=0;16>k;++k)T[k]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=I.g[0],A=I.g[1],k=I.g[2];var M=I.g[3],B=E+(M^A&(k^M))+T[0]+3614090360&4294967295;E=A+(B<<7&4294967295|B>>>25),B=M+(k^E&(A^k))+T[1]+3905402710&4294967295,M=E+(B<<12&4294967295|B>>>20),B=k+(A^M&(E^A))+T[2]+606105819&4294967295,k=M+(B<<17&4294967295|B>>>15),B=A+(E^k&(M^E))+T[3]+3250441966&4294967295,A=k+(B<<22&4294967295|B>>>10),B=E+(M^A&(k^M))+T[4]+4118548399&4294967295,E=A+(B<<7&4294967295|B>>>25),B=M+(k^E&(A^k))+T[5]+1200080426&4294967295,M=E+(B<<12&4294967295|B>>>20),B=k+(A^M&(E^A))+T[6]+2821735955&4294967295,k=M+(B<<17&4294967295|B>>>15),B=A+(E^k&(M^E))+T[7]+4249261313&4294967295,A=k+(B<<22&4294967295|B>>>10),B=E+(M^A&(k^M))+T[8]+1770035416&4294967295,E=A+(B<<7&4294967295|B>>>25),B=M+(k^E&(A^k))+T[9]+2336552879&4294967295,M=E+(B<<12&4294967295|B>>>20),B=k+(A^M&(E^A))+T[10]+4294925233&4294967295,k=M+(B<<17&4294967295|B>>>15),B=A+(E^k&(M^E))+T[11]+2304563134&4294967295,A=k+(B<<22&4294967295|B>>>10),B=E+(M^A&(k^M))+T[12]+1804603682&4294967295,E=A+(B<<7&4294967295|B>>>25),B=M+(k^E&(A^k))+T[13]+4254626195&4294967295,M=E+(B<<12&4294967295|B>>>20),B=k+(A^M&(E^A))+T[14]+2792965006&4294967295,k=M+(B<<17&4294967295|B>>>15),B=A+(E^k&(M^E))+T[15]+1236535329&4294967295,A=k+(B<<22&4294967295|B>>>10),B=E+(k^M&(A^k))+T[1]+4129170786&4294967295,E=A+(B<<5&4294967295|B>>>27),B=M+(A^k&(E^A))+T[6]+3225465664&4294967295,M=E+(B<<9&4294967295|B>>>23),B=k+(E^A&(M^E))+T[11]+643717713&4294967295,k=M+(B<<14&4294967295|B>>>18),B=A+(M^E&(k^M))+T[0]+3921069994&4294967295,A=k+(B<<20&4294967295|B>>>12),B=E+(k^M&(A^k))+T[5]+3593408605&4294967295,E=A+(B<<5&4294967295|B>>>27),B=M+(A^k&(E^A))+T[10]+38016083&4294967295,M=E+(B<<9&4294967295|B>>>23),B=k+(E^A&(M^E))+T[15]+3634488961&4294967295,k=M+(B<<14&4294967295|B>>>18),B=A+(M^E&(k^M))+T[4]+3889429448&4294967295,A=k+(B<<20&4294967295|B>>>12),B=E+(k^M&(A^k))+T[9]+568446438&4294967295,E=A+(B<<5&4294967295|B>>>27),B=M+(A^k&(E^A))+T[14]+3275163606&4294967295,M=E+(B<<9&4294967295|B>>>23),B=k+(E^A&(M^E))+T[3]+4107603335&4294967295,k=M+(B<<14&4294967295|B>>>18),B=A+(M^E&(k^M))+T[8]+1163531501&4294967295,A=k+(B<<20&4294967295|B>>>12),B=E+(k^M&(A^k))+T[13]+2850285829&4294967295,E=A+(B<<5&4294967295|B>>>27),B=M+(A^k&(E^A))+T[2]+4243563512&4294967295,M=E+(B<<9&4294967295|B>>>23),B=k+(E^A&(M^E))+T[7]+1735328473&4294967295,k=M+(B<<14&4294967295|B>>>18),B=A+(M^E&(k^M))+T[12]+2368359562&4294967295,A=k+(B<<20&4294967295|B>>>12),B=E+(A^k^M)+T[5]+4294588738&4294967295,E=A+(B<<4&4294967295|B>>>28),B=M+(E^A^k)+T[8]+2272392833&4294967295,M=E+(B<<11&4294967295|B>>>21),B=k+(M^E^A)+T[11]+1839030562&4294967295,k=M+(B<<16&4294967295|B>>>16),B=A+(k^M^E)+T[14]+4259657740&4294967295,A=k+(B<<23&4294967295|B>>>9),B=E+(A^k^M)+T[1]+2763975236&4294967295,E=A+(B<<4&4294967295|B>>>28),B=M+(E^A^k)+T[4]+1272893353&4294967295,M=E+(B<<11&4294967295|B>>>21),B=k+(M^E^A)+T[7]+4139469664&4294967295,k=M+(B<<16&4294967295|B>>>16),B=A+(k^M^E)+T[10]+3200236656&4294967295,A=k+(B<<23&4294967295|B>>>9),B=E+(A^k^M)+T[13]+681279174&4294967295,E=A+(B<<4&4294967295|B>>>28),B=M+(E^A^k)+T[0]+3936430074&4294967295,M=E+(B<<11&4294967295|B>>>21),B=k+(M^E^A)+T[3]+3572445317&4294967295,k=M+(B<<16&4294967295|B>>>16),B=A+(k^M^E)+T[6]+76029189&4294967295,A=k+(B<<23&4294967295|B>>>9),B=E+(A^k^M)+T[9]+3654602809&4294967295,E=A+(B<<4&4294967295|B>>>28),B=M+(E^A^k)+T[12]+3873151461&4294967295,M=E+(B<<11&4294967295|B>>>21),B=k+(M^E^A)+T[15]+530742520&4294967295,k=M+(B<<16&4294967295|B>>>16),B=A+(k^M^E)+T[2]+3299628645&4294967295,A=k+(B<<23&4294967295|B>>>9),B=E+(k^(A|~M))+T[0]+4096336452&4294967295,E=A+(B<<6&4294967295|B>>>26),B=M+(A^(E|~k))+T[7]+1126891415&4294967295,M=E+(B<<10&4294967295|B>>>22),B=k+(E^(M|~A))+T[14]+2878612391&4294967295,k=M+(B<<15&4294967295|B>>>17),B=A+(M^(k|~E))+T[5]+4237533241&4294967295,A=k+(B<<21&4294967295|B>>>11),B=E+(k^(A|~M))+T[12]+1700485571&4294967295,E=A+(B<<6&4294967295|B>>>26),B=M+(A^(E|~k))+T[3]+2399980690&4294967295,M=E+(B<<10&4294967295|B>>>22),B=k+(E^(M|~A))+T[10]+4293915773&4294967295,k=M+(B<<15&4294967295|B>>>17),B=A+(M^(k|~E))+T[1]+2240044497&4294967295,A=k+(B<<21&4294967295|B>>>11),B=E+(k^(A|~M))+T[8]+1873313359&4294967295,E=A+(B<<6&4294967295|B>>>26),B=M+(A^(E|~k))+T[15]+4264355552&4294967295,M=E+(B<<10&4294967295|B>>>22),B=k+(E^(M|~A))+T[6]+2734768916&4294967295,k=M+(B<<15&4294967295|B>>>17),B=A+(M^(k|~E))+T[13]+1309151649&4294967295,A=k+(B<<21&4294967295|B>>>11),B=E+(k^(A|~M))+T[4]+4149444226&4294967295,E=A+(B<<6&4294967295|B>>>26),B=M+(A^(E|~k))+T[11]+3174756917&4294967295,M=E+(B<<10&4294967295|B>>>22),B=k+(E^(M|~A))+T[2]+718787259&4294967295,k=M+(B<<15&4294967295|B>>>17),B=A+(M^(k|~E))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(k+(B<<21&4294967295|B>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var A=E-this.blockSize,T=this.B,k=this.h,M=0;M<E;){if(k==0)for(;M<=A;)s(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<E;)if(T[k++]=I.charCodeAt(M++),k==this.blockSize){s(this,T),k=0;break}}else for(;M<E;)if(T[k++]=I[M++],k==this.blockSize){s(this,T),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var A=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=A&255,A/=256;for(this.u(I),I=Array(16),E=A=0;4>E;++E)for(var T=0;32>T;T+=8)I[A++]=this.g[E]>>>T&255;return I};function i(I,E){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=E(I)}function o(I,E){this.h=E;for(var A=[],T=!0,k=I.length-1;0<=k;k--){var M=I[k]|0;T&&M==E||(A[k]=M,T=!1)}this.g=A}var a={};function c(I){return-128<=I&&128>I?i(I,function(E){return new o([E|0],0>E?-1:0)}):new o([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return y(l(-I));for(var E=[],A=1,T=0;I>=A;T++)E[T]=I/A|0,A*=4294967296;return new o(E,0)}function u(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return y(u(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=l(Math.pow(E,8)),T=d,k=0;k<I.length;k+=8){var M=Math.min(8,I.length-k),B=parseInt(I.substring(k,k+M),E);8>M?(M=l(Math.pow(E,M)),T=T.j(M).add(l(B))):(T=T.j(A),T=T.add(l(B)))}return T}var d=c(0),h=c(1),f=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();for(var I=0,E=1,A=0;A<this.g.length;A++){var T=this.i(A);I+=(0<=T?T:4294967296+T)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(p(this))return"0";if(g(this))return"-"+y(this).toString(I);for(var E=l(Math.pow(I,6)),A=this,T="";;){var k=S(A,E).g;A=v(A,k.j(E));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=k,p(A))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function p(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function g(I){return I.h==-1}t.l=function(I){return I=v(this,I),g(I)?-1:p(I)?0:1};function y(I){for(var E=I.g.length,A=[],T=0;T<E;T++)A[T]=~I.g[T];return new o(A,~I.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),A=[],T=0,k=0;k<=E;k++){var M=T+(this.i(k)&65535)+(I.i(k)&65535),B=(M>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);T=B>>>16,M&=65535,B&=65535,A[k]=B<<16|M}return new o(A,A[A.length-1]&-2147483648?-1:0)};function v(I,E){return I.add(y(E))}t.j=function(I){if(p(this)||p(I))return d;if(g(this))return g(I)?y(this).j(y(I)):y(y(this).j(I));if(g(I))return y(this.j(y(I)));if(0>this.l(f)&&0>I.l(f))return l(this.m()*I.m());for(var E=this.g.length+I.g.length,A=[],T=0;T<2*E;T++)A[T]=0;for(T=0;T<this.g.length;T++)for(var k=0;k<I.g.length;k++){var M=this.i(T)>>>16,B=this.i(T)&65535,Z=I.i(k)>>>16,N=I.i(k)&65535;A[2*T+2*k]+=B*N,b(A,2*T+2*k),A[2*T+2*k+1]+=M*N,b(A,2*T+2*k+1),A[2*T+2*k+1]+=B*Z,b(A,2*T+2*k+1),A[2*T+2*k+2]+=M*Z,b(A,2*T+2*k+2)}for(T=0;T<E;T++)A[T]=A[2*T+1]<<16|A[2*T];for(T=E;T<2*E;T++)A[T]=0;return new o(A,0)};function b(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function _(I,E){this.g=I,this.h=E}function S(I,E){if(p(E))throw Error("division by zero");if(p(I))return new _(d,d);if(g(I))return E=S(y(I),E),new _(y(E.g),y(E.h));if(g(E))return E=S(I,y(E)),new _(y(E.g),E.h);if(30<I.g.length){if(g(I)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var A=h,T=E;0>=T.l(I);)A=C(A),T=C(T);var k=x(A,1),M=x(T,1);for(T=x(T,2),A=x(A,2);!p(T);){var B=M.add(T);0>=B.l(I)&&(k=k.add(A),M=B),T=x(T,1),A=x(A,1)}return E=v(I,k.j(E)),new _(k,E)}for(k=d;0<=I.l(E);){for(A=Math.max(1,Math.floor(I.m()/E.m())),T=Math.ceil(Math.log(A)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=l(A),B=M.j(E);g(B)||0<B.l(I);)A-=T,M=l(A),B=M.j(E);p(M)&&(M=h),k=k.add(M),I=v(I,B)}return new _(k,I)}t.A=function(I){return S(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),A=[],T=0;T<E;T++)A[T]=this.i(T)&I.i(T);return new o(A,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),A=[],T=0;T<E;T++)A[T]=this.i(T)|I.i(T);return new o(A,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),A=[],T=0;T<E;T++)A[T]=this.i(T)^I.i(T);return new o(A,this.h^I.h)};function C(I){for(var E=I.g.length+1,A=[],T=0;T<E;T++)A[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(A,I.h)}function x(I,E){var A=E>>5;E%=32;for(var T=I.g.length-A,k=[],M=0;M<T;M++)k[M]=0<E?I.i(M+A)>>>E|I.i(M+A+1)<<32-E:I.i(M+A);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NQ=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,rh=o}).apply(typeof hU<"u"?hU:typeof self<"u"?self:typeof window<"u"?window:{});var J1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kQ,yw,OQ,qE,qN,DQ,MQ,LQ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,R,$){return m==Array.prototype||m==Object.prototype||(m[R]=$.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof J1=="object"&&J1];for(var R=0;R<m.length;++R){var $=m[R];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var r=n(this);function s(m,R){if(R)e:{var $=r;m=m.split(".");for(var z=0;z<m.length-1;z++){var ae=m[z];if(!(ae in $))break e;$=$[ae]}m=m[m.length-1],z=$[m],R=R(z),R!=z&&R!=null&&e($,m,{configurable:!0,writable:!0,value:R})}}function i(m,R){m instanceof String&&(m+="");var $=0,z=!1,ae={next:function(){if(!z&&$<m.length){var he=$++;return{value:R(he,m[he]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}s("Array.prototype.values",function(m){return m||function(){return i(this,function(R,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(m){var R=typeof m;return R=R!="object"?R:m?Array.isArray(m)?"array":R:"null",R=="array"||R=="object"&&typeof m.length=="number"}function l(m){var R=typeof m;return R=="object"&&m!=null||R=="function"}function u(m,R,$){return m.call.apply(m.bind,arguments)}function d(m,R,$){if(!m)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,z),m.apply(R,ae)}}return function(){return m.apply(R,arguments)}}function h(m,R,$){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function f(m,R){var $=Array.prototype.slice.call(arguments,1);return function(){var z=$.slice();return z.push.apply(z,arguments),m.apply(this,z)}}function p(m,R){function $(){}$.prototype=R.prototype,m.aa=R.prototype,m.prototype=new $,m.prototype.constructor=m,m.Qb=function(z,ae,he){for(var Be=Array(arguments.length-2),Gn=2;Gn<arguments.length;Gn++)Be[Gn-2]=arguments[Gn];return R.prototype[ae].apply(z,Be)}}function g(m){const R=m.length;if(0<R){const $=Array(R);for(let z=0;z<R;z++)$[z]=m[z];return $}return[]}function y(m,R){for(let $=1;$<arguments.length;$++){const z=arguments[$];if(c(z)){const ae=m.length||0,he=z.length||0;m.length=ae+he;for(let Be=0;Be<he;Be++)m[ae+Be]=z[Be]}else m.push(z)}}class v{constructor(R,$){this.i=R,this.j=$,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function b(m){return/^[\s\xa0]*$/.test(m)}function _(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function S(m){return S[" "](m),m}S[" "]=function(){};var C=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function x(m,R,$){for(const z in m)R.call($,m[z],z,m)}function I(m,R){for(const $ in m)R.call(void 0,m[$],$,m)}function E(m){const R={};for(const $ in m)R[$]=m[$];return R}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(m,R){let $,z;for(let ae=1;ae<arguments.length;ae++){z=arguments[ae];for($ in z)m[$]=z[$];for(let he=0;he<A.length;he++)$=A[he],Object.prototype.hasOwnProperty.call(z,$)&&(m[$]=z[$])}}function k(m){var R=1;m=m.split(":");const $=[];for(;0<R&&m.length;)$.push(m.shift()),R--;return m.length&&$.push(m.join(":")),$}function M(m){a.setTimeout(()=>{throw m},0)}function B(){var m=J;let R=null;return m.g&&(R=m.g,m.g=m.g.next,m.g||(m.h=null),R.next=null),R}class Z{constructor(){this.h=this.g=null}add(R,$){const z=N.get();z.set(R,$),this.h?this.h.next=z:this.g=z,this.h=z}}var N=new v(()=>new L,m=>m.reset());class L{constructor(){this.next=this.g=this.h=null}set(R,$){this.h=R,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let H,F=!1,J=new Z,ee=()=>{const m=a.Promise.resolve(void 0);H=()=>{m.then(W)}};var W=()=>{for(var m;m=B();){try{m.h.call(m.g)}catch($){M($)}var R=N;R.j(m),100>R.h&&(R.h++,m.next=R.g,R.g=m)}F=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(m,R){this.type=m,this.g=this.target=R,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var ye=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,R=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const $=()=>{};a.addEventListener("test",$,R),a.removeEventListener("test",$,R)}catch{}return m})();function Ie(m,R){if(Ee.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var $=this.type=m.type,z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=R,R=m.relatedTarget){if(C){e:{try{S(R.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(R=null)}}else $=="mouseover"?R=m.fromElement:$=="mouseout"&&(R=m.toElement);this.relatedTarget=R,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ve[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ie.aa.h.call(this)}}p(Ie,Ee);var Ve={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),_e=0;function se(m,R,$,z,ae){this.listener=m,this.proxy=null,this.src=R,this.type=$,this.capture=!!z,this.ha=ae,this.key=++_e,this.da=this.fa=!1}function Pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function mt(m){this.src=m,this.g={},this.h=0}mt.prototype.add=function(m,R,$,z,ae){var he=m.toString();m=this.g[he],m||(m=this.g[he]=[],this.h++);var Be=X(m,R,z,ae);return-1<Be?(R=m[Be],$||(R.fa=!1)):(R=new se(R,this.src,he,!!z,ae),R.fa=$,m.push(R)),R};function Y(m,R){var $=R.type;if($ in m.g){var z=m.g[$],ae=Array.prototype.indexOf.call(z,R,void 0),he;(he=0<=ae)&&Array.prototype.splice.call(z,ae,1),he&&(Pe(R),m.g[$].length==0&&(delete m.g[$],m.h--))}}function X(m,R,$,z){for(var ae=0;ae<m.length;++ae){var he=m[ae];if(!he.da&&he.listener==R&&he.capture==!!$&&he.ha==z)return ae}return-1}var ne="closure_lm_"+(1e6*Math.random()|0),pe={};function we(m,R,$,z,ae){if(Array.isArray(R)){for(var he=0;he<R.length;he++)we(m,R[he],$,z,ae);return null}return $=ot($),m&&m[oe]?m.K(R,$,l(z)?!!z.capture:!1,ae):me(m,R,$,!1,z,ae)}function me(m,R,$,z,ae,he){if(!R)throw Error("Invalid event type");var Be=l(ae)?!!ae.capture:!!ae,Gn=$e(m);if(Gn||(m[ne]=Gn=new mt(m)),$=Gn.add(R,$,z,Be,he),$.proxy)return $;if(z=He(),$.proxy=z,z.src=m,z.listener=$,m.addEventListener)ye||(ae=Be),ae===void 0&&(ae=!1),m.addEventListener(R.toString(),z,ae);else if(m.attachEvent)m.attachEvent(Ce(R.toString()),z);else if(m.addListener&&m.removeListener)m.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return $}function He(){function m($){return R.call(m.src,m.listener,$)}const R=Xe;return m}function De(m,R,$,z,ae){if(Array.isArray(R))for(var he=0;he<R.length;he++)De(m,R[he],$,z,ae);else z=l(z)?!!z.capture:!!z,$=ot($),m&&m[oe]?(m=m.i,R=String(R).toString(),R in m.g&&(he=m.g[R],$=X(he,$,z,ae),-1<$&&(Pe(he[$]),Array.prototype.splice.call(he,$,1),he.length==0&&(delete m.g[R],m.h--)))):m&&(m=$e(m))&&(R=m.g[R.toString()],m=-1,R&&(m=X(R,$,z,ae)),($=-1<m?R[m]:null)&&Oe($))}function Oe(m){if(typeof m!="number"&&m&&!m.da){var R=m.src;if(R&&R[oe])Y(R.i,m);else{var $=m.type,z=m.proxy;R.removeEventListener?R.removeEventListener($,z,m.capture):R.detachEvent?R.detachEvent(Ce($),z):R.addListener&&R.removeListener&&R.removeListener(z),($=$e(R))?(Y($,m),$.h==0&&($.src=null,R[ne]=null)):Pe(m)}}}function Ce(m){return m in pe?pe[m]:pe[m]="on"+m}function Xe(m,R){if(m.da)m=!0;else{R=new Ie(R,this);var $=m.listener,z=m.ha||m.src;m.fa&&Oe(m),m=$.call(z,R)}return m}function $e(m){return m=m[ne],m instanceof mt?m:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(m){return typeof m=="function"?m:(m[dt]||(m[dt]=function(R){return m.handleEvent(R)}),m[dt])}function at(){ue.call(this),this.i=new mt(this),this.M=this,this.F=null}p(at,ue),at.prototype[oe]=!0,at.prototype.removeEventListener=function(m,R,$,z){De(this,m,R,$,z)};function j(m,R){var $,z=m.F;if(z)for($=[];z;z=z.F)$.push(z);if(m=m.M,z=R.type||R,typeof R=="string")R=new Ee(R,m);else if(R instanceof Ee)R.target=R.target||m;else{var ae=R;R=new Ee(z,m),T(R,ae)}if(ae=!0,$)for(var he=$.length-1;0<=he;he--){var Be=R.g=$[he];ae=P(Be,z,!0,R)&&ae}if(Be=R.g=m,ae=P(Be,z,!0,R)&&ae,ae=P(Be,z,!1,R)&&ae,$)for(he=0;he<$.length;he++)Be=R.g=$[he],ae=P(Be,z,!1,R)&&ae}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var m=this.i,R;for(R in m.g){for(var $=m.g[R],z=0;z<$.length;z++)Pe($[z]);delete m.g[R],m.h--}}this.F=null},at.prototype.K=function(m,R,$,z){return this.i.add(String(m),R,!1,$,z)},at.prototype.L=function(m,R,$,z){return this.i.add(String(m),R,!0,$,z)};function P(m,R,$,z){if(R=m.i.g[String(R)],!R)return!0;R=R.concat();for(var ae=!0,he=0;he<R.length;++he){var Be=R[he];if(Be&&!Be.da&&Be.capture==$){var Gn=Be.listener,es=Be.ha||Be.src;Be.fa&&Y(m.i,Be),ae=Gn.call(es,z)!==!1&&ae}}return ae&&!z.defaultPrevented}function O(m,R,$){if(typeof m=="function")$&&(m=h(m,$));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:a.setTimeout(m,R||0)}function G(m){m.g=O(()=>{m.g=null,m.i&&(m.i=!1,G(m))},m.l);const R=m.h;m.h=null,m.m.apply(null,R)}class te extends ue{constructor(R,$){super(),this.m=R,this.l=$,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:G(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(m){ue.call(this),this.h=m,this.g={}}p(ce,ue);var ge=[];function $t(m){x(m.g,function(R,$){this.g.hasOwnProperty($)&&Oe(R)},m),m.g={}}ce.prototype.N=function(){ce.aa.N.call(this),$t(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=a.JSON.stringify,nn=a.JSON.parse,Wn=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function un(){}un.prototype.h=null;function $_(m){return m.h||(m.h=m.i())}function U_(){}var Dh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xp(){Ee.call(this,"d")}p(Xp,Ee);function $u(){Ee.call(this,"c")}p($u,Ee);var ac={},X0=null;function em(){return X0=X0||new at}ac.La="serverreachability";function F_(m){Ee.call(this,ac.La,m)}p(F_,Ee);function Mh(m){const R=em();j(R,new F_(R))}ac.STAT_EVENT="statevent";function j_(m,R){Ee.call(this,ac.STAT_EVENT,m),this.stat=R}p(j_,Ee);function Nr(m){const R=em();j(R,new j_(R,m))}ac.Ma="timingevent";function Uu(m,R){Ee.call(this,ac.Ma,m),this.size=R}p(Uu,Ee);function Lh(m,R){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},R)}function Bh(){this.g=!0}Bh.prototype.xa=function(){this.g=!1};function mS(m,R,$,z,ae,he){m.info(function(){if(m.g)if(he)for(var Be="",Gn=he.split("&"),es=0;es<Gn.length;es++){var _n=Gn[es].split("=");if(1<_n.length){var ms=_n[0];_n=_n[1];var gs=ms.split("_");Be=2<=gs.length&&gs[1]=="type"?Be+(ms+"="+_n+"&"):Be+(ms+"=redacted&")}}else Be=null;else Be=he;return"XMLHTTP REQ ("+z+") [attempt "+ae+"]: "+R+`
`+$+`
`+Be})}function gS(m,R,$,z,ae,he,Be){m.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ae+"]: "+R+`
`+$+`
`+he+" "+Be})}function Fu(m,R,$,z){m.info(function(){return"XMLHTTP TEXT ("+R+"): "+ju(m,$)+(z?" "+z:"")})}function ey(m,R){m.info(function(){return"TIMEOUT: "+R})}Bh.prototype.info=function(){};function ju(m,R){if(!m.g)return R;if(!R)return null;try{var $=JSON.parse(R);if($){for(m=0;m<$.length;m++)if(Array.isArray($[m])){var z=$[m];if(!(2>z.length)){var ae=z[1];if(Array.isArray(ae)&&!(1>ae.length)){var he=ae[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Be=1;Be<ae.length;Be++)ae[Be]=""}}}}return Ft($)}catch{return R}}var pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},V_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$h;function tm(){}p(tm,un),tm.prototype.g=function(){return new XMLHttpRequest},tm.prototype.i=function(){return{}},$h=new tm;function cc(m,R,$,z){this.j=m,this.i=R,this.l=$,this.R=z||1,this.U=new ce(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ml}function ml(){this.i=null,this.g="",this.h=!1}var fs={},Ss={};function xs(m,R,$){m.L=1,m.v=Uo(Ps(R)),m.m=$,m.P=!0,ps(m,null)}function ps(m,R){m.F=Date.now(),Bo(m),m.A=Ps(m.v);var $=m.A,z=m.R;Array.isArray(z)||(z=[String(z)]),zu($.i,"t",z),m.C=0,$=m.j.J,m.h=new ml,m.g=Cy(m.j,$?R:null,!m.m),0<m.O&&(m.M=new te(h(m.Y,m,m.g),m.O)),R=m.U,$=m.g,z=m.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(ge[0]=ae.toString()),ae=ge);for(var he=0;he<ae.length;he++){var Be=we($,ae[he],z||R.handleEvent,!1,R.h||R);if(!Be)break;R.g[Be.key]=Be}R=m.H?E(m.H):{},m.m?(m.u||(m.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,R)):(m.u="GET",m.g.ea(m.A,m.u,null,R)),Mh(),mS(m.i,m.u,m.A,m.l,m.R,m.m)}cc.prototype.ca=function(m){m=m.target;const R=this.M;R&&jo(m)==3?R.j():this.Y(m)},cc.prototype.Y=function(m){try{if(m==this.g)e:{const gs=jo(this.g);var R=this.g.Ba();const ed=this.g.Z();if(!(3>gs)&&(gs!=3||this.g&&(this.h.h||this.g.oa()||bl(this.g)))){this.J||gs!=4||R==7||(R==8||0>=ed?Mh(3):Mh(2)),nm(this);var $=this.g.Z();this.X=$;t:if(Uh(this)){var z=bl(this.g);m="";var ae=z.length,he=jo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),yl(this);var Be="";break t}this.h.i=new a.TextDecoder}for(R=0;R<ae;R++)this.h.h=!0,m+=this.h.i.decode(z[R],{stream:!(he&&R==ae-1)});z.length=0,this.h.g+=m,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=$==200,gS(this.i,this.u,this.A,this.l,this.R,gs,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Gn,es=this.g;if((Gn=es.g?es.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Gn)){var _n=Gn;break t}}_n=null}if($=_n)Fu(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rm(this,$);else{this.o=!1,this.s=3,Nr(12),Ni(this),yl(this);break e}}if(this.P){$=!0;let Tr;for(;!this.J&&this.C<Be.length;)if(Tr=Vu(this,Be),Tr==Ss){gs==4&&(this.s=4,Nr(14),$=!1),Fu(this.i,this.l,null,"[Incomplete Response]");break}else if(Tr==fs){this.s=4,Nr(15),Fu(this.i,this.l,Be,"[Invalid Chunk]"),$=!1;break}else Fu(this.i,this.l,Tr,null),rm(this,Tr);if(Uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gs!=4||Be.length!=0||this.h.h||(this.s=1,Nr(16),$=!1),this.o=this.o&&$,!$)Fu(this.i,this.l,Be,"[Invalid Chunked Response]"),Ni(this),yl(this);else if(0<Be.length&&!this.W){this.W=!0;var ms=this.j;ms.g==this&&ms.ba&&!ms.M&&(ms.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),_y(ms),ms.M=!0,Nr(11))}}else Fu(this.i,this.l,Be,null),rm(this,Be);gs==4&&Ni(this),this.o&&!this.J&&(gs==4?Ey(this.j,this):(this.o=!1,Bo(this)))}else wS(this.g),$==400&&0<Be.indexOf("Unknown SID")?(this.s=3,Nr(12)):(this.s=0,Nr(13)),Ni(this),yl(this)}}}catch{}finally{}};function Uh(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Vu(m,R){var $=m.C,z=R.indexOf(`
`,$);return z==-1?Ss:($=Number(R.substring($,z)),isNaN($)?fs:(z+=1,z+$>R.length?Ss:(R=R.slice(z,z+$),m.C=z+$,R)))}cc.prototype.cancel=function(){this.J=!0,Ni(this)};function Bo(m){m.S=Date.now()+m.I,gl(m,m.I)}function gl(m,R){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Lh(h(m.ba,m),R)}function nm(m){m.B&&(a.clearTimeout(m.B),m.B=null)}cc.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(ey(this.i,this.A),this.L!=2&&(Mh(),Nr(17)),Ni(this),this.s=2,yl(this)):gl(this,this.S-m)};function yl(m){m.j.G==0||m.J||Ey(m.j,m)}function Ni(m){nm(m);var R=m.M;R&&typeof R.ma=="function"&&R.ma(),m.M=null,$t(m.U),m.g&&(R=m.g,m.g=null,R.abort(),R.ma())}function rm(m,R){try{var $=m.j;if($.G!=0&&($.g==m||im($.h,m))){if(!m.K&&im($.h,m)&&$.G==3){try{var z=$.Da.g.parse(R)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ae=z;if(ae[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<m.F)Xu($),Gh($);else break e;Ju($),Nr(18)}}else $.za=ae[1],0<$.za-$.T&&37500>ae[2]&&$.F&&$.v==0&&!$.C&&($.C=Lh(h($.Za,$),6e3));if(1>=ry($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else pi($,11)}else if((m.K||$.g==m)&&Xu($),!b(R))for(ae=$.Da.g.parse(R),R=0;R<ae.length;R++){let _n=ae[R];if($.T=_n[0],_n=_n[1],$.G==2)if(_n[0]=="c"){$.K=_n[1],$.ia=_n[2];const ms=_n[3];ms!=null&&($.la=ms,$.j.info("VER="+$.la));const gs=_n[4];gs!=null&&($.Aa=gs,$.j.info("SVER="+$.Aa));const ed=_n[5];ed!=null&&typeof ed=="number"&&0<ed&&(z=1.5*ed,$.L=z,$.j.info("backChannelRequestTimeoutMs_="+z)),z=$;const Tr=m.g;if(Tr){const Qh=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qh){var he=z.h;he.g||Qh.indexOf("spdy")==-1&&Qh.indexOf("quic")==-1&&Qh.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(om(he,he.h),he.h=null))}if(z.D){const hm=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;hm&&(z.ya=hm,dn(z.I,z.D,hm))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-m.F,$.j.info("Handshake RTT: "+$.R+"ms")),z=$;var Be=m;if(z.qa=Z_(z,z.J?z.ia:null,z.W),Be.K){sy(z.h,Be);var Gn=Be,es=z.L;es&&(Gn.I=es),Gn.B&&(nm(Gn),Bo(Gn)),z.g=Be}else vy(z);0<$.i.length&&Zu($)}else _n[0]!="stop"&&_n[0]!="close"||pi($,7);else $.G==3&&(_n[0]=="stop"||_n[0]=="close"?_n[0]=="stop"?pi($,7):lm($):_n[0]!="noop"&&$.l&&$.l.ta(_n),$.v=0)}}Mh(4)}catch{}}var ty=class{constructor(m,R){this.g=m,this.map=R}};function sm(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ny(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ry(m){return m.h?1:m.g?m.g.size:0}function im(m,R){return m.h?m.h==R:m.g?m.g.has(R):!1}function om(m,R){m.g?m.g.add(R):m.h=R}function sy(m,R){m.h&&m.h==R?m.h=null:m.g&&m.g.has(R)&&m.g.delete(R)}sm.prototype.cancel=function(){if(this.i=iy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function iy(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let R=m.i;for(const $ of m.g.values())R=R.concat($.D);return R}return g(m.i)}function H_(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var R=[],$=m.length,z=0;z<$;z++)R.push(m[z]);return R}R=[],$=0;for(z in m)R[$++]=m[z];return R}function q_(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var R=[];m=m.length;for(var $=0;$<m;$++)R.push($);return R}R=[],$=0;for(const z in m)R[$++]=z;return R}}}function oy(m,R){if(m.forEach&&typeof m.forEach=="function")m.forEach(R,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,R,void 0);else for(var $=q_(m),z=H_(m),ae=z.length,he=0;he<ae;he++)R.call(void 0,z[he],$&&$[he],m)}var ay=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $o(m,R){if(m){m=m.split("&");for(var $=0;$<m.length;$++){var z=m[$].indexOf("="),ae=null;if(0<=z){var he=m[$].substring(0,z);ae=m[$].substring(z+1)}else he=m[$];R(he,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Br(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Br){this.h=m.h,Rs(this,m.j),this.o=m.o,this.g=m.g,Hu(this,m.s),this.l=m.l;var R=m.i,$=new Fh;$.i=R.i,R.g&&($.g=new Map(R.g),$.h=R.h),am(this,$),this.m=m.m}else m&&(R=String(m).match(ay))?(this.h=!1,Rs(this,R[1]||"",!0),this.o=lc(R[2]||""),this.g=lc(R[3]||"",!0),Hu(this,R[4]),this.l=lc(R[5]||"",!0),am(this,R[6]||"",!0),this.m=lc(R[7]||"")):(this.h=!1,this.i=new Fh(null,this.h))}Br.prototype.toString=function(){var m=[],R=this.j;R&&m.push(Fo(R,ly,!0),":");var $=this.g;return($||R=="file")&&(m.push("//"),(R=this.o)&&m.push(Fo(R,ly,!0),"@"),m.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&m.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&m.push("/"),m.push(Fo($,$.charAt(0)=="/"?uy:qu,!0))),($=this.i.toString())&&m.push("?",$),($=this.m)&&m.push("#",Fo($,Sa)),m.join("")};function Ps(m){return new Br(m)}function Rs(m,R,$){m.j=$?lc(R,!0):R,m.j&&(m.j=m.j.replace(/:$/,""))}function Hu(m,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);m.s=R}else m.s=null}function am(m,R,$){R instanceof Fh?(m.i=R,Vh(m.i,m.h)):($||(R=Fo(R,z_)),m.i=new Fh(R,m.h))}function dn(m,R,$){m.i.set(R,$)}function Uo(m){return dn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function lc(m,R){return m?R?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Fo(m,R,$){return typeof m=="string"?(m=encodeURI(m).replace(R,cy),$&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function cy(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ly=/[#\/\?@]/g,qu=/[#\?:]/g,uy=/[#\?]/g,z_=/[#\?@]/g,Sa=/#/g;function Fh(m,R){this.h=this.g=null,this.i=m||null,this.j=!!R}function Ns(m){m.g||(m.g=new Map,m.h=0,m.i&&$o(m.i,function(R,$){m.add(decodeURIComponent(R.replace(/\+/g," ")),$)}))}t=Fh.prototype,t.add=function(m,R){Ns(this),this.i=null,m=uc(this,m);var $=this.g.get(m);return $||this.g.set(m,$=[]),$.push(R),this.h+=1,this};function jh(m,R){Ns(m),R=uc(m,R),m.g.has(R)&&(m.i=null,m.h-=m.g.get(R).length,m.g.delete(R))}function dy(m,R){return Ns(m),R=uc(m,R),m.g.has(R)}t.forEach=function(m,R){Ns(this),this.g.forEach(function($,z){$.forEach(function(ae){m.call(R,ae,z,this)},this)},this)},t.na=function(){Ns(this);const m=Array.from(this.g.values()),R=Array.from(this.g.keys()),$=[];for(let z=0;z<R.length;z++){const ae=m[z];for(let he=0;he<ae.length;he++)$.push(R[z])}return $},t.V=function(m){Ns(this);let R=[];if(typeof m=="string")dy(this,m)&&(R=R.concat(this.g.get(uc(this,m))));else{m=Array.from(this.g.values());for(let $=0;$<m.length;$++)R=R.concat(m[$])}return R},t.set=function(m,R){return Ns(this),this.i=null,m=uc(this,m),dy(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[R]),this.h+=1,this},t.get=function(m,R){return m?(m=this.V(m),0<m.length?String(m[0]):R):R};function zu(m,R,$){jh(m,R),0<$.length&&(m.i=null,m.g.set(uc(m,R),g($)),m.h+=$.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],R=Array.from(this.g.keys());for(var $=0;$<R.length;$++){var z=R[$];const he=encodeURIComponent(String(z)),Be=this.V(z);for(z=0;z<Be.length;z++){var ae=he;Be[z]!==""&&(ae+="="+encodeURIComponent(String(Be[z]))),m.push(ae)}}return this.i=m.join("&")};function uc(m,R){return R=String(R),m.j&&(R=R.toLowerCase()),R}function Vh(m,R){R&&!m.j&&(Ns(m),m.i=null,m.g.forEach(function($,z){var ae=z.toLowerCase();z!=ae&&(jh(this,z),zu(this,ae,$))},m)),m.j=R}function W_(m,R){const $=new Bh;if(a.Image){const z=new Image;z.onload=f(xa,$,"TestLoadImage: loaded",!0,R,z),z.onerror=f(xa,$,"TestLoadImage: error",!1,R,z),z.onabort=f(xa,$,"TestLoadImage: abort",!1,R,z),z.ontimeout=f(xa,$,"TestLoadImage: timeout",!1,R,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=m}else R(!1)}function G_(m,R){const $=new Bh,z=new AbortController,ae=setTimeout(()=>{z.abort(),xa($,"TestPingServer: timeout",!1,R)},1e4);fetch(m,{signal:z.signal}).then(he=>{clearTimeout(ae),he.ok?xa($,"TestPingServer: ok",!0,R):xa($,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(ae),xa($,"TestPingServer: error",!1,R)})}function xa(m,R,$,z,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),z($)}catch{}}function Wu(){this.g=new Wn}function yS(m,R,$){const z=$||"";try{oy(m,function(ae,he){let Be=ae;l(ae)&&(Be=Ft(ae)),R.push(z+he+"="+encodeURIComponent(Be))})}catch(ae){throw R.push(z+"type="+encodeURIComponent("_badmap")),ae}}function Hh(m){this.l=m.Ub||null,this.j=m.eb||!1}p(Hh,un),Hh.prototype.g=function(){return new Gu(this.l,this.j)},Hh.prototype.i=(function(m){return function(){return m}})({});function Gu(m,R){at.call(this),this.D=m,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Gu,at),t=Gu.prototype,t.open=function(m,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=R,this.readyState=1,zh(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(R.body=m),(this.D||a).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wl(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,zh(this)),this.g&&(this.readyState=3,zh(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function qh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var R=m.value?m.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!m.done}))&&(this.response=this.responseText+=R)}m.done?wl(this):zh(this),this.readyState==3&&qh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,wl(this))},t.Qa=function(m){this.g&&(this.response=m,wl(this))},t.ga=function(){this.g&&wl(this)};function wl(m){m.readyState=4,m.l=null,m.j=null,m.v=null,zh(m)}t.setRequestHeader=function(m,R){this.u.append(m,R)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],R=this.h.entries();for(var $=R.next();!$.done;)$=$.value,m.push($[0]+": "+$[1]),$=R.next();return m.join(`\r
`)};function zh(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Wh(m){let R="";return x(m,function($,z){R+=z,R+=":",R+=$,R+=`\r
`}),R}function hy(m,R,$){e:{for(z in $){var z=!1;break e}z=!0}z||($=Wh($),typeof m=="string"?$!=null&&encodeURIComponent(String($)):dn(m,R,$))}function yr(m){at.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(yr,at);var fy=/^https?$/i,py=["POST","PUT"];t=yr.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,R,$,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);R=R?R.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$h.g(),this.v=this.o?$_(this.o):$_($h),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(R,String(m),!0),this.B=!1}catch(he){cm(this,he);return}if(m=$||"",$=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ae in z)$.set(ae,z[ae]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const he of z.keys())$.set(he,z.get(he));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from($.keys()).find(he=>he.toLowerCase()=="content-type"),ae=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(py,R,void 0))||z||ae||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Be]of $)this.g.setRequestHeader(he,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gy(this),this.u=!0,this.g.send(m),this.u=!1}catch(he){cm(this,he)}};function cm(m,R){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=R,m.m=5,my(m),Qu(m)}function my(m){m.A||(m.A=!0,j(m,"complete"),j(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,j(this,"complete"),j(this,"abort"),Qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qu(this,!0)),yr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ku(this):this.bb())},t.bb=function(){Ku(this)};function Ku(m){if(m.h&&typeof o<"u"&&(!m.v[1]||jo(m)!=4||m.Z()!=2)){if(m.u&&jo(m)==4)O(m.Ea,0,m);else if(j(m,"readystatechange"),jo(m)==4){m.h=!1;try{const Be=m.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var $;if(!($=R)){var z;if(z=Be===0){var ae=String(m.D).match(ay)[1]||null;!ae&&a.self&&a.self.location&&(ae=a.self.location.protocol.slice(0,-1)),z=!fy.test(ae?ae.toLowerCase():"")}$=z}if($)j(m,"complete"),j(m,"success");else{m.m=6;try{var he=2<jo(m)?m.g.statusText:""}catch{he=""}m.l=he+" ["+m.Z()+"]",my(m)}}finally{Qu(m)}}}}function Qu(m,R){if(m.g){gy(m);const $=m.g,z=m.v[0]?()=>{}:null;m.g=null,m.v=null,R||j(m,"ready");try{$.onreadystatechange=z}catch{}}}function gy(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function jo(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<jo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var R=this.g.responseText;return m&&R.indexOf(m)==0&&(R=R.substring(m.length)),nn(R)}};function bl(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function wS(m){const R={};m=(m.g&&2<=jo(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<m.length;z++){if(b(m[z]))continue;var $=k(m[z]);const ae=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const he=R[ae]||[];R[ae]=he,he.push($)}I(R,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yu(m,R,$){return $&&$.internalChannelParams&&$.internalChannelParams[m]||R}function yy(m){this.Aa=0,this.i=[],this.j=new Bh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yu("baseRetryDelayMs",5e3,m),this.cb=Yu("retryDelaySeedMs",1e4,m),this.Wa=Yu("forwardChannelMaxRetries",2,m),this.wa=Yu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new sm(m&&m.concurrentRequestLimit),this.Da=new Wu,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yy.prototype,t.la=8,t.G=1,t.connect=function(m,R,$,z){Nr(0),this.W=m,this.H=R||{},$&&z!==void 0&&(this.H.OSID=$,this.H.OAID=z),this.F=this.X,this.I=Z_(this,null,this.W),Zu(this)};function lm(m){if(wy(m),m.G==3){var R=m.U++,$=Ps(m.I);if(dn($,"SID",m.K),dn($,"RID",R),dn($,"TYPE","terminate"),Kh(m,$),R=new cc(m,m.j,R),R.L=2,R.v=Uo(Ps($)),$=!1,a.navigator&&a.navigator.sendBeacon)try{$=a.navigator.sendBeacon(R.v.toString(),"")}catch{}!$&&a.Image&&(new Image().src=R.v,$=!0),$||(R.g=Cy(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Bo(R)}um(m)}function Gh(m){m.g&&(_y(m),m.g.cancel(),m.g=null)}function wy(m){Gh(m),m.u&&(a.clearTimeout(m.u),m.u=null),Xu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function Zu(m){if(!ny(m.h)&&!m.s){m.s=!0;var R=m.Ga;H||ee(),F||(H(),F=!0),J.add(R,m),m.B=0}}function K_(m,R){return ry(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=R.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Lh(h(m.Ga,m,R),Ay(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ae=new cc(this,this.j,m);let he=this.o;if(this.S&&(he?(he=E(he),T(he,this.S)):he=this.S),this.m!==null||this.O||(ae.H=he,he=null),this.P)e:{for(var R=0,$=0;$<this.i.length;$++){t:{var z=this.i[$];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(R+=z,4096<R){R=$;break e}if(R===4096||$===this.i.length-1){R=$+1;break e}}R=1e3}else R=1e3;R=by(this,ae,R),$=Ps(this.I),dn($,"RID",m),dn($,"CVER",22),this.D&&dn($,"X-HTTP-Session-Id",this.D),Kh(this,$),he&&(this.O?R="headers="+encodeURIComponent(String(Wh(he)))+"&"+R:this.m&&hy($,this.m,he)),om(this.h,ae),this.Ua&&dn($,"TYPE","init"),this.P?(dn($,"$req",R),dn($,"SID","null"),ae.T=!0,xs(ae,$,null)):xs(ae,$,R),this.G=2}}else this.G==3&&(m?Q_(this,m):this.i.length==0||ny(this.h)||Q_(this))};function Q_(m,R){var $;R?$=R.l:$=m.U++;const z=Ps(m.I);dn(z,"SID",m.K),dn(z,"RID",$),dn(z,"AID",m.T),Kh(m,z),m.m&&m.o&&hy(z,m.m,m.o),$=new cc(m,m.j,$,m.B+1),m.m===null&&($.H=m.o),R&&(m.i=R.D.concat(m.i)),R=by(m,$,1e3),$.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),om(m.h,$),xs($,z,R)}function Kh(m,R){m.H&&x(m.H,function($,z){dn(R,z,$)}),m.l&&oy({},function($,z){dn(R,z,$)})}function by(m,R,$){$=Math.min(m.i.length,$);var z=m.l?h(m.l.Na,m.l,m):null;e:{var ae=m.i;let he=-1;for(;;){const Be=["count="+$];he==-1?0<$?(he=ae[0].g,Be.push("ofs="+he)):he=0:Be.push("ofs="+he);let Gn=!0;for(let es=0;es<$;es++){let _n=ae[es].g;const ms=ae[es].map;if(_n-=he,0>_n)he=Math.max(0,ae[es].g-100),Gn=!1;else try{yS(ms,Be,"req"+_n+"_")}catch{z&&z(ms)}}if(Gn){z=Be.join("&");break e}}}return m=m.i.splice(0,$),R.D=m,z}function vy(m){if(!m.g&&!m.u){m.Y=1;var R=m.Fa;H||ee(),F||(H(),F=!0),J.add(R,m),m.v=0}}function Ju(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Lh(h(m.Fa,m),Ay(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Y_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Lh(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nr(10),Gh(this),Y_(this))};function _y(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function Y_(m){m.g=new cc(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var R=Ps(m.qa);dn(R,"RID","rpc"),dn(R,"SID",m.K),dn(R,"AID",m.T),dn(R,"CI",m.F?"0":"1"),!m.F&&m.ja&&dn(R,"TO",m.ja),dn(R,"TYPE","xmlhttp"),Kh(m,R),m.m&&m.o&&hy(R,m.m,m.o),m.L&&(m.g.I=m.L);var $=m.g;m=m.ia,$.L=1,$.v=Uo(Ps(R)),$.m=null,$.P=!0,ps($,m)}t.Za=function(){this.C!=null&&(this.C=null,Gh(this),Ju(this),Nr(19))};function Xu(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function Ey(m,R){var $=null;if(m.g==R){Xu(m),_y(m),m.g=null;var z=2}else if(im(m.h,R))$=R.D,sy(m.h,R),z=1;else return;if(m.G!=0){if(R.o)if(z==1){$=R.m?R.m.length:0,R=Date.now()-R.F;var ae=m.B;z=em(),j(z,new Uu(z,$)),Zu(m)}else vy(m);else if(ae=R.s,ae==3||ae==0&&0<R.X||!(z==1&&K_(m,R)||z==2&&Ju(m)))switch($&&0<$.length&&(R=m.h,R.i=R.i.concat($)),ae){case 1:pi(m,5);break;case 4:pi(m,10);break;case 3:pi(m,6);break;default:pi(m,2)}}}function Ay(m,R){let $=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||($*=2),$*R}function pi(m,R){if(m.j.info("Error code "+R),R==2){var $=h(m.fb,m),z=m.Xa;const ae=!z;z=new Br(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rs(z,"https"),Uo(z),ae?W_(z.toString(),$):G_(z.toString(),$)}else Nr(2);m.G=0,m.l&&m.l.sa(R),um(m),wy(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Nr(2)):(this.j.info("Failed to ping google.com"),Nr(1))};function um(m){if(m.G=0,m.ka=[],m.l){const R=iy(m.h);(R.length!=0||m.i.length!=0)&&(y(m.ka,R),y(m.ka,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.ra()}}function Z_(m,R,$){var z=$ instanceof Br?Ps($):new Br($);if(z.g!="")R&&(z.g=R+"."+z.g),Hu(z,z.s);else{var ae=a.location;z=ae.protocol,R=R?R+"."+ae.hostname:ae.hostname,ae=+ae.port;var he=new Br(null);z&&Rs(he,z),R&&(he.g=R),ae&&Hu(he,ae),$&&(he.l=$),z=he}return $=m.D,R=m.ya,$&&R&&dn(z,$,R),dn(z,"VER",m.la),Kh(m,z),z}function Cy(m,R,$){if(R&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=m.Ca&&!m.pa?new yr(new Hh({eb:$})):new yr(m.pa),R.Ha(m.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function J_(){}t=J_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function dm(){}dm.prototype.g=function(m,R){return new mi(m,R)};function mi(m,R){at.call(this),this.g=new yy(R),this.l=m,this.h=R&&R.messageUrlParams||null,m=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(m?m["X-WebChannel-Content-Type"]=R.messageContentType:m={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(m?m["X-WebChannel-Client-Profile"]=R.va:m={"X-WebChannel-Client-Profile":R.va}),this.g.S=m,(m=R&&R.Sb)&&!b(m)&&(this.g.m=m),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!b(R)&&(this.g.D=R,m=this.h,m!==null&&R in m&&(m=this.h,R in m&&delete m[R])),this.j=new vl(this)}p(mi,at),mi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mi.prototype.close=function(){lm(this.g)},mi.prototype.o=function(m){var R=this.g;if(typeof m=="string"){var $={};$.__data__=m,m=$}else this.u&&($={},$.__data__=Ft(m),m=$);R.i.push(new ty(R.Ya++,m)),R.G==3&&Zu(R)},mi.prototype.N=function(){this.g.l=null,delete this.j,lm(this.g),delete this.g,mi.aa.N.call(this)};function X_(m){Xp.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var R=m.__sm__;if(R){e:{for(const $ in R){m=$;break e}m=void 0}(this.i=m)&&(m=this.i,R=R!==null&&m in R?R[m]:void 0),this.data=R}else this.data=m}p(X_,Xp);function Iy(){$u.call(this),this.status=1}p(Iy,$u);function vl(m){this.g=m}p(vl,J_),vl.prototype.ua=function(){j(this.g,"a")},vl.prototype.ta=function(m){j(this.g,new X_(m))},vl.prototype.sa=function(m){j(this.g,new Iy)},vl.prototype.ra=function(){j(this.g,"b")},dm.prototype.createWebChannel=dm.prototype.g,mi.prototype.send=mi.prototype.o,mi.prototype.open=mi.prototype.m,mi.prototype.close=mi.prototype.close,LQ=function(){return new dm},MQ=function(){return em()},DQ=ac,qN={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,qE=pl,V_.COMPLETE="complete",OQ=V_,U_.EventType=Dh,Dh.OPEN="a",Dh.CLOSE="b",Dh.ERROR="c",Dh.MESSAGE="d",at.prototype.listen=at.prototype.K,yw=U_,yr.prototype.listenOnce=yr.prototype.L,yr.prototype.getLastError=yr.prototype.Ka,yr.prototype.getLastErrorCode=yr.prototype.Ba,yr.prototype.getStatus=yr.prototype.Z,yr.prototype.getResponseJson=yr.prototype.Oa,yr.prototype.getResponseText=yr.prototype.oa,yr.prototype.send=yr.prototype.ea,yr.prototype.setWithCredentials=yr.prototype.Ha,kQ=yr}).apply(typeof J1<"u"?J1:typeof self<"u"?self:typeof window<"u"?window:{});const fU="@firebase/firestore",pU="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new HT("@firebase/firestore");function Jm(){return Tp.logLevel}function nt(t,...e){if(Tp.logLevel<=fn.DEBUG){const n=e.map(h5);Tp.debug(`Firestore (${z0}): ${t}`,...n)}}function Tu(t,...e){if(Tp.logLevel<=fn.ERROR){const n=e.map(h5);Tp.error(`Firestore (${z0}): ${t}`,...n)}}function h0(t,...e){if(Tp.logLevel<=fn.WARN){const n=e.map(h5);Tp.warn(`Firestore (${z0}): ${t}`,...n)}}function h5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BQ(t,r,n)}function BQ(t,e,n){let r=`FIRESTORE (${z0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tu(r),new Error(r)}function qn(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||BQ(e,s,r)}function Wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends oc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HUe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(si.UNAUTHENTICATED)))}shutdown(){}}class qUe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zUe{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qn(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new hu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hu,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},a=c=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>a(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hu)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qn(typeof r.accessToken=="string",31837,{l:r}),new $Q(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qn(e===null||typeof e=="string",2055,{h:e}),new si(e)}}class WUe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=si.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GUe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WUe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(si.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KUe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ua(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qn(this.o===void 0,3512);const r=i=>{i.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,nt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mU(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mU(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QUe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=QUe(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function pn(t,e){return t<e?-1:t>e?1:0}function zN(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return FP(s)===FP(i)?pn(s,i):FP(s)?1:-1}return pn(t.length,e.length)}const YUe=55296,ZUe=57343;function FP(t){const e=t.charCodeAt(0);return e>=YUe&&e<=ZUe}function f0(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="__name__";class Pc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Rt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Rt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Pc.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return pn(e.length,n.length)}static compareSegments(e,n){const r=Pc.isNumericId(e),s=Pc.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Pc.extractNumericId(e).compare(Pc.extractNumericId(n)):zN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rh.fromString(e.substring(4,e.length-2))}}class gr extends Pc{construct(e,n,r){return new gr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new We(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new gr(n)}static emptyPath(){return new gr([])}}const JUe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fs extends Pc{construct(e,n,r){return new Fs(e,n,r)}static isValidIdentifier(e){return JUe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gU}static keyField(){return new Fs([gU])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new We(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new We(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new We(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new We(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fs(n)}static emptyPath(){return new Fs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(gr.fromString(e))}static fromName(e){return new yt(gr.fromString(e).popFirst(5))}static empty(){return new yt(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new gr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(t,e,n){if(!n)throw new We(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XUe(t,e,n,r){if(e===!0&&r===!0)throw new We(be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yU(t){if(!yt.isDocumentKey(t))throw new We(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wU(t){if(yt.isDocumentKey(t))throw new We(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FQ(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function GT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Rt(12329,{type:typeof t})}function Su(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=GT(t);throw new We(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function e9e(t,e){if(e<=0)throw new We(be.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){const n={typeString:t};return e&&(n.value=e),n}function R_(t,e){if(!FQ(t))throw new We(be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new We(be.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=-62135596800,vU=1e6;class vr{static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*vU);return new vr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new We(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bU)throw new We(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vU}_compareTo(e){return this.seconds===e.seconds?pn(this.nanoseconds,e.nanoseconds):pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(R_(e,vr._jsonSchema))return new vr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vr._jsonSchemaVersion="firestore/timestamp/1.0",vr._jsonSchema={type:Xr("string",vr._jsonSchemaVersion),seconds:Xr("number"),nanoseconds:Xr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new vr(0,0))}static max(){return new Ut(new vr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-1;function t9e(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ut.fromTimestamp(r===1e9?new vr(n+1,0):new vr(n,r));return new bh(s,yt.empty(),e)}function n9e(t){return new bh(t.readTime,t.key,Dv)}class bh{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bh(Ut.min(),yt.empty(),Dv)}static max(){return new bh(Ut.max(),yt.empty(),Dv)}}function r9e(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=yt.comparator(t.documentKey,e.documentKey),n!==0?n:pn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i9e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==s9e)throw t;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.reject(n)}static resolve(e){return new Ae(((n,r)=>{n(e)}))}static reject(e){return new Ae(((n,r)=>{r(e)}))}static waitFor(e){return new Ae(((n,r)=>{let s=0,i=0,o=!1;e.forEach((a=>{++s,a.next((()=>{++i,o&&i===s&&n()}),(c=>r(c)))})),o=!0,i===s&&n()}))}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next((s=>s?Ae.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Ae(((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next((u=>{o[l]=u,++a,a===i&&r(o)}),(u=>s(u)))}}))}static doWhile(e,n){return new Ae(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function o9e(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function G0(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}KT.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=-1;function QT(t){return t==null}function ZC(t){return t===0&&1/t==-1/0}function a9e(t){return typeof t=="number"&&Number.isInteger(t)&&!ZC(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ="";function c9e(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_U(e)),e=l9e(t.get(n),e);return _U(e)}function l9e(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case jQ:n+="";break;default:n+=i}}return n}function _U(t){return t+jQ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){this.comparator=e,this.root=n||Bs.EMPTY}insert(e,n){return new Rr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bs.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new X1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new X1(this.root,e,this.comparator,!1)}getReverseIterator(){return new X1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new X1(this.root,e,this.comparator,!0)}}class X1{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bs{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Bs.RED,this.left=s??Bs.EMPTY,this.right=i??Bs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Bs(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Bs.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Rt(27949);return e+(this.isRed()?0:1)}}Bs.EMPTY=null,Bs.RED=!0,Bs.BLACK=!1;Bs.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Bs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AU(this.data.getIterator())}getIteratorFrom(e){return new AU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ds(this.comparator);return n.data=e,n}}class AU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.fields=e,e.sort(Fs.comparator)}static empty(){return new Co([])}unionWith(e){let n=new ds(Fs.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Co(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return f0(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new HQ("Invalid base64 string: "+i):i}})(e);return new Hs(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new Hs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hs.EMPTY_BYTE_STRING=new Hs("");const u9e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vh(t){if(qn(!!t,39018),typeof t=="string"){let e=0;const n=u9e.exec(t);if(qn(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fr(t.seconds),nanos:Fr(t.nanos)}}function Fr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _h(t){return typeof t=="string"?Hs.fromBase64String(t):Hs.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ="server_timestamp",zQ="__type__",WQ="__previous_value__",GQ="__local_write_time__";function m5(t){return(t?.mapValue?.fields||{})[zQ]?.stringValue===qQ}function YT(t){const e=t.mapValue.fields[WQ];return m5(e)?YT(e):e}function Mv(t){const e=vh(t.mapValue.fields[GQ].timestampValue);return new vr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9e{constructor(e,n,r,s,i,o,a,c,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=u}}const JC="(default)";class Lv{constructor(e,n){this.projectId=e,this.database=n||JC}static empty(){return new Lv("","")}get isDefaultDatabase(){return this.database===JC}isEqual(e){return e instanceof Lv&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ="__type__",h9e="__max__",eE={mapValue:{}},QQ="__vector__",XC="value";function Eh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m5(t)?4:p9e(t)?9007199254740991:f9e(t)?10:11:Rt(28295,{value:t})}function ul(t,e){if(t===e)return!0;const n=Eh(t);if(n!==Eh(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mv(t).isEqual(Mv(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=vh(s.timestampValue),a=vh(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return _h(s.bytesValue).isEqual(_h(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Fr(s.geoPointValue.latitude)===Fr(i.geoPointValue.latitude)&&Fr(s.geoPointValue.longitude)===Fr(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Fr(s.integerValue)===Fr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Fr(s.doubleValue),a=Fr(i.doubleValue);return o===a?ZC(o)===ZC(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return f0(t.arrayValue.values||[],e.arrayValue.values||[],ul);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(EU(o)!==EU(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ul(o[c],a[c])))return!1;return!0})(t,e);default:return Rt(52216,{left:t})}}function Bv(t,e){return(t.values||[]).find((n=>ul(n,e)))!==void 0}function p0(t,e){if(t===e)return 0;const n=Eh(t),r=Eh(e);if(n!==r)return pn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pn(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const a=Fr(i.integerValue||i.doubleValue),c=Fr(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return CU(t.timestampValue,e.timestampValue);case 4:return CU(Mv(t),Mv(e));case 5:return zN(t.stringValue,e.stringValue);case 6:return(function(i,o){const a=_h(i),c=_h(o);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=pn(a[l],c[l]);if(u!==0)return u}return pn(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const a=pn(Fr(i.latitude),Fr(o.latitude));return a!==0?a:pn(Fr(i.longitude),Fr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return IU(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const a=i.fields||{},c=o.fields||{},l=a[XC]?.arrayValue,u=c[XC]?.arrayValue,d=pn(l?.values?.length||0,u?.values?.length||0);return d!==0?d:IU(l,u)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===eE.mapValue&&o===eE.mapValue)return 0;if(i===eE.mapValue)return 1;if(o===eE.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const h=zN(c[d],u[d]);if(h!==0)return h;const f=p0(a[c[d]],l[u[d]]);if(f!==0)return f}return pn(c.length,u.length)})(t.mapValue,e.mapValue);default:throw Rt(23264,{he:n})}}function CU(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pn(t,e);const n=vh(t),r=vh(e),s=pn(n.seconds,r.seconds);return s!==0?s:pn(n.nanos,r.nanos)}function IU(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=p0(n[s],r[s]);if(i)return i}return pn(n.length,r.length)}function m0(t){return WN(t)}function WN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=vh(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _h(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return yt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=WN(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${WN(n.fields[o])}`;return s+"}"})(t.mapValue):Rt(61005,{value:t})}function zE(t){switch(Eh(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=YT(t);return e?16+zE(e):16;case 5:return 2*t.stringValue.length;case 6:return _h(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+zE(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return kh(r.fields,((i,o)=>{s+=i.length+zE(o)})),s})(t.mapValue);default:throw Rt(13486,{value:t})}}function TU(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function GN(t){return!!t&&"integerValue"in t}function g5(t){return!!t&&"arrayValue"in t}function SU(t){return!!t&&"nullValue"in t}function xU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function WE(t){return!!t&&"mapValue"in t}function f9e(t){return(t?.mapValue?.fields||{})[KQ]?.stringValue===QQ}function Qw(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return kh(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Qw(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qw(t.arrayValue.values[n]);return e}return{...t}}function p9e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h9e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!WE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qw(n)}setAll(e){let n=Fs.emptyPath(),r={},s=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Qw(o):s.push(a.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());WE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ul(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];WE(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){kh(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Qi(Qw(this.value))}}function YQ(t){const e=[];return kh(t.fields,((n,r)=>{const s=new Fs([n]);if(WE(r)){const i=YQ(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Co(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ai(e,0,Ut.min(),Ut.min(),Ut.min(),Qi.empty(),0)}static newFoundDocument(e,n,r,s){return new ai(e,1,n,Ut.min(),r,s,0)}static newNoDocument(e,n){return new ai(e,2,n,Ut.min(),Ut.min(),Qi.empty(),0)}static newUnknownDocument(e,n){return new ai(e,3,n,Ut.min(),Ut.min(),Qi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.position=e,this.inclusive=n}}function PU(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=yt.comparator(yt.fromName(o.referenceValue),n.key):r=p0(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function RU(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ul(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n="asc"){this.field=e,this.dir=n}}function m9e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{}class Jr extends ZQ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new y9e(e,n,r):n==="array-contains"?new v9e(e,r):n==="in"?new _9e(e,r):n==="not-in"?new E9e(e,r):n==="array-contains-any"?new A9e(e,r):new Jr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w9e(e,r):new b9e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(p0(n,this.value)):n!==null&&Eh(this.value)===Eh(n)&&this.matchesComparison(p0(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sc extends ZQ{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sc(e,n)}matches(e){return JQ(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JQ(t){return t.op==="and"}function XQ(t){return g9e(t)&&JQ(t)}function g9e(t){for(const e of t.filters)if(e instanceof sc)return!1;return!0}function KN(t){if(t instanceof Jr)return t.field.canonicalString()+t.op.toString()+m0(t.value);if(XQ(t))return t.filters.map((e=>KN(e))).join(",");{const e=t.filters.map((n=>KN(n))).join(",");return`${t.op}(${e})`}}function eY(t,e){return t instanceof Jr?(function(r,s){return s instanceof Jr&&r.op===s.op&&r.field.isEqual(s.field)&&ul(r.value,s.value)})(t,e):t instanceof sc?(function(r,s){return s instanceof sc&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,a)=>i&&eY(o,s.filters[a])),!0):!1})(t,e):void Rt(19439)}function tY(t){return t instanceof Jr?(function(n){return`${n.field.canonicalString()} ${n.op} ${m0(n.value)}`})(t):t instanceof sc?(function(n){return n.op.toString()+" {"+n.getFilters().map(tY).join(" ,")+"}"})(t):"Filter"}class y9e extends Jr{constructor(e,n,r){super(e,n,r),this.key=yt.fromName(r.referenceValue)}matches(e){const n=yt.comparator(e.key,this.key);return this.matchesComparison(n)}}class w9e extends Jr{constructor(e,n){super(e,"in",n),this.keys=nY("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class b9e extends Jr{constructor(e,n){super(e,"not-in",n),this.keys=nY("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nY(t,e){return(e.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class v9e extends Jr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return g5(n)&&Bv(n.arrayValue,this.value)}}class _9e extends Jr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bv(this.value.arrayValue,n)}}class E9e extends Jr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bv(this.value.arrayValue,n)}}class A9e extends Jr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!g5(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Bv(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9e{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function NU(t,e=null,n=[],r=[],s=null,i=null,o=null){return new C9e(t,e,n,r,s,i,o)}function y5(t){const e=Wt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>KN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),QT(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>m0(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>m0(r))).join(",")),e.Te=n}return e.Te}function w5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m9e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eY(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RU(t.startAt,e.startAt)&&RU(t.endAt,e.endAt)}function QN(t){return yt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I9e(t,e,n,r,s,i,o,a){return new K0(t,e,n,r,s,i,o,a)}function b5(t){return new K0(t)}function kU(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rY(t){return t.collectionGroup!==null}function Yw(t){const e=Wt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ds(Fs.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((l=>{l.isInequality()&&(a=a.add(l.field))}))})),a})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new $v(i,r))})),n.has(Fs.keyField().canonicalString())||e.Ie.push(new $v(Fs.keyField(),r))}return e.Ie}function Kc(t){const e=Wt(t);return e.Ee||(e.Ee=T9e(e,Yw(t))),e.Ee}function T9e(t,e){if(t.limitType==="F")return NU(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new $v(s.field,i)}));const n=t.endAt?new eI(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new eI(t.startAt.position,t.startAt.inclusive):null;return NU(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function YN(t,e){const n=t.filters.concat([e]);return new K0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tI(t,e,n){return new K0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ZT(t,e){return w5(Kc(t),Kc(e))&&t.limitType===e.limitType}function sY(t){return`${y5(Kc(t))}|lt:${t.limitType}`}function Xm(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>tY(s))).join(", ")}]`),QT(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>m0(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>m0(s))).join(",")),`Target(${r})`})(Kc(t))}; limitType=${t.limitType})`}function JT(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):yt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of Yw(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,a,c){const l=PU(o,a,c);return o.inclusive?l<=0:l<0})(r.startAt,Yw(r),s)||r.endAt&&!(function(o,a,c){const l=PU(o,a,c);return o.inclusive?l>=0:l>0})(r.endAt,Yw(r),s))})(t,e)}function S9e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iY(t){return(e,n)=>{let r=!1;for(const s of Yw(t)){const i=x9e(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function x9e(t,e,n){const r=t.field.isKeyField()?yt.comparator(e.key,n.key):(function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?p0(c,l):Rt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){kh(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return VQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9e=new Rr(yt.comparator);function xu(){return P9e}const oY=new Rr(yt.comparator);function ww(...t){let e=oY;for(const n of t)e=e.insert(n.key,n);return e}function aY(t){let e=oY;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $f(){return Zw()}function cY(){return Zw()}function Zw(){return new Qp((t=>t.toString()),((t,e)=>t.isEqual(e)))}const R9e=new Rr(yt.comparator),N9e=new ds(yt.comparator);function mn(...t){let e=N9e;for(const n of t)e=e.add(n);return e}const k9e=new ds(pn);function O9e(){return k9e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ZC(e)?"-0":e}}function lY(t){return{integerValue:""+t}}function D9e(t,e){return a9e(e)?lY(e):v5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this._=void 0}}function M9e(t,e,n){return t instanceof nI?(function(s,i){const o={fields:{[zQ]:{stringValue:qQ},[GQ]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&m5(i)&&(i=YT(i)),i&&(o.fields[WQ]=i),{mapValue:o}})(n,e):t instanceof Uv?dY(t,e):t instanceof Fv?hY(t,e):(function(s,i){const o=uY(s,i),a=OU(o)+OU(s.Ae);return GN(o)&&GN(s.Ae)?lY(a):v5(s.serializer,a)})(t,e)}function L9e(t,e,n){return t instanceof Uv?dY(t,e):t instanceof Fv?hY(t,e):n}function uY(t,e){return t instanceof rI?(function(r){return GN(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class nI extends XT{}class Uv extends XT{constructor(e){super(),this.elements=e}}function dY(t,e){const n=fY(e);for(const r of t.elements)n.some((s=>ul(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Fv extends XT{constructor(e){super(),this.elements=e}}function hY(t,e){let n=fY(e);for(const r of t.elements)n=n.filter((s=>!ul(s,r)));return{arrayValue:{values:n}}}class rI extends XT{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function OU(t){return Fr(t.integerValue||t.doubleValue)}function fY(t){return g5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function B9e(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Uv&&s instanceof Uv||r instanceof Fv&&s instanceof Fv?f0(r.elements,s.elements,ul):r instanceof rI&&s instanceof rI?ul(r.Ae,s.Ae):r instanceof nI&&s instanceof nI})(t.transform,e.transform)}class $9e{constructor(e,n){this.version=e,this.transformResults=n}}class Qc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qc}static exists(e){return new Qc(void 0,e)}static updateTime(e){return new Qc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function GE(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let eS=class{};function pY(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gY(t.key,Qc.none()):new N_(t.key,t.data,Qc.none());{const n=t.data,r=Qi.empty();let s=new ds(Fs.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Oh(t.key,r,new Co(s.toArray()),Qc.none())}}function U9e(t,e,n){t instanceof N_?(function(s,i,o){const a=s.value.clone(),c=MU(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Oh?(function(s,i,o){if(!GE(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=MU(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(mY(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Jw(t,e,n,r){return t instanceof N_?(function(i,o,a,c){if(!GE(i.precondition,o))return a;const l=i.value.clone(),u=LU(i.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Oh?(function(i,o,a,c){if(!GE(i.precondition,o))return a;const l=LU(i.fieldTransforms,c,o),u=o.data;return u.setAll(mY(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(t,e,n,r):(function(i,o,a){return GE(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function F9e(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=uY(r.transform,s||null);i!=null&&(n===null&&(n=Qi.empty()),n.set(r.field,i))}return n||null}function DU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&f0(r,s,((i,o)=>B9e(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class N_ extends eS{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oh extends eS{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function mY(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function MU(t,e,n){const r=new Map;qn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,L9e(o,a,n[s]))}return r}function LU(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,M9e(i,o,e))}return r}class gY extends eS{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j9e extends eS{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9e{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&U9e(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jw(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jw(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cY();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=pY(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ut.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),mn())}isEqual(e){return this.batchId===e.batchId&&f0(this.mutations,e.mutations,((n,r)=>DU(n,r)))&&f0(this.baseMutations,e.baseMutations,((n,r)=>DU(n,r)))}}class _5{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return R9e})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new _5(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9e{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr,En;function z9e(t){switch(t){case be.OK:return Rt(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return Rt(15467,{code:t})}}function yY(t){if(t===void 0)return Tu("GRPC error has no .code"),be.UNKNOWN;switch(t){case Gr.OK:return be.OK;case Gr.CANCELLED:return be.CANCELLED;case Gr.UNKNOWN:return be.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return be.INTERNAL;case Gr.UNAVAILABLE:return be.UNAVAILABLE;case Gr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Gr.NOT_FOUND:return be.NOT_FOUND;case Gr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Gr.ABORTED:return be.ABORTED;case Gr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Gr.DATA_LOSS:return be.DATA_LOSS;default:return Rt(39323,{code:t})}}(En=Gr||(Gr={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9e(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9e=new rh([4294967295,4294967295],0);function BU(t){const e=W9e().encode(t),n=new NQ;return n.update(e),new Uint8Array(n.digest())}function $U(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new rh([n,r],0),new rh([s,i],0)]}class E5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bw(`Invalid padding: ${n}`);if(r<0)throw new bw(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bw(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bw(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rh.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(rh.fromNumber(r)));return s.compare(G9e)===1&&(s=new rh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BU(e),[r,s]=$U(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new E5(i,s,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=BU(e),[r,s]=$U(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,k_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tS(Ut.min(),s,new Rr(pn),xu(),mn())}}class k_{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new k_(r,n,mn(),mn(),mn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class wY{constructor(e,n){this.targetId=e,this.Ce=n}}class bY{constructor(e,n,r=Hs.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class UU{constructor(){this.ve=0,this.Fe=FU(),this.Me=Hs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mn(),n=mn(),r=mn();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Rt(38017,{changeType:i})}})),new k_(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FU()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class K9e{constructor(e){this.Ge=e,this.ze=new Map,this.je=xu(),this.Je=tE(),this.He=tE(),this.Ye=new Rr(pn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Rt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(QN(i))if(r===0){const o=new yt(i.path);this.et(n,o,ai.newNoDocument(o,Ut.min()))}else qn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,l)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=_h(r).toUint8Array()}catch(c){if(c instanceof HQ)return h0("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new E5(o,s,i)}catch(c){return h0(c instanceof bw?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const a=this.ot(o);if(a){if(i.current&&QN(a.target)){const c=new yt(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ai.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=mn();this.He.forEach(((i,o)=>{let a=!0;o.forEachWhile((c=>{const l=this.ot(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new tS(e,n,this.Ye,this.je,r);return this.je=xu(),this.Je=tE(),this.He=tE(),this.Ye=new Rr(pn),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new UU,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ds(pn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ds(pn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UU),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function tE(){return new Rr(yt.comparator)}function FU(){return new Rr(yt.comparator)}const Q9e={asc:"ASCENDING",desc:"DESCENDING"},Y9e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z9e={and:"AND",or:"OR"};class J9e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ZN(t,e){return t.useProto3Json||QT(e)?e:{value:e}}function sI(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vY(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X9e(t,e){return sI(t,e.toTimestamp())}function Yc(t){return qn(!!t,49232),Ut.fromTimestamp((function(n){const r=vh(n);return new vr(r.seconds,r.nanos)})(t))}function A5(t,e){return JN(t,e).canonicalString()}function JN(t,e){const n=(function(s){return new gr(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _Y(t){const e=gr.fromString(t);return qn(TY(e),10190,{key:e.toString()}),e}function XN(t,e){return A5(t.databaseId,e.path)}function jP(t,e){const n=_Y(e);if(n.get(1)!==t.databaseId.projectId)throw new We(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new We(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new yt(AY(n))}function EY(t,e){return A5(t.databaseId,e)}function eFe(t){const e=_Y(t);return e.length===4?gr.emptyPath():AY(e)}function ek(t){return new gr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AY(t){return qn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jU(t,e,n){return{name:XN(t,e),fields:n.value.mapValue.fields}}function tFe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Rt(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(l,u){return l.useProto3Json?(qn(u===void 0||typeof u=="string",58123),Hs.fromBase64String(u||"")):(qn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Hs.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(l){const u=l.code===void 0?be.UNKNOWN:yY(l.code);return new We(u,l.message||"")})(o);n=new bY(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jP(t,r.document.name),i=Yc(r.document.updateTime),o=r.document.createTime?Yc(r.document.createTime):Ut.min(),a=new Qi({mapValue:{fields:r.document.fields}}),c=ai.newFoundDocument(s,i,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new KE(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jP(t,r.document),i=r.readTime?Yc(r.readTime):Ut.min(),o=ai.newNoDocument(s,i),a=r.removedTargetIds||[];n=new KE([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jP(t,r.document),i=r.removedTargetIds||[];n=new KE([],i,s,null)}else{if(!("filter"in e))return Rt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new q9e(s,i),a=r.targetId;n=new wY(a,o)}}return n}function nFe(t,e){let n;if(e instanceof N_)n={update:jU(t,e.key,e.value)};else if(e instanceof gY)n={delete:XN(t,e.key)};else if(e instanceof Oh)n={update:jU(t,e.key,e.data),updateMask:dFe(e.fieldMask)};else{if(!(e instanceof j9e))return Rt(16599,{Vt:e.type});n={verify:XN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const a=o.transform;if(a instanceof nI)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uv)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fv)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rI)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Rt(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:X9e(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Rt(27497)})(t,e.precondition)),n}function rFe(t,e){return t&&t.length>0?(qn(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?Yc(s.updateTime):Yc(i);return o.isEqual(Ut.min())&&(o=Yc(i)),new $9e(o,s.transformResults||[])})(n,e)))):[]}function sFe(t,e){return{documents:[EY(t,e.path)]}}function iFe(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EY(t,s);const i=(function(l){if(l.length!==0)return IY(sc.create(l,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(l){if(l.length!==0)return l.map((u=>(function(h){return{field:eg(h.field),direction:cFe(h.dir)}})(u)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ZN(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:n,parent:s}}function oFe(t){let e=eFe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qn(r===1,65062);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=(function(d){const h=CY(d);return h instanceof sc&&XQ(h)?h.getFilters():[h]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((h=>(function(p){return new $v(tg(p.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(p.direction))})(h)))})(n.orderBy));let a=null;n.limit&&(a=(function(d){let h;return h=typeof d=="object"?d.value:d,QT(h)?null:h})(n.limit));let c=null;n.startAt&&(c=(function(d){const h=!!d.before,f=d.values||[];return new eI(f,h)})(n.startAt));let l=null;return n.endAt&&(l=(function(d){const h=!d.before,f=d.values||[];return new eI(f,h)})(n.endAt)),I9e(e,s,o,i,a,"F",c,l)}function aFe(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CY(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=tg(n.unaryFilter.field);return Jr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=tg(n.unaryFilter.field);return Jr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tg(n.unaryFilter.field);return Jr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=tg(n.unaryFilter.field);return Jr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Jr.create(tg(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return sc.create(n.compositeFilter.filters.map((r=>CY(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(n.compositeFilter.op))})(t):Rt(30097,{filter:t})}function cFe(t){return Q9e[t]}function lFe(t){return Y9e[t]}function uFe(t){return Z9e[t]}function eg(t){return{fieldPath:t.canonicalString()}}function tg(t){return Fs.fromServerFormat(t.fieldPath)}function IY(t){return t instanceof Jr?(function(n){if(n.op==="=="){if(xU(n.value))return{unaryFilter:{field:eg(n.field),op:"IS_NAN"}};if(SU(n.value))return{unaryFilter:{field:eg(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xU(n.value))return{unaryFilter:{field:eg(n.field),op:"IS_NOT_NAN"}};if(SU(n.value))return{unaryFilter:{field:eg(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eg(n.field),op:lFe(n.op),value:n.value}}})(t):t instanceof sc?(function(n){const r=n.getFilters().map((s=>IY(s)));return r.length===1?r[0]:{compositeFilter:{op:uFe(n.op),filters:r}}})(t):Rt(54877,{filter:t})}function dFe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function TY(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,s,i=Ut.min(),o=Ut.min(),a=Hs.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new zd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hFe{constructor(e){this.yt=e}}function fFe(t){const e=oFe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tI(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pFe{constructor(){this.Cn=new mFe}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(bh.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(bh.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class mFe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ds(gr.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ds(gr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SY=41943040;class Vi{static withCacheSize(e){return new Vi(e,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi.DEFAULT_COLLECTION_PERCENTILE=10,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vi.DEFAULT=new Vi(SY,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vi.DISABLED=new Vi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new g0(0)}static cr(){return new g0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="LruGarbageCollector",gFe=1048576;function qU([t,e],[n,r]){const s=pn(t,n);return s===0?pn(e,r):s}class yFe{constructor(e){this.Ir=e,this.buffer=new ds(qU),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wFe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nt(HU,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){G0(n)?nt(HU,"Ignoring IndexedDB error during garbage collection: ",n):await W0(n)}await this.Vr(3e5)}))}}class bFe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(KT.ce);const r=new yFe(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(VU)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VU):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s)))).next((d=>(r=d,a=Date.now(),this.removeTargets(e,r,n)))).next((d=>(i=d,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((d=>(l=Date.now(),Jm()<=fn.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${d} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function vFe(t,e){return new bFe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Fe{constructor(){this.changes=new Qp((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EFe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AFe{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Jw(r.mutation,s,Co.empty(),vr.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,mn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=mn()){const s=$f();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=ww();return i.forEach(((a,c)=>{o=o.insert(a,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=$f();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,mn())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,s){let i=xu();const o=Zw(),a=(function(){return Zw()})();return n.forEach(((c,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof Oh)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Jw(u.mutation,l,u.mutation.getFieldMask(),vr.now())):o.set(l.key,Co.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((l,u)=>o.set(l,u))),n.forEach(((l,u)=>a.set(l,new EFe(u,o.get(l)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=Zw();let s=new Rr(((o,a)=>o-a)),i=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Co.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(s.get(a.batchId)||mn()).add(c);s=s.insert(a.batchId,d)}))})).next((()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=cY();u.forEach((h=>{if(!i.has(h)){const f=pY(n.get(h),r.get(h));f!==null&&d.set(h,f),i=i.add(h)}})),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return Ae.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return yt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rY(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Ae.resolve($f());let a=Dv,c=i;return o.next((l=>Ae.forEach(l,((u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?Ae.resolve():this.remoteDocumentCache.getEntry(e,u).next((h=>{c=c.insert(u,h)}))))).next((()=>this.populateOverlays(e,l,i))).next((()=>this.computeViews(e,c,l,mn()))).next((u=>({batchId:a,changes:aY(u)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new yt(n)).next((r=>{let s=ww();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ww();return this.indexManager.getCollectionParents(e,i).next((a=>Ae.forEach(a,(c=>{const l=(function(d,h){return new K0(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next((u=>{u.forEach(((d,h)=>{o=o.insert(d,h)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,ai.newInvalidDocument(u)))}));let a=ww();return o.forEach(((c,l)=>{const u=i.get(c);u!==void 0&&Jw(u.mutation,l,Co.empty(),vr.now()),JT(n,l)&&(a=a.insert(c,l))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CFe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Yc(s.createTime)}})(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:fFe(s.bundledQuery),readTime:Yc(s.readTime)}})(n)),Ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IFe{constructor(){this.overlays=new Rr(yt.comparator),this.qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$f();return Ae.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const s=$f(),i=n.length+1,o=new yt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Ae.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Rr(((l,u)=>l-u));const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=$f(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=$f(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((l,u)=>a.set(l,u))),!(a.size()>=s)););return Ae.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new H9e(n,r));let i=this.qr.get(n);i===void 0&&(i=mn(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TFe{constructor(){this.sessionToken=Hs.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.Qr=new ds(_s.$r),this.Ur=new ds(_s.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _s(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new _s(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new yt(new gr([])),r=new _s(n,e),s=new _s(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new yt(new gr([])),r=new _s(n,e),s=new _s(n,e+1);let i=mn();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new _s(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _s{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return yt.comparator(e.key,n.key)||pn(e.Yr,n.Yr)}static Kr(e,n){return pn(e.Yr,n.Yr)||yt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SFe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ds(_s.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new V9e(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new _s(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ae.resolve(o)}lookupMutationBatch(e,n){return Ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Ae.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?p5:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _s(n,0),s=new _s(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const a=this.Xr(o.Yr);i.push(a)})),Ae.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ds(pn);return n.forEach((s=>{const i=new _s(s,0),o=new _s(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(a=>{r=r.add(a.Yr)}))})),Ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;yt.isDocumentKey(i)||(i=i.child(""));const o=new _s(new yt(i),0);let a=new ds(pn);return this.Zr.forEachWhile((c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.Yr)),!0)}),o),Ae.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){qn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ae.forEach(n.mutations,(s=>{const i=new _s(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new _s(n,0),s=this.Zr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xFe{constructor(e){this.ri=e,this.docs=(function(){return new Rr(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():ai.newInvalidDocument(n))}getEntries(e,n){let r=xu();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ai.newInvalidDocument(s))})),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=xu();const o=n.path,a=new yt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||r9e(n9e(u),r)<=0||(s.has(u.key)||JT(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Ae.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Rt(9500)}ii(e,n){return Ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new PFe(this)}getSize(e){return Ae.resolve(this.size)}}class PFe extends _Fe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RFe{constructor(e){this.persistence=e,this.si=new Qp((n=>y5(n)),w5),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.oi=0,this._i=new C5,this.targetCount=0,this.ai=g0.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new g0(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Pr(n),Ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),Ae.waitFor(i).next((()=>s))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),Ae.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(e,n){this.ui={},this.overlays={},this.ci=new KT(0),this.li=!1,this.li=!0,this.hi=new TFe,this.referenceDelegate=e(this),this.Pi=new RFe(this),this.indexManager=new pFe,this.remoteDocumentCache=(function(s){return new xFe(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new hFe(n),this.Ii=new CFe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IFe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new SFe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){nt("MemoryPersistence","Starting transaction:",e);const s=new NFe(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class NFe extends i9e{constructor(e){super(),this.currentSequenceNumber=e}}class I5{constructor(e){this.persistence=e,this.Ri=new C5,this.Vi=null}static mi(e){return new I5(e)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,(r=>{const s=yt.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Ut.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class iI{constructor(e,n){this.persistence=e,this.pi=new Qp((r=>c9e(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=vFe(this,n)}static mi(e,n){return new iI(e,n)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ae.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Ae.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,i.removeEntry(o,Ut.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zE(e.data.value)),n}br(e,n,r){return Ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Ae.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=mn(),s=mn();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new T5(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kFe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OFe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s4e()?8:o9e(hi())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new kFe;return this.Ss(e,n,o).next((a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Jm()<=fn.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Xm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(Jm()<=fn.DEBUG&&nt("QueryEngine","Query:",Xm(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Jm()<=fn.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Xm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kc(n))):Ae.resolve())}ys(e,n){if(kU(n))return Ae.resolve(null);let r=Kc(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=tI(n,null,"F"),r=Kc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=mn(...i);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((c=>{const l=this.Ds(n,a);return this.Cs(n,l,o,c.readTime)?this.ys(e,tI(n,null,"F")):this.vs(e,l,n,c)}))))})))))}ws(e,n,r,s){return kU(n)||s.isEqual(Ut.min())?Ae.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Ae.resolve(null):(Jm()<=fn.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xm(n)),this.vs(e,o,n,t9e(s,Dv)).next((a=>a)))}))}Ds(e,n){let r=new ds(iY(e));return n.forEach(((s,i)=>{JT(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Jm()<=fn.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Xm(n)),this.ps.getDocumentsMatchingQuery(e,n,bh.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="LocalStore",DFe=3e8;class MFe{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Rr(pn),this.xs=new Qp((i=>y5(i)),w5),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AFe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function LFe(t,e,n,r){return new MFe(t,e,n,r)}async function PY(t,e){const n=Wt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],a=[];let c=mn();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next((l=>({Ls:l,removedBatchIds:o,addedBatchIds:a})))}))}))}function BFe(t,e){const n=Wt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,l,u){const d=l.batch,h=d.keys();let f=Ae.resolve();return h.forEach((p=>{f=f.next((()=>u.getEntry(c,p))).next((g=>{const y=l.docVersions.get(p);qn(y!==null,48541),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))}))})),f.next((()=>a.mutationQueue.removeMutationBatch(c,d)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=mn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function RY(t){const e=Wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function $Fe(t,e){const n=Wt(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach(((u,d)=>{const h=s.get(d);if(!h)return;a.push(n.Pi.removeMatchingKeys(i,u.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(i,u.addedDocuments,d))));let f=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Hs.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),s=s.insert(d,f),(function(g,y,v){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=DFe?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0})(h,f,u)&&a.push(n.Pi.updateTargetData(i,f))}));let c=xu(),l=mn();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))})),a.push(UFe(i,o,e.documentUpdates).next((u=>{c=u.ks,l=u.qs}))),!r.isEqual(Ut.min())){const u=n.Pi.getLastRemoteSnapshotVersion(i).next((d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));a.push(u)}return Ae.waitFor(a).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,l))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function UFe(t,e,n){let r=mn(),s=mn();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=xu();return n.forEach(((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(Ut.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):nt(S5,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)})),{ks:o,qs:s}}))}function FFe(t,e){const n=Wt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=p5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jFe(t,e){const n=Wt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Ae.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new zd(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function tk(t,e,n){const r=Wt(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!G0(o))throw o;nt(S5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function zU(t,e,n){const r=Wt(t);let s=Ut.min(),i=mn();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,l,u){const d=Wt(c),h=d.xs.get(u);return h!==void 0?Ae.resolve(d.Ms.get(h)):d.Pi.getTargetData(l,u)})(r,o,Kc(e)).next((a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Ut.min(),n?i:mn()))).next((a=>(VFe(r,S9e(e),a),{documents:a,Qs:i})))))}function VFe(t,e,n){let r=t.Os.get(e)||Ut.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class WU{constructor(){this.activeTargetIds=O9e()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HFe{constructor(){this.Mo=new WU,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WU,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qFe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="ConnectivityMonitor";class KU{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(GU,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){nt(GU,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nE=null;function nk(){return nE===null?nE=(function(){return 268435456+Math.round(2147483648*Math.random())})():nE++,"0x"+nE.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="RestConnection",zFe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WFe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===JC?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=nk(),a=this.zo(e,n.toUriEncodedString());nt(VP,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:l}=new URL(a),u=V0(l);return this.Jo(e,a,c,r,u).then((d=>(nt(VP,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw h0(VP,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+z0})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=zFe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GFe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="WebChannelConnection";class KFe extends WFe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=nk();return new Promise(((a,c)=>{const l=new kQ;l.setWithCredentials(!0),l.listenOnce(OQ.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case qE.NO_ERROR:const d=l.getResponseJson();nt(ti,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case qE.TIMEOUT:nt(ti,`RPC '${e}' ${o} timed out`),c(new We(be.DEADLINE_EXCEEDED,"Request time out"));break;case qE.HTTP_ERROR:const h=l.getStatus();if(nt(ti,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f?.error;if(p&&p.status&&p.message){const g=(function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(b)>=0?b:be.UNKNOWN})(p.status);c(new We(g,p.message))}else c(new We(be.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new We(be.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:e,streamId:o,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{nt(ti,`RPC '${e}' ${o} completed.`)}}));const u=JSON.stringify(s);nt(ti,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",u,r,15)}))}T_(e,n,r){const s=nk(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LQ(),a=MQ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");nt(ti,`Creating RPC '${e}' stream ${s}: ${u}`,c);const d=o.createWebChannel(u,c);this.I_(d);let h=!1,f=!1;const p=new GFe({Yo:y=>{f?nt(ti,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(h||(nt(ti,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),nt(ti,`RPC '${e}' stream ${s} sending:`,y),d.send(y))},Zo:()=>d.close()}),g=(y,v,b)=>{y.listen(v,(_=>{try{b(_)}catch(S){setTimeout((()=>{throw S}),0)}}))};return g(d,yw.EventType.OPEN,(()=>{f||(nt(ti,`RPC '${e}' stream ${s} transport opened.`),p.o_())})),g(d,yw.EventType.CLOSE,(()=>{f||(f=!0,nt(ti,`RPC '${e}' stream ${s} transport closed`),p.a_(),this.E_(d))})),g(d,yw.EventType.ERROR,(y=>{f||(f=!0,h0(ti,`RPC '${e}' stream ${s} transport errored. Name:`,y.name,"Message:",y.message),p.a_(new We(be.UNAVAILABLE,"The operation could not be completed")))})),g(d,yw.EventType.MESSAGE,(y=>{if(!f){const v=y.data[0];qn(!!v,16349);const b=v,_=b?.error||b[0]?.error;if(_){nt(ti,`RPC '${e}' stream ${s} received error:`,_);const S=_.status;let C=(function(E){const A=Gr[E];if(A!==void 0)return yY(A)})(S),x=_.message;C===void 0&&(C=be.INTERNAL,x="Unknown error status: "+S+" with message "+_.message),f=!0,p.a_(new We(C,x)),d.close()}else nt(ti,`RPC '${e}' stream ${s} received:`,v),p.u_(v)}})),g(a,DQ.STAT_EVENT,(y=>{y.stat===qN.PROXY?nt(ti,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===qN.NOPROXY&&nt(ti,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{p.__()}),0),p}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function HP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){return new J9e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&nt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="PersistentStream";class kY{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NY(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(Tu(n.toString()),Tu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new We(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return nt(QU,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(nt(QU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QFe extends kY{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tFe(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Ut.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ut.min():o.readTime?Yc(o.readTime):Ut.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ek(this.serializer),n.addTarget=(function(i,o){let a;const c=o.target;if(a=QN(c)?{documents:sFe(i,c)}:{query:iFe(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vY(i,o.resumeToken);const l=ZN(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Ut.min())>0){a.readTime=sI(i,o.snapshotVersion.toTimestamp());const l=ZN(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);const r=aFe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ek(this.serializer),n.removeTarget=e,this.q_(n)}}class YFe extends kY{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rFe(e.writeResults,e.commitTime),r=Yc(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ek(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>nFe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZFe{}class JFe extends ZFe{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new We(be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,JN(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new We(be.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,JN(n,r),s,o,a,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(be.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XFe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tu(n),this.aa=!1):nt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="RemoteStore";class e7e{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Yp(this)&&(nt(Sp,"Restarting streams for network reachability change."),await(async function(c){const l=Wt(c);l.Ea.add(4),await O_(l),l.Ra.set("Unknown"),l.Ea.delete(4),await rS(l)})(this))}))})),this.Ra=new XFe(r,s)}}async function rS(t){if(Yp(t))for(const e of t.da)await e(!0)}async function O_(t){for(const e of t.da)await e(!1)}function OY(t,e){const n=Wt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),N5(n)?R5(n):Q0(n).O_()&&P5(n,e))}function x5(t,e){const n=Wt(t),r=Q0(n);n.Ia.delete(e),r.O_()&&DY(n,e),n.Ia.size===0&&(r.O_()?r.L_():Yp(n)&&n.Ra.set("Unknown"))}function P5(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Q0(t).Y_(e)}function DY(t,e){t.Va.Ue(e),Q0(t).Z_(e)}function R5(t){t.Va=new K9e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Q0(t).start(),t.Ra.ua()}function N5(t){return Yp(t)&&!Q0(t).x_()&&t.Ia.size>0}function Yp(t){return Wt(t).Ea.size===0}function MY(t){t.Va=void 0}async function t7e(t){t.Ra.set("Online")}async function n7e(t){t.Ia.forEach(((e,n)=>{P5(t,e)}))}async function r7e(t,e){MY(t),N5(t)?(t.Ra.ha(e),R5(t)):t.Ra.set("Unknown")}async function s7e(t,e,n){if(t.Ra.set("Online"),e instanceof bY&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))})(t,e)}catch(r){nt(Sp,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oI(t,r)}else if(e instanceof KE?t.Va.Ze(e):e instanceof wY?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ut.min()))try{const r=await RY(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach(((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.Ia.get(l);u&&i.Ia.set(l,u.withResumeToken(c.resumeToken,o))}})),a.targetMismatches.forEach(((c,l)=>{const u=i.Ia.get(c);if(!u)return;i.Ia.set(c,u.withResumeToken(Hs.EMPTY_BYTE_STRING,u.snapshotVersion)),DY(i,c);const d=new zd(u.target,c,l,u.sequenceNumber);P5(i,d)})),i.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){nt(Sp,"Failed to raise snapshot:",r),await oI(t,r)}}async function oI(t,e,n){if(!G0(e))throw e;t.Ea.add(1),await O_(t),t.Ra.set("Offline"),n||(n=()=>RY(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{nt(Sp,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rS(t)}))}function LY(t,e){return e().catch((n=>oI(t,n,e)))}async function sS(t){const e=Wt(t),n=Ah(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:p5;for(;i7e(e);)try{const s=await FFe(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,o7e(e,s)}catch(s){await oI(e,s)}BY(e)&&$Y(e)}function i7e(t){return Yp(t)&&t.Ta.length<10}function o7e(t,e){t.Ta.push(e);const n=Ah(t);n.O_()&&n.X_&&n.ea(e.mutations)}function BY(t){return Yp(t)&&!Ah(t).x_()&&t.Ta.length>0}function $Y(t){Ah(t).start()}async function a7e(t){Ah(t).ra()}async function c7e(t){const e=Ah(t);for(const n of t.Ta)e.ea(n.mutations)}async function l7e(t,e,n){const r=t.Ta.shift(),s=_5.from(r,e,n);await LY(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await sS(t)}async function u7e(t,e){e&&Ah(t).X_&&await(async function(r,s){if((function(o){return z9e(o)&&o!==be.ABORTED})(s.code)){const i=r.Ta.shift();Ah(r).B_(),await LY(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await sS(r)}})(t,e),BY(t)&&$Y(t)}async function YU(t,e){const n=Wt(t);n.asyncQueue.verifyOperationInProgress(),nt(Sp,"RemoteStore received new credentials");const r=Yp(n);n.Ea.add(3),await O_(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rS(n)}async function d7e(t,e){const n=Wt(t);e?(n.Ea.delete(2),await rS(n)):e||(n.Ea.add(2),await O_(n),n.Ra.set("Unknown"))}function Q0(t){return t.ma||(t.ma=(function(n,r,s){const i=Wt(n);return i.sa(),new QFe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:t7e.bind(null,t),t_:n7e.bind(null,t),r_:r7e.bind(null,t),H_:s7e.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),N5(t)?R5(t):t.Ra.set("Unknown")):(await t.ma.stop(),MY(t))}))),t.ma}function Ah(t){return t.fa||(t.fa=(function(n,r,s){const i=Wt(n);return i.sa(),new YFe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:a7e.bind(null,t),r_:u7e.bind(null,t),ta:c7e.bind(null,t),na:l7e.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await sS(t)):(await t.fa.stop(),t.Ta.length>0&&(nt(Sp,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new k5(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O5(t,e){if(Tu("AsyncQueue",`${e}: ${t}`),G0(t))return new We(be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{static emptySet(e){return new Ig(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=ww(),this.sortedSet=new Rr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ig)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ig;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.ga=new Rr(yt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Rt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class y0{constructor(e,n,r,s,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new y0(e,n,Ig.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ZT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7e{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class f7e{constructor(){this.queries=JU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Wt(n),i=s.queries;s.queries=JU(),i.forEach(((o,a)=>{for(const c of a.Sa)c.onError(r)}))})(this,new We(be.ABORTED,"Firestore shutting down"))}}function JU(){return new Qp((t=>sY(t)),ZT)}async function UY(t,e){const n=Wt(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new h7e,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=O5(o,`Initialization of query '${Xm(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&D5(n)}async function FY(t,e){const n=Wt(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function p7e(t,e){const n=Wt(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&D5(n)}function m7e(t,e,n){const r=Wt(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function D5(t){t.Ca.forEach((e=>{e.next()}))}var rk,XU;(XU=rk||(rk={})).Ma="default",XU.Cache="cache";class jY{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new y0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=y0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rk.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e){this.key=e}}class HY{constructor(e){this.key=e}}class g7e{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mn(),this.mutatedKeys=mn(),this.eu=iY(e),this.tu=new Ig(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ZU,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((u,d)=>{const h=s.get(u),f=JT(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.su(h,f)||(r.track({type:2,doc:f}),y=!0,(c&&this.eu(f,c)>0||l&&this.eu(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(c||l)&&(a=!0)),y&&(f?(o=o.add(f),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((u,d)=>(function(f,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:y})}};return g(f)-g(p)})(u.type,d.type)||this.eu(u.doc,d.doc))),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,l=c!==this.Za;return this.Za=c,o.length!==0||l?{snapshot:new y0(this.query,e.tu,i,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZU,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new HY(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new VY(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=mn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return y0.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const M5="SyncEngine";class y7e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class w7e{constructor(e){this.key=e,this.hu=!1}}class b7e{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Qp((a=>sY(a)),ZT),this.Iu=new Map,this.Eu=new Set,this.du=new Rr(yt.comparator),this.Au=new Map,this.Ru=new C5,this.Vu={},this.mu=new Map,this.fu=g0.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v7e(t,e,n=!0){const r=QY(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await qY(r,e,n,!0),s}async function _7e(t,e){const n=QY(t);await qY(n,e,!0,!1)}async function qY(t,e,n,r){const s=await jFe(t.localStore,Kc(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await E7e(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&OY(t.remoteStore,s),a}async function E7e(t,e,n,r,s){t.pu=(d,h,f)=>(async function(g,y,v,b){let _=y.view.ru(v);_.Cs&&(_=await zU(g.localStore,y.query,!1).then((({documents:I})=>y.view.ru(I,_))));const S=b&&b.targetChanges.get(y.targetId),C=b&&b.targetMismatches.get(y.targetId)!=null,x=y.view.applyChanges(_,g.isPrimaryClient,S,C);return t9(g,y.targetId,x.au),x.snapshot})(t,d,h,f);const i=await zU(t.localStore,e,!0),o=new g7e(e,i.Qs),a=o.ru(i.documents),c=k_.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=o.applyChanges(a,t.isPrimaryClient,c);t9(t,n,l.au);const u=new y7e(e,n,o);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot}async function A7e(t,e,n){const r=Wt(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!ZT(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await tk(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&x5(r.remoteStore,s.targetId),sk(r,s.targetId)})).catch(W0)):(sk(r,s.targetId),await tk(r.localStore,s.targetId,!0))}async function C7e(t,e){const n=Wt(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x5(n.remoteStore,r.targetId))}async function I7e(t,e,n){const r=k7e(t);try{const s=await(function(o,a){const c=Wt(o),l=vr.now(),u=a.reduce(((f,p)=>f.add(p.key)),mn());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",(f=>{let p=xu(),g=mn();return c.Ns.getEntries(f,u).next((y=>{p=y,p.forEach(((v,b)=>{b.isValidDocument()||(g=g.add(v))}))})).next((()=>c.localDocuments.getOverlayedDocuments(f,p))).next((y=>{d=y;const v=[];for(const b of a){const _=F9e(b,d.get(b.key).overlayedDocument);_!=null&&v.push(new Oh(b.key,_,YQ(_.value.mapValue),Qc.exists(!0)))}return c.mutationQueue.addMutationBatch(f,l,v,a)})).next((y=>{h=y;const v=y.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(f,y.batchId,v)}))})).then((()=>({batchId:h.batchId,changes:aY(d)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,a,c){let l=o.Vu[o.currentUser.toKey()];l||(l=new Rr(pn)),l=l.insert(a,c),o.Vu[o.currentUser.toKey()]=l})(r,s.batchId,n),await D_(r,s.changes),await sS(r.remoteStore)}catch(s){const i=O5(s,"Failed to persist write");n.reject(i)}}async function zY(t,e){const n=Wt(t);try{const r=await $Fe(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(qn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?qn(o.hu,14607):s.removedDocuments.size>0&&(qn(o.hu,42227),o.hu=!1))})),await D_(n,r,e)}catch(r){await W0(r)}}function e9(t,e,n){const r=Wt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)})),(function(o,a){const c=Wt(o);c.onlineState=a;let l=!1;c.queries.forEach(((u,d)=>{for(const h of d.Sa)h.va(a)&&(l=!0)})),l&&D5(c)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T7e(t,e,n){const r=Wt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Rr(yt.comparator);o=o.insert(i,ai.newNoDocument(i,Ut.min()));const a=mn().add(i),c=new tS(Ut.min(),new Map,new Rr(pn),o,a);await zY(r,c),r.du=r.du.remove(i),r.Au.delete(e),L5(r)}else await tk(r.localStore,e,!1).then((()=>sk(r,e,n))).catch(W0)}async function S7e(t,e){const n=Wt(t),r=e.batch.batchId;try{const s=await BFe(n.localStore,e);GY(n,r,null),WY(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await D_(n,s)}catch(s){await W0(s)}}async function x7e(t,e,n){const r=Wt(t);try{const s=await(function(o,a){const c=Wt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next((d=>(qn(d!==null,37113),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d)))).next((()=>c.mutationQueue.performConsistencyCheck(l))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u))).next((()=>c.localDocuments.getDocuments(l,u)))}))})(r.localStore,e);GY(r,e,n),WY(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await D_(r,s)}catch(s){await W0(s)}}function WY(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function GY(t,e,n){const r=Wt(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function sk(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||KY(t,r)}))}function KY(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(x5(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),L5(t))}function t9(t,e,n){for(const r of n)r instanceof VY?(t.Ru.addReference(r.key,e),P7e(t,r)):r instanceof HY?(nt(M5,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||KY(t,r.key)):Rt(19791,{wu:r})}function P7e(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(nt(M5,"New document in limbo: "+n),t.Eu.add(r),L5(t))}function L5(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new yt(gr.fromString(e)),r=t.fu.next();t.Au.set(r,new w7e(n)),t.du=t.du.insert(n,r),OY(t.remoteStore,new zd(Kc(b5(n.path)),r,"TargetPurposeLimboResolution",KT.ce))}}async function D_(t,e,n){const r=Wt(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,c)=>{o.push(r.pu(c,e,n).then((l=>{if((l||n)&&r.isPrimaryClient){const u=l?!l.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,u?"current":"not-current")}if(l){s.push(l);const u=T5.As(c.targetId,l);i.push(u)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(c,l){const u=Wt(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>Ae.forEach(l,(h=>Ae.forEach(h.Es,(f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f))).next((()=>Ae.forEach(h.ds,(f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))))))}catch(d){if(!G0(d))throw d;nt(S5,"Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ms.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);u.Ms=u.Ms.insert(h,g)}}})(r.localStore,i))}async function R7e(t,e){const n=Wt(t);if(!n.currentUser.isEqual(e)){nt(M5,"User change. New user:",e.toKey());const r=await PY(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((a=>{a.forEach((c=>{c.reject(new We(be.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await D_(n,r.Ls)}}function N7e(t,e){const n=Wt(t),r=n.Au.get(e);if(r&&r.hu)return mn().add(r.key);{let s=mn();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function QY(t){const e=Wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zY.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N7e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T7e.bind(null,e),e.Pu.H_=p7e.bind(null,e.eventManager),e.Pu.yu=m7e.bind(null,e.eventManager),e}function k7e(t){const e=Wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S7e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x7e.bind(null,e),e}class aI{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nS(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LFe(this.persistence,new OFe,e.initialUser,this.serializer)}Cu(e){return new xY(I5.mi,this.serializer)}Du(e){return new HFe}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}aI.provider={build:()=>new aI};class O7e extends aI{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qn(this.persistence.referenceDelegate instanceof iI,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wFe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vi.withCacheSize(this.cacheSizeBytes):Vi.DEFAULT;return new xY((r=>iI.mi(r,n)),this.serializer)}}class ik{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>e9(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R7e.bind(null,this.syncEngine),await d7e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new f7e})()}createDatastore(e){const n=nS(e.databaseInfo.databaseId),r=(function(i){return new KFe(i)})(e.databaseInfo);return(function(i,o,a,c){return new JFe(i,o,a,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,a){return new e7e(r,s,i,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>e9(this.syncEngine,n,0)),(function(){return KU.v()?new KU:new qFe})())}createSyncEngine(e,n){return(function(s,i,o,a,c,l,u){const d=new b7e(s,i,o,a,c,l);return u&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Wt(n);nt(Sp,"RemoteStore shutting down."),r.Ea.add(5),await O_(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ik.provider={build:()=>new ik};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="FirestoreClient";class D7e{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=si.UNAUTHENTICATED,this.clientId=f5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{nt(Ch,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(nt(Ch,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=O5(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qP(t,e){t.asyncQueue.verifyOperationInProgress(),nt(Ch,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await PY(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function n9(t,e){t.asyncQueue.verifyOperationInProgress();const n=await M7e(t);nt(Ch,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>YU(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>YU(e.remoteStore,s))),t._onlineComponents=e}async function M7e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){nt(Ch,"Using user provided OfflineComponentProvider");try{await qP(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===be.FAILED_PRECONDITION||s.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;h0("Error using user provided cache. Falling back to memory cache: "+n),await qP(t,new aI)}}else nt(Ch,"Using default OfflineComponentProvider"),await qP(t,new O7e(void 0));return t._offlineComponents}async function ZY(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(nt(Ch,"Using user provided OnlineComponentProvider"),await n9(t,t._uninitializedComponentsProvider._online)):(nt(Ch,"Using default OnlineComponentProvider"),await n9(t,new ik))),t._onlineComponents}function L7e(t){return ZY(t).then((e=>e.syncEngine))}async function JY(t){const e=await ZY(t),n=e.eventManager;return n.onListen=v7e.bind(null,e.syncEngine),n.onUnlisten=A7e.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_7e.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=C7e.bind(null,e.syncEngine),n}function B7e(t,e,n={}){const r=new hu;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,c,l){const u=new YY({next:h=>{u.Nu(),o.enqueueAndForget((()=>FY(i,d)));const f=h.docs.has(a);!f&&h.fromCache?l.reject(new We(be.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?l.reject(new We(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new jY(b5(a.path),u,{includeMetadataChanges:!0,qa:!0});return UY(i,d)})(await JY(t),t.asyncQueue,e,n,r))),r.promise}function $7e(t,e,n={}){const r=new hu;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,c,l){const u=new YY({next:h=>{u.Nu(),o.enqueueAndForget((()=>FY(i,d))),h.fromCache&&c.source==="server"?l.reject(new We(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new jY(a,u,{includeMetadataChanges:!0,qa:!0});return UY(i,d)})(await JY(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ="firestore.googleapis.com",s9=!0;class i9{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new We(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eZ,this.ssl=s9}else this.host=e.host,this.ssl=e.ssl??s9;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SY;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gFe)throw new We(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XUe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XY(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new We(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new We(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new We(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iS{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i9({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new We(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i9(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HUe;switch(r.type){case"firstParty":return new GUe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new We(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=r9.get(n);r&&(nt("ComponentProvider","Removing Datastore"),r9.delete(n),r.terminate())})(this),Promise.resolve()}}function U7e(t,e,n,r={}){t=Su(t,iS);const s=V0(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(UK(`https://${a}`),FK("Firestore",!0)),i.host!==eZ&&i.host!==a&&h0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!wh(c,o)&&(t._setSettings(c),r.mockUserToken)){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=si.MOCK_USER;else{l=YLe(r.mockUserToken,t._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new We(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new si(d)}t._authCredentials=new qUe(new $Q(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y0=class tZ{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tZ(this.firestore,e,this._query)}};class Hr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}toJSON(){return{type:Hr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(R_(n,Hr._jsonSchema))return new Hr(e,r||null,new yt(gr.fromString(n.referencePath)))}}Hr._jsonSchemaVersion="firestore/documentReference/1.0",Hr._jsonSchema={type:Xr("string",Hr._jsonSchemaVersion),referencePath:Xr("string")};class sh extends Y0{constructor(e,n,r){super(e,n,b5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new yt(e))}withConverter(e){return new sh(this.firestore,e,this._path)}}function nZ(t,e,...n){if(t=zr(t),UQ("collection","path",e),t instanceof iS){const r=gr.fromString(e,...n);return wU(r),new sh(t,null,r)}{if(!(t instanceof Hr||t instanceof sh))throw new We(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gr.fromString(e,...n));return wU(r),new sh(t.firestore,null,r)}}function Ih(t,e,...n){if(t=zr(t),arguments.length===1&&(e=f5.newId()),UQ("doc","path",e),t instanceof iS){const r=gr.fromString(e,...n);return yU(r),new Hr(t,null,new yt(r))}{if(!(t instanceof Hr||t instanceof sh))throw new We(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gr.fromString(e,...n));return yU(r),new Hr(t.firestore,t instanceof sh?t.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="AsyncQueue";class a9{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NY(this,"async_queue_retry"),this._c=()=>{const r=HP();r&&nt(o9,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=HP();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=HP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!G0(e))throw e;nt(o9,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Tu("INTERNAL UNHANDLED ERROR: ",c9(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=k5.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Rt(47125,{Pc:c9(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function c9(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class M_ extends iS{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new a9,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a9(e),this._firestoreClient=void 0,await e}}}function rZ(t,e){const n=typeof t=="object"?t:r5(),r=typeof t=="string"?t:e||JC,s=Kp(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=KLe("firestore");i&&U7e(s,...i)}return s}function B5(t){if(t._terminated)throw new We(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||F7e(t),t._firestoreClient}function F7e(t){const e=t._freezeSettings(),n=(function(s,i,o,a){return new d9e(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,XY(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new D7e(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(Hs.fromBase64String(e))}catch(n){throw new We(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(Hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:da._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(R_(e,da._jsonSchema))return da.fromBase64String(e.bytes)}}da._jsonSchemaVersion="firestore/bytes/1.0",da._jsonSchema={type:Xr("string",da._jsonSchemaVersion),bytes:Xr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new We(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new We(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new We(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pn(this._lat,e._lat)||pn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zc._jsonSchemaVersion}}static fromJSON(e){if(R_(e,Zc._jsonSchema))return new Zc(e.latitude,e.longitude)}}Zc._jsonSchemaVersion="firestore/geoPoint/1.0",Zc._jsonSchema={type:Xr("string",Zc._jsonSchemaVersion),latitude:Xr("number"),longitude:Xr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(R_(e,Jc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Jc(e.vectorValues);throw new We(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jc._jsonSchemaVersion="firestore/vectorValue/1.0",Jc._jsonSchema={type:Xr("string",Jc._jsonSchemaVersion),vectorValues:Xr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7e=/^__.*__$/;class V7e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oh(e,this.data,this.fieldMask,n,this.fieldTransforms):new N_(e,this.data,n,this.fieldTransforms)}}class sZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oh(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iZ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:t})}}class U5{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new U5({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cI(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iZ(this.Ac)&&j7e.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class H7e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nS(e)}Cc(e,n,r,s=!1){return new U5({Ac:e,methodName:n,Dc:r,path:Fs.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F5(t){const e=t._freezeSettings(),n=nS(t._databaseId);return new H7e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function q7e(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);j5("Data must be an object, but it was:",o,r);const a=oZ(r,o);let c,l;if(i.merge)c=new Co(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=ok(e,d,n);if(!o.contains(h))throw new We(be.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);cZ(u,h)||u.push(h)}c=new Co(u),l=o.fieldTransforms.filter((d=>c.covers(d.field)))}else c=null,l=o.fieldTransforms;return new V7e(new Qi(a),c,l)}class aS extends $5{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof aS}}function z7e(t,e,n,r){const s=t.Cc(1,e,n);j5("Data must be an object, but it was:",s,r);const i=[],o=Qi.empty();kh(r,((c,l)=>{const u=V5(e,c,n);l=zr(l);const d=s.yc(u);if(l instanceof aS)i.push(u);else{const h=L_(l,d);h!=null&&(i.push(u),o.set(u,h))}}));const a=new Co(i);return new sZ(o,a,s.fieldTransforms)}function W7e(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[ok(e,r,n)],c=[s];if(i.length%2!=0)throw new We(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(ok(e,i[h])),c.push(i[h+1]);const l=[],u=Qi.empty();for(let h=a.length-1;h>=0;--h)if(!cZ(l,a[h])){const f=a[h];let p=c[h];p=zr(p);const g=o.yc(f);if(p instanceof aS)l.push(f);else{const y=L_(p,g);y!=null&&(l.push(f),u.set(f,y))}}const d=new Co(l);return new sZ(u,d,o.fieldTransforms)}function G7e(t,e,n,r=!1){return L_(n,t.Cc(r?4:3,e))}function L_(t,e){if(aZ(t=zr(t)))return j5("Unsupported field value:",e,t),oZ(t,e);if(t instanceof $5)return(function(r,s){if(!iZ(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const a of r){let c=L_(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=zr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D9e(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=vr.fromDate(r);return{timestampValue:sI(s.serializer,i)}}if(r instanceof vr){const i=new vr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sI(s.serializer,i)}}if(r instanceof Zc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:vY(s.serializer,r._byteString)};if(r instanceof Hr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:A5(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Jc)return(function(o,a){return{mapValue:{fields:{[KQ]:{stringValue:QQ},[XC]:{arrayValue:{values:o.toArray().map((l=>{if(typeof l!="number")throw a.Sc("VectorValues must only contain numeric values.");return v5(a.serializer,l)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${GT(r)}`)})(t,e)}function oZ(t,e){const n={};return VQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kh(t,((r,s)=>{const i=L_(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function aZ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vr||t instanceof Zc||t instanceof da||t instanceof Hr||t instanceof $5||t instanceof Jc)}function j5(t,e,n){if(!aZ(n)||!FQ(n)){const r=GT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ok(t,e,n){if((e=zr(e))instanceof oS)return e._internalPath;if(typeof e=="string")return V5(t,e);throw cI("Field path arguments must be of type string or ",t,!1,void 0,n)}const K7e=new RegExp("[~\\*/\\[\\]]");function V5(t,e,n){if(e.search(K7e)>=0)throw cI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oS(...e.split("."))._internalPath}catch{throw cI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cI(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new We(be.INVALID_ARGUMENT,a+t+c)}function cZ(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q7e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q7e extends lZ{data(){return super.data()}}function cS(t,e){return typeof e=="string"?V5(t,e):e instanceof oS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new We(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H5{}class q5 extends H5{}function Z7e(t,e,...n){let r=[];e instanceof H5&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((c=>c instanceof z5)).length,a=i.filter((c=>c instanceof lS)).length;if(o>1||o>0&&a>0)throw new We(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class lS extends q5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lS(e,n,r)}_apply(e){const n=this._parse(e);return uZ(e._query,n),new Y0(e.firestore,e.converter,YN(e._query,n))}_parse(e){const n=F5(e.firestore);return(function(i,o,a,c,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new We(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){u9(d,u);const p=[];for(const g of d)p.push(l9(c,i,g));h={arrayValue:{values:p}}}else h=l9(c,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||u9(d,u),h=G7e(a,o,d,u==="in"||u==="not-in");return Jr.create(l,u,h)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function J7e(t,e,n){const r=e,s=cS("where",t);return lS._create(s,r,n)}class z5 extends H5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new z5(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:sc.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)uZ(o,c),o=YN(o,c)})(e._query,n),new Y0(e.firestore,e.converter,YN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class W5 extends q5{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new W5(e,n)}_apply(e){const n=(function(s,i,o){if(s.startAt!==null)throw new We(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new We(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $v(i,o)})(e._query,this._field,this._direction);return new Y0(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new K0(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function hZe(t,e="asc"){const n=e,r=cS("orderBy",t);return W5._create(r,n)}class G5 extends q5{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new G5(e,n,r)}_apply(e){return new Y0(e.firestore,e.converter,tI(e._query,this._limit,this._limitType))}}function fZe(t){return e9e("limit",t),G5._create("limit",t,"F")}function l9(t,e,n){if(typeof(n=zr(n))=="string"){if(n==="")throw new We(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rY(e)&&n.indexOf("/")!==-1)throw new We(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gr.fromString(n));if(!yt.isDocumentKey(r))throw new We(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TU(t,new yt(r))}if(n instanceof Hr)return TU(t,n._key);throw new We(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${GT(n)}.`)}function u9(t,e){if(!Array.isArray(t)||t.length===0)throw new We(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uZ(t,e){const n=(function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new We(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new We(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class X7e{convertValue(e,n="none"){switch(Eh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_h(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Rt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return kh(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[XC].arrayValue?.values?.map((r=>Fr(r.doubleValue)));return new Jc(n)}convertGeoPoint(e){return new Zc(Fr(e.latitude),Fr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=YT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mv(e));default:return null}}convertTimestamp(e){const n=vh(e);return new vr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gr.fromString(e);qn(TY(r),9688,{name:e});const s=new Lv(r.get(1),r.get(3)),i=new yt(r.popFirst(5));return s.isEqual(n)||Tu(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eje(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class vw{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jf extends lZ{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new QE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new We(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jf._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jf._jsonSchema={type:Xr("string",Jf._jsonSchemaVersion),bundleSource:Xr("string","DocumentSnapshot"),bundleName:Xr("string"),bundle:Xr("string")};class QE extends Jf{data(e={}){return super.data(e)}}class Tg{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vw(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new QE(this._firestore,this._userDataWriter,r.key,r,new vw(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((a=>{const c=new QE(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vw(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const c=new QE(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vw(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:tje(a.type),doc:c,oldIndex:l,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new We(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=f5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tje(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){t=Su(t,Hr);const e=Su(t.firestore,M_);return B7e(B5(e),t._key).then((n=>rje(e,t,n)))}Tg._jsonSchemaVersion="firestore/querySnapshot/1.0",Tg._jsonSchema={type:Xr("string",Tg._jsonSchemaVersion),bundleSource:Xr("string","QuerySnapshot"),bundleName:Xr("string"),bundle:Xr("string")};class dZ extends X7e{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,n)}}function hZ(t){t=Su(t,Y0);const e=Su(t.firestore,M_),n=B5(e),r=new dZ(e);return Y7e(t._query),$7e(n,t._query).then((s=>new Tg(e,r,t,s)))}function nje(t,e,n){t=Su(t,Hr);const r=Su(t.firestore,M_),s=eje(t.converter,e);return fZ(r,[q7e(F5(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Qc.none())])}function jv(t,e,n,...r){t=Su(t,Hr);const s=Su(t.firestore,M_),i=F5(s);let o;return o=typeof(e=zr(e))=="string"||e instanceof oS?W7e(i,"updateDoc",t._key,e,n,r):z7e(i,"updateDoc",t._key,e),fZ(s,[o.toMutation(t._key,Qc.exists(!0))])}function fZ(t,e){return(function(r,s){const i=new hu;return r.asyncQueue.enqueueAndForget((async()=>I7e(await L7e(r),s,i))),i.promise})(B5(t),e)}function rje(t,e,n){const r=n.docs.get(e._key),s=new dZ(t);return new Jf(t,s,e._key,r,new vw(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){z0=s})(H0),ll(new nc("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new M_(new zUe(r.getProvider("auth-internal")),new KUe(o,r.getProvider("app-check-internal")),(function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new We(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lv(l.options.projectId,u)})(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),ya(fU,pU,e),ya(fU,pU,"esm2020")})();var sje="firebase",ije="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ya(sje,ije,"app");const pZ="@firebase/installations",K5="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ=1e4,gZ=`w:${K5}`,yZ="FIS_v2",oje="https://firebaseinstallations.googleapis.com/v1",aje=3600*1e3,cje="installations",lje="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uje={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xp=new Gp(cje,lje,uje);function wZ(t){return t instanceof oc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ({projectId:t}){return`${oje}/projects/${t}/installations`}function vZ(t){return{token:t.token,requestStatus:2,expiresIn:hje(t.expiresIn),creationTime:Date.now()}}async function _Z(t,e){const r=(await e.json()).error;return xp.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function EZ({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function dje(t,{refreshToken:e}){const n=EZ(t);return n.append("Authorization",fje(e)),n}async function AZ(t){const e=await t();return e.status>=500&&e.status<600?t():e}function hje(t){return Number(t.replace("s","000"))}function fje(t){return`${yZ} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pje({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=bZ(t),s=EZ(t),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const o={fid:n,authVersion:yZ,appId:t.appId,sdkVersion:gZ},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await AZ(()=>fetch(r,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:vZ(l.authToken)}}else throw await _Z("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZ(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mje(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gje=/^[cdef][\w-]{21}$/,ak="";function yje(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=wje(t);return gje.test(n)?n:ak}catch{return ak}}function wje(t){return mje(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IZ=new Map;function TZ(t,e){const n=dS(t);SZ(n,e),bje(n,e)}function SZ(t,e){const n=IZ.get(t);if(n)for(const r of n)r(e)}function bje(t,e){const n=vje();n&&n.postMessage({key:t,fid:e}),_je()}let Uf=null;function vje(){return!Uf&&"BroadcastChannel"in self&&(Uf=new BroadcastChannel("[Firebase] FID Change"),Uf.onmessage=t=>{SZ(t.data.key,t.data.fid)}),Uf}function _je(){IZ.size===0&&Uf&&(Uf.close(),Uf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eje="firebase-installations-database",Aje=1,Pp="firebase-installations-store";let zP=null;function Q5(){return zP||(zP=WK(Eje,Aje,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pp)}}})),zP}async function lI(t,e){const n=dS(t),s=(await Q5()).transaction(Pp,"readwrite"),i=s.objectStore(Pp),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&TZ(t,e.fid),e}async function xZ(t){const e=dS(t),r=(await Q5()).transaction(Pp,"readwrite");await r.objectStore(Pp).delete(e),await r.done}async function hS(t,e){const n=dS(t),s=(await Q5()).transaction(Pp,"readwrite"),i=s.objectStore(Pp),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&TZ(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t){let e;const n=await hS(t.appConfig,r=>{const s=Cje(r),i=Ije(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===ak?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Cje(t){const e=t||{fid:yje(),registrationStatus:0};return PZ(e)}function Ije(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(xp.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Tje(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Sje(t)}:{installationEntry:e}}async function Tje(t,e){try{const n=await pje(t,e);return lI(t.appConfig,n)}catch(n){throw wZ(n)&&n.customData.serverCode===409?await xZ(t.appConfig):await lI(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Sje(t){let e=await d9(t.appConfig);for(;e.registrationStatus===1;)await CZ(100),e=await d9(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Y5(t);return r||n}return e}function d9(t){return hS(t,e=>{if(!e)throw xp.create("installation-not-found");return PZ(e)})}function PZ(t){return xje(t)?{fid:t.fid,registrationStatus:0}:t}function xje(t){return t.registrationStatus===1&&t.registrationTime+mZ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pje({appConfig:t,heartbeatServiceProvider:e},n){const r=Rje(t,n),s=dje(t,n),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const o={installation:{sdkVersion:gZ,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await AZ(()=>fetch(r,a));if(c.ok){const l=await c.json();return vZ(l)}else throw await _Z("Generate Auth Token",c)}function Rje(t,{fid:e}){return`${bZ(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e=!1){let n;const r=await hS(t.appConfig,i=>{if(!RZ(i))throw xp.create("not-registered");const o=i.authToken;if(!e&&Oje(o))return i;if(o.requestStatus===1)return n=Nje(t,e),i;{if(!navigator.onLine)throw xp.create("app-offline");const a=Mje(i);return n=kje(t,a),a}});return n?await n:r.authToken}async function Nje(t,e){let n=await h9(t.appConfig);for(;n.authToken.requestStatus===1;)await CZ(100),n=await h9(t.appConfig);const r=n.authToken;return r.requestStatus===0?Z5(t,e):r}function h9(t){return hS(t,e=>{if(!RZ(e))throw xp.create("not-registered");const n=e.authToken;return Lje(n)?{...e,authToken:{requestStatus:0}}:e})}async function kje(t,e){try{const n=await Pje(t,e),r={...e,authToken:n};return await lI(t.appConfig,r),n}catch(n){if(wZ(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await xZ(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await lI(t.appConfig,r)}throw n}}function RZ(t){return t!==void 0&&t.registrationStatus===2}function Oje(t){return t.requestStatus===2&&!Dje(t)}function Dje(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+aje}function Mje(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Lje(t){return t.requestStatus===1&&t.requestTime+mZ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bje(t){const e=t,{installationEntry:n,registrationPromise:r}=await Y5(e);return r?r.catch(console.error):Z5(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $je(t,e=!1){const n=t;return await Uje(n),(await Z5(n,e)).token}async function Uje(t){const{registrationPromise:e}=await Y5(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fje(t){if(!t||!t.options)throw WP("App Configuration");if(!t.name)throw WP("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw WP(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function WP(t){return xp.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ="installations",jje="installations-internal",Vje=t=>{const e=t.getProvider("app").getImmediate(),n=Fje(e),r=Kp(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Hje=t=>{const e=t.getProvider("app").getImmediate(),n=Kp(e,NZ).getImmediate();return{getId:()=>Bje(n),getToken:s=>$je(n,s)}};function qje(){ll(new nc(NZ,Vje,"PUBLIC")),ll(new nc(jje,Hje,"PRIVATE"))}qje();ya(pZ,K5);ya(pZ,K5,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="analytics",zje="firebase_id",Wje="origin",Gje=60*1e3,Kje="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",J5="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new HT("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qje={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},So=new Gp("analytics","Analytics",Qje);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yje(t){if(!t.startsWith(J5)){const e=So.create("invalid-gtag-resource",{gtagURL:t});return to.warn(e.message),""}return t}function kZ(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Zje(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Jje(t,e){const n=Zje("firebase-js-sdk-policy",{createScriptURL:Yje}),r=document.createElement("script"),s=`${J5}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Xje(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function eVe(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await kZ(n)).find(l=>l.measurementId===s);c&&await e[c.appId]}}catch(a){to.error(a)}t("config",s,i)}async function tVe(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await kZ(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){to.error(i)}}function nVe(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await tVe(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await eVe(t,e,n,r,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,l]=o;t("get",a,c,l)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){to.error(a)}}return s}function rVe(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=nVe(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function sVe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(J5)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iVe=30,oVe=1e3;class aVe{constructor(e={},n=oVe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const OZ=new aVe;function cVe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function lVe(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:cVe(n)},s=Kje.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let o="";try{const a=await i.json();a.error?.message&&(o=a.error.message)}catch{}throw So.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function uVe(t,e=OZ,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw So.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw So.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fVe;return setTimeout(async()=>{a.abort()},Gje),DZ({appId:r,apiKey:s,measurementId:i},o,a,e)}async function DZ(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=OZ){const{appId:i,measurementId:o}=t;try{await dVe(r,e)}catch(a){if(o)return to.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a?.message}]`),{appId:i,measurementId:o};throw a}try{const a=await lVe(t);return s.deleteThrottleMetadata(i),a}catch(a){const c=a;if(!hVe(c)){if(s.deleteThrottleMetadata(i),o)return to.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:i,measurementId:o};throw a}const l=Number(c?.customData?.httpStatus)===503?$$(n,s.intervalMillis,iVe):$$(n,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return s.setThrottleMetadata(i,u),to.debug(`Calling attemptFetch again in ${l} millis`),DZ(t,u,r,s)}}function dVe(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(So.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hVe(t){if(!(t instanceof oc)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class fVe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pVe(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mVe(){if(VK())try{await HK()}catch(t){return to.warn(So.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return to.warn(So.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gVe(t,e,n,r,s,i,o){const a=uVe(t);a.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&to.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>to.error(h)),e.push(a);const c=mVe().then(h=>{if(h)return r.getId()}),[l,u]=await Promise.all([a,c]);sVe(i)||Jje(i,l.measurementId),s("js",new Date);const d=o?.config??{};return d[Wje]="firebase",d.update=!0,u!=null&&(d[zje]=u),s("config",l.measurementId,d),l.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yVe{constructor(e){this.app=e}_delete(){return delete Xw[this.app.options.appId],Promise.resolve()}}let Xw={},f9=[];const p9={};let GP="dataLayer",wVe="gtag",m9,MZ,g9=!1;function bVe(){const t=[];if(jK()&&t.push("This is a browser extension environment."),i4e()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=So.create("invalid-analytics-context",{errorInfo:e});to.warn(n.message)}}function vVe(t,e,n){bVe();const r=t.options.appId;if(!r)throw So.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)to.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw So.create("no-api-key");if(Xw[r]!=null)throw So.create("already-exists",{id:r});if(!g9){Xje(GP);const{wrappedGtag:i,gtagCore:o}=rVe(Xw,f9,p9,GP,wVe);MZ=i,m9=o,g9=!0}return Xw[r]=gVe(t,f9,p9,e,m9,GP,n),new yVe(t)}function _Ve(t=r5()){t=zr(t);const e=Kp(t,uI);return e.isInitialized()?e.getImmediate():EVe(t)}function EVe(t,e={}){const n=Kp(t,uI);if(n.isInitialized()){const s=n.getImmediate();if(wh(e,n.getOptions()))return s;throw So.create("already-initialized")}return n.initialize({options:e})}function AVe(t,e,n,r){t=zr(t),pVe(MZ,Xw[t.app.options.appId],e,n,r).catch(s=>to.error(s))}const y9="@firebase/analytics",w9="0.10.18";function CVe(){ll(new nc(uI,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return vVe(r,s,n)},"PUBLIC")),ll(new nc("analytics-internal",t,"PRIVATE")),ya(y9,w9),ya(y9,w9,"esm2020");function t(e){try{const n=e.getProvider(uI).getImmediate();return{logEvent:(r,s,i)=>AVe(n,r,s,i)}}catch(n){throw So.create("interop-component-reg-failed",{reason:n})}}}CVe();const IVe={apiKey:"AIzaSyCoDtDcP6vRaDBzHmxsqrqArCML0dsxjNE",authDomain:"coinphantom-e995b.firebaseapp.com",projectId:"coinphantom-e995b",storageBucket:"coinphantom-e995b.firebasestorage.app",messagingSenderId:"784143371426",appId:"1:784143371426:web:0185e75229808663331bfb",measurementId:"G-ZPL33FRZNP"};let jd,eb,ck,b9;try{jd=GK(IVe),eb=rZ(jd),ck=RQ(jd),b9=_Ve(jd)}catch(t){console.warn("Firebase initialization failed:",t),jd={name:"mock-app"},eb={collection:()=>({})},ck={currentUser:null},b9=null}typeof window<"u"&&(window.firebase={app:jd,firestore:eb,auth:ck,firestore:{collection:t=>{const{collection:e,query:n,where:r,getDocs:s}=require("firebase/firestore");return{where:(i,o,a)=>({get:async()=>{const c=n(e(eb,t),r(i,o,a));return{docs:(await s(c)).docs.map(u=>({id:u.id,data:()=>u.data()}))}}}),get:async()=>({docs:(await s(e(eb,t))).docs.map(o=>({id:o.id,data:()=>o.data()}))})}}}});const Z0=RQ(jd),Xc=rZ(jd),LZ=Ct(!1),xo=Ct(null),Oo=Ct(null),Rp=Ct(!1),BZ=async()=>{try{R$e(Z0,t=>{Oo.value=t,LZ.value=!0,t?TVe(t.uid):Oo.value=null})}catch(t){xo.value=`Failed to initialize Firebase: ${t.message}`,console.error("❌ Firebase initialization failed:",t)}},TVe=async t=>{try{const e=await uS(Ih(Xc,"users",t));if(e.exists())return e.data();await SVe(t)}catch(e){console.error("❌ Failed to load user data:",e)}},SVe=async t=>{try{const e=Z0.currentUser;if(!e)return;const n=$Z(),r={uid:t,email:e.email,displayName:e.displayName||"",photoURL:e.photoURL||"",createdAt:new Date,updatedAt:new Date,tokenBalance:0,nftBalance:0,totalEarned:0,referralEarnings:0,referralCode:n,referralCount:0,level:"F0",dailyTasks:{checkIn:!1},completedTasks:[],lastCheckIn:null,transactions:[]};await nje(Ih(Xc,"users",t),r),console.log("✅ User document created with referral code:",n)}catch(e){console.error("❌ Failed to create user document:",e)}},$Z=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},xVe=t=>`https://pixelpayot.com/signup?ref=${t}`,PVe=async(t,e)=>{try{return Rp.value=!0,xo.value=null,{success:!0,user:(await I$e(Z0,t,e)).user}}catch(n){return xo.value=X5(n.code),console.error("❌ Sign in failed:",n),{success:!1,error:xo.value}}finally{Rp.value=!1}},RVe=async(t,e,n="")=>{try{Rp.value=!0,xo.value=null;const r=await C$e(Z0,t,e);return n&&await S$e(r.user,{displayName:n}),{success:!0,user:r.user}}catch(r){return xo.value=X5(r.code),console.error("❌ Sign up failed:",r),{success:!1,error:xo.value}}finally{Rp.value=!1}},NVe=async()=>{try{return await N$e(Z0),{success:!0}}catch(t){return xo.value=`Failed to sign out: ${t.message}`,console.error("❌ Sign out failed:",t),{success:!1,error:xo.value}}},kVe=async t=>{try{return Rp.value=!0,xo.value=null,await A$e(Z0,t),{success:!0}}catch(e){return xo.value=X5(e.code),console.error("❌ Password reset failed:",e),{success:!1,error:xo.value}}finally{Rp.value=!1}},OVe=async t=>{try{if(!Oo.value)throw new Error("No user logged in");const e=Ih(Xc,"users",Oo.value.uid);return await jv(e,{...t,updatedAt:new Date}),{success:!0}}catch(e){return console.error("❌ Failed to update user data:",e),{success:!1,error:e.message}}},DVe=async(t=null)=>{try{const e=t||Oo.value?.uid;if(!e)throw new Error("No user ID provided");const n=await uS(Ih(Xc,"users",e));return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"User not found"}}catch(e){return console.error("❌ Failed to get user data:",e),{success:!1,error:e.message}}},MVe=async t=>{try{if(!Oo.value)throw new Error("No user logged in");const e=Ih(Xc,"users",Oo.value.uid),n=await uS(e);if(!n.exists())throw new Error("User document not found");const r=n.data(),i={checkIn:1,joinTelegram:2,joinX:2,joinYoutube:2,connect_wallet:5}[t]||0,o=r.tokenBalance+i,a={tokenBalance:o,totalEarned:r.totalEarned+i,updatedAt:new Date};if(t==="checkIn")a[`dailyTasks.${t}`]=!0,a.lastCheckIn=new Date,console.log("📅 Updated daily check-in data");else{const c=r.completedTasks||[];c.includes(t)?console.log("⚠️ Task already completed:",t):(a.completedTasks=[...c,t],console.log("✅ Added to completed tasks:",t))}return await jv(e,a),{success:!0,reward:i,newBalance:o}}catch(e){return console.error("❌ Failed to claim task reward:",e),{success:!1,error:e.message}}},LVe=async t=>{try{if(!Oo.value)throw new Error("No user logged in");const e=nZ(Xc,"users"),n=Z7e(e,J7e("referralCode","==",t)),r=await hZ(n);if(r.empty)throw new Error("Invalid referral code");const s=r.docs[0],i=s.data();return await jv(Ih(Xc,"users",s.id),{referralCount:i.referralCount+1,referralEarnings:i.referralEarnings+5,updatedAt:new Date}),await jv(Ih(Xc,"users",Oo.value.uid),{referredBy:t,updatedAt:new Date}),{success:!0}}catch(e){return console.error("❌ Failed to add referral:",e),{success:!1,error:e.message}}},X5=t=>({"auth/user-not-found":"No account found with this email address.","auth/wrong-password":"Incorrect password.","auth/email-already-in-use":"An account with this email already exists.","auth/weak-password":"Password should be at least 6 characters.","auth/invalid-email":"Invalid email address.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/user-disabled":"This account has been disabled.","auth/operation-not-allowed":"This operation is not allowed.","auth/network-request-failed":"Network error. Please check your connection."})[t]||"An error occurred. Please try again.",BVe=xn(()=>!!Oo.value);BZ();const $Ve=async t=>{try{if(!Oo.value)throw new Error("No user logged in");const e=Ih(Xc,"users",Oo.value.uid),r=(await uS(e)).data();return await jv(e,{transactions:[t,...r.transactions],updatedAt:new Date}),{success:!0}}catch(e){return console.error("❌ Failed to add transaction:",e),{success:!1,error:e.message}}},UVe=async()=>{try{const t=nZ(Xc,"users"),e=await hZ(t);let n=0,r=0,s=0,i=0;return e.forEach(o=>{const a=o.data();n++,r+=a.referralCount||0,s+=a.totalEarned||0,i+=a.transactions?.length||0}),{success:!0,data:{totalUsers:n,totalReferrals:r,totalEarnings:s,totalTransactions:i}}}catch(t){return console.error("❌ Failed to get platform stats:",t),{success:!1,error:t.message}}};function e3(){return{isFirebaseReady:LZ,firebaseError:xo,currentUser:Oo,isLoading:Rp,isAuthenticated:BVe,initializeFirebase:BZ,signIn:PVe,signUp:RVe,signOut:NVe,resetPassword:kVe,updateUserData:OVe,getUserData:DVe,claimTaskReward:MVe,addReferral:LVe,generateReferralCode:$Z,generateReferralLink:xVe,addTransaction:$Ve,getPlatformStats:UVe}}const io=Ct([{id:"checkIn",name:"Daily Check-in",description:"Complete daily check-in to earn rewards",reward:1,type:"daily",completed:!1,cooldown:1440*60*1e3,lastCompleted:null,icon:"fas fa-calendar-check"},{id:"joinTelegram",name:"Join Telegram Channel",description:"Join our official Telegram channel",reward:0,type:"one-time",completed:!1,cooldown:0,lastCompleted:null,icon:"fab fa-telegram",href:"https://t.me/PixelpayotChannels"},{id:"joinX",name:"Follow on X",description:"Follow us on X (Twitter)",reward:0,type:"one-time",completed:!1,cooldown:0,lastCompleted:null,icon:"fab fa-twitter",href:"https://x.com/TetMinh46256"},{id:"joinYoutube",name:"Watch YouTube Video",description:"Watch our YouTube video",reward:0,type:"one-time",completed:!1,cooldown:0,lastCompleted:null,icon:"fab fa-youtube",href:"https://www.youtube.com/@minhtet-q2r9o"}]),t3=Ct(0),FVe=Ct([]),lk=Ct(!1),n3=Ct(null),r3=Ct(!1),s3=Ct(null),{currentUser:i3,updateUserData:jVe,getUserData:uk}=e3(),UZ=t=>{const{address:e,wallet:n}=t.detail;r3.value=!0,s3.value=e;const r=io.value.find(s=>s.id==="connect_wallet");r&&!r.completed&&VZ("connect_wallet")},FZ=()=>{r3.value=!1,s3.value=null},VVe=xn(()=>io.value.reduce((t,e)=>e.completed?t:t+e.reward,0)),HVe=xn(()=>io.value.reduce((t,e)=>e.completed?t+e.reward:t,0)),jZ=xn(()=>io.value.filter(t=>t.completed).length),dk=xn(()=>io.value.length),qVe=xn(()=>dk.value===0?0:Math.round(jZ.value/dk.value*100)),VZ=async t=>{console.log("🎯 Completing task:",t);try{const e=io.value.find(o=>o.id===t);if(!e)throw new Error("Task not found");if(e.completed)throw new Error("Task already completed");let n=await uk();const r=n.data.lastCheckIn;console.log("lastCheckIn:",r);const s=Date.now()-r;if(s<1440*60*1e3){const o=864e5-s,a=Math.floor(o/(1e3*60*60)),c=Math.floor(o%(1e3*60*60)/(1e3*60));throw new Error(`Task available in ${a}h ${c}m`)}e.href&&window.open(e.href,"_blank"),e.completed=!0,e.lastCompleted=Date.now();const i=io.value.every(o=>o.completed);if(console.log("All tasks completed:",i),i3.value&&i)try{const o=Date.now(),a=n.data.totalEarned+1;console.log("newEarnedRewards",a),await jVe({completedTasks:[...n.data.completedTasks,o],totalEarned:a,lastCheckIn:Date.now()}),n=await uk()}catch(o){console.warn("Failed to update user data:",o.message)}return{success:!0,reward:e.reward,task:e,newBalance:n.data.totalEarned}}catch(e){return n3.value=e.message,{success:!1,error:e.message}}},zVe=()=>{console.log("🔄 Resetting daily check-in task...");const t=io.value.find(e=>e.id==="checkIn");t&&(t.completed=!1,t.lastCompleted=null,console.log("✅ Reset daily check-in task")),o3()},o3=()=>{try{const t=io.value.map(e=>({id:e.id,completed:e.completed,lastCompleted:e.lastCompleted}));localStorage.setItem("userTasks",JSON.stringify(t)),console.log("💾 Tasks saved to localStorage")}catch(t){console.warn("Failed to save tasks to localStorage:",t)}},HZ=()=>{try{const t=localStorage.getItem("userTasks");t&&(JSON.parse(t).forEach(n=>{const r=io.value.find(s=>s.id===n.id);r&&(r.completed=n.completed,r.lastCompleted=n.lastCompleted)}),console.log("📂 Tasks loaded from localStorage"))}catch(t){console.warn("Failed to load tasks from localStorage:",t)}},a3=async()=>{if(i3.value)try{lk.value=!0,HZ();const t=await uk();if(t){if(t3.value=t.balance||0,t.dailyTasks){const n=io.value.find(r=>r.id==="checkIn");n&&t.dailyTasks.checkIn&&(n.completed=!0)}const e=t.completedTasks||[];io.value.forEach(n=>{n.type==="one-time"&&e.includes(n.id)&&(n.completed=!0)})}o3()}catch(t){n3.value=t.message}finally{lk.value=!1}};Lp(()=>{window.addEventListener("wallet-connected",UZ),window.addEventListener("wallet-disconnected",FZ),a3()});Qv(()=>{window.removeEventListener("wallet-connected",UZ),window.removeEventListener("wallet-disconnected",FZ)});vo(i3,t=>{t?a3():(t3.value=0,io.value.forEach(e=>{e.completed=!1,e.lastCompleted=null}))});function WVe(){return{tasks:io,userBalance:t3,userTasks:FVe,isLoading:lk,error:n3,isWalletConnected:r3,walletAddress:s3,totalRewards:VVe,earnedRewards:HVe,completedTasksCount:jZ,totalTasksCount:dk,progressPercentage:qVe,completeTask:VZ,resetDailyTasks:zVe,loadUserTasks:a3,saveTasksToLocalStorage:o3,loadTasksFromLocalStorage:HZ}}const qZ="/assets/header-icon-DThv0V1b.png",zZ=Symbol(),GVe={install(t,e){const{config:n,reconnectOnMount:r=!0}=e;t.provide(zZ,n);const{onMount:s}=Fxe(n,{...e,reconnectOnMount:r});s()}},KVe="0.2.4",QVe=()=>`@wagmi/vue@${KVe}`;class WZ extends ku{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/vue"}get version(){return QVe()}}class YVe extends WZ{constructor(){super("No `config` found in Vue context, use `WagmiPlugin` to properly initialize the library.",{docsPath:"/api/TODO"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiPluginNotFoundError"})}}class ZVe extends WZ{constructor(){super("Wagmi composables can only be used inside `setup()` function or functions that support injection context.",{docsPath:"/api/TODO"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiInjectionContextError"})}}function JVe(t,e){for(const n of Object.keys(t))t[n]=e[n]}function Zp(t={}){const e=ln(t);if(e.config)return e.config;if(!UF())throw new ZVe;const n=Io(zZ);if(!n)throw new YVe;return n}function GZ(t={}){const e=Zp(t),n=Th(yg(e)),r=bz(e,{onChange(s){JVe(n,s)}});return Dp(()=>r()),Mk(Mp(n))}function hk(t,e){if(e){const n=e(t);if(n===void 0&&qr(t)||n!==void 0)return n}if(Array.isArray(t))return t.map(n=>hk(n,e));if(typeof t=="object"&&XVe(t)){const n=Object.entries(t).map(([r,s])=>[r,hk(s,e)]);return Object.fromEntries(n)}return t}function KZ(t){return hk(t,e=>{if(qr(e))return KZ(ln(e))})}function XVe(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function eHe(t){return JSON.stringify(t,(e,n)=>tHe(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function tHe(t){if(!v9(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!v9(n)||!n.hasOwnProperty("isPrototypeOf"))}function v9(t){return Object.prototype.toString.call(t)==="[object Object]"}function nHe(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:l,queryHash:u,queryKey:d,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:g,getPreviousPageParam:y,getNextPageParam:v,initialPageParam:b,_optimisticResults:_,enabled:S,notifyOnChangeProps:C,placeholderData:x,refetchInterval:I,refetchIntervalInBackground:E,refetchOnMount:A,refetchOnReconnect:T,refetchOnWindowFocus:k,retryOnMount:M,select:B,staleTime:Z,suspense:N,throwOnError:L,config:H,connector:F,query:J,...ee}=t;return ee}function rHe(t){return{mutationFn(e){return PE(t,e)},mutationKey:["connect"]}}function sHe(t){return{mutationFn(e){return GR(t,e)},mutationKey:["disconnect"]}}function iHe(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return await wz(t,{...i,address:r})??null},queryKey:oHe(e)}}function oHe(t={}){return["balance",nHe(t)]}var J0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Np=typeof window>"u"||"Deno"in globalThis;function ra(){}function aHe(t,e){return typeof t=="function"?t(e):t}function fk(t){return typeof t=="number"&&t>=0&&t!==1/0}function QZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ih(t,e){return typeof t=="function"?t(e):t}function oa(t,e){return typeof t=="function"?t(e):t}function _9(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==c3(o,e.options))return!1}else if(!Vv(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function E9(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(kp(e.options.mutationKey)!==kp(i))return!1}else if(!Vv(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function c3(t,e){return(e?.queryKeyHashFn||kp)(t)}function kp(t){return JSON.stringify(t,(e,n)=>pk(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Vv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Vv(t[n],e[n])):!1}function YZ(t,e){if(t===e)return t;const n=A9(t)&&A9(e);if(n||pk(t)&&pk(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=YZ(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function dI(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function A9(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pk(t){if(!C9(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!C9(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function C9(t){return Object.prototype.toString.call(t)==="[object Object]"}function cHe(t){return new Promise(e=>{setTimeout(e,t)})}function mk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?YZ(t,e):e}function lHe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function uHe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var l3=Symbol();function ZZ(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===l3?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function gk(t,e){return typeof t=="function"?t(...e):!!t}var dHe=class extends J0{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!Np&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},u3=new dHe,hHe=class extends J0{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!Np&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},hI=new hHe;function yk(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function fHe(t){return Math.min(1e3*2**t,3e4)}function JZ(t){return(t??"online")==="online"?hI.isOnline():!0}var XZ=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function eJ(t){let e=!1,n=0,r;const s=yk(),i=()=>s.status!=="pending",o=g=>{i()||(h(new XZ(g)),t.abort?.())},a=()=>{e=!0},c=()=>{e=!1},l=()=>u3.isFocused()&&(t.networkMode==="always"||hI.isOnline())&&t.canRun(),u=()=>JZ(t.networkMode)&&t.canRun(),d=g=>{i()||(r?.(),s.resolve(g))},h=g=>{i()||(r?.(),s.reject(g))},f=()=>new Promise(g=>{r=y=>{(i()||l())&&g(y)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),p=()=>{if(i())return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(d).catch(v=>{if(i())return;const b=t.retry??(Np?0:3),_=t.retryDelay??fHe,S=typeof _=="function"?_(n,v):_,C=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(e||!C){h(v);return}n++,t.onFail?.(n,v),cHe(S).then(()=>l()?void 0:f()).then(()=>{e?h(v):p()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r?.(),s),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),s)}}var pHe=t=>setTimeout(t,0);function mHe(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=pHe;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Us=mHe(),tJ=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fk(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Np?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},gHe=class extends tJ{#t;#e;#n;#r;#s;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=yHe(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=mk(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(ra).catch(ra):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>oa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===l3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ih(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!QZ(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const a=this.observers.find(c=>c.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const a=ZZ(this.options,e),l=(()=>{const u={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#a=!1,this.options.persister?this.options.persister(a,l,this):a(l)},o=(()=>{const a={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:s};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#s=eJ({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onFail:(a,c)=>{this.#i({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#s.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof XZ){if(a.silent)return this.#s.promise;if(a.revert){if(this.setState({...this.#e,fetchStatus:"idle"}),this.state.data===void 0)throw a;return this.state.data}}throw this.#i({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...nJ(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Us.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function nJ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JZ(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function yHe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rJ=class extends J0{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,n,r){const s=n.queryKey,i=n.queryHash??c3(s,n);let o=this.get(i);return o||(o=new gHe({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#t.get(e.queryHash);n&&(e.destroy(),n===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Us.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_9(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>_9(e,r)):n}notify(e){Us.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Us.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Us.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wHe=class extends tJ{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||sJ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=eJ({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,i)=>{this.#r({type:"failed",failureCount:s,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#e.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:r})}const s=await this.#n.start();return await this.#e.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#e.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#e.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#e.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#e.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Us.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function sJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var iJ=class extends J0{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,n,r){const s=new wHe({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){this.#t.add(e);const n=rE(e);if(typeof n=="string"){const r=this.#e.get(n);r?r.push(e):this.#e.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const n=rE(e);if(typeof n=="string"){const r=this.#e.get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&this.#e.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=rE(e);if(typeof n=="string"){const s=this.#e.get(n)?.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){const n=rE(e);return typeof n=="string"?this.#e.get(n)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Us.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const n={exact:!0,...e};return this.getAll().find(r=>E9(n,r))}findAll(e={}){return this.getAll().filter(n=>E9(e,n))}notify(e){Us.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Us.batch(()=>Promise.all(e.map(n=>n.continue().catch(ra))))}};function rE(t){return t.options.scope?.id}function I9(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let u=!1;const d=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},h=ZZ(e.options,e.fetchOptions),f=async(p,g,y)=>{if(u)return Promise.reject();if(g==null&&p.pages.length)return Promise.resolve(p);const b=(()=>{const x={client:e.client,queryKey:e.queryKey,pageParam:g,direction:y?"backward":"forward",meta:e.options.meta};return d(x),x})(),_=await h(b),{maxPages:S}=e.options,C=y?uHe:lHe;return{pages:C(p.pages,_,S),pageParams:C(p.pageParams,g,S)}};if(s&&i.length){const p=s==="backward",g=p?bHe:T9,y={pages:i,pageParams:o},v=g(r,y);a=await f(y,v,p)}else{const p=t??i.length;do{const g=c===0?o[0]??r.initialPageParam:T9(r,a);if(c>0&&g==null)break;a=await f(a,g),c++}while(c<p)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=l}}}function T9(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function bHe(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var vHe=class{#t;#e;#n;#r;#s;#o;#a;#i;constructor(e={}){this.#t=e.queryCache||new rJ,this.#e=e.mutationCache||new iJ,this.#n=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=u3.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=hI.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#t.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#t.build(this,n),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ih(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(s))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const s=this.defaultQueryOptions({queryKey:e}),o=this.#t.get(s.queryHash)?.state.data,a=aHe(n,o);if(a!==void 0)return this.#t.build(this,s).setData(a,{...r,manual:!0})}setQueriesData(e,n,r){return Us.batch(()=>this.#t.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#t.get(n.queryHash)?.state}removeQueries(e){const n=this.#t;Us.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#t;return Us.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},s=Us.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(s).then(ra).catch(ra)}invalidateQueries(e,n={}){return Us.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},s=Us.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(ra)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(ra)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#t.build(this,n);return r.isStaleByTime(ih(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ra).catch(ra)}fetchInfiniteQuery(e){return e.behavior=I9(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ra).catch(ra)}ensureInfiniteQueryData(e){return e.behavior=I9(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hI.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#r.set(kp(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#r.values()],r={};return n.forEach(s=>{Vv(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,n){this.#s.set(kp(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],r={};return n.forEach(s=>{Vv(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=c3(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===l3&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},_He=class extends J0{constructor(t,e){super(),this.options=e,this.#t=t,this.#i=null,this.#a=yk(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#s;#o;#a;#i;#m;#h;#f;#l;#u;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),S9(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wk(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wk(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#_(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof oa(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#e.setOptions(this.options),e._defaulted&&!dI(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&x9(this.#e,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#e!==n||oa(this.options.enabled,this.#e)!==oa(e.enabled,this.#e)||ih(this.options.staleTime,this.#e)!==ih(e.staleTime,this.#e))&&this.#g();const s=this.#y();r&&(this.#e!==n||oa(this.options.enabled,this.#e)!==oa(e.enabled,this.#e)||s!==this.#c)&&this.#w(s)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return AHe(this,n)&&(this.#r=n,this.#o=this.options,this.#s=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#E();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ra)),e}#g(){this.#v();const t=ih(this.options.staleTime,this.#e);if(Np||this.#r.isStale||!fk(t))return;const n=QZ(this.#r.dataUpdatedAt,t)+1;this.#l=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#w(t){this.#_(),this.#c=t,!(Np||oa(this.options.enabled,this.#e)===!1||!fk(this.#c)||this.#c===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||u3.isFocused())&&this.#d()},this.#c))}#b(){this.#g(),this.#w(this.#y())}#v(){this.#l&&(clearTimeout(this.#l),this.#l=void 0)}#_(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#e,r=this.options,s=this.#r,i=this.#s,o=this.#o,c=t!==n?t.state:this.#n,{state:l}=t;let u={...l},d=!1,h;if(e._optimisticResults){const E=this.hasListeners(),A=!E&&S9(t,e),T=E&&x9(t,n,e,r);(A||T)&&(u={...u,...nJ(l.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:f,errorUpdatedAt:p,status:g}=u;h=u.data;let y=!1;if(e.placeholderData!==void 0&&h===void 0&&g==="pending"){let E;s?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(E=s.data,y=!0):E=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,E!==void 0&&(g="success",h=mk(s?.data,E,e),d=!0)}if(e.select&&h!==void 0&&!y)if(s&&h===i?.data&&e.select===this.#m)h=this.#h;else try{this.#m=e.select,h=e.select(h),h=mk(s?.data,h,e),this.#h=h,this.#i=null}catch(E){this.#i=E}this.#i&&(f=this.#i,h=this.#h,p=Date.now(),g="error");const v=u.fetchStatus==="fetching",b=g==="pending",_=g==="error",S=b&&v,C=h!==void 0,I={status:g,fetchStatus:u.fetchStatus,isPending:b,isSuccess:g==="success",isError:_,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:u.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:_&&!C,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:_&&C,isStale:d3(t,e),refetch:this.refetch,promise:this.#a,isEnabled:oa(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=k=>{I.status==="error"?k.reject(I.error):I.data!==void 0&&k.resolve(I.data)},A=()=>{const k=this.#a=I.promise=yk();E(k)},T=this.#a;switch(T.status){case"pending":t.queryHash===n.queryHash&&E(T);break;case"fulfilled":(I.status==="error"||I.data!==T.value)&&A();break;case"rejected":(I.status!=="error"||I.error!==T.reason)&&A();break}}return I}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#f=this.#e),dI(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==t[a]&&i.has(a)})};this.#A({listeners:n()})}#E(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#A(t){Us.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function EHe(t,e){return oa(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function S9(t,e){return EHe(t,e)||t.state.data!==void 0&&wk(t,e,e.refetchOnMount)}function wk(t,e,n){if(oa(e.enabled,t)!==!1&&ih(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&d3(t,e)}return!1}function x9(t,e,n,r){return(t!==e||oa(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&d3(t,n)}function d3(t,e){return oa(e.enabled,t)!==!1&&t.isStaleByTime(ih(e.staleTime,t))}function AHe(t,e){return!dI(t.getCurrentResult(),e)}var CHe=class extends J0{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),dI(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&kp(n.mutationKey)!==kp(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#o(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#o()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??sJ();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){Us.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},IHe="VUE_QUERY_CLIENT";function oJ(t){const e=t?`:${t}`:"";return`${IHe}${e}`}function bk(t,e){Object.keys(t).forEach(n=>{t[n]=e[n]})}function vk(t,e,n="",r=0){if(e){const s=e(t,n,r);if(s===void 0&&qr(t)||s!==void 0)return s}if(Array.isArray(t))return t.map((s,i)=>vk(s,e,String(i),r+1));if(typeof t=="object"&&SHe(t)){const s=Object.entries(t).map(([i,o])=>[i,vk(o,e,i,r+1)]);return Object.fromEntries(s)}return t}function THe(t,e){return vk(t,e)}function rn(t,e=!1){return THe(t,(n,r,s)=>{if(s===1&&r==="queryKey")return rn(n,!0);if(e&&xHe(n))return rn(n(),e);if(qr(n))return rn(ln(n),e)})}function SHe(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function xHe(t){return typeof t=="function"}function aJ(t=""){if(!UF())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const e=oJ(t),n=Io(e);if(!n)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return n}var PHe=class extends rJ{find(t){return super.find(rn(t))}findAll(t={}){return super.findAll(rn(t))}},RHe=class extends iJ{find(t){return super.find(rn(t))}findAll(t={}){return super.findAll(rn(t))}},cJ=class extends vHe{constructor(t={}){const e={defaultOptions:t.defaultOptions,queryCache:t.queryCache||new PHe,mutationCache:t.mutationCache||new RHe};super(e),this.isRestoring=Ct(!1)}isFetching(t={}){return super.isFetching(rn(t))}isMutating(t={}){return super.isMutating(rn(t))}getQueryData(t){return super.getQueryData(rn(t))}ensureQueryData(t){return super.ensureQueryData(rn(t))}getQueriesData(t){return super.getQueriesData(rn(t))}setQueryData(t,e,n={}){return super.setQueryData(rn(t),e,rn(n))}setQueriesData(t,e,n={}){return super.setQueriesData(rn(t),e,rn(n))}getQueryState(t){return super.getQueryState(rn(t))}removeQueries(t={}){return super.removeQueries(rn(t))}resetQueries(t={},e={}){return super.resetQueries(rn(t),rn(e))}cancelQueries(t={},e={}){return super.cancelQueries(rn(t),rn(e))}invalidateQueries(t={},e={}){const n=rn(t),r=rn(e);if(super.invalidateQueries({...n,refetchType:"none"},r),n.refetchType==="none")return Promise.resolve();const s={...n,type:n.refetchType??n.type??"active"};return Kv().then(()=>super.refetchQueries(s,r))}refetchQueries(t={},e={}){return super.refetchQueries(rn(t),rn(e))}fetchQuery(t){return super.fetchQuery(rn(t))}prefetchQuery(t){return super.prefetchQuery(rn(t))}fetchInfiniteQuery(t){return super.fetchInfiniteQuery(rn(t))}prefetchInfiniteQuery(t){return super.prefetchInfiniteQuery(rn(t))}setDefaultOptions(t){super.setDefaultOptions(rn(t))}setQueryDefaults(t,e){super.setQueryDefaults(rn(t),rn(e))}getQueryDefaults(t){return super.getQueryDefaults(rn(t))}setMutationDefaults(t,e){super.setMutationDefaults(rn(t),rn(e))}getMutationDefaults(t){return super.getMutationDefaults(rn(t))}},NHe={install:(t,e={})=>{const n=oJ(e.queryClientKey);let r;if("queryClient"in e&&e.queryClient)r=e.queryClient;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;r=new cJ(o)}Np||r.mount();let s=()=>{};if(e.clientPersister){r.isRestoring&&(r.isRestoring.value=!0);const[o,a]=e.clientPersister(r);s=o,a.then(()=>{r.isRestoring&&(r.isRestoring.value=!1),e.clientPersisterOnSuccess?.(r)})}const i=()=>{r.unmount(),s()};if(t.onUnmount)t.onUnmount(i);else{const o=t.unmount;t.unmount=function(){i(),o()}}t.provide(n,r)}};function kHe(t,e,n){const r=aJ(),s=xn(()=>{const f=rn(e);typeof f.enabled=="function"&&(f.enabled=f.enabled());const p=r.defaultQueryOptions(f);return p._optimisticResults=r.isRestoring?.value?"isRestoring":"optimistic",p}),i=new t(r,s.value),o=s.value.shallow?AI(i.getCurrentResult()):Th(i.getCurrentResult());let a=()=>{};r.isRestoring&&vo(r.isRestoring,f=>{f||(a(),a=i.subscribe(p=>{bk(o,p)}))},{immediate:!0});const c=()=>{i.setOptions(s.value),bk(o,i.getCurrentResult())};vo(s,c),Dp(()=>{a()});const l=(...f)=>(c(),o.refetch(...f)),u=()=>new Promise((f,p)=>{let g=()=>{};const y=()=>{if(s.value.enabled!==!1){i.setOptions(s.value);const v=i.getOptimisticResult(s.value);v.isStale?(g(),i.fetchOptimistic(s.value).then(f,b=>{gk(s.value.throwOnError,[b,i.getCurrentQuery()])?p(b):f(i.getCurrentResult())})):(g(),f(v))}};y(),g=vo(s,y)});vo(()=>o.error,f=>{if(o.isError&&!o.isFetching&&gk(s.value.throwOnError,[f,i.getCurrentQuery()]))throw f});const d=s.value.shallow?pF(o):Mp(o),h=Mk(d);for(const f in o)typeof o[f]=="function"&&(h[f]=o[f]);return h.suspense=u,h.refetch=l,h}function OHe(t,e){return kHe(_He,t)}function lJ(t,e){const n=aJ(),r=xn(()=>n.defaultMutationOptions(rn(t))),s=new CHe(n,r.value),i=r.value.shallow?AI(s.getCurrentResult()):Th(s.getCurrentResult()),o=s.subscribe(u=>{bk(i,u)}),a=(u,d)=>{s.mutate(u,d).catch(()=>{})};vo(r,()=>{s.setOptions(r.value)}),Dp(()=>{o()});const c=r.value.shallow?pF(i):Mp(i),l=Mk(c);return vo(()=>i.error,u=>{if(u&&gk(r.value.throwOnError,[u]))throw u}),{...l,mutate:a,mutateAsync:i.mutate,reset:i.reset}}function DHe(t){const e=xn(()=>({...ln(t),queryKeyHashFn:eHe})),n=OHe(e);return n.queryKey=ln(e).queryKey,n}function uJ(t={}){const e=Zp(t),n=Ct(hxe(e)),r=bxe(e,{onChange(s){n.value=s}});return Dp(()=>r()),Mp(n)}function MHe(t={}){const e=xn(()=>KZ(t)),n=Zp(e),r=uJ({config:n}),s=xn(()=>{const{address:i,chainId:o=r.value,query:a={}}=e.value,c=iHe(n,{...e.value,chainId:o}),l=!!(i&&(a.enabled??!0));return{...a,...c,enabled:l}});return DHe(s)}function LHe(t={}){const e=Zp(t),n=Ct(fxe(e)),r=_z(e,{onChange(s){n.value=s}});return Dp(()=>r()),n}function BHe(t={}){const{mutation:e}=t,n=Zp(t),r=rHe(n),{mutate:s,mutateAsync:i,...o}=lJ({...e,...r}),a=n.subscribe(({status:c})=>c,(c,l)=>{l==="connected"&&c==="disconnected"&&o.reset()});return Dp(()=>a()),{...o,connect:s,connectAsync:i,connectors:LHe({config:n}).value}}function $He(t={}){const e=Zp(t),n=Ct(Sc(e)),r=vz(e,{onChange(s){n.value=s}});return Dp(()=>r()),Mp(n)}function UHe(t={}){const{mutation:e}=t,n=Zp(t),r=$He({config:n}),s=sHe(n),{mutate:i,mutateAsync:o,...a}=lJ({...e,...s});return{...a,connectors:xn(()=>r.value.map(c=>c.connector)),disconnect:i,disconnectAsync:o}}const FHe={class:"wallet-address"},jHe={key:0,class:"wallet-dropdown"},VHe={class:"dropdown-content"},HHe={__name:"ReownWalletButton",setup(t){const{open:e}=XSe(),{address:n}=GZ(),{disconnect:r}=UHe(),s=Ct(!1),i=Ct(null),o=xn(()=>!!n?.value),a=xn(()=>n.value?`${n.value.slice(0,6)}...${n.value.slice(-4)}`:""),c=()=>{s.value=!s.value},l=u=>{i.value&&!i.value.contains(u.target)&&(s.value=!1)};return Lp(()=>{document.addEventListener("click",l)}),Qv(()=>{document.removeEventListener("click",l)}),(u,d)=>{const h=Wa("appkit-button");return o.value?(pt(),Lt("div",{key:1,class:"wallet-container",ref_key:"walletContainer",ref:i,onMouseenter:d[1]||(d[1]=f=>s.value=!0),onMouseleave:d[2]||(d[2]=f=>s.value=!1)},[Q("div",{class:"wallet-info",onClick:c},[Q("span",FHe,ii(a.value),1),s.value?(pt(),Lt("div",jHe,[Q("div",VHe,[d[3]||(d[3]=Q("p",{class:"wallet-detail"},"Connected Wallet",-1)),Q("button",{class:"wallet-disconnect",onClick:d[0]||(d[0]=(...f)=>ln(r)&&ln(r)(...f))}," Disconnect ")])])):Kd("",!0)])],544)):(pt(),Eo(h,{key:0,features:{chain:!1}}))}}},_k=kI(HHe,[["__scopeId","data-v-c7ef71aa"]]),qHe={class:"header"},zHe={class:"navbar"},WHe={class:"nav-container"},GHe={class:"nav-logo"},KHe={class:"nav-menu desktop-menu"},QHe={class:"nav-list"},YHe=["onMouseenter","onMouseleave"],ZHe=["onClick"],JHe=["onClick"],XHe=["onClick"],eqe={class:"nav-actions"},tqe={class:"wallet-section"},nqe={key:0,class:"signup-section"},rqe={key:1,class:"user-menu"},sqe=["src"],iqe={key:1,class:"user-avatar-placeholder",style:{display:"inline-block",width:"32px",height:"32px"},"aria-label":"User"},oqe={class:"flex flex-col p-5 h-[calc(100vh-70px)] overflow-y-auto pb-[80px]"},aqe={class:"mobile-nav-list list-none m-0 p-0 flex-1"},cqe={key:0,class:"mobile-dropdown"},lqe=["onClick"],uqe={class:"mobile-actions"},dqe={class:"mobile-wallet-section"},hqe={key:0,class:"mobile-signup-section"},fqe={__name:"Header",setup(t){const e=Bz(),n=Ct(!1),r=Ct(null),s=Ct(!1),{walletAddress:i,disconnectWallet:o}=ULe(),{currentUser:a,signOut:c}=e3(),l=Ct([{id:"referral",name:"Referral",url:"/referral",icon:"fas fa-users"},{id:"game",name:"Game",url:"/game",icon:"fas fa-gamepad"},{id:"investment",name:"Investment",url:"/investment",icon:"fas fa-chart-pie"},{id:"swap",name:"Swap",url:"/swap",icon:"fas fa-exchange-alt"},{id:"more",name:"More",url:"#",icon:"fas fa-ellipsis-h",submenu:[{id:"whitepaper",name:"Whitepaper",url:"/whitepaper",icon:"fas fa-file-alt"}]}]);xn(()=>i.value?`${i.value.slice(0,6)}...${i.value.slice(-4)}`:"");const u=C=>{e.push(C)},d=()=>{n.value=!n.value,n.value?document.body.style.overflow="hidden":document.body.style.overflow=""},h=C=>{window.innerWidth>991&&(r.value=C)},f=C=>{window.innerWidth>991&&(r.value=null)},p=C=>{window.innerWidth<=991&&(r.value=r.value===C?null:C)},g=()=>{s.value=!s.value},y=()=>{s.value=!1},v=C=>{window.innerWidth<=991&&(n.value=!1,document.body.style.overflow=""),r.value=null,y(),C.action==="logout"?b():C.url&&C.url!=="#"&&e.push(C.url)},b=async()=>{try{confirm("Bạn có chắc chắn muốn đăng xuất?")&&(await c(),o(),e.push("/"),y())}catch(C){console.error("Logout error:",C)}},_=()=>{window.innerWidth>991&&(n.value=!1,r.value=null,document.body.style.overflow="")},S=C=>{C.target.closest(".user-menu")||y()};return Lp(()=>{window.addEventListener("resize",_),document.addEventListener("click",S)}),Qv(()=>{window.removeEventListener("resize",_),document.removeEventListener("click",S)}),(C,x)=>{const I=Wa("router-link");return pt(),Lt("header",qHe,[Q("nav",zHe,[Q("div",WHe,[Q("div",GHe,[Q("div",{class:"logo",onClick:x[0]||(x[0]=E=>u("/"))},[...x[3]||(x[3]=[Q("img",{src:qZ,alt:"PixelPayot",class:"logo-img"},null,-1),Q("span",{class:"logo-text"},"PixelPayot",-1)])])]),Q("div",KHe,[Q("ul",QHe,[(pt(!0),Lt(Pr,null,Cf(l.value,E=>(pt(),Lt("li",{class:"nav-item",key:E.id},[E.submenu?(pt(),Lt("div",{key:0,class:"nav-dropdown",onMouseenter:A=>h(E.id),onMouseleave:A=>f(E.id)},[Q("div",{class:Jn(["nav-link dropdown-toggle",{active:r.value===E.id}]),onClick:A=>p(E.id)},[Q("i",{class:Jn(E.icon)},null,2),Q("span",null,ii(E.name),1),x[4]||(x[4]=Q("i",{class:"fas fa-chevron-down"},null,-1))],10,ZHe),Q("ul",{class:Jn(["dropdown-menu",{show:r.value===E.id}])},[(pt(!0),Lt(Pr,null,Cf(E.submenu,A=>(pt(),Lt("li",{key:A.id},[Q("div",{class:"dropdown-item",onClick:T=>v(A)},[Q("i",{class:Jn(A.icon)},null,2),Q("span",null,ii(A.name),1)],8,JHe)]))),128))],2)],40,YHe)):(pt(),Lt("div",{key:1,class:Jn(["nav-link",{active:C.$route.path===E.url}]),onClick:A=>v(E)},[Q("i",{class:Jn(E.icon)},null,2),Q("span",null,ii(E.name),1)],10,XHe))]))),128))])]),Q("div",eqe,[Q("div",tqe,[Xt(_k)]),ln(a)?Kd("",!0):(pt(),Lt("div",nqe,[Xt(I,{to:"/signup",class:"btn-signup"},{default:Dr(()=>[...x[5]||(x[5]=[Q("i",{class:"fas fa-user-plus me-2"},null,-1),Qr(" Sign Up ",-1)])]),_:1})])),ln(a)?(pt(),Lt("div",rqe,[Q("div",{class:"user-avatar",onClick:g},[ln(a).photoURL?(pt(),Lt("img",{key:0,src:ln(a).photoURL||void 0,alt:"User"},null,8,sqe)):(pt(),Lt("span",iqe,[...x[6]||(x[6]=[_c('<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" width="24" height="24" data-v-22885fe3><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-22885fe3></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-22885fe3></g><g id="SVGRepo_iconCarrier" data-v-22885fe3><path d="M8 7C9.65685 7 11 5.65685 11 4C11 2.34315 9.65685 1 8 1C6.34315 1 5 2.34315 5 4C5 5.65685 6.34315 7 8 7Z" fill="#fb00ff" data-v-22885fe3></path><path d="M14 12C14 10.3431 12.6569 9 11 9H5C3.34315 9 2 10.3431 2 12V15H14V12Z" fill="#fb00ff" data-v-22885fe3></path></g></svg>',1)])])),x[7]||(x[7]=Q("i",{class:"fas fa-chevron-down"},null,-1))]),Q("ul",{class:Jn(["user-dropdown",{show:s.value}])},[Q("li",null,[Q("div",{onClick:x[1]||(x[1]=E=>v({url:"/profile",action:"navigate"}))},[...x[8]||(x[8]=[Q("i",{class:"fas fa-user"},null,-1),Q("span",null,"Profile",-1)])])]),Q("li",null,[Q("div",{onClick:x[2]||(x[2]=E=>v({url:"/dashboard",action:"navigate"}))},[...x[9]||(x[9]=[Q("i",{class:"fas fa-chart-line"},null,-1),Q("span",null,"Dashboard",-1)])])]),Q("li",null,[Q("div",{onClick:b},[...x[10]||(x[10]=[Q("i",{class:"fas fa-sign-out-alt"},null,-1),Q("span",null,"Logout",-1)])])])],2)])):Kd("",!0)]),Q("div",{class:Jn(["mobile-menu-toggle",{active:n.value}]),onClick:d},[...x[11]||(x[11]=[Q("span",null,null,-1),Q("span",null,null,-1),Q("span",null,null,-1)])],2)]),Q("div",{class:Jn(["mobile-menu",{show:n.value}])},[Q("div",oqe,[Q("ul",aqe,[(pt(!0),Lt(Pr,null,Cf(l.value,E=>(pt(),Lt("li",{class:"mobile-nav-item mb-2",key:E.id},[E.submenu?(pt(),Lt("div",cqe,[Q("a",{class:Jn(["mobile-nav-link flex items-center gap-3 px-4 py-3 rounded-xl text-white font-medium bg-white/5 border border-white/10 transition-all text-base hover:bg-pink-100/20 hover:text-pink-600",{active:r.value===E.id}]),href:"#",onClick:f7(A=>p(E.id),["prevent"])},[Q("i",{class:Jn(E.icon)},null,2),Q("span",null,ii(E.name),1),x[12]||(x[12]=Q("i",{class:"fas fa-chevron-down"},null,-1))],10,lqe),Q("ul",{class:Jn(["mobile-dropdown-menu",{show:r.value===E.id}])},[(pt(!0),Lt(Pr,null,Cf(E.submenu,A=>(pt(),Lt("li",{key:A.id},[Xt(I,{to:A.url,class:"mobile-dropdown-item flex items-center gap-2 px-4 py-2 rounded-lg text-white hover:bg-pink-100/20 hover:text-pink-600",onClick:T=>v(A)},{default:Dr(()=>[Q("i",{class:Jn(A.icon)},null,2),Q("span",null,ii(A.name),1)]),_:2},1032,["to","onClick"])]))),128))],2)])):(pt(),Eo(I,{key:1,to:E.url,class:Jn(["mobile-nav-link flex items-center gap-3 px-4 py-3 rounded-xl text-white font-medium bg-white/5 border border-white/10 transition-all text-base hover:bg-pink-100/20 hover:text-pink-600",{active:C.$route.path===E.url}]),onClick:A=>v(E)},{default:Dr(()=>[Q("i",{class:Jn(E.icon)},null,2),Q("span",null,ii(E.name),1)]),_:2},1032,["to","onClick","class"]))]))),128))]),Q("div",uqe,[Q("div",dqe,[Xt(_k)]),ln(a)?Kd("",!0):(pt(),Lt("div",hqe,[Xt(I,{to:"/signup",class:"mobile-btn-signup"},{default:Dr(()=>[...x[13]||(x[13]=[Q("i",{class:"fas fa-user-plus me-2"},null,-1),Qr(" Sign Up ",-1)])]),_:1})]))])])],2)])])}}},pqe=kI(fqe,[["__scopeId","data-v-22885fe3"]]),mqe="/assets/footer-pattern-BU5Dn35q.png",gqe={id:"footer",class:"padding-large pattern-blur"},yqe={class:"container"},wqe={class:"row d-flex flex-wrap justify-content-between"},bqe={class:"col-lg-4 col-md-6"},vqe={class:"footer-item md:item-001"},_qe={class:"social-media"},Eqe={class:"d-flex list-unstyled"},Aqe={class:"bg-blue-trans border-rounded-circle"},Cqe={class:"bg-blue-trans border-rounded-circle"},Iqe={class:"bg-blue-trans border-rounded-circle"},Tqe={class:"bg-blue-trans border-rounded-circle"},Sqe={class:"bg-blue-trans border-rounded-circle"},xqe={class:"col-lg-2 col-md-6"},Pqe={class:"footer-item item-002 content-light"},Rqe={class:"footer-menu list-unstyled"},Nqe={class:"col-lg-2 col-md-6"},kqe={class:"footer-item item-003 content-light"},Oqe={class:"footer-menu list-unstyled"},Dqe={class:"col-lg-2 col-md-6"},Mqe={class:"footer-item item-004 content-light"},Lqe={class:"footer-menu list-unstyled"},Bqe={class:"col-lg-2 col-md-6"},$qe={class:"footer-item item-005 content-light"},Uqe={class:"footer-menu list-unstyled"},Fqe={id:"footer-bottom"},jqe={class:"container"},Vqe={class:"row text-center"},Hqe={__name:"Footer",setup(t){const e=xn(()=>new Date().getFullYear()),n=r=>{const s={facebook:"https://facebook.com/coinpayot",twitter:"https://twitter.com/coinpayot",instagram:"https://instagram.com/coinpayot",youtube:"https://youtube.com/coinpayot",linkedin:"https://linkedin.com/company/coinpayot"};s[r]&&window.open(s[r],"_blank")};return(r,s)=>{const i=Wa("router-link");return pt(),Lt(Pr,null,[Q("footer",gqe,[s[31]||(s[31]=Q("div",{class:"pattern-overlay pattern-blur-footer right-side-pattern"},[Q("img",{src:mqe})],-1)),Q("div",yqe,[Q("div",wqe,[Q("div",bqe,[Q("div",vqe,[s[10]||(s[10]=Q("img",{src:qZ,alt:"logo"},null,-1)),s[11]||(s[11]=Q("p",null," PixelPayot is a platform that allows you to earn money by playing games. ",-1)),Q("div",_qe,[Q("ul",Eqe,[Q("li",Aqe,[Q("a",{href:"#",onClick:s[0]||(s[0]=o=>n("facebook"))},[...s[5]||(s[5]=[Q("i",{class:"icon icon-facebook"},null,-1)])])]),Q("li",Cqe,[Q("a",{href:"#",onClick:s[1]||(s[1]=o=>n("twitter"))},[...s[6]||(s[6]=[Q("i",{class:"icon icon-twitter"},null,-1)])])]),Q("li",Iqe,[Q("a",{href:"#",onClick:s[2]||(s[2]=o=>n("instagram"))},[...s[7]||(s[7]=[Q("i",{class:"icon icon-instagram"},null,-1)])])]),Q("li",Tqe,[Q("a",{href:"#",onClick:s[3]||(s[3]=o=>n("youtube"))},[...s[8]||(s[8]=[Q("i",{class:"icon icon-youtube"},null,-1)])])]),Q("li",Sqe,[Q("a",{href:"#",onClick:s[4]||(s[4]=o=>n("linkedin"))},[...s[9]||(s[9]=[Q("i",{class:"icon icon-linkedin"},null,-1)])])])])])])]),Q("div",xqe,[Q("div",Pqe,[s[16]||(s[16]=Q("h4",null,"Marketplace",-1)),Q("ul",Rqe,[Q("li",null,[Xt(i,{to:"/marketplace"},{default:Dr(()=>[...s[12]||(s[12]=[Qr("NFTs",-1)])]),_:1})]),Q("li",null,[Xt(i,{to:"/collection"},{default:Dr(()=>[...s[13]||(s[13]=[Qr("Art",-1)])]),_:1})]),Q("li",null,[Xt(i,{to:"/blindbox"},{default:Dr(()=>[...s[14]||(s[14]=[Qr("Collectibles",-1)])]),_:1})]),s[15]||(s[15]=Q("li",null,[Q("a",{href:"#"},"Virtual world")],-1))])])]),Q("div",Nqe,[Q("div",kqe,[s[20]||(s[20]=Q("h4",null,"Info",-1)),Q("ul",Oqe,[Q("li",null,[Xt(i,{to:"/dashboard"},{default:Dr(()=>[...s[17]||(s[17]=[Qr("Activity",-1)])]),_:1})]),Q("li",null,[Xt(i,{to:"/profile"},{default:Dr(()=>[...s[18]||(s[18]=[Qr("Stats",-1)])]),_:1})]),s[19]||(s[19]=Q("li",null,[Q("a",{href:"#leaderboard"},"Rankings")],-1))])])]),Q("div",Dqe,[Q("div",Mqe,[s[25]||(s[25]=Q("h4",null,"Company",-1)),Q("ul",Lqe,[Q("li",null,[Xt(i,{to:"/whitepaper"},{default:Dr(()=>[...s[21]||(s[21]=[Qr("About",-1)])]),_:1})]),s[23]||(s[23]=Q("li",null,[Q("a",{href:"#support"},"Support")],-1)),s[24]||(s[24]=Q("li",null,[Q("a",{href:"#features"},"Features")],-1)),Q("li",null,[Xt(i,{to:"/creators"},{default:Dr(()=>[...s[22]||(s[22]=[Qr("Top Creators",-1)])]),_:1})])])])]),Q("div",Bqe,[Q("div",$qe,[s[30]||(s[30]=Q("h4",null,"Resources",-1)),Q("ul",Uqe,[Q("li",null,[Xt(i,{to:"/whitepaper"},{default:Dr(()=>[...s[26]||(s[26]=[Qr("Info",-1)])]),_:1})]),Q("li",null,[Xt(i,{to:"/referral"},{default:Dr(()=>[...s[27]||(s[27]=[Qr("Affiliates",-1)])]),_:1})]),s[28]||(s[28]=Q("li",null,[Q("a",{href:"#association"},"Associated")],-1)),s[29]||(s[29]=Q("li",null,[Q("a",{href:"#blog"},"Blog")],-1))])])])])])]),s[32]||(s[32]=Q("hr",null,null,-1)),Q("div",Fqe,[Q("div",jqe,[Q("div",Vqe,[Q("p",null,"© "+ii(e.value)+" Copyright PixelPayot. All rights reserved",1)])])])],64)}}},qqe=kI(Hqe,[["__scopeId","data-v-82d3fcdc"]]);function P9(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function h3(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:P9(e[r])&&P9(t[r])&&Object.keys(e[r]).length>0&&h3(t[r],e[r])})}const dJ={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jp(){const t=typeof document<"u"?document:{};return h3(t,dJ),t}const zqe={document:dJ,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ri(){const t=typeof window<"u"?window:{};return h3(t,zqe),t}function Wqe(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Gqe(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function hJ(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function fI(){return Date.now()}function Kqe(t){const e=Ri();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Qqe(t,e){e===void 0&&(e="x");const n=Ri();let r,s,i;const o=Kqe(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function sE(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Yqe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function go(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!Yqe(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const a=s[i],c=Object.getOwnPropertyDescriptor(r,a);c!==void 0&&c.enumerable&&(sE(t[a])&&sE(r[a])?r[a].__swiper__?t[a]=r[a]:go(t[a],r[a]):!sE(t[a])&&sE(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:go(t[a],r[a])):t[a]=r[a])}}}return t}function iE(t,e,n){t.style.setProperty(e,n)}function fJ(t){let{swiper:e,targetPosition:n,side:r}=t;const s=Ri(),i=-e.translate;let o=null,a;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const l=n>i?"next":"prev",u=(h,f)=>l==="next"&&h>=f||l==="prev"&&h<=f,d=()=>{a=new Date().getTime(),o===null&&(o=a);const h=Math.max(Math.min((a-o)/c,1),0),f=.5-Math.cos(h*Math.PI)/2;let p=i+f*(n-i);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[r]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:p})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(d)};d()}function Fc(t,e){e===void 0&&(e="");const n=Ri(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function Zqe(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function Jqe(t,e){const n=Ri();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Zqe(t,e))),r}function pI(t){try{console.warn(t);return}catch{}}function mI(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Wqe(e)),n}function Xqe(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function eze(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Wd(t,e){return Ri().getComputedStyle(t,null).getPropertyValue(e)}function gI(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function pJ(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Ek(t,e,n){const r=Ri();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Es(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function R9(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let KP;function tze(){const t=Ri(),e=Jp();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function mJ(){return KP||(KP=tze()),KP}let QP;function nze(t){let{userAgent:e}=t===void 0?{}:t;const n=mJ(),r=Ri(),s=r.navigator.platform,i=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,c=r.screen.height,l=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const d=i.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=s==="Win32";let p=s==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&g.indexOf(`${a}x${c}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),l&&!f&&(o.os="android",o.android=!0),(u||h||d)&&(o.os="ios",o.ios=!0),o}function gJ(t){return t===void 0&&(t={}),QP||(QP=nze(t)),QP}let YP;function rze(){const t=Ri(),e=gJ();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[c,l]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=c<16||c===16&&l<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),o=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function yJ(){return YP||(YP=rze()),YP}function sze(t){let{swiper:e,on:n,emit:r}=t;const s=Ri();let i=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(d=>{o=s.requestAnimationFrame(()=>{const{width:h,height:f}=e;let p=h,g=f;d.forEach(y=>{let{contentBoxSize:v,contentRect:b,target:_}=y;_&&_!==e.el||(p=b?b.width:(v[0]||v).inlineSize,g=b?b.height:(v[0]||v).blockSize)}),(p!==h||g!==f)&&a()})}),i.observe(e.el))},l=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",a),s.addEventListener("orientationchange",u)}),n("destroy",()=>{l(),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",u)})}function ize(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],o=Ri(),a=function(u,d){d===void 0&&(d={});const h=o.MutationObserver||o.WebkitMutationObserver,f=new h(p=>{if(e.__preventObserver__)return;if(p.length===1){s("observerUpdate",p[0]);return}const g=function(){s("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(g):o.setTimeout(g,0)});f.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),i.push(f)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=pJ(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},l=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",l)}var oze={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(l=>{l.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(l=>{l.apply(r,n)})}),t}};function aze(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Wd(r,"padding-left")||0,10)-parseInt(Wd(r,"padding-right")||0,10),n=n-parseInt(Wd(r,"padding-top")||0,10)-parseInt(Wd(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function cze(){const t=this;function e(T,k){return parseFloat(T.getPropertyValue(t.getDirectionLabel(k))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,c=t.virtual&&n.virtual.enabled,l=c?t.virtual.slides.length:t.slides.length,u=Fc(s,`.${t.params.slideClass}, swiper-slide`),d=c?t.virtual.slides.length:u.length;let h=[];const f=[],p=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const v=t.snapGrid.length,b=t.slidesGrid.length;let _=n.spaceBetween,S=-g,C=0,x=0;if(typeof i>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*i:typeof _=="string"&&(_=parseFloat(_)),t.virtualSize=-_,u.forEach(T=>{o?T.style.marginLeft="":T.style.marginRight="",T.style.marginBottom="",T.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(iE(r,"--swiper-centered-offset-before",""),iE(r,"--swiper-centered-offset-after",""));const I=n.grid&&n.grid.rows>1&&t.grid;I?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let E;const A=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(T=>typeof n.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<d;T+=1){E=0;let k;if(u[T]&&(k=u[T]),I&&t.grid.updateSlide(T,k,u),!(u[T]&&Wd(k,"display")==="none")){if(n.slidesPerView==="auto"){A&&(u[T].style[t.getDirectionLabel("width")]="");const M=getComputedStyle(k),B=k.style.transform,Z=k.style.webkitTransform;if(B&&(k.style.transform="none"),Z&&(k.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?Ek(k,"width"):Ek(k,"height");else{const N=e(M,"width"),L=e(M,"padding-left"),H=e(M,"padding-right"),F=e(M,"margin-left"),J=e(M,"margin-right"),ee=M.getPropertyValue("box-sizing");if(ee&&ee==="border-box")E=N+F+J;else{const{clientWidth:W,offsetWidth:ue}=k;E=N+L+H+F+J+(ue-W)}}B&&(k.style.transform=B),Z&&(k.style.webkitTransform=Z),n.roundLengths&&(E=Math.floor(E))}else E=(i-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),u[T]&&(u[T].style[t.getDirectionLabel("width")]=`${E}px`);u[T]&&(u[T].swiperSlideSize=E),p.push(E),n.centeredSlides?(S=S+E/2+C/2+_,C===0&&T!==0&&(S=S-i/2-_),T===0&&(S=S-i/2-_),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),x%n.slidesPerGroup===0&&h.push(S),f.push(S)):(n.roundLengths&&(S=Math.floor(S)),(x-Math.min(t.params.slidesPerGroupSkip,x))%t.params.slidesPerGroup===0&&h.push(S),f.push(S),S=S+E+_),t.virtualSize+=E+_,C=E,x+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+y,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+_}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+_}px`),I&&t.grid.updateWrapperSize(E,h),!n.centeredSlides){const T=[];for(let k=0;k<h.length;k+=1){let M=h[k];n.roundLengths&&(M=Math.floor(M)),h[k]<=t.virtualSize-i&&T.push(M)}h=T,Math.floor(t.virtualSize-i)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-i)}if(c&&n.loop){const T=p[0]+_;if(n.slidesPerGroup>1){const k=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),M=T*n.slidesPerGroup;for(let B=0;B<k;B+=1)h.push(h[h.length-1]+M)}for(let k=0;k<t.virtual.slidesBefore+t.virtual.slidesAfter;k+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+T),f.push(f[f.length-1]+T),t.virtualSize+=T}if(h.length===0&&(h=[0]),_!==0){const T=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((k,M)=>!n.cssMode||n.loop?!0:M!==u.length-1).forEach(k=>{k.style[T]=`${_}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let T=0;p.forEach(M=>{T+=M+(_||0)}),T-=_;const k=T>i?T-i:0;h=h.map(M=>M<=0?-g:M>k?k+y:M)}if(n.centerInsufficientSlides){let T=0;p.forEach(M=>{T+=M+(_||0)}),T-=_;const k=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(T+k<i){const M=(i-T-k)/2;h.forEach((B,Z)=>{h[Z]=B-M}),f.forEach((B,Z)=>{f[Z]=B+M})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:f,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){iE(r,"--swiper-centered-offset-before",`${-h[0]}px`),iE(r,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const T=-t.snapGrid[0],k=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(M=>M+T),t.slidesGrid=t.slidesGrid.map(M=>M+k)}if(d!==l&&t.emit("slidesLengthChange"),h.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==b&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const T=`${n.containerModifierClass}backface-hidden`,k=t.el.classList.contains(T);d<=n.maxBackfaceHiddenSlides?k||t.el.classList.add(T):k&&t.el.classList.remove(T)}}function lze(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function uze(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const N9=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function dze(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let c=0;c<r.length;c+=1){const l=r[c];let u=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+a),h=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+a),f=-(o-u),p=f+e.slidesSizesGrid[c],g=f>=0&&f<=e.size-e.slidesSizesGrid[c],y=f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size;y&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(c)),N9(l,y,n.slideVisibleClass),N9(l,g,n.slideFullyVisibleClass),l.progress=s?-d:d,l.originalProgress=s?-h:h}}function hze(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:a}=e;const c=i,l=o;if(r===0)s=0,i=!0,o=!0;else{s=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;i=u||s<=0,o=d||s>=1,u&&(s=0),d&&(s=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],f=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],g=Math.abs(t);g>=h?a=(g-h)/p:a=(g+p-f)/p,a>1&&(a-=1)}Object.assign(e,{progress:s,progressLoop:a,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(c&&!i||l&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}const ZP=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function fze(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>Fc(r,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let c,l,u;if(i)if(n.loop){let d=s-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),c=a(`[data-swiper-slide-index="${d}"]`)}else c=a(`[data-swiper-slide-index="${s}"]`);else o?(c=e.find(d=>d.column===s),u=e.find(d=>d.column===s+1),l=e.find(d=>d.column===s-1)):c=e[s];c&&(o||(u=eze(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),l=Xqe(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!l===0&&(l=e[e.length-1]))),e.forEach(d=>{ZP(d,d===c,n.slideActiveClass),ZP(d,d===u,n.slideNextClass),ZP(d,d===l,n.slidePrevClass)}),t.emitSlidesClasses()}const YE=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},JP=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Ak=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,a=[o-e];a.push(...Array.from({length:e}).map((c,l)=>o+r+l)),t.slides.forEach((c,l)=>{a.includes(c.column)&&JP(t,l)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=i+e;o+=1){const a=(o%n+n)%n;(a<s||a>i)&&JP(t,a)}else for(let o=Math.max(s-e,0);o<=Math.min(i+e,n-1);o+=1)o!==s&&(o>i||o<s)&&JP(t,o)};function pze(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function mze(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:a}=e;let c=t,l;const u=f=>{let p=f-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof c>"u"&&(c=pze(e)),r.indexOf(n)>=0)l=r.indexOf(n);else{const f=Math.min(s.slidesPerGroupSkip,c);l=f+Math.floor((c-f)/s.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),c===i&&!e.params.loop){l!==a&&(e.snapIndex=l,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(c);return}const d=e.grid&&s.grid&&s.grid.rows>1;let h;if(e.virtual&&s.virtual.enabled&&s.loop)h=u(c);else if(d){const f=e.slides.find(g=>g.column===c);let p=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(f),0)),h=Math.floor(p/s.grid.rows)}else if(e.slides[c]){const f=e.slides[c].getAttribute("data-swiper-slide-index");f?h=parseInt(f,10):h=c}else h=c;Object.assign(e,{previousSnapIndex:a,snapIndex:l,previousRealIndex:o,realIndex:h,previousIndex:i,activeIndex:c}),e.initialized&&Ak(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function gze(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!s&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(s=a)});let i=!1,o;if(s){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===s){i=!0,o=a;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var yze={updateSize:aze,updateSlides:cze,updateAutoHeight:lze,updateSlidesOffset:uze,updateSlidesProgress:dze,updateProgress:hze,updateSlidesClasses:fze,updateActiveIndex:mze,updateClickedSlide:gze};function wze(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=Qqe(i,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function bze(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let a=0,c=0;const l=0;n.isHorizontal()?a=r?-t:t:c=t,s.roundLengths&&(a=Math.floor(a),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-c:s.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${a}px, ${c}px, ${l}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function vze(){return-this.snapGrid[0]}function _ze(){return-this.snapGrid[this.snapGrid.length-1]}function Eze(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const c=i.minTranslate(),l=i.maxTranslate();let u;if(r&&t>c?u=c:r&&t<l?u=l:u=t,i.updateProgress(u),o.cssMode){const d=i.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return fJ({swiper:i,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(h){!i||i.destroyed||h.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var Aze={getTranslate:wze,setTranslate:bze,minTranslate:vze,maxTranslate:_ze,translateTo:Eze};function Cze(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function wJ(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:o}=e;let a=r;a||(i>o?a="next":i<o?a="prev":a="reset"),e.emit(`transition${s}`),n&&a==="reset"?e.emit(`slideResetTransition${s}`):n&&i!==o&&(e.emit(`slideChangeTransition${s}`),a==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`))}function Ize(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),wJ({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Tze(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),wJ({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var Sze={setTransition:Cze,transitionStart:Ize,transitionEnd:Tze};function xze(t,e,n,r,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:c,slidesGrid:l,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:f,enabled:p}=i;if(!p&&!r&&!s||i.destroyed||i.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const g=Math.min(i.params.slidesPerGroupSkip,o);let y=g+Math.floor((o-g)/i.params.slidesPerGroup);y>=c.length&&(y=c.length-1);const v=-c[y];if(a.normalizeSlideIndex)for(let I=0;I<l.length;I+=1){const E=-Math.floor(v*100),A=Math.floor(l[I]*100),T=Math.floor(l[I+1]*100);typeof l[I+1]<"u"?E>=A&&E<T-(T-A)/2?o=I:E>=A&&E<T&&(o=I+1):E>=A&&(o=I)}if(i.initialized&&o!==d&&(!i.allowSlideNext&&(h?v>i.translate&&v>i.minTranslate():v<i.translate&&v<i.minTranslate())||!i.allowSlidePrev&&v>i.translate&&v>i.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(v);let b;o>d?b="next":o<d?b="prev":b="reset";const _=i.virtual&&i.params.virtual.enabled;if(!(_&&s)&&(h&&-v===i.translate||!h&&v===i.translate))return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(v),b!=="reset"&&(i.transitionStart(n,b),i.transitionEnd(n,b)),!1;if(a.cssMode){const I=i.isHorizontal(),E=h?v:-v;if(e===0)_&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),_&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[I?"scrollLeft":"scrollTop"]=E})):f[I?"scrollLeft":"scrollTop"]=E,_&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return fJ({swiper:i,targetPosition:E,side:I?"left":"top"}),!0;f.scrollTo({[I?"left":"top"]:E,behavior:"smooth"})}return!0}const x=yJ().isSafari;return _&&!s&&x&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(e),i.setTranslate(v),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,b),e===0?i.transitionEnd(n,b):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(E){!i||i.destroyed||E.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,b))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function Pze(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let a;if(i){const h=o*s.params.grid.rows;a=s.slides.find(f=>f.getAttribute("data-swiper-slide-index")*1===h).column}else a=s.getSlideIndexByData(o);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:l}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),l&&u%2===0&&(u=u+1));let d=c-a<u;if(l&&(d=d||a<Math.ceil(u/2)),r&&l&&s.params.slidesPerView!=="auto"&&!i&&(d=!1),d){const h=l?a<s.activeIndex?"prev":"next":a-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-c+1,slideRealIndex:h==="next"?s.realIndex:void 0})}if(i){const h=o*s.params.grid.rows;o=s.slides.find(f=>f.getAttribute("data-swiper-slide-index")*1===h).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,r)}),s}function Rze(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:a,l=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!l&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function Nze(t,e,n){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:a,enabled:c,animating:l}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const u=r.virtual&&s.virtual.enabled;if(s.loop){if(l&&!u&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const d=a?r.translate:-r.translate;function h(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const f=h(d),p=i.map(b=>h(b)),g=s.freeMode&&s.freeMode.enabled;let y=i[p.indexOf(f)-1];if(typeof y>"u"&&(s.cssMode||g)){let b;i.forEach((_,S)=>{f>=_&&(b=S)}),typeof b<"u"&&(y=g?i[b]:i[b>0?b-1:b])}let v=0;if(typeof y<"u"&&(v=o.indexOf(y),v<0&&(v=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(v=v-r.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),s.rewind&&r.isBeginning){const b=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(b,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(v,t,e,n)}),!0;return r.slideTo(v,t,e,n)}function kze(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Oze(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[a]){const l=s.snapGrid[a],u=s.snapGrid[a+1];c-l>(u-l)*r&&(i+=s.params.slidesPerGroup)}else{const l=s.snapGrid[a-1],u=s.snapGrid[a];c-l<=(u-l)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function Dze(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(i):s>(a?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),s=t.getSlideIndex(Fc(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),hJ(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var Mze={slideTo:xze,slideToLoop:Pze,slideNext:Rze,slidePrev:Nze,slideReset:kze,slideToClosest:Oze,slideToClickedSlide:Dze};function Lze(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{Fc(s,`.${r.slideClass}, swiper-slide`).forEach((f,p)=>{f.setAttribute("data-swiper-slide-index",p)})},o=()=>{const h=Fc(s,`.${r.slideBlankClass}`);h.forEach(f=>{f.remove()}),h.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&o();const c=r.slidesPerGroup*(a?r.grid.rows:1),l=n.slides.length%c!==0,u=a&&n.slides.length%r.grid.rows!==0,d=h=>{for(let f=0;f<h;f+=1){const p=n.isElement?mI("swiper-slide",[r.slideBlankClass]):mI("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(p)}};if(l){if(r.loopAddBlankSlides){const h=c-n.slides.length%c;d(h),n.recalcSlides(),n.updateSlides()}else pI("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(u){if(r.loopAddBlankSlides){const h=r.grid.rows-n.slides.length%r.grid.rows;d(h),n.recalcSlides(),n.updateSlides()}else pI("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function Bze(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,initial:o,byController:a,byMousewheel:c}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:f,params:p}=l,{centeredSlides:g,initialSlide:y}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=h,l.emit("loopFix");return}let v=p.slidesPerView;v==="auto"?v=l.slidesPerViewDynamic():(v=Math.ceil(parseFloat(p.slidesPerView,10)),g&&v%2===0&&(v=v+1));const b=p.slidesPerGroupAuto?v:p.slidesPerGroup;let _=g?Math.max(b,Math.ceil(v/2)):b;_%b!==0&&(_+=b-_%b),_+=p.loopAdditionalSlides,l.loopedSlides=_;const S=l.grid&&p.grid&&p.grid.rows>1;u.length<v+_||l.params.effect==="cards"&&u.length<v+_*2?pI("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):S&&p.grid.fill==="row"&&pI("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const C=[],x=[],I=S?Math.ceil(u.length/p.grid.rows):u.length,E=o&&I-y<v&&!g;let A=E?y:l.activeIndex;typeof i>"u"?i=l.getSlideIndex(u.find(L=>L.classList.contains(p.slideActiveClass))):A=i;const T=r==="next"||!r,k=r==="prev"||!r;let M=0,B=0;const N=(S?u[i].column:i)+(g&&typeof s>"u"?-v/2+.5:0);if(N<_){M=Math.max(_-N,b);for(let L=0;L<_-N;L+=1){const H=L-Math.floor(L/I)*I;if(S){const F=I-H-1;for(let J=u.length-1;J>=0;J-=1)u[J].column===F&&C.push(J)}else C.push(I-H-1)}}else if(N+v>I-_){B=Math.max(N-(I-_*2),b),E&&(B=Math.max(B,v-I+y+1));for(let L=0;L<B;L+=1){const H=L-Math.floor(L/I)*I;S?u.forEach((F,J)=>{F.column===H&&x.push(J)}):x.push(H)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&u.length<v+_*2&&(x.includes(i)&&x.splice(x.indexOf(i),1),C.includes(i)&&C.splice(C.indexOf(i),1)),k&&C.forEach(L=>{u[L].swiperLoopMoveDOM=!0,f.prepend(u[L]),u[L].swiperLoopMoveDOM=!1}),T&&x.forEach(L=>{u[L].swiperLoopMoveDOM=!0,f.append(u[L]),u[L].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"?l.updateSlides():S&&(C.length>0&&k||x.length>0&&T)&&l.slides.forEach((L,H)=>{l.grid.updateSlide(H,L,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),n){if(C.length>0&&k){if(typeof e>"u"){const L=l.slidesGrid[A],F=l.slidesGrid[A+M]-L;c?l.setTranslate(l.translate-F):(l.slideTo(A+Math.ceil(M),0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-F,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-F))}else if(s){const L=S?C.length/p.grid.rows:C.length;l.slideTo(l.activeIndex+L,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(x.length>0&&T)if(typeof e>"u"){const L=l.slidesGrid[A],F=l.slidesGrid[A-B]-L;c?l.setTranslate(l.translate-F):(l.slideTo(A-B,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-F,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-F))}else{const L=S?x.length/p.grid.rows:x.length;l.slideTo(l.activeIndex-L,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=h,l.controller&&l.controller.control&&!a){const L={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(H=>{!H.destroyed&&H.params.loop&&H.loopFix({...L,slideTo:H.params.slidesPerView===p.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...L,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}l.emit("loopFix")}function $ze(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Uze={loopCreate:Lze,loopFix:Bze,loopDestroy:$ze};function Fze(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function jze(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Vze={setGrabCursor:Fze,unsetGrabCursor:jze};function Hze(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Jp()||r===Ri())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function k9(t,e,n){const r=Ri(),{params:s}=t,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=r.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function qze(t){const e=this,n=Jp();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){k9(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:a}=e;if(!a||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!Jqe(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const l=!!i.noSwipingClass&&i.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;l&&r.target&&r.target.shadowRoot&&u&&(c=u[0]);const d=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,h=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(h?Hze(d,c):c.closest(d))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const f=o.currentX,p=o.currentY;if(!k9(e,r,f))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=p,s.touchStartTime=fI(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let g=!0;c.matches(s.focusableElements)&&(g=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&n.activeElement.blur();const y=g&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||y)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function zze(t){const e=Jp(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let l;if(c.type==="touchmove"){if(l=[...c.changedTouches].find(C=>C.identifier===r.touchId),!l||l.identifier!==r.touchId)return}else l=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const u=l.pageX,d=l.pageY;if(c.preventedByNestedSwiper){i.startX=u,i.startY=d;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:d,currentX:u,currentY:d}),r.touchStartTime=fI());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(d<i.startY&&n.translate<=n.maxTranslate()||d>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(u>i.startX&&-n.translate<=n.maxTranslate()||u<i.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=d;const h=i.currentX-i.startX,f=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(h**2+f**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let C;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:h*h+f*f>=25&&(C=Math.atan2(Math.abs(f),Math.abs(h))*180/Math.PI,r.isScrolling=n.isHorizontal()?C>s.touchAngle:90-C>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let p=n.isHorizontal()?h:f,g=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),i.diff=p,p*=s.touchRatio,o&&(p=-p,g=-g);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const v=n.params.loop&&!s.cssMode,b=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(v&&b&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(C)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&y!==n.touchesDirection&&v&&b&&Math.abs(p)>=1){Object.assign(i,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=p+r.startTranslate;let _=!0,S=s.resistanceRatio;if(s.touchReleaseOnEdges&&(S=0),p>0?(v&&b&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(_=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+p)**S))):p<0&&(v&&b&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(_=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-p)**S))),_&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(p)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Wze(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(C=>C.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:c,slidesGrid:l,enabled:u}=e;if(!u||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=fI(),h=d-n.touchStartTime;if(e.allowClick){const C=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(C&&C[0]||r.target,C),e.emit("tap click",r),h<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=fI(),hJ(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(o.followFinger?f=c?e.translate:-e.translate:f=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}const p=f>=-e.maxTranslate()&&!e.params.loop;let g=0,y=e.slidesSizesGrid[0];for(let C=0;C<l.length;C+=C<o.slidesPerGroupSkip?1:o.slidesPerGroup){const x=C<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof l[C+x]<"u"?(p||f>=l[C]&&f<l[C+x])&&(g=C,y=l[C+x]-l[C]):(p||f>=l[C])&&(g=C,y=l[l.length-1]-l[l.length-2])}let v=null,b=null;o.rewind&&(e.isBeginning?b=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const _=(f-l[g])/y,S=g<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(_>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?v:g+S):e.slideTo(g)),e.swipeDirection==="prev"&&(_>1-o.longSwipesRatio?e.slideTo(g+S):b!==null&&_<0&&Math.abs(_)>o.longSwipesRatio?e.slideTo(b):e.slideTo(g))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(g+S):e.slideTo(g):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:g+S),e.swipeDirection==="prev"&&e.slideTo(b!==null?b:g))}}function O9(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function Gze(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Kze(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Qze(t){const e=this;YE(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Yze(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const bJ=(t,e)=>{const n=Jp(),{params:r,el:s,wrapperEl:i,device:o}=t,a=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",l=e;!s||typeof s=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[l](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",O9,!0):t[l]("observerUpdate",O9,!0),s[c]("load",t.onLoad,{capture:!0}))};function Zze(){const t=this,{params:e}=t;t.onTouchStart=qze.bind(t),t.onTouchMove=zze.bind(t),t.onTouchEnd=Wze.bind(t),t.onDocumentTouchStart=Yze.bind(t),e.cssMode&&(t.onScroll=Kze.bind(t)),t.onClick=Gze.bind(t),t.onLoad=Qze.bind(t),bJ(t,"on")}function Jze(){bJ(this,"off")}var Xze={attachEvents:Zze,detachEvents:Jze};const D9=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function eWe(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=Jp(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),l=t.getBreakpoint(i,a,c);if(!l||t.currentBreakpoint===l)return;const d=(l in i?i[l]:void 0)||t.originalParams,h=D9(t,r),f=D9(t,d),p=t.params.grabCursor,g=d.grabCursor,y=r.enabled;h&&!f?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&f&&(s.classList.add(`${r.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!g?t.unsetGrabCursor():!p&&g&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(x=>{if(typeof d[x]>"u")return;const I=r[x]&&r[x].enabled,E=d[x]&&d[x].enabled;I&&!E&&t[x].disable(),!I&&E&&t[x].enable()});const v=d.direction&&d.direction!==r.direction,b=r.loop&&(d.slidesPerView!==r.slidesPerView||v),_=r.loop;v&&n&&t.changeDirection(),go(t.params,d);const S=t.params.enabled,C=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),y&&!S?t.disable():!y&&S&&t.enable(),t.currentBreakpoint=l,t.emit("_beforeBreakpoint",d),n&&(b?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!_&&C?(t.loopCreate(e),t.updateSlides()):_&&!C&&t.loopDestroy()),t.emit("breakpoint",d)}function tWe(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=Ri(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const c=parseFloat(a.substr(1));return{value:i*c,point:a}}return{value:a,point:a}});o.sort((a,c)=>parseInt(a.value,10)-parseInt(c.value,10));for(let a=0;a<o.length;a+=1){const{point:c,value:l}=o[a];e==="window"?s.matchMedia(`(min-width: ${l}px)`).matches&&(r=c):l<=n.clientWidth&&(r=c)}return r||"max"}var nWe={setBreakpoint:eWe,getBreakpoint:tWe};function rWe(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function sWe(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,o=rWe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function iWe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var oWe={addClasses:sWe,removeClasses:iWe};function aWe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var cWe={checkOverflow:aWe},M9={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function lWe(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){go(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){go(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),go(e,r)}}const XP={eventsEmitter:oze,update:yze,translate:Aze,transition:Sze,slide:Mze,loop:Uze,grabCursor:Vze,events:Xze,breakpoints:nWe,checkOverflow:cWe,classes:oWe},e2={};class sa{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=go({},n),e&&!n.el&&(n.el=e);const o=Jp();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const h=go({},n,{el:d});u.push(new sa(h))}),u}const a=this;a.__swiper__=!0,a.support=mJ(),a.device=gJ({userAgent:n.userAgent}),a.browser=yJ(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const c={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:lWe(n,c),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const l=go({},M9,c);return a.params=go({},l,e2,n),a.originalParams=go({},a.params),a.passedParams=go({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=Fc(n,`.${r.slideClass}, swiper-slide`),i=gI(s[0]);return gI(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Fc(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:c,activeIndex:l}=r;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let d=i[l]?Math.ceil(i[l].swiperSlideSize):0,h;for(let f=l+1;f<i.length;f+=1)i[f]&&!h&&(d+=Math.ceil(i[f].swiperSlideSize),u+=1,d>c&&(h=!0));for(let f=l-1;f>=0;f-=1)i[f]&&!h&&(d+=i[f].swiperSlideSize,u+=1,d>c&&(h=!0))}else if(e==="current")for(let d=l+1;d<i.length;d+=1)(n?o[d]+a[d]-o[l]<c:o[d]-o[l]<c)&&(u+=1);else for(let d=l-1;d>=0;d-=1)o[l]-o[d]<c&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&YE(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Fc(r,s())[0];return!o&&n.params.createElements&&(o=mI("div",n.params.wrapperClass),r.append(o),Fc(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Wd(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Wd(r,"direction")==="rtl"),wrongRTL:Wd(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?YE(n,i):i.addEventListener("load",o=>{YE(n,o.target)})}),Ak(n),n.initialized=!0,Ak(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Gqe(r)),r.destroyed=!0),null}static extendDefaults(e){go(e2,e)}static get extendedDefaults(){return e2}static get defaults(){return M9}static installModule(e){sa.prototype.__modules__||(sa.prototype.__modules__=[]);const n=sa.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>sa.installModule(n)),sa):(sa.installModule(e),sa)}}Object.keys(XP).forEach(t=>{Object.keys(XP[t]).forEach(e=>{sa.prototype[e]=XP[t][e]})});sa.use([sze,ize]);function vJ(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=Fc(t.el,`.${r[s]}`)[0];i||(i=mI("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function uWe(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(p){let g;return p&&typeof p=="string"&&e.isElement&&(g=e.el.querySelector(p)||e.hostEl.querySelector(p),g)?g:(p&&(typeof p=="string"&&(g=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&g&&g.length>1&&e.el.querySelectorAll(p).length===1?g=e.el.querySelector(p):g&&g.length===1&&(g=g[0])),p&&!g?p:g)}function o(p,g){const y=e.params.navigation;p=Es(p),p.forEach(v=>{v&&(v.classList[g?"add":"remove"](...y.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=g),e.params.watchOverflow&&e.enabled&&v.classList[e.isLocked?"add":"remove"](y.lockClass))})}function a(){const{nextEl:p,prevEl:g}=e.navigation;if(e.params.loop){o(g,!1),o(p,!1);return}o(g,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function c(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function l(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=vJ(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let g=i(p.nextEl),y=i(p.prevEl);Object.assign(e.navigation,{nextEl:g,prevEl:y}),g=Es(g),y=Es(y);const v=(b,_)=>{b&&b.addEventListener("click",_==="next"?l:c),!e.enabled&&b&&b.classList.add(...p.lockClass.split(" "))};g.forEach(b=>v(b,"next")),y.forEach(b=>v(b,"prev"))}function d(){let{nextEl:p,prevEl:g}=e.navigation;p=Es(p),g=Es(g);const y=(v,b)=>{v.removeEventListener("click",b==="next"?l:c),v.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(v=>y(v,"next")),g.forEach(v=>y(v,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?f():(u(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{d()}),r("enable disable",()=>{let{nextEl:p,prevEl:g}=e.navigation;if(p=Es(p),g=Es(g),e.enabled){a();return}[...p,...g].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),r("click",(p,g)=>{let{nextEl:y,prevEl:v}=e.navigation;y=Es(y),v=Es(v);const b=g.target;let _=v.includes(b)||y.includes(b);if(e.isElement&&!_){const S=g.path||g.composedPath&&g.composedPath();S&&(_=S.find(C=>y.includes(C)||v.includes(C)))}if(e.params.navigation.hideOnClick&&!_){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===b||e.pagination.el.contains(b)))return;let S;y.length?S=y[0].classList.contains(e.params.navigation.hiddenClass):v.length&&(S=v[0].classList.contains(e.params.navigation.hiddenClass)),s(S===!0?"navigationShow":"navigationHide"),[...y,...v].filter(C=>!!C).forEach(C=>C.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},f=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:h,disable:f,update:a,init:u,destroy:d})}function iw(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function dWe(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:b=>b,formatFractionTotal:b=>b,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function l(b,_){const{bulletActiveClass:S}=e.params.pagination;b&&(b=b[`${_==="prev"?"previous":"next"}ElementSibling`],b&&(b.classList.add(`${S}-${_}`),b=b[`${_==="prev"?"previous":"next"}ElementSibling`],b&&b.classList.add(`${S}-${_}-${_}`)))}function u(b,_,S){if(b=b%S,_=_%S,_===b+1)return"next";if(_===b-1)return"previous"}function d(b){const _=b.target.closest(iw(e.params.pagination.bulletClass));if(!_)return;b.preventDefault();const S=gI(_)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const C=u(e.realIndex,S,e.slides.length);C==="next"?e.slideNext():C==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function h(){const b=e.rtl,_=e.params.pagination;if(c())return;let S=e.pagination.el;S=Es(S);let C,x;const I=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,E=e.params.loop?Math.ceil(I/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(x=e.previousRealIndex||0,C=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(C=e.snapIndex,x=e.previousSnapIndex):(x=e.previousIndex||0,C=e.activeIndex||0),_.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const A=e.pagination.bullets;let T,k,M;if(_.dynamicBullets&&(o=Ek(A[0],e.isHorizontal()?"width":"height"),S.forEach(B=>{B.style[e.isHorizontal()?"width":"height"]=`${o*(_.dynamicMainBullets+4)}px`}),_.dynamicMainBullets>1&&x!==void 0&&(a+=C-(x||0),a>_.dynamicMainBullets-1?a=_.dynamicMainBullets-1:a<0&&(a=0)),T=Math.max(C-a,0),k=T+(Math.min(A.length,_.dynamicMainBullets)-1),M=(k+T)/2),A.forEach(B=>{const Z=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(N=>`${_.bulletActiveClass}${N}`)].map(N=>typeof N=="string"&&N.includes(" ")?N.split(" "):N).flat();B.classList.remove(...Z)}),S.length>1)A.forEach(B=>{const Z=gI(B);Z===C?B.classList.add(..._.bulletActiveClass.split(" ")):e.isElement&&B.setAttribute("part","bullet"),_.dynamicBullets&&(Z>=T&&Z<=k&&B.classList.add(...`${_.bulletActiveClass}-main`.split(" ")),Z===T&&l(B,"prev"),Z===k&&l(B,"next"))});else{const B=A[C];if(B&&B.classList.add(..._.bulletActiveClass.split(" ")),e.isElement&&A.forEach((Z,N)=>{Z.setAttribute("part",N===C?"bullet-active":"bullet")}),_.dynamicBullets){const Z=A[T],N=A[k];for(let L=T;L<=k;L+=1)A[L]&&A[L].classList.add(...`${_.bulletActiveClass}-main`.split(" "));l(Z,"prev"),l(N,"next")}}if(_.dynamicBullets){const B=Math.min(A.length,_.dynamicMainBullets+4),Z=(o*B-o)/2-M*o,N=b?"right":"left";A.forEach(L=>{L.style[e.isHorizontal()?N:"top"]=`${Z}px`})}}S.forEach((A,T)=>{if(_.type==="fraction"&&(A.querySelectorAll(iw(_.currentClass)).forEach(k=>{k.textContent=_.formatFractionCurrent(C+1)}),A.querySelectorAll(iw(_.totalClass)).forEach(k=>{k.textContent=_.formatFractionTotal(E)})),_.type==="progressbar"){let k;_.progressbarOpposite?k=e.isHorizontal()?"vertical":"horizontal":k=e.isHorizontal()?"horizontal":"vertical";const M=(C+1)/E;let B=1,Z=1;k==="horizontal"?B=M:Z=M,A.querySelectorAll(iw(_.progressbarFillClass)).forEach(N=>{N.style.transform=`translate3d(0,0,0) scaleX(${B}) scaleY(${Z})`,N.style.transitionDuration=`${e.params.speed}ms`})}_.type==="custom"&&_.renderCustom?(R9(A,_.renderCustom(e,C+1,E)),T===0&&s("paginationRender",A)):(T===0&&s("paginationRender",A),s("paginationUpdate",A)),e.params.watchOverflow&&e.enabled&&A.classList[e.isLocked?"add":"remove"](_.lockClass)})}function f(){const b=e.params.pagination;if(c())return;const _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=Es(S);let C="";if(b.type==="bullets"){let x=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&x>_&&(x=_);for(let I=0;I<x;I+=1)b.renderBullet?C+=b.renderBullet.call(e,I,b.bulletClass):C+=`<${b.bulletElement} ${e.isElement?'part="bullet"':""} class="${b.bulletClass}"></${b.bulletElement}>`}b.type==="fraction"&&(b.renderFraction?C=b.renderFraction.call(e,b.currentClass,b.totalClass):C=`<span class="${b.currentClass}"></span> / <span class="${b.totalClass}"></span>`),b.type==="progressbar"&&(b.renderProgressbar?C=b.renderProgressbar.call(e,b.progressbarFillClass):C=`<span class="${b.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(x=>{b.type!=="custom"&&R9(x,C||""),b.type==="bullets"&&e.pagination.bullets.push(...x.querySelectorAll(iw(b.bulletClass)))}),b.type!=="custom"&&s("paginationRender",S[0])}function p(){e.params.pagination=vJ(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const b=e.params.pagination;if(!b.el)return;let _;typeof b.el=="string"&&e.isElement&&(_=e.el.querySelector(b.el)),!_&&typeof b.el=="string"&&(_=[...document.querySelectorAll(b.el)]),_||(_=b.el),!(!_||_.length===0)&&(e.params.uniqueNavElements&&typeof b.el=="string"&&Array.isArray(_)&&_.length>1&&(_=[...e.el.querySelectorAll(b.el)],_.length>1&&(_=_.find(S=>pJ(S,".swiper")[0]===e.el))),Array.isArray(_)&&_.length===1&&(_=_[0]),Object.assign(e.pagination,{el:_}),_=Es(_),_.forEach(S=>{b.type==="bullets"&&b.clickable&&S.classList.add(...(b.clickableClass||"").split(" ")),S.classList.add(b.modifierClass+b.type),S.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.type==="bullets"&&b.dynamicBullets&&(S.classList.add(`${b.modifierClass}${b.type}-dynamic`),a=0,b.dynamicMainBullets<1&&(b.dynamicMainBullets=1)),b.type==="progressbar"&&b.progressbarOpposite&&S.classList.add(b.progressbarOppositeClass),b.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(b.lockClass)}))}function g(){const b=e.params.pagination;if(c())return;let _=e.pagination.el;_&&(_=Es(_),_.forEach(S=>{S.classList.remove(b.hiddenClass),S.classList.remove(b.modifierClass+b.type),S.classList.remove(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.clickable&&(S.classList.remove(...(b.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...b.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const b=e.params.pagination;let{el:_}=e.pagination;_=Es(_),_.forEach(S=>{S.classList.remove(b.horizontalClass,b.verticalClass),S.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?v():(p(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:b}=e.pagination;b&&(b=Es(b),b.forEach(_=>_.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(b,_)=>{const S=_.target,C=Es(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&C&&C.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const x=C[0].classList.contains(e.params.pagination.hiddenClass);s(x===!0?"paginationShow":"paginationHide"),C.forEach(I=>I.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=Es(b),b.forEach(_=>_.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=Es(b),b.forEach(_=>_.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:y,disable:v,render:f,update:h,init:p,destroy:g})}const hWe=Az({chains:[gg,zR],transports:{[gg.id]:rg(),[zR.id]:rg()}});function fWe(){const t=uJ(),e=xn(()=>gg.id===t.value?"0xCdA7eBb5005aaC33B6F4f32c17647698b020eFC9":"0x1C075C6053b1FC1Ee7EED91e4ebe20428bEf4E69"),n=xn(()=>gg.id===t.value?"0x8dCa51f217969A7f9ea1FA5e99d5a66152063188":"0x80B5AcE6283fAf55E8fE4FE9B15d1b2f41aFb95D"),r=xn(()=>gg.id===t.value?"":"0x755301EA7F87F70C7E2cD0C1c118F0AAFFbFdDe9");return{ppoTokenAddress:e,ppoSwapAddress:n,ppoPackageAddress:r}}function pWe(){return{exchanges:[{name:"Binance",logo:"/platform/Binance.png",url:"https://www.binance.com"},{name:"Coinbase",logo:"/platform/Coinbase.png",url:"https://www.coinbase.com"},{name:"KuCoin",logo:"/platform/KuCoin.png",url:"https://www.kucoin.com"},{name:"BlockFi",logo:"/platform/blockfi-logo.png",url:"https://www.blockfi.com"},{name:"OKX",logo:"/platform/okx-logo.png",url:"https://www.okx.com"},{name:"Coin Gecko",logo:"/platform/coingecko-logo.png",url:"https://www.coingecko.com"},{name:"Injective",logo:"/platform/injective-inj-coin-logo.png",url:"https://www.injective.com"},{name:"PancakeSwap",logo:"/platform/pancakeswap-logo.png",url:"https://www.pancakeswap.com"},{name:"SushiSwap",logo:"/platform/sushiswap-logo.png",url:"https://www.sushi.com"},{name:"Uniswap",logo:"/platform/uniswap-logo.png",url:"https://www.uniswap.org"}]}}var mWe=Object.defineProperty,L9=Object.getOwnPropertySymbols,gWe=Object.prototype.hasOwnProperty,yWe=Object.prototype.propertyIsEnumerable,B9=(t,e,n)=>e in t?mWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_J=(t,e)=>{for(var n in e||(e={}))gWe.call(e,n)&&B9(t,n,e[n]);if(L9)for(var n of L9(e))yWe.call(e,n)&&B9(t,n,e[n]);return t},fS=t=>typeof t=="function",pS=t=>typeof t=="string",EJ=t=>pS(t)&&t.trim().length>0,wWe=t=>typeof t=="number",Ff=t=>typeof t>"u",Hv=t=>typeof t=="object"&&t!==null,bWe=t=>el(t,"tag")&&EJ(t.tag),AJ=t=>window.TouchEvent&&t instanceof TouchEvent,CJ=t=>el(t,"component")&&IJ(t.component),vWe=t=>fS(t)||Hv(t),IJ=t=>!Ff(t)&&(pS(t)||vWe(t)||CJ(t)),$9=t=>Hv(t)&&["height","width","right","left","top","bottom"].every(e=>wWe(t[e])),el=(t,e)=>(Hv(t)||fS(t))&&e in t,_We=(t=>()=>t++)(0);function t2(t){return AJ(t)?t.targetTouches[0].clientX:t.clientX}function U9(t){return AJ(t)?t.targetTouches[0].clientY:t.clientY}var EWe=t=>{Ff(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove()},B_=t=>CJ(t)?B_(t.component):bWe(t)?Pu({render(){return t}}):typeof t=="string"?t:Cn(ln(t)),AWe=t=>{if(typeof t=="string")return t;const e=el(t,"props")&&Hv(t.props)?t.props:{},n=el(t,"listeners")&&Hv(t.listeners)?t.listeners:{};return{component:B_(t),props:e,listeners:n}},CWe=()=>typeof window<"u",f3=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const n=this.getHandlers(t);n.push(e),this.allHandlers[t]=n}off(t,e){const n=this.getHandlers(t);n.splice(n.indexOf(e)>>>0,1)}emit(t,e){this.getHandlers(t).forEach(r=>r(e))}},IWe=t=>["on","off","emit"].every(e=>el(t,e)&&fS(t[e])),wo;(function(t){t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t.DEFAULT="default"})(wo||(wo={}));var qv;(function(t){t.TOP_LEFT="top-left",t.TOP_CENTER="top-center",t.TOP_RIGHT="top-right",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_CENTER="bottom-center",t.BOTTOM_RIGHT="bottom-right"})(qv||(qv={}));var bo;(function(t){t.ADD="add",t.DISMISS="dismiss",t.UPDATE="update",t.CLEAR="clear",t.UPDATE_DEFAULTS="update_defaults"})(bo||(bo={}));var qa="Vue-Toastification",Ua={type:{type:String,default:wo.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},TJ={type:Ua.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},ZE={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Ua.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Ck={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},SJ={transition:{type:[Object,String],default:`${qa}__bounce`}},TWe={position:{type:String,default:qv.TOP_RIGHT},draggable:Ua.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Ua.trueBoolean,pauseOnHover:Ua.trueBoolean,closeOnClick:Ua.trueBoolean,timeout:Ck.timeout,hideProgressBar:Ck.hideProgressBar,toastClassName:Ua.classNames,bodyClassName:Ua.classNames,icon:TJ.customIcon,closeButton:ZE.component,closeButtonClassName:ZE.classNames,showCloseButtonOnHover:ZE.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new f3}},SWe={id:{type:[String,Number],required:!0,default:0},type:Ua.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},xWe={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Ua.trueBoolean,maxToasts:{type:Number,default:20},transition:SJ.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:Ua.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},fu={CORE_TOAST:TWe,TOAST:SWe,CONTAINER:xWe,PROGRESS_BAR:Ck,ICON:TJ,TRANSITION:SJ,CLOSE_BUTTON:ZE},xJ=Pu({name:"VtProgressBar",props:fu.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${qa}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function PWe(t,e){return pt(),Lt("div",{style:v0(t.style),class:Jn(t.cpClass)},null,6)}xJ.render=PWe;var RWe=xJ,PJ=Pu({name:"VtCloseButton",props:fu.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?B_(this.component):"button"},classes(){const t=[`${qa}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),NWe=Qr(" × ");function kWe(t,e){return pt(),Eo($k(t.buttonComponent),RI({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:Dr(()=>[NWe]),_:1},16,["aria-label","class"])}PJ.render=kWe;var OWe=PJ,RJ={},DWe={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},MWe=Q("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),LWe=[MWe];function BWe(t,e){return pt(),Lt("svg",DWe,LWe)}RJ.render=BWe;var $We=RJ,NJ={},UWe={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},FWe=Q("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),jWe=[FWe];function VWe(t,e){return pt(),Lt("svg",UWe,jWe)}NJ.render=VWe;var F9=NJ,kJ={},HWe={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},qWe=Q("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),zWe=[qWe];function WWe(t,e){return pt(),Lt("svg",HWe,zWe)}kJ.render=WWe;var GWe=kJ,OJ={},KWe={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},QWe=Q("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),YWe=[QWe];function ZWe(t,e){return pt(),Lt("svg",KWe,YWe)}OJ.render=ZWe;var JWe=OJ,DJ=Pu({name:"VtIcon",props:fu.ICON,computed:{customIconChildren(){return el(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return pS(this.customIcon)?this.trimValue(this.customIcon):el(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return el(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:IJ(this.customIcon)?B_(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[wo.DEFAULT]:F9,[wo.INFO]:F9,[wo.SUCCESS]:$We,[wo.ERROR]:JWe,[wo.WARNING]:GWe}[this.type]},iconClasses(){const t=[`${qa}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue(t,e=""){return EJ(t)?t.trim():e}}});function XWe(t,e){return pt(),Eo($k(t.component),{class:Jn(t.iconClasses)},{default:Dr(()=>[Qr(ii(t.customIconChildren),1)]),_:1},8,["class"])}DJ.render=XWe;var eGe=DJ,MJ=Pu({name:"VtToast",components:{ProgressBar:RWe,CloseButton:OWe,Icon:eGe},inheritAttrs:!1,props:Object.assign({},fu.CORE_TOAST,fu.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const t=[`${qa}__toast`,`${qa}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${qa}__toast--rtl`),t},bodyClasses(){return[`${qa}__toast-${pS(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return $9(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:el,getVueComponentFromObj:B_,closeToast(){this.eventBus.emit(bo.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:t2(t),y:U9(t)},this.dragStart=t2(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:t2(t),y:U9(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,$9(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),tGe=["role"];function nGe(t,e){const n=Wa("Icon"),r=Wa("CloseButton"),s=Wa("ProgressBar");return pt(),Lt("div",{class:Jn(t.classes),style:v0(t.draggableStyle),onClick:e[0]||(e[0]=(...i)=>t.clickHandler&&t.clickHandler(...i)),onMouseenter:e[1]||(e[1]=(...i)=>t.hoverPause&&t.hoverPause(...i)),onMouseleave:e[2]||(e[2]=(...i)=>t.hoverPlay&&t.hoverPlay(...i))},[t.icon?(pt(),Eo(n,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):Kd("v-if",!0),Q("div",{role:t.accessibility.toastRole||"alert",class:Jn(t.bodyClasses)},[typeof t.content=="string"?(pt(),Lt(Pr,{key:0},[Qr(ii(t.content),1)],2112)):(pt(),Eo($k(t.getVueComponentFromObj(t.content)),RI({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},gte(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,tGe),t.closeButton?(pt(),Eo(r,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:f7(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Kd("v-if",!0),t.timeout?(pt(),Eo(s,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Kd("v-if",!0)],38)}MJ.render=nGe;var rGe=MJ,LJ=Pu({name:"VtTransition",props:fu.TRANSITION,emits:["leave"],methods:{hasProp:el,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});function sGe(t,e){return pt(),Eo(Tne,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:Dr(()=>[mte(t.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}LJ.render=sGe;var iGe=LJ,BJ=Pu({name:"VueToastification",devtools:{hide:!0},components:{Toast:rGe,VtTransition:iGe},props:Object.assign({},fu.CORE_TOAST,fu.CONTAINER,fu.TRANSITION),data(){return{count:0,positions:Object.values(qv),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(bo.ADD,this.addToast),t.on(bo.CLEAR,this.clearToasts),t.on(bo.DISMISS,this.dismissToast),t.on(bo.UPDATE,this.updateToast),t.on(bo.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){fS(t)&&(t=await t()),EWe(this.$el),t.appendChild(this.$el)},setToast(t){Ff(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=AWe(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),n=this.defaults.filterBeforeCreate(e,this.toastArray);n&&this.setToast(n)},dismissToast(t){const e=this.toasts[t];!Ff(e)&&!Ff(e.onClose)&&e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach(t=>{this.dismissToast(t)})},getPositionToasts(t){const e=this.filteredToasts.filter(n=>n.position===t).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){Ff(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:n}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):n&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){return[`${qa}__container`,t].concat(this.defaults.containerClassName)}}});function oGe(t,e){const n=Wa("Toast"),r=Wa("VtTransition");return pt(),Lt("div",null,[(pt(!0),Lt(Pr,null,Cf(t.positions,s=>(pt(),Lt("div",{key:s},[Xt(r,{transition:t.defaults.transition,class:Jn(t.getClasses(s))},{default:Dr(()=>[(pt(!0),Lt(Pr,null,Cf(t.getPositionToasts(s),i=>(pt(),Eo(n,RI({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}BJ.render=oGe;var aGe=BJ,j9=(t={},e=!0)=>{const n=t.eventBus=t.eventBus||new f3;e&&Kv(()=>{const i=p7(aGe,_J({},t)),o=i.mount(document.createElement("div")),a=t.onMounted;if(Ff(a)||a(o,i),t.shareAppContext){const c=t.shareAppContext;c===!0?console.warn(`[${qa}] App to share context with was not provided.`):(i._context.components=c._context.components,i._context.directives=c._context.directives,i._context.mixins=c._context.mixins,i._context.provides=c._context.provides,i.config.globalProperties=c.config.globalProperties)}});const r=(i,o)=>{const a=Object.assign({},{id:_We(),type:wo.DEFAULT},o,{content:i});return n.emit(bo.ADD,a),a.id};r.clear=()=>n.emit(bo.CLEAR,void 0),r.updateDefaults=i=>{n.emit(bo.UPDATE_DEFAULTS,i)},r.dismiss=i=>{n.emit(bo.DISMISS,i)};function s(i,{content:o,options:a},c=!1){const l=Object.assign({},a,{content:o});n.emit(bo.UPDATE,{id:i,options:l,create:c})}return r.update=s,r.success=(i,o)=>r(i,Object.assign({},o,{type:wo.SUCCESS})),r.info=(i,o)=>r(i,Object.assign({},o,{type:wo.INFO})),r.error=(i,o)=>r(i,Object.assign({},o,{type:wo.ERROR})),r.warning=(i,o)=>r(i,Object.assign({},o,{type:wo.WARNING})),r},cGe=()=>{const t=()=>console.warn(`[${qa}] This plugin does not support SSR!`);return new Proxy(t,{get(){return t}})};function $J(t){return CWe()?IWe(t)?j9({eventBus:t},!1):j9(t,!0):cGe()}var UJ=Symbol("VueToastification"),FJ=new f3,lGe=(t,e)=>{e?.shareAppContext===!0&&(e.shareAppContext=t);const n=$J(_J({eventBus:FJ},e));t.provide(UJ,n)},uGe=t=>{const e=Yv()?Io(UJ,void 0):void 0;return e||$J(FJ)},dGe=lGe;const hGe={class:"home"},fGe={class:"hero-section"},pGe={class:"container"},mGe={class:"row align-items-center min-vh-100"},gGe={class:"col-lg-6 col-md-12"},yGe={class:"hero-content"},wGe={class:"hero-actions"},bGe={id:"daily-tasks",class:"daily-tasks-section"},vGe={class:"container"},_Ge={class:"row g-4"},EGe={class:"col-lg-6 col-md-12"},AGe={class:"tasks-card"},CGe={class:"card-body"},IGe={class:"task-list"},TGe={class:"modern-task-item"},SGe=["disabled"],xGe={key:0,class:"fas fa-check-circle"},PGe={key:1,class:"fas fa-calendar-check"},RGe={class:"modern-task-item"},NGe=["disabled"],kGe={key:0,class:"fas fa-check-circle"},OGe={key:1,class:"fas fa-users"},DGe={class:"modern-task-item"},MGe=["disabled"],LGe={key:0,class:"fas fa-check-circle"},BGe={key:1,class:"fas fa-user-plus"},$Ge={class:"modern-task-item special"},UGe=["disabled"],FGe={key:0,class:"fas fa-check-circle"},jGe={key:1,class:"fas fa-share"},VGe={class:"claim-section"},HGe={class:"rewards-summary"},qGe={class:"rewards-content"},zGe={class:"rewards-amount"},WGe=["disabled"],GGe={class:"col-lg-6 col-md-12"},KGe={class:"stats-card"},QGe={class:"card-body"},YGe={class:"stats-grid"},ZGe={class:"stat-item"},JGe={class:"stat-content"},XGe={class:"stat-value"},eKe={class:"stat-item"},tKe={class:"stat-content"},nKe={class:"stat-value"},rKe={key:0,class:"referral-section"},sKe={class:"referral-code"},iKe={class:"code-input"},oKe=["value"],aKe={class:"referral-link"},cKe={class:"code-input"},lKe=["value"],uKe={class:"referral-progress"},dKe={class:"progress-info"},hKe={class:"current-refs"},fKe={class:"progress-bar"},pKe={key:1,class:"referral-section wallet-required"},mKe={class:"referral-connect"},gKe={class:"games-section"},yKe={class:"container"},wKe={class:"games-grid"},bKe={class:"game-card"},vKe={class:"game-content"},_Ke={class:"game-card"},EKe={class:"game-content"},AKe={id:"association-with",class:"padding-large pt-5 pattern-blur"},CKe={class:"container"},IKe={class:"grid grid-cols-5 gap-4"},TKe=["src","alt"],SKe={class:"toast-content"},xKe={__name:"Home",setup(t){Bz();const{chainId:e,address:n,isConnected:r}=GZ();BHe();const{exchanges:s}=pWe(),{currentUser:i,getUserData:o,generateReferralLink:a}=e3(),{tasks:c,userBalance:l,completeTask:u}=WVe(),{success:d,error:h,warning:f,info:p}=uGe(),{ppoTokenAddress:g}=fWe();Ct(!1),Ct(!1),Ct(null),Ct("");const y=Ct(!1),v=Ct(""),b=Ct("success"),_=MHe({chainId:e.value,address:n.value,token:g.value}),S=xn(()=>{const H=_.data.value;return new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2}).format(H?.formatted||0)});Ct("");const C=Ct(""),x=Ct(""),I=Ct(0),E=Ct("0"),A=Ct(0);Ct("Welcome to TOKENPPO"),Ct("The Future of Digital Assets and Gaming"),Ct("Discover, collect, and trade unique NFTs in our revolutionary gaming ecosystem. Join thousands of players worldwide in the ultimate digital asset experience."),Ct([{id:1,icon:"fas fa-shield-alt",title:"Secure Trading",description:"Advanced blockchain security ensures safe transactions"},{id:2,icon:"fas fa-rocket",title:"Fast Transactions",description:"Lightning-fast blockchain technology for instant trades"},{id:3,icon:"fas fa-chart-line",title:"Market Analytics",description:"Real-time market data and trading insights"},{id:4,icon:"fas fa-users",title:"Community Driven",description:"Join our growing community of traders and gamers"}]),Ct([{id:1,name:"Alex Chen",avatar:"/src/assets/images/creator1.jpg",link:"/creator/alex-chen",followers:"12.5K",totalSales:"2.4K PPO"},{id:2,name:"Sarah Kim",avatar:"/src/assets/images/creator2.jpg",link:"/creator/sarah-kim",followers:"8.9K",totalSales:"1.8K PPO"},{id:3,name:"Mike Johnson",avatar:"/src/assets/images/creator3.jpg",link:"/creator/mike-johnson",followers:"15.2K",totalSales:"3.1K PPO"},{id:4,name:"Emma Wilson",avatar:"/src/assets/images/creator4.jpg",link:"/creator/emma-wilson",followers:"9.7K",totalSales:"2.0K PPO"}]),Ct([{id:1,name:"Pixel Warriors",image:"/src/assets/images/collection1.jpg",link:"/collection/pixel-warriors",items:"10,000",floorPrice:"500 PPO"},{id:2,name:"Cyber Punks",image:"/src/assets/images/collection2.jpg",link:"/collection/cyber-punks",items:"8,888",floorPrice:"800 PPO"},{id:3,name:"Space Explorers",image:"/src/assets/images/collection3.jpg",link:"/collection/space-explorers",items:"12,500",floorPrice:"300 PPO"},{id:4,name:"Fantasy Creatures",image:"/src/assets/images/collection4.jpg",link:"/collection/fantasy-creatures",items:"15,000",floorPrice:"600 PPO"}]),Ct([{id:1,title:"Legendary Dragon",image:"/src/assets/images/nft1.jpg",rarity:"SSS",rarityClass:"bg-danger",price:"15,500",usdPrice:"31,000",roi:"+45%",creator:"Alex Chen",description:"Rare legendary dragon with fire breathing abilities",stats:{attack:95,defense:88,speed:92}},{id:2,title:"Epic Sword",image:"/src/assets/images/nft2.jpg",rarity:"SS",rarityClass:"bg-warning",price:"8,200",usdPrice:"16,400",roi:"+32%",creator:"Sarah Kim",description:"Epic weapon with unique enchantments",stats:{attack:88,defense:75,speed:85}},{id:3,title:"Rare Mount",image:"/src/assets/images/nft4.jpg",rarity:"S",rarityClass:"bg-success",price:"4,100",usdPrice:"8,200",roi:"+18%",creator:"Mike Johnson",description:"Rare mount with special movement abilities",stats:{attack:65,defense:70,speed:95}},{id:4,title:"Mythical Armor",image:"/src/assets/images/nft3.jpg",rarity:"SSS",rarityClass:"bg-danger",price:"22,800",usdPrice:"45,600",roi:"+67%",creator:"Emma Wilson",description:"Mythical armor with legendary protection",stats:{attack:45,defense:98,speed:60}}]),Ct([{id:1,title:"Warrior Character",image:"/src/assets/images/nft-item1.jpg",rarity:"SSS",rarityClass:"bg-danger",price:"12,500",usdPrice:"25,000",creator:"Alex Chen",description:"Powerful warrior character with unique abilities",stats:{level:85,experience:"2.5M",skills:12}},{id:2,title:"Magic Staff",image:"/src/assets/images/nft-item2.jpg",rarity:"SS",rarityClass:"bg-warning",price:"7,800",usdPrice:"15,600",creator:"Sarah Kim",description:"Enchanted staff with powerful magic spells",stats:{magic:92,durability:85,enchantments:8}},{id:3,title:"Stealth Cloak",image:"/src/assets/images/nft-item3.jpg",rarity:"S",rarityClass:"bg-success",price:"3,200",usdPrice:"6,400",creator:"Mike Johnson",description:"Invisibility cloak with stealth bonuses",stats:{stealth:95,defense:60,agility:88}},{id:4,title:"Ancient Relic",image:"/src/assets/images/nft-item4.jpg",rarity:"SSS",rarityClass:"bg-danger",price:"18,900",usdPrice:"37,800",creator:"Emma Wilson",description:"Ancient relic with mysterious powers",stats:{power:98,rarity:100,mystery:95}}]),xn(()=>r.value?[{id:1,title:"My Dragon",image:"/src/assets/images/nft1.jpg",rarity:"SSS",rarityClass:"bg-danger",description:"My personal legendary dragon companion",acquiredDate:"2024-01-15",currentValue:"18,450"},{id:2,title:"My Sword",image:"/src/assets/images/nft2.jpg",rarity:"SSS",rarityClass:"bg-warning",description:"Epic weapon with unique enchantments",acquiredDate:"2024-02-20",currentValue:"8,750"},{id:3,title:"My Mount",image:"/src/assets/images/nft4.jpg",rarity:"★★★★★",rarityClass:"bg-success",description:"Rare mount with special movement abilities",acquiredDate:"2024-03-10",currentValue:"4,200"}]:[]),Ct([{id:1,title:"Best NFTs arts collections from best artists",category:"Art",image:"/src/assets/images/nft-item1.jpg",link:"/blog/1"},{id:2,title:"Best NFTs arts collections from best artists",category:"Design",image:"/src/assets/images/nft-item2.jpg",link:"/blog/2"},{id:3,title:"Best NFTs arts collections from best artists",category:"NFTs",image:"/src/assets/images/nft-item3.jpg",link:"/blog/3"},{id:4,title:"Best NFTs arts collections from best artists",category:"Arts",image:"/src/assets/images/nft-item4.jpg",link:"/blog/4"}]);const T=(H,F="success")=>{v.value=H,b.value=F,y.value=!0,setTimeout(()=>{y.value=!1},3e3)},k=()=>{y.value=!1},M=async()=>{try{await navigator.clipboard.writeText(x.value),T("Referral link copied to clipboard!","success")}catch(H){console.error("Failed to copy referral link:",H),T("Failed to copy referral link","error")}},B=async()=>{try{await navigator.clipboard.writeText(C.value),T("Referral code copied to clipboard!","success")}catch(H){console.error("Failed to copy referral code:",H),T("Failed to copy referral code","error")}},Z=H=>H>=45?"3":H>=35?"2":H>=15?"1":"0",N=async()=>{if(r.value&&i.value)try{const H=await o();if(H.success){const F=H.data;console.log("User data loaded:",F),F&&F.referralCode?(C.value=F.referralCode,x.value=a(F.referralCode),I.value=F.referralCount||0,E.value=Z(I.value),A.value=F.totalEarned||0):(C.value="",x.value="",I.value=0,E.value="0",A.value=0)}else console.error("Failed to load user data:",H.error),C.value="",x.value="",I.value=0,E.value="0",A.value=0}catch(H){console.error("Error initializing referral:",H),C.value="",x.value="",I.value=0,E.value="0",A.value=0}};Lp(()=>{new sa(".product-swiper",{modules:[uWe,dWe],slidesPerView:1,spaceBetween:30,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}}}),N()});const L=async H=>{try{if(!r.value){h("Please connect your wallet and sign in first!");return}const F=await u(H);F.success?(A.value=F.newBalance,d("Task completed!"),F.newBalance!==void 0&&(l.value=F.newBalance)):h(`Failed to complete task: ${F.error}`)}catch(F){console.error("Error claiming task reward:",F),h("Failed to claim task reward")}};return vo(i,()=>{N()}),vo(r,H=>{H?N():(C.value="",x.value="",I.value=0)}),(H,F)=>{const J=Wa("Toast"),ee=Wa("router-link");return pt(),Lt("div",hGe,[Xt(pqe),Xt(J),Q("section",fGe,[F[8]||(F[8]=_c('<div class="hero-background" data-v-0c8dd71b><div class="floating-elements" data-v-0c8dd71b><div class="floating-icon floating-icon-1" data-v-0c8dd71b><i class="fas fa-gamepad" data-v-0c8dd71b></i></div><div class="floating-icon floating-icon-2" data-v-0c8dd71b><i class="fas fa-coins" data-v-0c8dd71b></i></div><div class="floating-icon floating-icon-3" data-v-0c8dd71b><i class="fab fa-ethereum" data-v-0c8dd71b></i></div><div class="floating-icon floating-icon-4" data-v-0c8dd71b><i class="fas fa-trophy" data-v-0c8dd71b></i></div></div></div>',1)),Q("div",pGe,[Q("div",mGe,[Q("div",gGe,[Q("div",yGe,[F[6]||(F[6]=_c('<div class="hero-badge" data-v-0c8dd71b><i class="fas fa-rocket me-2" data-v-0c8dd71b></i><span data-v-0c8dd71b>Play-to-Earn Gaming Platform</span></div><h1 class="hero-title" data-v-0c8dd71b><span class="gradient-text" data-v-0c8dd71b>PixelPayot</span><br data-v-0c8dd71b><span class="typewriter" data-v-0c8dd71b>Modern GameFi</span><br data-v-0c8dd71b><span class="highlight-text" data-v-0c8dd71b>Experience</span></h1><p class="hero-description" data-v-0c8dd71b> Dive into the ultimate play-to-earn gaming ecosystem where every shot counts, every victory rewards you, and every moment brings you closer to legendary status. </p><div class="hero-stats" data-v-0c8dd71b><div class="stat-card" data-v-0c8dd71b><div class="stat-icon" data-v-0c8dd71b><svg width="32px" height="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-0c8dd71b><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-0c8dd71b></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-0c8dd71b></g><g id="SVGRepo_iconCarrier" data-v-0c8dd71b><path d="M20 18L17 18M17 18L14 18M17 18V15M17 18V21M11 21H4C4 17.134 7.13401 14 11 14C11.695 14 12.3663 14.1013 13 14.2899M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7Z" stroke="#fb00ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0c8dd71b></path></g></svg></div><div class="stat-content" data-v-0c8dd71b><h4 data-v-0c8dd71b>10K+</h4><span data-v-0c8dd71b>Active Players</span></div></div><div class="stat-card" data-v-0c8dd71b><div class="stat-icon" data-v-0c8dd71b><svg width="32px" height="32px" viewBox="-2 0 20 20" xmlns="http://www.w3.org/2000/svg" fill="#000000" data-v-0c8dd71b><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-0c8dd71b></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-0c8dd71b></g><g id="SVGRepo_iconCarrier" data-v-0c8dd71b><g id="reward-4" transform="translate(-4 -2)" data-v-0c8dd71b><path id="secondary" fill="#fb00ff" d="M12,3a7,7,0,1,0,7,7,7,7,0,0,0-7-7Zm1.24,8.75L12,11.15l-1.24.6L11,10.48l-1-.89,1.38-.19L12,8.25l.62,1.15L14,9.59l-1,.89Z" data-v-0c8dd71b></path><path id="primary" d="M16.11,15.66,17,21l-5-1L7,21l.89-5.34" fill="none" stroke="#ffffff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-v-0c8dd71b></path><path id="primary-2" data-name="primary" d="M12.62,9.4,14,9.59l-1,.89.24,1.27L12,11.15l-1.24.6L11,10.48l-1-.89,1.38-.19L12,8.25ZM12,3a7,7,0,1,0,7,7,7,7,0,0,0-7-7Z" fill="none" stroke="#ffffff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-v-0c8dd71b></path></g></g></svg></div><div class="stat-content" data-v-0c8dd71b><h4 data-v-0c8dd71b>$1.5M</h4><span data-v-0c8dd71b>Total Rewards</span></div></div><div class="stat-card" data-v-0c8dd71b><div class="stat-icon" data-v-0c8dd71b><svg width="32px" height="32px" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-0c8dd71b><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-0c8dd71b></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-0c8dd71b></g><g id="SVGRepo_iconCarrier" data-v-0c8dd71b><rect width="48" height="48" fill="white" fill-opacity="0.01" data-v-0c8dd71b></rect><path d="M24 4L29.2533 7.83204L35.7557 7.81966L37.7533 14.0077L43.0211 17.8197L41 24L43.0211 30.1803L37.7533 33.9923L35.7557 40.1803L29.2533 40.168L24 44L18.7467 40.168L12.2443 40.1803L10.2467 33.9923L4.97887 30.1803L7 24L4.97887 17.8197L10.2467 14.0077L12.2443 7.81966L18.7467 7.83204L24 4Z" fill="#fb00ff" stroke="#ffffff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" data-v-0c8dd71b></path><path d="M17 24L22 29L32 19" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" data-v-0c8dd71b></path></g></svg></div><div class="stat-content" data-v-0c8dd71b><h4 data-v-0c8dd71b>95%</h4><span data-v-0c8dd71b>Success Rate</span></div></div></div>',4)),Q("div",wGe,[Xt(ee,{to:"/arrow-game",class:"btn btn-hero-primary"},{default:Dr(()=>[...F[4]||(F[4]=[Q("i",{class:"fas fa-crosshairs me-2"},null,-1),Qr(" Play Archery ",-1)])]),_:1}),Xt(ee,{to:"/arrow-game-modern",class:"btn btn-hero-secondary"},{default:Dr(()=>[...F[5]||(F[5]=[Q("i",{class:"fas fa-gamepad me-2"},null,-1),Qr(" Modern Archery ",-1)])]),_:1})])])]),F[7]||(F[7]=_c('<div class="col-lg-6 col-md-12" data-v-0c8dd71b><div class="hero-visual" data-v-0c8dd71b><div class="hero-image-container" data-v-0c8dd71b><img src="'+ZPe+'" alt="PixelPayot Gaming" class="hero-image" data-v-0c8dd71b><div class="floating-cards" data-v-0c8dd71b><div class="game-card card-1" data-v-0c8dd71b><i class="fas fa-trophy" data-v-0c8dd71b></i><span data-v-0c8dd71b>Win Rewards</span></div><div class="game-card card-2" data-v-0c8dd71b><i class="fas fa-chart-line" data-v-0c8dd71b></i><span data-v-0c8dd71b>Earn PPO</span></div><div class="game-card card-3" data-v-0c8dd71b><i class="fas fa-users" data-v-0c8dd71b></i><span data-v-0c8dd71b>Join Community</span></div></div></div></div></div>',1))])])]),Q("section",bGe,[Q("div",vGe,[F[33]||(F[33]=_c('<div class="section-header text-center mb-5" data-v-0c8dd71b><div class="section-badge" data-v-0c8dd71b><i class="fas fa-tasks me-2" data-v-0c8dd71b></i><span data-v-0c8dd71b>Daily Missions</span></div><h2 class="section-title" data-v-0c8dd71b>Complete Tasks &amp; Earn Rewards</h2><p class="section-description" data-v-0c8dd71b> Join thousands of players earning $PPO tokens daily through engaging missions </p></div>',1)),Q("div",_Ge,[Q("div",EGe,[Q("div",AGe,[F[20]||(F[20]=_c('<div class="card-header" data-v-0c8dd71b><div class="header-icon" data-v-0c8dd71b><svg width="32px" height="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-0c8dd71b><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-0c8dd71b></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-0c8dd71b></g><g id="SVGRepo_iconCarrier" data-v-0c8dd71b><path d="M16.19 2H7.81C4.17 2 2 4.17 2 7.81V16.19C2 19.83 4.17 22 7.81 22H16.19C19.83 22 22 19.83 22 16.19V7.81C22 4.17 19.83 2 16.19 2ZM9.97 14.9L7.72 17.15C7.57 17.3 7.38 17.37 7.19 17.37C7 17.37 6.8 17.3 6.66 17.15L5.91 16.4C5.61 16.11 5.61 15.63 5.91 15.34C6.2 15.05 6.67 15.05 6.97 15.34L7.19 15.56L8.91 13.84C9.2 13.55 9.67 13.55 9.97 13.84C10.26 14.13 10.26 14.61 9.97 14.9ZM9.97 7.9L7.72 10.15C7.57 10.3 7.38 10.37 7.19 10.37C7 10.37 6.8 10.3 6.66 10.15L5.91 9.4C5.61 9.11 5.61 8.63 5.91 8.34C6.2 8.05 6.67 8.05 6.97 8.34L7.19 8.56L8.91 6.84C9.2 6.55 9.67 6.55 9.97 6.84C10.26 7.13 10.26 7.61 9.97 7.9ZM17.56 16.62H12.31C11.9 16.62 11.56 16.28 11.56 15.87C11.56 15.46 11.9 15.12 12.31 15.12H17.56C17.98 15.12 18.31 15.46 18.31 15.87C18.31 16.28 17.98 16.62 17.56 16.62ZM17.56 9.62H12.31C11.9 9.62 11.56 9.28 11.56 8.87C11.56 8.46 11.9 8.12 12.31 8.12H17.56C17.98 8.12 18.31 8.46 18.31 8.87C18.31 9.28 17.98 9.62 17.56 9.62Z" fill="#fb00ff" data-v-0c8dd71b></path></g></svg></div><div class="header-content" data-v-0c8dd71b><h3 data-v-0c8dd71b>Daily Tasks</h3><p data-v-0c8dd71b>Complete tasks to earn $PPO tokens</p></div><div class="progress-indicator" data-v-0c8dd71b><span class="progress-text" data-v-0c8dd71b>1/6</span></div></div>',1)),Q("div",CGe,[Q("div",IGe,[Q("div",TGe,[F[9]||(F[9]=Q("div",{class:"task-icon"},[Q("i",{class:"fas fa-calendar-check"})],-1)),F[10]||(F[10]=Q("div",{class:"task-content"},[Q("h5",null,"Daily Check-in")],-1)),Q("button",{class:Jn(["btn btn-task",{completed:ln(c).find(W=>W.id==="checkIn")?.completed}]),onClick:F[0]||(F[0]=W=>L("checkIn")),disabled:!ln(r)||ln(c).find(W=>W.id==="checkIn")?.completed},[ln(c).find(W=>W.id==="checkIn")?.completed?(pt(),Lt("i",xGe)):(pt(),Lt("i",PGe))],10,SGe)]),Q("div",RGe,[F[11]||(F[11]=Q("div",{class:"task-icon"},[Q("i",{class:"fab fa-telegram"})],-1)),F[12]||(F[12]=Q("div",{class:"task-content"},[Q("h5",null,"Join Telegram Group")],-1)),Q("button",{class:Jn(["btn btn-task",{completed:ln(c).find(W=>W.id==="joinTelegram")?.completed}]),onClick:F[1]||(F[1]=W=>L("joinTelegram")),disabled:!ln(r)||ln(c).find(W=>W.id==="joinTelegram")?.completed},[ln(c).find(W=>W.id==="joinTelegram")?.completed?(pt(),Lt("i",kGe)):(pt(),Lt("i",OGe))],10,NGe)]),Q("div",DGe,[F[13]||(F[13]=Q("div",{class:"task-icon"},[Q("i",{class:"fab fa-twitter"})],-1)),F[14]||(F[14]=Q("div",{class:"task-content"},[Q("h5",null,"Follow on X")],-1)),Q("button",{class:Jn(["btn btn-task",{completed:ln(c).find(W=>W.id==="joinX")?.completed}]),onClick:F[2]||(F[2]=W=>L("joinX")),disabled:!ln(r)||ln(c).find(W=>W.id==="joinX")?.completed},[ln(c).find(W=>W.id==="joinX")?.completed?(pt(),Lt("i",LGe)):(pt(),Lt("i",BGe))],10,MGe)]),Q("div",$Ge,[F[15]||(F[15]=Q("div",{class:"task-icon"},[Q("i",{class:"fas fa-share-alt"})],-1)),F[16]||(F[16]=Q("div",{class:"task-content"},[Q("h5",null,"Share & Earn"),Q("small",{class:"task-note"},"Share about PixelPayot")],-1)),Q("button",{class:Jn(["btn btn-task",{completed:ln(c).find(W=>W.id==="joinYoutube")?.completed}]),onClick:F[3]||(F[3]=W=>L("joinYoutube")),disabled:!ln(r)||ln(c).find(W=>W.id==="joinYoutube")?.completed},[ln(c).find(W=>W.id==="joinYoutube")?.completed?(pt(),Lt("i",FGe)):(pt(),Lt("i",jGe))],10,UGe)])]),Q("div",VGe,[Q("div",HGe,[F[19]||(F[19]=Q("div",{class:"rewards-icon"},[Q("i",{class:"fas fa-gift"})],-1)),Q("div",qGe,[F[17]||(F[17]=Q("h4",null,"Available Rewards",-1)),Q("span",zGe,ii(A.value)+" PPO",1)]),Q("button",{class:"btn btn-claim-rewards",disabled:A.value<200},[...F[18]||(F[18]=[Q("i",{class:"fas fa-download"},null,-1),Qr(" Claim ",-1)])],8,WGe)])])])])]),Q("div",GGe,[Q("div",KGe,[F[32]||(F[32]=_c('<div class="card-header" data-v-0c8dd71b><div class="header-icon" data-v-0c8dd71b><i class="fas fa-chart-line" data-v-0c8dd71b></i></div><div class="header-content" data-v-0c8dd71b><h3 data-v-0c8dd71b>Your Statistics</h3><p data-v-0c8dd71b>Track your progress and earnings</p></div><div class="level-badge" data-v-0c8dd71b><span class="level-text" data-v-0c8dd71b>Level 0</span></div></div>',1)),Q("div",QGe,[Q("div",YGe,[Q("div",ZGe,[F[22]||(F[22]=Q("div",{class:"stat-icon wallet"},[Q("i",{class:"fas fa-wallet"})],-1)),Q("div",JGe,[Q("span",XGe,ii(S.value),1),F[21]||(F[21]=Q("span",{class:"stat-label"},"PPO Balance",-1))])]),Q("div",eKe,[F[24]||(F[24]=Q("div",{class:"stat-icon referral"},[Q("i",{class:"fas fa-users"})],-1)),Q("div",tKe,[Q("span",nKe,ii(E.value),1),F[23]||(F[23]=Q("span",{class:"stat-label"},"Referrals",-1))])])]),ln(r)?(pt(),Lt("div",rKe,[F[30]||(F[30]=Q("div",{class:"referral-header"},[Q("div",{class:"referral-icon"},[Q("i",{class:"fas fa-user-friends"})]),Q("div",{class:"referral-content"},[Q("h4",null,"Invite Friends"),Q("p",null,"Earn 5 PPO for each referral")])],-1)),Q("div",sKe,[F[26]||(F[26]=Q("label",null,"Your Referral Code",-1)),Q("div",iKe,[Q("input",{type:"text",class:"form-control",value:C.value,readonly:"",placeholder:"Your referral code will appear here"},null,8,oKe),Q("button",{class:"btn btn-copy",onClick:B},[...F[25]||(F[25]=[Q("i",{class:"fas fa-copy"},null,-1)])])])]),Q("div",aKe,[F[28]||(F[28]=Q("label",null,"Your Referral Link",-1)),Q("div",cKe,[Q("input",{type:"text",class:"form-control",value:x.value,readonly:"",placeholder:"Your referral link will appear here"},null,8,lKe),Q("button",{class:"btn btn-copy",onClick:M},[...F[27]||(F[27]=[Q("i",{class:"fas fa-copy"},null,-1)])])])]),Q("div",uKe,[Q("div",dKe,[Q("span",hKe,ii(I.value)+" Referrals",1),F[29]||(F[29]=Q("span",{class:"next-level"},"15 needed for Level F1",-1))]),Q("div",fKe,[Q("div",{class:"progress-fill",style:v0({width:Math.min(I.value/15*100,100)+"%"})},null,4)])])])):(pt(),Lt("div",pKe,[F[31]||(F[31]=Q("div",{class:"referral-header"},[Q("div",{class:"referral-icon"},[Q("i",{class:"fas fa-user-friends"})]),Q("div",{class:"referral-content"},[Q("h4",null,"Invite Friends"),Q("p",null," Connect your wallet to get your referral link and start earning PPO! ")])],-1)),Q("div",mKe,[Xt(_k)])]))])])])])])]),Q("section",gKe,[Q("div",yKe,[F[46]||(F[46]=_c('<div class="section-header text-center mb-5" data-v-0c8dd71b><div class="section-badge" data-v-0c8dd71b><i class="fas fa-gamepad me-2" data-v-0c8dd71b></i><span data-v-0c8dd71b>Play &amp; Earn Games</span></div><h2 class="section-title" data-v-0c8dd71b>Choose Your Adventure</h2><p class="section-description" data-v-0c8dd71b> Play exciting games and earn PPO tokens while having fun </p></div>',1)),Q("div",wKe,[Q("div",bKe,[F[38]||(F[38]=Q("div",{class:"game-icon"},[Q("i",{class:"fas fa-crosshairs"})],-1)),Q("div",vKe,[F[35]||(F[35]=Q("h3",null,"PPO Archery",-1)),F[36]||(F[36]=Q("p",null," Test your aim and precision in this classic archery game. Hit targets to earn PPO tokens! ",-1)),F[37]||(F[37]=Q("div",{class:"game-features"},[Q("span",{class:"feature"},"🎯 Precision Aiming"),Q("span",{class:"feature"},"💰 Earn PPO Tokens"),Q("span",{class:"feature"},"🏆 Leaderboards")],-1)),Xt(ee,{to:"/arrow-game",class:"btn btn-game"},{default:Dr(()=>[...F[34]||(F[34]=[Q("i",{class:"fas fa-play me-2"},null,-1),Qr(" Play Now ",-1)])]),_:1})]),F[39]||(F[39]=Q("div",{class:"game-glow"},null,-1))]),Q("div",_Ke,[F[44]||(F[44]=Q("div",{class:"game-icon"},[Q("i",{class:"fas fa-gamepad"})],-1)),Q("div",EKe,[F[41]||(F[41]=Q("h3",null,"Modern Archery",-1)),F[42]||(F[42]=Q("p",null," Experience the next generation of archery with enhanced graphics and gameplay mechanics. ",-1)),F[43]||(F[43]=Q("div",{class:"game-features"},[Q("span",{class:"feature"},"🎨 Modern Graphics"),Q("span",{class:"feature"},"⚡ Enhanced Gameplay"),Q("span",{class:"feature"},"🎮 Mobile Optimized")],-1)),Xt(ee,{to:"/arrow-game-modern",class:"btn btn-game"},{default:Dr(()=>[...F[40]||(F[40]=[Q("i",{class:"fas fa-play me-2"},null,-1),Qr(" Play Now ",-1)])]),_:1})]),F[45]||(F[45]=Q("div",{class:"game-glow"},null,-1))])])])]),F[49]||(F[49]=_c('<section class="features-section" data-v-0c8dd71b><div class="container" data-v-0c8dd71b><div class="section-header text-center mb-5" data-v-0c8dd71b><div class="section-badge" data-v-0c8dd71b><i class="fas fa-star me-2" data-v-0c8dd71b></i><span data-v-0c8dd71b>Platform Features</span></div><h2 class="section-title" data-v-0c8dd71b>Experience Next-Gen Gaming</h2><p class="section-description" data-v-0c8dd71b> Discover powerful features that make PixelPayot the ultimate GameFi destination </p></div><div class="features-grid" data-v-0c8dd71b><div class="feature-card" data-v-0c8dd71b><div class="feature-icon" data-v-0c8dd71b><i class="fas fa-bolt" data-v-0c8dd71b></i></div><div class="feature-content" data-v-0c8dd71b><h3 data-v-0c8dd71b>Lightning Fast</h3><p data-v-0c8dd71b> Experience instant transactions with our optimized blockchain integration </p><div class="feature-stats" data-v-0c8dd71b><span class="stat" data-v-0c8dd71b>0.1s</span><span class="stat-label" data-v-0c8dd71b>Transaction Time</span></div></div><div class="feature-glow" data-v-0c8dd71b></div></div><div class="feature-card" data-v-0c8dd71b><div class="feature-icon" data-v-0c8dd71b><i class="fas fa-shield-alt" data-v-0c8dd71b></i></div><div class="feature-content" data-v-0c8dd71b><h3 data-v-0c8dd71b>Secure &amp; Safe</h3><p data-v-0c8dd71b>Bank-grade security with multi-signature wallet protection</p><div class="feature-stats" data-v-0c8dd71b><span class="stat" data-v-0c8dd71b>99.9%</span><span class="stat-label" data-v-0c8dd71b>Uptime</span></div></div><div class="feature-glow" data-v-0c8dd71b></div></div><div class="feature-card" data-v-0c8dd71b><div class="feature-icon" data-v-0c8dd71b><i class="fas fa-users" data-v-0c8dd71b></i></div><div class="feature-content" data-v-0c8dd71b><h3 data-v-0c8dd71b>Community Driven</h3><p data-v-0c8dd71b>Join a thriving community of gamers and earn together</p><div class="feature-stats" data-v-0c8dd71b><span class="stat" data-v-0c8dd71b>24/7</span><span class="stat-label" data-v-0c8dd71b>Support</span></div></div><div class="feature-glow" data-v-0c8dd71b></div></div></div></div></section>',1)),Q("section",AKe,[F[47]||(F[47]=Q("div",{class:"pattern-overlay left-side-pattern"},[Q("img",{src:JPe})],-1)),Q("div",CKe,[Q("div",IKe,[(pt(!0),Lt(Pr,null,Cf(ln(s),W=>(pt(),Lt("div",{key:W.id,class:"flex items-center justify-center"},[Q("img",{src:W.logo,alt:W.name,class:"img-fluid w-[120px]"},null,8,TKe)]))),128))])])]),F[50]||(F[50]=_c('<section class="nft-investment-section" data-v-0c8dd71b><div class="container" data-v-0c8dd71b><div class="section-header text-center mb-5" data-v-0c8dd71b><div class="section-badge" data-v-0c8dd71b><i class="fas fa-chart-line me-2" data-v-0c8dd71b></i><span data-v-0c8dd71b>NFT Investment</span></div><h2 class="section-title" data-v-0c8dd71b>Invest in Premium NFTs</h2><p class="section-description" data-v-0c8dd71b> Discover high-value NFTs with potential for significant returns </p></div><div class="w-full flex items-center justify-center" data-v-0c8dd71b><img src="'+XPe+'" alt="comming soon" data-v-0c8dd71b></div></div></section>',1)),y.value?(pt(),Lt("div",{key:0,class:Jn(["toast-notification",b.value])},[Q("div",SKe,[Q("i",{class:Jn(b.value==="success"?"fas fa-check-circle":"fas fa-exclamation-circle")},null,2),Q("span",null,ii(v.value),1)]),Q("button",{class:"toast-close",onClick:k},[...F[48]||(F[48]=[Q("i",{class:"fas fa-times"},null,-1)])])],2)):Kd("",!0),Xt(qqe)])}}},PKe=kI(xKe,[["__scopeId","data-v-0c8dd71b"]]),RKe=[{path:"/",name:"Home",component:PKe},{path:"/game",name:"Game",component:()=>hn(()=>import("./Game-CXdA4YU4.js"),__vite__mapDeps([50,51]))},{path:"/dashboard",name:"Dashboard",component:()=>hn(()=>import("./Dashboard-Io2tKA_b.js"),__vite__mapDeps([52,53]))},{path:"/marketplace",name:"Marketplace",component:()=>hn(()=>import("./Marketplace-iQ-7zSLz.js"),__vite__mapDeps([54,55]))},{path:"/collection",name:"Collection",component:()=>hn(()=>import("./Collection-Cswe0XNi.js"),__vite__mapDeps([56,57]))},{path:"/blindbox",name:"Blindbox",component:()=>hn(()=>import("./Blindbox-CZLybPFp.js"),__vite__mapDeps([58,59]))},{path:"/investment",name:"Investment",component:()=>hn(()=>import("./Investment-BzZmAdKe.js"),__vite__mapDeps([60,61,62]))},{path:"/nft-investment",name:"NFTInvestment",component:()=>hn(()=>import("./NFTInvestment-XtKI_eXp.js"),__vite__mapDeps([63,64]))},{path:"/referral",name:"Referral",component:()=>hn(()=>import("./Referral-wEKTMU2H.js"),__vite__mapDeps([65,66]))},{path:"/profile",name:"Profile",component:()=>hn(()=>import("./Profile-B4uIMS8I.js"),__vite__mapDeps([67,68]))},{path:"/whitepaper",name:"Whitepaper",component:()=>hn(()=>import("./Whitepaper-DM3Vd0sp.js"),__vite__mapDeps([69,70]))},{path:"/swap",name:"Swap",component:()=>hn(()=>import("./Swap-CdJMGBhe.js"),__vite__mapDeps([71,61,72]))},{path:"/creators",name:"Creators",component:()=>hn(()=>import("./Creators-sv8ZqFhD.js"),__vite__mapDeps([73,74]))},{path:"/tasks",name:"Tasks",component:()=>hn(()=>import("./Tasks-CAOekiaQ.js"),__vite__mapDeps([75,76]))},{path:"/signup",name:"Signup",component:()=>hn(()=>import("./Signup-DmHkI9Dq.js"),__vite__mapDeps([77,78]))},{path:"/arrow-game",name:"ArrowGame",component:()=>hn(()=>import("./ArrowGame-B1n31aOS.js"),__vite__mapDeps([79,80]))},{path:"/arrow-game-modern",name:"ArrowGameModern",component:()=>hn(()=>import("./ArrowGameModern-OBw93fP8.js"),__vite__mapDeps([81,82]))},{path:"/wallet-test",name:"WalletTest",component:()=>hn(()=>import("./WalletTest-DUbzr0Zi.js"),__vite__mapDeps([83,84]))}],NKe=QPe({history:CPe(),routes:RKe,scrollBehavior(t,e,n){return n||{top:0,left:0}}});var JE={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var kKe=JE.exports,V9;function OKe(){return V9||(V9=1,(function(t,e){(function(n,r){t.exports=r()})(kKe,function(){const n=new Map,r={set(U,w,D){n.has(U)||n.set(U,new Map);const q=n.get(U);q.has(w)||q.size===0?q.set(w,D):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(q.keys())[0]}.`)},get:(U,w)=>n.has(U)&&n.get(U).get(w)||null,remove(U,w){if(!n.has(U))return;const D=n.get(U);D.delete(w),D.size===0&&n.delete(U)}},s="transitionend",i=U=>(U&&window.CSS&&window.CSS.escape&&(U=U.replace(/#([^\s"#']+)/g,(w,D)=>`#${CSS.escape(D)}`)),U),o=U=>U==null?`${U}`:Object.prototype.toString.call(U).match(/\s([a-z]+)/i)[1].toLowerCase(),a=U=>{U.dispatchEvent(new Event(s))},c=U=>!(!U||typeof U!="object")&&(U.jquery!==void 0&&(U=U[0]),U.nodeType!==void 0),l=U=>c(U)?U.jquery?U[0]:U:typeof U=="string"&&U.length>0?document.querySelector(i(U)):null,u=U=>{if(!c(U)||U.getClientRects().length===0)return!1;const w=getComputedStyle(U).getPropertyValue("visibility")==="visible",D=U.closest("details:not([open])");if(!D)return w;if(D!==U){const q=U.closest("summary");if(q&&q.parentNode!==D||q===null)return!1}return w},d=U=>!U||U.nodeType!==Node.ELEMENT_NODE||!!U.classList.contains("disabled")||(U.disabled!==void 0?U.disabled:U.hasAttribute("disabled")&&U.getAttribute("disabled")!=="false"),h=U=>{if(!document.documentElement.attachShadow)return null;if(typeof U.getRootNode=="function"){const w=U.getRootNode();return w instanceof ShadowRoot?w:null}return U instanceof ShadowRoot?U:U.parentNode?h(U.parentNode):null},f=()=>{},p=U=>{U.offsetHeight},g=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y=[],v=()=>document.documentElement.dir==="rtl",b=U=>{var w;w=()=>{const D=g();if(D){const q=U.NAME,re=D.fn[q];D.fn[q]=U.jQueryInterface,D.fn[q].Constructor=U,D.fn[q].noConflict=()=>(D.fn[q]=re,U.jQueryInterface)}},document.readyState==="loading"?(y.length||document.addEventListener("DOMContentLoaded",()=>{for(const D of y)D()}),y.push(w)):w()},_=(U,w=[],D=U)=>typeof U=="function"?U.call(...w):D,S=(U,w,D=!0)=>{if(!D)return void _(U);const q=(fe=>{if(!fe)return 0;let{transitionDuration:Te,transitionDelay:Ue}=window.getComputedStyle(fe);const it=Number.parseFloat(Te),ct=Number.parseFloat(Ue);return it||ct?(Te=Te.split(",")[0],Ue=Ue.split(",")[0],1e3*(Number.parseFloat(Te)+Number.parseFloat(Ue))):0})(w)+5;let re=!1;const ie=({target:fe})=>{fe===w&&(re=!0,w.removeEventListener(s,ie),_(U))};w.addEventListener(s,ie),setTimeout(()=>{re||a(w)},q)},C=(U,w,D,q)=>{const re=U.length;let ie=U.indexOf(w);return ie===-1?!D&&q?U[re-1]:U[0]:(ie+=D?1:-1,q&&(ie=(ie+re)%re),U[Math.max(0,Math.min(ie,re-1))])},x=/[^.]*(?=\..*)\.|.*/,I=/\..*/,E=/::\d+$/,A={};let T=1;const k={mouseenter:"mouseover",mouseleave:"mouseout"},M=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function B(U,w){return w&&`${w}::${T++}`||U.uidEvent||T++}function Z(U){const w=B(U);return U.uidEvent=w,A[w]=A[w]||{},A[w]}function N(U,w,D=null){return Object.values(U).find(q=>q.callable===w&&q.delegationSelector===D)}function L(U,w,D){const q=typeof w=="string",re=q?D:w||D;let ie=ee(U);return M.has(ie)||(ie=U),[q,re,ie]}function H(U,w,D,q,re){if(typeof w!="string"||!U)return;let[ie,fe,Te]=L(w,D,q);w in k&&(fe=(jt=>function(Mt){if(!Mt.relatedTarget||Mt.relatedTarget!==Mt.delegateTarget&&!Mt.delegateTarget.contains(Mt.relatedTarget))return jt.call(this,Mt)})(fe));const Ue=Z(U),it=Ue[Te]||(Ue[Te]={}),ct=N(it,fe,ie?D:null);if(ct)return void(ct.oneOff=ct.oneOff&&re);const Qe=B(fe,w.replace(x,"")),Yt=ie?(function(xt,jt,Mt){return function Vt(er){const dr=xt.querySelectorAll(jt);for(let{target:on}=er;on&&on!==this;on=on.parentNode)for(const $n of dr)if($n===on)return ue(er,{delegateTarget:on}),Vt.oneOff&&W.off(xt,er.type,jt,Mt),Mt.apply(on,[er])}})(U,D,fe):(function(xt,jt){return function Mt(Vt){return ue(Vt,{delegateTarget:xt}),Mt.oneOff&&W.off(xt,Vt.type,jt),jt.apply(xt,[Vt])}})(U,fe);Yt.delegationSelector=ie?D:null,Yt.callable=fe,Yt.oneOff=re,Yt.uidEvent=Qe,it[Qe]=Yt,U.addEventListener(Te,Yt,ie)}function F(U,w,D,q,re){const ie=N(w[D],q,re);ie&&(U.removeEventListener(D,ie,!!re),delete w[D][ie.uidEvent])}function J(U,w,D,q){const re=w[D]||{};for(const[ie,fe]of Object.entries(re))ie.includes(q)&&F(U,w,D,fe.callable,fe.delegationSelector)}function ee(U){return U=U.replace(I,""),k[U]||U}const W={on(U,w,D,q){H(U,w,D,q,!1)},one(U,w,D,q){H(U,w,D,q,!0)},off(U,w,D,q){if(typeof w!="string"||!U)return;const[re,ie,fe]=L(w,D,q),Te=fe!==w,Ue=Z(U),it=Ue[fe]||{},ct=w.startsWith(".");if(ie===void 0){if(ct)for(const Qe of Object.keys(Ue))J(U,Ue,Qe,w.slice(1));for(const[Qe,Yt]of Object.entries(it)){const xt=Qe.replace(E,"");Te&&!w.includes(xt)||F(U,Ue,fe,Yt.callable,Yt.delegationSelector)}}else{if(!Object.keys(it).length)return;F(U,Ue,fe,ie,re?D:null)}},trigger(U,w,D){if(typeof w!="string"||!U)return null;const q=g();let re=null,ie=!0,fe=!0,Te=!1;w!==ee(w)&&q&&(re=q.Event(w,D),q(U).trigger(re),ie=!re.isPropagationStopped(),fe=!re.isImmediatePropagationStopped(),Te=re.isDefaultPrevented());const Ue=ue(new Event(w,{bubbles:ie,cancelable:!0}),D);return Te&&Ue.preventDefault(),fe&&U.dispatchEvent(Ue),Ue.defaultPrevented&&re&&re.preventDefault(),Ue}};function ue(U,w={}){for(const[D,q]of Object.entries(w))try{U[D]=q}catch{Object.defineProperty(U,D,{configurable:!0,get:()=>q})}return U}function Ee(U){if(U==="true")return!0;if(U==="false")return!1;if(U===Number(U).toString())return Number(U);if(U===""||U==="null")return null;if(typeof U!="string")return U;try{return JSON.parse(decodeURIComponent(U))}catch{return U}}function ye(U){return U.replace(/[A-Z]/g,w=>`-${w.toLowerCase()}`)}const Ie={setDataAttribute(U,w,D){U.setAttribute(`data-bs-${ye(w)}`,D)},removeDataAttribute(U,w){U.removeAttribute(`data-bs-${ye(w)}`)},getDataAttributes(U){if(!U)return{};const w={},D=Object.keys(U.dataset).filter(q=>q.startsWith("bs")&&!q.startsWith("bsConfig"));for(const q of D){let re=q.replace(/^bs/,"");re=re.charAt(0).toLowerCase()+re.slice(1),w[re]=Ee(U.dataset[q])}return w},getDataAttribute:(U,w)=>Ee(U.getAttribute(`data-bs-${ye(w)}`))};class Ve{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(w){return w=this._mergeConfigObj(w),w=this._configAfterMerge(w),this._typeCheckConfig(w),w}_configAfterMerge(w){return w}_mergeConfigObj(w,D){const q=c(D)?Ie.getDataAttribute(D,"config"):{};return{...this.constructor.Default,...typeof q=="object"?q:{},...c(D)?Ie.getDataAttributes(D):{},...typeof w=="object"?w:{}}}_typeCheckConfig(w,D=this.constructor.DefaultType){for(const[q,re]of Object.entries(D)){const ie=w[q],fe=c(ie)?"element":o(ie);if(!new RegExp(re).test(fe))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${q}" provided type "${fe}" but expected type "${re}".`)}}}class oe extends Ve{constructor(w,D){super(),(w=l(w))&&(this._element=w,this._config=this._getConfig(D),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY);for(const w of Object.getOwnPropertyNames(this))this[w]=null}_queueCallback(w,D,q=!0){S(w,D,q)}_getConfig(w){return w=this._mergeConfigObj(w,this._element),w=this._configAfterMerge(w),this._typeCheckConfig(w),w}static getInstance(w){return r.get(l(w),this.DATA_KEY)}static getOrCreateInstance(w,D={}){return this.getInstance(w)||new this(w,typeof D=="object"?D:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(w){return`${w}${this.EVENT_KEY}`}}const _e=U=>{let w=U.getAttribute("data-bs-target");if(!w||w==="#"){let D=U.getAttribute("href");if(!D||!D.includes("#")&&!D.startsWith("."))return null;D.includes("#")&&!D.startsWith("#")&&(D=`#${D.split("#")[1]}`),w=D&&D!=="#"?D.trim():null}return w?w.split(",").map(D=>i(D)).join(","):null},se={find:(U,w=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(w,U)),findOne:(U,w=document.documentElement)=>Element.prototype.querySelector.call(w,U),children:(U,w)=>[].concat(...U.children).filter(D=>D.matches(w)),parents(U,w){const D=[];let q=U.parentNode.closest(w);for(;q;)D.push(q),q=q.parentNode.closest(w);return D},prev(U,w){let D=U.previousElementSibling;for(;D;){if(D.matches(w))return[D];D=D.previousElementSibling}return[]},next(U,w){let D=U.nextElementSibling;for(;D;){if(D.matches(w))return[D];D=D.nextElementSibling}return[]},focusableChildren(U){const w=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(D=>`${D}:not([tabindex^="-"])`).join(",");return this.find(w,U).filter(D=>!d(D)&&u(D))},getSelectorFromElement(U){const w=_e(U);return w&&se.findOne(w)?w:null},getElementFromSelector(U){const w=_e(U);return w?se.findOne(w):null},getMultipleElementsFromSelector(U){const w=_e(U);return w?se.find(w):[]}},Pe=(U,w="hide")=>{const D=`click.dismiss${U.EVENT_KEY}`,q=U.NAME;W.on(document,D,`[data-bs-dismiss="${q}"]`,function(re){if(["A","AREA"].includes(this.tagName)&&re.preventDefault(),d(this))return;const ie=se.getElementFromSelector(this)||this.closest(`.${q}`);U.getOrCreateInstance(ie)[w]()})},mt=".bs.alert",Y=`close${mt}`,X=`closed${mt}`;class ne extends oe{static get NAME(){return"alert"}close(){if(W.trigger(this._element,Y).defaultPrevented)return;this._element.classList.remove("show");const w=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,w)}_destroyElement(){this._element.remove(),W.trigger(this._element,X),this.dispose()}static jQueryInterface(w){return this.each(function(){const D=ne.getOrCreateInstance(this);if(typeof w=="string"){if(D[w]===void 0||w.startsWith("_")||w==="constructor")throw new TypeError(`No method named "${w}"`);D[w](this)}})}}Pe(ne,"close"),b(ne);const pe='[data-bs-toggle="button"]';class we extends oe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(w){return this.each(function(){const D=we.getOrCreateInstance(this);w==="toggle"&&D[w]()})}}W.on(document,"click.bs.button.data-api",pe,U=>{U.preventDefault();const w=U.target.closest(pe);we.getOrCreateInstance(w).toggle()}),b(we);const me=".bs.swipe",He=`touchstart${me}`,De=`touchmove${me}`,Oe=`touchend${me}`,Ce=`pointerdown${me}`,Xe=`pointerup${me}`,$e={endCallback:null,leftCallback:null,rightCallback:null},dt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ot extends Ve{constructor(w,D){super(),this._element=w,w&&ot.isSupported()&&(this._config=this._getConfig(D),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return $e}static get DefaultType(){return dt}static get NAME(){return"swipe"}dispose(){W.off(this._element,me)}_start(w){this._supportPointerEvents?this._eventIsPointerPenTouch(w)&&(this._deltaX=w.clientX):this._deltaX=w.touches[0].clientX}_end(w){this._eventIsPointerPenTouch(w)&&(this._deltaX=w.clientX-this._deltaX),this._handleSwipe(),_(this._config.endCallback)}_move(w){this._deltaX=w.touches&&w.touches.length>1?0:w.touches[0].clientX-this._deltaX}_handleSwipe(){const w=Math.abs(this._deltaX);if(w<=40)return;const D=w/this._deltaX;this._deltaX=0,D&&_(D>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(W.on(this._element,Ce,w=>this._start(w)),W.on(this._element,Xe,w=>this._end(w)),this._element.classList.add("pointer-event")):(W.on(this._element,He,w=>this._start(w)),W.on(this._element,De,w=>this._move(w)),W.on(this._element,Oe,w=>this._end(w)))}_eventIsPointerPenTouch(w){return this._supportPointerEvents&&(w.pointerType==="pen"||w.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const at=".bs.carousel",j=".data-api",P="ArrowLeft",O="ArrowRight",G="next",te="prev",ce="left",ge="right",$t=`slide${at}`,Ft=`slid${at}`,nn=`keydown${at}`,Wn=`mouseenter${at}`,un=`mouseleave${at}`,$_=`dragstart${at}`,U_=`load${at}${j}`,Dh=`click${at}${j}`,Xp="carousel",$u="active",ac=".active",X0=".carousel-item",em=ac+X0,F_={[P]:ge,[O]:ce},Mh={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},j_={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Nr extends oe{constructor(w,D){super(w,D),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=se.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xp&&this.cycle()}static get Default(){return Mh}static get DefaultType(){return j_}static get NAME(){return"carousel"}next(){this._slide(G)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(te)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?W.one(this._element,Ft,()=>this.cycle()):this.cycle())}to(w){const D=this._getItems();if(w>D.length-1||w<0)return;if(this._isSliding)return void W.one(this._element,Ft,()=>this.to(w));const q=this._getItemIndex(this._getActive());if(q===w)return;const re=w>q?G:te;this._slide(re,D[w])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(w){return w.defaultInterval=w.interval,w}_addEventListeners(){this._config.keyboard&&W.on(this._element,nn,w=>this._keydown(w)),this._config.pause==="hover"&&(W.on(this._element,Wn,()=>this.pause()),W.on(this._element,un,()=>this._maybeEnableCycle())),this._config.touch&&ot.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const D of se.find(".carousel-item img",this._element))W.on(D,$_,q=>q.preventDefault());const w={leftCallback:()=>this._slide(this._directionToOrder(ce)),rightCallback:()=>this._slide(this._directionToOrder(ge)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ot(this._element,w)}_keydown(w){if(/input|textarea/i.test(w.target.tagName))return;const D=F_[w.key];D&&(w.preventDefault(),this._slide(this._directionToOrder(D)))}_getItemIndex(w){return this._getItems().indexOf(w)}_setActiveIndicatorElement(w){if(!this._indicatorsElement)return;const D=se.findOne(ac,this._indicatorsElement);D.classList.remove($u),D.removeAttribute("aria-current");const q=se.findOne(`[data-bs-slide-to="${w}"]`,this._indicatorsElement);q&&(q.classList.add($u),q.setAttribute("aria-current","true"))}_updateInterval(){const w=this._activeElement||this._getActive();if(!w)return;const D=Number.parseInt(w.getAttribute("data-bs-interval"),10);this._config.interval=D||this._config.defaultInterval}_slide(w,D=null){if(this._isSliding)return;const q=this._getActive(),re=w===G,ie=D||C(this._getItems(),q,re,this._config.wrap);if(ie===q)return;const fe=this._getItemIndex(ie),Te=Qe=>W.trigger(this._element,Qe,{relatedTarget:ie,direction:this._orderToDirection(w),from:this._getItemIndex(q),to:fe});if(Te($t).defaultPrevented||!q||!ie)return;const Ue=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(fe),this._activeElement=ie;const it=re?"carousel-item-start":"carousel-item-end",ct=re?"carousel-item-next":"carousel-item-prev";ie.classList.add(ct),p(ie),q.classList.add(it),ie.classList.add(it),this._queueCallback(()=>{ie.classList.remove(it,ct),ie.classList.add($u),q.classList.remove($u,ct,it),this._isSliding=!1,Te(Ft)},q,this._isAnimated()),Ue&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return se.findOne(em,this._element)}_getItems(){return se.find(X0,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(w){return v()?w===ce?te:G:w===ce?G:te}_orderToDirection(w){return v()?w===te?ce:ge:w===te?ge:ce}static jQueryInterface(w){return this.each(function(){const D=Nr.getOrCreateInstance(this,w);if(typeof w!="number"){if(typeof w=="string"){if(D[w]===void 0||w.startsWith("_")||w==="constructor")throw new TypeError(`No method named "${w}"`);D[w]()}}else D.to(w)})}}W.on(document,Dh,"[data-bs-slide], [data-bs-slide-to]",function(U){const w=se.getElementFromSelector(this);if(!w||!w.classList.contains(Xp))return;U.preventDefault();const D=Nr.getOrCreateInstance(w),q=this.getAttribute("data-bs-slide-to");return q?(D.to(q),void D._maybeEnableCycle()):Ie.getDataAttribute(this,"slide")==="next"?(D.next(),void D._maybeEnableCycle()):(D.prev(),void D._maybeEnableCycle())}),W.on(window,U_,()=>{const U=se.find('[data-bs-ride="carousel"]');for(const w of U)Nr.getOrCreateInstance(w)}),b(Nr);const Uu=".bs.collapse",Lh=`show${Uu}`,Bh=`shown${Uu}`,mS=`hide${Uu}`,gS=`hidden${Uu}`,Fu=`click${Uu}.data-api`,ey="show",ju="collapse",pl="collapsing",V_=`:scope .${ju} .${ju}`,$h='[data-bs-toggle="collapse"]',tm={parent:null,toggle:!0},cc={parent:"(null|element)",toggle:"boolean"};class ml extends oe{constructor(w,D){super(w,D),this._isTransitioning=!1,this._triggerArray=[];const q=se.find($h);for(const re of q){const ie=se.getSelectorFromElement(re),fe=se.find(ie).filter(Te=>Te===this._element);ie!==null&&fe.length&&this._triggerArray.push(re)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return tm}static get DefaultType(){return cc}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let w=[];if(this._config.parent&&(w=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(re=>re!==this._element).map(re=>ml.getOrCreateInstance(re,{toggle:!1}))),w.length&&w[0]._isTransitioning||W.trigger(this._element,Lh).defaultPrevented)return;for(const re of w)re.hide();const D=this._getDimension();this._element.classList.remove(ju),this._element.classList.add(pl),this._element.style[D]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const q=`scroll${D[0].toUpperCase()+D.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(pl),this._element.classList.add(ju,ey),this._element.style[D]="",W.trigger(this._element,Bh)},this._element,!0),this._element.style[D]=`${this._element[q]}px`}hide(){if(this._isTransitioning||!this._isShown()||W.trigger(this._element,mS).defaultPrevented)return;const w=this._getDimension();this._element.style[w]=`${this._element.getBoundingClientRect()[w]}px`,p(this._element),this._element.classList.add(pl),this._element.classList.remove(ju,ey);for(const D of this._triggerArray){const q=se.getElementFromSelector(D);q&&!this._isShown(q)&&this._addAriaAndCollapsedClass([D],!1)}this._isTransitioning=!0,this._element.style[w]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(pl),this._element.classList.add(ju),W.trigger(this._element,gS)},this._element,!0)}_isShown(w=this._element){return w.classList.contains(ey)}_configAfterMerge(w){return w.toggle=!!w.toggle,w.parent=l(w.parent),w}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const w=this._getFirstLevelChildren($h);for(const D of w){const q=se.getElementFromSelector(D);q&&this._addAriaAndCollapsedClass([D],this._isShown(q))}}_getFirstLevelChildren(w){const D=se.find(V_,this._config.parent);return se.find(w,this._config.parent).filter(q=>!D.includes(q))}_addAriaAndCollapsedClass(w,D){if(w.length)for(const q of w)q.classList.toggle("collapsed",!D),q.setAttribute("aria-expanded",D)}static jQueryInterface(w){const D={};return typeof w=="string"&&/show|hide/.test(w)&&(D.toggle=!1),this.each(function(){const q=ml.getOrCreateInstance(this,D);if(typeof w=="string"){if(q[w]===void 0)throw new TypeError(`No method named "${w}"`);q[w]()}})}}W.on(document,Fu,$h,function(U){(U.target.tagName==="A"||U.delegateTarget&&U.delegateTarget.tagName==="A")&&U.preventDefault();for(const w of se.getMultipleElementsFromSelector(this))ml.getOrCreateInstance(w,{toggle:!1}).toggle()}),b(ml);var fs="top",Ss="bottom",xs="right",ps="left",Uh="auto",Vu=[fs,Ss,xs,ps],Bo="start",gl="end",nm="clippingParents",yl="viewport",Ni="popper",rm="reference",ty=Vu.reduce(function(U,w){return U.concat([w+"-"+Bo,w+"-"+gl])},[]),sm=[].concat(Vu,[Uh]).reduce(function(U,w){return U.concat([w,w+"-"+Bo,w+"-"+gl])},[]),ny="beforeRead",ry="read",im="afterRead",om="beforeMain",sy="main",iy="afterMain",H_="beforeWrite",q_="write",oy="afterWrite",ay=[ny,ry,im,om,sy,iy,H_,q_,oy];function $o(U){return U?(U.nodeName||"").toLowerCase():null}function Br(U){if(U==null)return window;if(U.toString()!=="[object Window]"){var w=U.ownerDocument;return w&&w.defaultView||window}return U}function Ps(U){return U instanceof Br(U).Element||U instanceof Element}function Rs(U){return U instanceof Br(U).HTMLElement||U instanceof HTMLElement}function Hu(U){return typeof ShadowRoot<"u"&&(U instanceof Br(U).ShadowRoot||U instanceof ShadowRoot)}const am={name:"applyStyles",enabled:!0,phase:"write",fn:function(U){var w=U.state;Object.keys(w.elements).forEach(function(D){var q=w.styles[D]||{},re=w.attributes[D]||{},ie=w.elements[D];Rs(ie)&&$o(ie)&&(Object.assign(ie.style,q),Object.keys(re).forEach(function(fe){var Te=re[fe];Te===!1?ie.removeAttribute(fe):ie.setAttribute(fe,Te===!0?"":Te)}))})},effect:function(U){var w=U.state,D={popper:{position:w.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(w.elements.popper.style,D.popper),w.styles=D,w.elements.arrow&&Object.assign(w.elements.arrow.style,D.arrow),function(){Object.keys(w.elements).forEach(function(q){var re=w.elements[q],ie=w.attributes[q]||{},fe=Object.keys(w.styles.hasOwnProperty(q)?w.styles[q]:D[q]).reduce(function(Te,Ue){return Te[Ue]="",Te},{});Rs(re)&&$o(re)&&(Object.assign(re.style,fe),Object.keys(ie).forEach(function(Te){re.removeAttribute(Te)}))})}},requires:["computeStyles"]};function dn(U){return U.split("-")[0]}var Uo=Math.max,lc=Math.min,Fo=Math.round;function cy(){var U=navigator.userAgentData;return U!=null&&U.brands&&Array.isArray(U.brands)?U.brands.map(function(w){return w.brand+"/"+w.version}).join(" "):navigator.userAgent}function ly(){return!/^((?!chrome|android).)*safari/i.test(cy())}function qu(U,w,D){w===void 0&&(w=!1),D===void 0&&(D=!1);var q=U.getBoundingClientRect(),re=1,ie=1;w&&Rs(U)&&(re=U.offsetWidth>0&&Fo(q.width)/U.offsetWidth||1,ie=U.offsetHeight>0&&Fo(q.height)/U.offsetHeight||1);var fe=(Ps(U)?Br(U):window).visualViewport,Te=!ly()&&D,Ue=(q.left+(Te&&fe?fe.offsetLeft:0))/re,it=(q.top+(Te&&fe?fe.offsetTop:0))/ie,ct=q.width/re,Qe=q.height/ie;return{width:ct,height:Qe,top:it,right:Ue+ct,bottom:it+Qe,left:Ue,x:Ue,y:it}}function uy(U){var w=qu(U),D=U.offsetWidth,q=U.offsetHeight;return Math.abs(w.width-D)<=1&&(D=w.width),Math.abs(w.height-q)<=1&&(q=w.height),{x:U.offsetLeft,y:U.offsetTop,width:D,height:q}}function z_(U,w){var D=w.getRootNode&&w.getRootNode();if(U.contains(w))return!0;if(D&&Hu(D)){var q=w;do{if(q&&U.isSameNode(q))return!0;q=q.parentNode||q.host}while(q)}return!1}function Sa(U){return Br(U).getComputedStyle(U)}function Fh(U){return["table","td","th"].indexOf($o(U))>=0}function Ns(U){return((Ps(U)?U.ownerDocument:U.document)||window.document).documentElement}function jh(U){return $o(U)==="html"?U:U.assignedSlot||U.parentNode||(Hu(U)?U.host:null)||Ns(U)}function dy(U){return Rs(U)&&Sa(U).position!=="fixed"?U.offsetParent:null}function zu(U){for(var w=Br(U),D=dy(U);D&&Fh(D)&&Sa(D).position==="static";)D=dy(D);return D&&($o(D)==="html"||$o(D)==="body"&&Sa(D).position==="static")?w:D||(function(q){var re=/firefox/i.test(cy());if(/Trident/i.test(cy())&&Rs(q)&&Sa(q).position==="fixed")return null;var ie=jh(q);for(Hu(ie)&&(ie=ie.host);Rs(ie)&&["html","body"].indexOf($o(ie))<0;){var fe=Sa(ie);if(fe.transform!=="none"||fe.perspective!=="none"||fe.contain==="paint"||["transform","perspective"].indexOf(fe.willChange)!==-1||re&&fe.willChange==="filter"||re&&fe.filter&&fe.filter!=="none")return ie;ie=ie.parentNode}return null})(U)||w}function uc(U){return["top","bottom"].indexOf(U)>=0?"x":"y"}function Vh(U,w,D){return Uo(U,lc(w,D))}function W_(U){return Object.assign({},{top:0,right:0,bottom:0,left:0},U)}function G_(U,w){return w.reduce(function(D,q){return D[q]=U,D},{})}const xa={name:"arrow",enabled:!0,phase:"main",fn:function(U){var w,D=U.state,q=U.name,re=U.options,ie=D.elements.arrow,fe=D.modifiersData.popperOffsets,Te=dn(D.placement),Ue=uc(Te),it=[ps,xs].indexOf(Te)>=0?"height":"width";if(ie&&fe){var ct=(function(tr,Qn){return W_(typeof(tr=typeof tr=="function"?tr(Object.assign({},Qn.rects,{placement:Qn.placement})):tr)!="number"?tr:G_(tr,Vu))})(re.padding,D),Qe=uy(ie),Yt=Ue==="y"?fs:ps,xt=Ue==="y"?Ss:xs,jt=D.rects.reference[it]+D.rects.reference[Ue]-fe[Ue]-D.rects.popper[it],Mt=fe[Ue]-D.rects.reference[Ue],Vt=zu(ie),er=Vt?Ue==="y"?Vt.clientHeight||0:Vt.clientWidth||0:0,dr=jt/2-Mt/2,on=ct[Yt],$n=er-Qe[it]-ct[xt],Zt=er/2-Qe[it]/2+dr,yn=Vh(on,Zt,$n),Kn=Ue;D.modifiersData[q]=((w={})[Kn]=yn,w.centerOffset=yn-Zt,w)}},effect:function(U){var w=U.state,D=U.options.element,q=D===void 0?"[data-popper-arrow]":D;q!=null&&(typeof q!="string"||(q=w.elements.popper.querySelector(q)))&&z_(w.elements.popper,q)&&(w.elements.arrow=q)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wu(U){return U.split("-")[1]}var yS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Hh(U){var w,D=U.popper,q=U.popperRect,re=U.placement,ie=U.variation,fe=U.offsets,Te=U.position,Ue=U.gpuAcceleration,it=U.adaptive,ct=U.roundOffsets,Qe=U.isFixed,Yt=fe.x,xt=Yt===void 0?0:Yt,jt=fe.y,Mt=jt===void 0?0:jt,Vt=typeof ct=="function"?ct({x:xt,y:Mt}):{x:xt,y:Mt};xt=Vt.x,Mt=Vt.y;var er=fe.hasOwnProperty("x"),dr=fe.hasOwnProperty("y"),on=ps,$n=fs,Zt=window;if(it){var yn=zu(D),Kn="clientHeight",tr="clientWidth";yn===Br(D)&&Sa(yn=Ns(D)).position!=="static"&&Te==="absolute"&&(Kn="scrollHeight",tr="scrollWidth"),(re===fs||(re===ps||re===xs)&&ie===gl)&&($n=Ss,Mt-=(Qe&&yn===Zt&&Zt.visualViewport?Zt.visualViewport.height:yn[Kn])-q.height,Mt*=Ue?1:-1),re!==ps&&(re!==fs&&re!==Ss||ie!==gl)||(on=xs,xt-=(Qe&&yn===Zt&&Zt.visualViewport?Zt.visualViewport.width:yn[tr])-q.width,xt*=Ue?1:-1)}var Qn,$r=Object.assign({position:Te},it&&yS),co=ct===!0?(function(Pa,gi){var Ho=Pa.x,qo=Pa.y,kr=gi.devicePixelRatio||1;return{x:Fo(Ho*kr)/kr||0,y:Fo(qo*kr)/kr||0}})({x:xt,y:Mt},Br(D)):{x:xt,y:Mt};return xt=co.x,Mt=co.y,Ue?Object.assign({},$r,((Qn={})[$n]=dr?"0":"",Qn[on]=er?"0":"",Qn.transform=(Zt.devicePixelRatio||1)<=1?"translate("+xt+"px, "+Mt+"px)":"translate3d("+xt+"px, "+Mt+"px, 0)",Qn)):Object.assign({},$r,((w={})[$n]=dr?Mt+"px":"",w[on]=er?xt+"px":"",w.transform="",w))}const Gu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(U){var w=U.state,D=U.options,q=D.gpuAcceleration,re=q===void 0||q,ie=D.adaptive,fe=ie===void 0||ie,Te=D.roundOffsets,Ue=Te===void 0||Te,it={placement:dn(w.placement),variation:Wu(w.placement),popper:w.elements.popper,popperRect:w.rects.popper,gpuAcceleration:re,isFixed:w.options.strategy==="fixed"};w.modifiersData.popperOffsets!=null&&(w.styles.popper=Object.assign({},w.styles.popper,Hh(Object.assign({},it,{offsets:w.modifiersData.popperOffsets,position:w.options.strategy,adaptive:fe,roundOffsets:Ue})))),w.modifiersData.arrow!=null&&(w.styles.arrow=Object.assign({},w.styles.arrow,Hh(Object.assign({},it,{offsets:w.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ue})))),w.attributes.popper=Object.assign({},w.attributes.popper,{"data-popper-placement":w.placement})},data:{}};var qh={passive:!0};const wl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(U){var w=U.state,D=U.instance,q=U.options,re=q.scroll,ie=re===void 0||re,fe=q.resize,Te=fe===void 0||fe,Ue=Br(w.elements.popper),it=[].concat(w.scrollParents.reference,w.scrollParents.popper);return ie&&it.forEach(function(ct){ct.addEventListener("scroll",D.update,qh)}),Te&&Ue.addEventListener("resize",D.update,qh),function(){ie&&it.forEach(function(ct){ct.removeEventListener("scroll",D.update,qh)}),Te&&Ue.removeEventListener("resize",D.update,qh)}},data:{}};var zh={left:"right",right:"left",bottom:"top",top:"bottom"};function Wh(U){return U.replace(/left|right|bottom|top/g,function(w){return zh[w]})}var hy={start:"end",end:"start"};function yr(U){return U.replace(/start|end/g,function(w){return hy[w]})}function fy(U){var w=Br(U);return{scrollLeft:w.pageXOffset,scrollTop:w.pageYOffset}}function py(U){return qu(Ns(U)).left+fy(U).scrollLeft}function cm(U){var w=Sa(U),D=w.overflow,q=w.overflowX,re=w.overflowY;return/auto|scroll|overlay|hidden/.test(D+re+q)}function my(U){return["html","body","#document"].indexOf($o(U))>=0?U.ownerDocument.body:Rs(U)&&cm(U)?U:my(jh(U))}function Ku(U,w){var D;w===void 0&&(w=[]);var q=my(U),re=q===((D=U.ownerDocument)==null?void 0:D.body),ie=Br(q),fe=re?[ie].concat(ie.visualViewport||[],cm(q)?q:[]):q,Te=w.concat(fe);return re?Te:Te.concat(Ku(jh(fe)))}function Qu(U){return Object.assign({},U,{left:U.x,top:U.y,right:U.x+U.width,bottom:U.y+U.height})}function gy(U,w,D){return w===yl?Qu((function(q,re){var ie=Br(q),fe=Ns(q),Te=ie.visualViewport,Ue=fe.clientWidth,it=fe.clientHeight,ct=0,Qe=0;if(Te){Ue=Te.width,it=Te.height;var Yt=ly();(Yt||!Yt&&re==="fixed")&&(ct=Te.offsetLeft,Qe=Te.offsetTop)}return{width:Ue,height:it,x:ct+py(q),y:Qe}})(U,D)):Ps(w)?(function(q,re){var ie=qu(q,!1,re==="fixed");return ie.top=ie.top+q.clientTop,ie.left=ie.left+q.clientLeft,ie.bottom=ie.top+q.clientHeight,ie.right=ie.left+q.clientWidth,ie.width=q.clientWidth,ie.height=q.clientHeight,ie.x=ie.left,ie.y=ie.top,ie})(w,D):Qu((function(q){var re,ie=Ns(q),fe=fy(q),Te=(re=q.ownerDocument)==null?void 0:re.body,Ue=Uo(ie.scrollWidth,ie.clientWidth,Te?Te.scrollWidth:0,Te?Te.clientWidth:0),it=Uo(ie.scrollHeight,ie.clientHeight,Te?Te.scrollHeight:0,Te?Te.clientHeight:0),ct=-fe.scrollLeft+py(q),Qe=-fe.scrollTop;return Sa(Te||ie).direction==="rtl"&&(ct+=Uo(ie.clientWidth,Te?Te.clientWidth:0)-Ue),{width:Ue,height:it,x:ct,y:Qe}})(Ns(U)))}function jo(U){var w,D=U.reference,q=U.element,re=U.placement,ie=re?dn(re):null,fe=re?Wu(re):null,Te=D.x+D.width/2-q.width/2,Ue=D.y+D.height/2-q.height/2;switch(ie){case fs:w={x:Te,y:D.y-q.height};break;case Ss:w={x:Te,y:D.y+D.height};break;case xs:w={x:D.x+D.width,y:Ue};break;case ps:w={x:D.x-q.width,y:Ue};break;default:w={x:D.x,y:D.y}}var it=ie?uc(ie):null;if(it!=null){var ct=it==="y"?"height":"width";switch(fe){case Bo:w[it]=w[it]-(D[ct]/2-q[ct]/2);break;case gl:w[it]=w[it]+(D[ct]/2-q[ct]/2)}}return w}function bl(U,w){w===void 0&&(w={});var D=w,q=D.placement,re=q===void 0?U.placement:q,ie=D.strategy,fe=ie===void 0?U.strategy:ie,Te=D.boundary,Ue=Te===void 0?nm:Te,it=D.rootBoundary,ct=it===void 0?yl:it,Qe=D.elementContext,Yt=Qe===void 0?Ni:Qe,xt=D.altBoundary,jt=xt!==void 0&&xt,Mt=D.padding,Vt=Mt===void 0?0:Mt,er=W_(typeof Vt!="number"?Vt:G_(Vt,Vu)),dr=Yt===Ni?rm:Ni,on=U.rects.popper,$n=U.elements[jt?dr:Yt],Zt=(function(gi,Ho,qo,kr){var dc=Ho==="clippingParents"?(function(sr){var yi=Ku(jh(sr)),zo=["absolute","fixed"].indexOf(Sa(sr).position)>=0&&Rs(sr)?zu(sr):sr;return Ps(zo)?yi.filter(function(nd){return Ps(nd)&&z_(nd,zo)&&$o(nd)!=="body"}):[]})(gi):[].concat(Ho),hc=[].concat(dc,[qo]),pm=hc[0],ys=hc.reduce(function(sr,yi){var zo=gy(gi,yi,kr);return sr.top=Uo(zo.top,sr.top),sr.right=lc(zo.right,sr.right),sr.bottom=lc(zo.bottom,sr.bottom),sr.left=Uo(zo.left,sr.left),sr},gy(gi,pm,kr));return ys.width=ys.right-ys.left,ys.height=ys.bottom-ys.top,ys.x=ys.left,ys.y=ys.top,ys})(Ps($n)?$n:$n.contextElement||Ns(U.elements.popper),Ue,ct,fe),yn=qu(U.elements.reference),Kn=jo({reference:yn,element:on,placement:re}),tr=Qu(Object.assign({},on,Kn)),Qn=Yt===Ni?tr:yn,$r={top:Zt.top-Qn.top+er.top,bottom:Qn.bottom-Zt.bottom+er.bottom,left:Zt.left-Qn.left+er.left,right:Qn.right-Zt.right+er.right},co=U.modifiersData.offset;if(Yt===Ni&&co){var Pa=co[re];Object.keys($r).forEach(function(gi){var Ho=[xs,Ss].indexOf(gi)>=0?1:-1,qo=[fs,Ss].indexOf(gi)>=0?"y":"x";$r[gi]+=Pa[qo]*Ho})}return $r}function wS(U,w){w===void 0&&(w={});var D=w,q=D.placement,re=D.boundary,ie=D.rootBoundary,fe=D.padding,Te=D.flipVariations,Ue=D.allowedAutoPlacements,it=Ue===void 0?sm:Ue,ct=Wu(q),Qe=ct?Te?ty:ty.filter(function(jt){return Wu(jt)===ct}):Vu,Yt=Qe.filter(function(jt){return it.indexOf(jt)>=0});Yt.length===0&&(Yt=Qe);var xt=Yt.reduce(function(jt,Mt){return jt[Mt]=bl(U,{placement:Mt,boundary:re,rootBoundary:ie,padding:fe})[dn(Mt)],jt},{});return Object.keys(xt).sort(function(jt,Mt){return xt[jt]-xt[Mt]})}const Yu={name:"flip",enabled:!0,phase:"main",fn:function(U){var w=U.state,D=U.options,q=U.name;if(!w.modifiersData[q]._skip){for(var re=D.mainAxis,ie=re===void 0||re,fe=D.altAxis,Te=fe===void 0||fe,Ue=D.fallbackPlacements,it=D.padding,ct=D.boundary,Qe=D.rootBoundary,Yt=D.altBoundary,xt=D.flipVariations,jt=xt===void 0||xt,Mt=D.allowedAutoPlacements,Vt=w.options.placement,er=dn(Vt),dr=Ue||(er!==Vt&&jt?(function(sr){if(dn(sr)===Uh)return[];var yi=Wh(sr);return[yr(sr),yi,yr(yi)]})(Vt):[Wh(Vt)]),on=[Vt].concat(dr).reduce(function(sr,yi){return sr.concat(dn(yi)===Uh?wS(w,{placement:yi,boundary:ct,rootBoundary:Qe,padding:it,flipVariations:jt,allowedAutoPlacements:Mt}):yi)},[]),$n=w.rects.reference,Zt=w.rects.popper,yn=new Map,Kn=!0,tr=on[0],Qn=0;Qn<on.length;Qn++){var $r=on[Qn],co=dn($r),Pa=Wu($r)===Bo,gi=[fs,Ss].indexOf(co)>=0,Ho=gi?"width":"height",qo=bl(w,{placement:$r,boundary:ct,rootBoundary:Qe,altBoundary:Yt,padding:it}),kr=gi?Pa?xs:ps:Pa?Ss:fs;$n[Ho]>Zt[Ho]&&(kr=Wh(kr));var dc=Wh(kr),hc=[];if(ie&&hc.push(qo[co]<=0),Te&&hc.push(qo[kr]<=0,qo[dc]<=0),hc.every(function(sr){return sr})){tr=$r,Kn=!1;break}yn.set($r,hc)}if(Kn)for(var pm=function(sr){var yi=on.find(function(zo){var nd=yn.get(zo);if(nd)return nd.slice(0,sr).every(function(o1){return o1})});if(yi)return tr=yi,"break"},ys=jt?3:1;ys>0&&pm(ys)!=="break";ys--);w.placement!==tr&&(w.modifiersData[q]._skip=!0,w.placement=tr,w.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function yy(U,w,D){return D===void 0&&(D={x:0,y:0}),{top:U.top-w.height-D.y,right:U.right-w.width+D.x,bottom:U.bottom-w.height+D.y,left:U.left-w.width-D.x}}function lm(U){return[fs,xs,Ss,ps].some(function(w){return U[w]>=0})}const Gh={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(U){var w=U.state,D=U.name,q=w.rects.reference,re=w.rects.popper,ie=w.modifiersData.preventOverflow,fe=bl(w,{elementContext:"reference"}),Te=bl(w,{altBoundary:!0}),Ue=yy(fe,q),it=yy(Te,re,ie),ct=lm(Ue),Qe=lm(it);w.modifiersData[D]={referenceClippingOffsets:Ue,popperEscapeOffsets:it,isReferenceHidden:ct,hasPopperEscaped:Qe},w.attributes.popper=Object.assign({},w.attributes.popper,{"data-popper-reference-hidden":ct,"data-popper-escaped":Qe})}},wy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(U){var w=U.state,D=U.options,q=U.name,re=D.offset,ie=re===void 0?[0,0]:re,fe=sm.reduce(function(ct,Qe){return ct[Qe]=(function(Yt,xt,jt){var Mt=dn(Yt),Vt=[ps,fs].indexOf(Mt)>=0?-1:1,er=typeof jt=="function"?jt(Object.assign({},xt,{placement:Yt})):jt,dr=er[0],on=er[1];return dr=dr||0,on=(on||0)*Vt,[ps,xs].indexOf(Mt)>=0?{x:on,y:dr}:{x:dr,y:on}})(Qe,w.rects,ie),ct},{}),Te=fe[w.placement],Ue=Te.x,it=Te.y;w.modifiersData.popperOffsets!=null&&(w.modifiersData.popperOffsets.x+=Ue,w.modifiersData.popperOffsets.y+=it),w.modifiersData[q]=fe}},Zu={name:"popperOffsets",enabled:!0,phase:"read",fn:function(U){var w=U.state,D=U.name;w.modifiersData[D]=jo({reference:w.rects.reference,element:w.rects.popper,placement:w.placement})},data:{}},K_={name:"preventOverflow",enabled:!0,phase:"main",fn:function(U){var w=U.state,D=U.options,q=U.name,re=D.mainAxis,ie=re===void 0||re,fe=D.altAxis,Te=fe!==void 0&&fe,Ue=D.boundary,it=D.rootBoundary,ct=D.altBoundary,Qe=D.padding,Yt=D.tether,xt=Yt===void 0||Yt,jt=D.tetherOffset,Mt=jt===void 0?0:jt,Vt=bl(w,{boundary:Ue,rootBoundary:it,padding:Qe,altBoundary:ct}),er=dn(w.placement),dr=Wu(w.placement),on=!dr,$n=uc(er),Zt=$n==="x"?"y":"x",yn=w.modifiersData.popperOffsets,Kn=w.rects.reference,tr=w.rects.popper,Qn=typeof Mt=="function"?Mt(Object.assign({},w.rects,{placement:w.placement})):Mt,$r=typeof Qn=="number"?{mainAxis:Qn,altAxis:Qn}:Object.assign({mainAxis:0,altAxis:0},Qn),co=w.modifiersData.offset?w.modifiersData.offset[w.placement]:null,Pa={x:0,y:0};if(yn){if(ie){var gi,Ho=$n==="y"?fs:ps,qo=$n==="y"?Ss:xs,kr=$n==="y"?"height":"width",dc=yn[$n],hc=dc+Vt[Ho],pm=dc-Vt[qo],ys=xt?-tr[kr]/2:0,sr=dr===Bo?Kn[kr]:tr[kr],yi=dr===Bo?-tr[kr]:-Kn[kr],zo=w.elements.arrow,nd=xt&&zo?uy(zo):{width:0,height:0},o1=w.modifiersData["arrow#persistent"]?w.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q3=o1[Ho],z3=o1[qo],a1=Vh(0,Kn[kr],nd[kr]),XX=on?Kn[kr]/2-ys-a1-q3-$r.mainAxis:sr-a1-q3-$r.mainAxis,eee=on?-Kn[kr]/2+ys+a1+z3+$r.mainAxis:yi+a1+z3+$r.mainAxis,RS=w.elements.arrow&&zu(w.elements.arrow),tee=RS?$n==="y"?RS.clientTop||0:RS.clientLeft||0:0,W3=(gi=co?.[$n])!=null?gi:0,nee=dc+eee-W3,G3=Vh(xt?lc(hc,dc+XX-W3-tee):hc,dc,xt?Uo(pm,nee):pm);yn[$n]=G3,Pa[$n]=G3-dc}if(Te){var K3,ree=$n==="x"?fs:ps,see=$n==="x"?Ss:xs,tf=yn[Zt],c1=Zt==="y"?"height":"width",Q3=tf+Vt[ree],Y3=tf-Vt[see],NS=[fs,ps].indexOf(er)!==-1,Z3=(K3=co?.[Zt])!=null?K3:0,J3=NS?Q3:tf-Kn[c1]-tr[c1]-Z3+$r.altAxis,X3=NS?tf+Kn[c1]+tr[c1]-Z3-$r.altAxis:Y3,eD=xt&&NS?(function(iee,oee,kS){var tD=Vh(iee,oee,kS);return tD>kS?kS:tD})(J3,tf,X3):Vh(xt?J3:Q3,tf,xt?X3:Y3);yn[Zt]=eD,Pa[Zt]=eD-tf}w.modifiersData[q]=Pa}},requiresIfExists:["offset"]};function Q_(U,w,D){D===void 0&&(D=!1);var q,re,ie=Rs(w),fe=Rs(w)&&(function(Qe){var Yt=Qe.getBoundingClientRect(),xt=Fo(Yt.width)/Qe.offsetWidth||1,jt=Fo(Yt.height)/Qe.offsetHeight||1;return xt!==1||jt!==1})(w),Te=Ns(w),Ue=qu(U,fe,D),it={scrollLeft:0,scrollTop:0},ct={x:0,y:0};return(ie||!ie&&!D)&&(($o(w)!=="body"||cm(Te))&&(it=(q=w)!==Br(q)&&Rs(q)?{scrollLeft:(re=q).scrollLeft,scrollTop:re.scrollTop}:fy(q)),Rs(w)?((ct=qu(w,!0)).x+=w.clientLeft,ct.y+=w.clientTop):Te&&(ct.x=py(Te))),{x:Ue.left+it.scrollLeft-ct.x,y:Ue.top+it.scrollTop-ct.y,width:Ue.width,height:Ue.height}}function Kh(U){var w=new Map,D=new Set,q=[];function re(ie){D.add(ie.name),[].concat(ie.requires||[],ie.requiresIfExists||[]).forEach(function(fe){if(!D.has(fe)){var Te=w.get(fe);Te&&re(Te)}}),q.push(ie)}return U.forEach(function(ie){w.set(ie.name,ie)}),U.forEach(function(ie){D.has(ie.name)||re(ie)}),q}var by={placement:"bottom",modifiers:[],strategy:"absolute"};function vy(){for(var U=arguments.length,w=new Array(U),D=0;D<U;D++)w[D]=arguments[D];return!w.some(function(q){return!(q&&typeof q.getBoundingClientRect=="function")})}function Ju(U){U===void 0&&(U={});var w=U,D=w.defaultModifiers,q=D===void 0?[]:D,re=w.defaultOptions,ie=re===void 0?by:re;return function(fe,Te,Ue){Ue===void 0&&(Ue=ie);var it,ct,Qe={placement:"bottom",orderedModifiers:[],options:Object.assign({},by,ie),modifiersData:{},elements:{reference:fe,popper:Te},attributes:{},styles:{}},Yt=[],xt=!1,jt={state:Qe,setOptions:function(Vt){var er=typeof Vt=="function"?Vt(Qe.options):Vt;Mt(),Qe.options=Object.assign({},ie,Qe.options,er),Qe.scrollParents={reference:Ps(fe)?Ku(fe):fe.contextElement?Ku(fe.contextElement):[],popper:Ku(Te)};var dr,on,$n=(function(Zt){var yn=Kh(Zt);return ay.reduce(function(Kn,tr){return Kn.concat(yn.filter(function(Qn){return Qn.phase===tr}))},[])})((dr=[].concat(q,Qe.options.modifiers),on=dr.reduce(function(Zt,yn){var Kn=Zt[yn.name];return Zt[yn.name]=Kn?Object.assign({},Kn,yn,{options:Object.assign({},Kn.options,yn.options),data:Object.assign({},Kn.data,yn.data)}):yn,Zt},{}),Object.keys(on).map(function(Zt){return on[Zt]})));return Qe.orderedModifiers=$n.filter(function(Zt){return Zt.enabled}),Qe.orderedModifiers.forEach(function(Zt){var yn=Zt.name,Kn=Zt.options,tr=Kn===void 0?{}:Kn,Qn=Zt.effect;if(typeof Qn=="function"){var $r=Qn({state:Qe,name:yn,instance:jt,options:tr});Yt.push($r||function(){})}}),jt.update()},forceUpdate:function(){if(!xt){var Vt=Qe.elements,er=Vt.reference,dr=Vt.popper;if(vy(er,dr)){Qe.rects={reference:Q_(er,zu(dr),Qe.options.strategy==="fixed"),popper:uy(dr)},Qe.reset=!1,Qe.placement=Qe.options.placement,Qe.orderedModifiers.forEach(function(Qn){return Qe.modifiersData[Qn.name]=Object.assign({},Qn.data)});for(var on=0;on<Qe.orderedModifiers.length;on++)if(Qe.reset!==!0){var $n=Qe.orderedModifiers[on],Zt=$n.fn,yn=$n.options,Kn=yn===void 0?{}:yn,tr=$n.name;typeof Zt=="function"&&(Qe=Zt({state:Qe,options:Kn,name:tr,instance:jt})||Qe)}else Qe.reset=!1,on=-1}}},update:(it=function(){return new Promise(function(Vt){jt.forceUpdate(),Vt(Qe)})},function(){return ct||(ct=new Promise(function(Vt){Promise.resolve().then(function(){ct=void 0,Vt(it())})})),ct}),destroy:function(){Mt(),xt=!0}};if(!vy(fe,Te))return jt;function Mt(){Yt.forEach(function(Vt){return Vt()}),Yt=[]}return jt.setOptions(Ue).then(function(Vt){!xt&&Ue.onFirstUpdate&&Ue.onFirstUpdate(Vt)}),jt}}var _y=Ju(),Y_=Ju({defaultModifiers:[wl,Zu,Gu,am]}),Xu=Ju({defaultModifiers:[wl,Zu,Gu,am,wy,Yu,K_,xa,Gh]});const Ey=Object.freeze(Object.defineProperty({__proto__:null,afterMain:iy,afterRead:im,afterWrite:oy,applyStyles:am,arrow:xa,auto:Uh,basePlacements:Vu,beforeMain:om,beforeRead:ny,beforeWrite:H_,bottom:Ss,clippingParents:nm,computeStyles:Gu,createPopper:Xu,createPopperBase:_y,createPopperLite:Y_,detectOverflow:bl,end:gl,eventListeners:wl,flip:Yu,hide:Gh,left:ps,main:sy,modifierPhases:ay,offset:wy,placements:sm,popper:Ni,popperGenerator:Ju,popperOffsets:Zu,preventOverflow:K_,read:ry,reference:rm,right:xs,start:Bo,top:fs,variationPlacements:ty,viewport:yl,write:q_},Symbol.toStringTag,{value:"Module"})),Ay="dropdown",pi=".bs.dropdown",um=".data-api",Z_="ArrowUp",Cy="ArrowDown",J_=`hide${pi}`,dm=`hidden${pi}`,mi=`show${pi}`,X_=`shown${pi}`,Iy=`click${pi}${um}`,vl=`keydown${pi}${um}`,m=`keyup${pi}${um}`,R="show",$='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',z=`${$}.${R}`,ae=".dropdown-menu",he=v()?"top-end":"top-start",Be=v()?"top-start":"top-end",Gn=v()?"bottom-end":"bottom-start",es=v()?"bottom-start":"bottom-end",_n=v()?"left-start":"right-start",ms=v()?"right-start":"left-start",gs={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ed={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Tr extends oe{constructor(w,D){super(w,D),this._popper=null,this._parent=this._element.parentNode,this._menu=se.next(this._element,ae)[0]||se.prev(this._element,ae)[0]||se.findOne(ae,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return gs}static get DefaultType(){return ed}static get NAME(){return Ay}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const w={relatedTarget:this._element};if(!W.trigger(this._element,mi,w).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const D of[].concat(...document.body.children))W.on(D,"mouseover",f);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(R),this._element.classList.add(R),W.trigger(this._element,X_,w)}}hide(){if(d(this._element)||!this._isShown())return;const w={relatedTarget:this._element};this._completeHide(w)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(w){if(!W.trigger(this._element,J_,w).defaultPrevented){if("ontouchstart"in document.documentElement)for(const D of[].concat(...document.body.children))W.off(D,"mouseover",f);this._popper&&this._popper.destroy(),this._menu.classList.remove(R),this._element.classList.remove(R),this._element.setAttribute("aria-expanded","false"),Ie.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,dm,w)}}_getConfig(w){if(typeof(w=super._getConfig(w)).reference=="object"&&!c(w.reference)&&typeof w.reference.getBoundingClientRect!="function")throw new TypeError(`${Ay.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return w}_createPopper(){if(Ey===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let w=this._element;this._config.reference==="parent"?w=this._parent:c(this._config.reference)?w=l(this._config.reference):typeof this._config.reference=="object"&&(w=this._config.reference);const D=this._getPopperConfig();this._popper=Xu(w,this._menu,D)}_isShown(){return this._menu.classList.contains(R)}_getPlacement(){const w=this._parent;if(w.classList.contains("dropend"))return _n;if(w.classList.contains("dropstart"))return ms;if(w.classList.contains("dropup-center"))return"top";if(w.classList.contains("dropdown-center"))return"bottom";const D=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return w.classList.contains("dropup")?D?Be:he:D?es:Gn}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:w}=this._config;return typeof w=="string"?w.split(",").map(D=>Number.parseInt(D,10)):typeof w=="function"?D=>w(D,this._element):w}_getPopperConfig(){const w={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ie.setDataAttribute(this._menu,"popper","static"),w.modifiers=[{name:"applyStyles",enabled:!1}]),{...w,..._(this._config.popperConfig,[void 0,w])}}_selectMenuItem({key:w,target:D}){const q=se.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(re=>u(re));q.length&&C(q,D,w===Cy,!q.includes(D)).focus()}static jQueryInterface(w){return this.each(function(){const D=Tr.getOrCreateInstance(this,w);if(typeof w=="string"){if(D[w]===void 0)throw new TypeError(`No method named "${w}"`);D[w]()}})}static clearMenus(w){if(w.button===2||w.type==="keyup"&&w.key!=="Tab")return;const D=se.find(z);for(const q of D){const re=Tr.getInstance(q);if(!re||re._config.autoClose===!1)continue;const ie=w.composedPath(),fe=ie.includes(re._menu);if(ie.includes(re._element)||re._config.autoClose==="inside"&&!fe||re._config.autoClose==="outside"&&fe||re._menu.contains(w.target)&&(w.type==="keyup"&&w.key==="Tab"||/input|select|option|textarea|form/i.test(w.target.tagName)))continue;const Te={relatedTarget:re._element};w.type==="click"&&(Te.clickEvent=w),re._completeHide(Te)}}static dataApiKeydownHandler(w){const D=/input|textarea/i.test(w.target.tagName),q=w.key==="Escape",re=[Z_,Cy].includes(w.key);if(!re&&!q||D&&!q)return;w.preventDefault();const ie=this.matches($)?this:se.prev(this,$)[0]||se.next(this,$)[0]||se.findOne($,w.delegateTarget.parentNode),fe=Tr.getOrCreateInstance(ie);if(re)return w.stopPropagation(),fe.show(),void fe._selectMenuItem(w);fe._isShown()&&(w.stopPropagation(),fe.hide(),ie.focus())}}W.on(document,vl,$,Tr.dataApiKeydownHandler),W.on(document,vl,ae,Tr.dataApiKeydownHandler),W.on(document,Iy,Tr.clearMenus),W.on(document,m,Tr.clearMenus),W.on(document,Iy,$,function(U){U.preventDefault(),Tr.getOrCreateInstance(this).toggle()}),b(Tr);const Qh="backdrop",hm="show",p3=`mousedown.bs.${Qh}`,jJ={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},VJ={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class m3 extends Ve{constructor(w){super(),this._config=this._getConfig(w),this._isAppended=!1,this._element=null}static get Default(){return jJ}static get DefaultType(){return VJ}static get NAME(){return Qh}show(w){if(!this._config.isVisible)return void _(w);this._append();const D=this._getElement();this._config.isAnimated&&p(D),D.classList.add(hm),this._emulateAnimation(()=>{_(w)})}hide(w){this._config.isVisible?(this._getElement().classList.remove(hm),this._emulateAnimation(()=>{this.dispose(),_(w)})):_(w)}dispose(){this._isAppended&&(W.off(this._element,p3),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const w=document.createElement("div");w.className=this._config.className,this._config.isAnimated&&w.classList.add("fade"),this._element=w}return this._element}_configAfterMerge(w){return w.rootElement=l(w.rootElement),w}_append(){if(this._isAppended)return;const w=this._getElement();this._config.rootElement.append(w),W.on(w,p3,()=>{_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(w){S(w,this._getElement(),this._config.isAnimated)}}const e1=".bs.focustrap",HJ=`focusin${e1}`,qJ=`keydown.tab${e1}`,g3="backward",zJ={autofocus:!0,trapElement:null},WJ={autofocus:"boolean",trapElement:"element"};class y3 extends Ve{constructor(w){super(),this._config=this._getConfig(w),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return zJ}static get DefaultType(){return WJ}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),W.off(document,e1),W.on(document,HJ,w=>this._handleFocusin(w)),W.on(document,qJ,w=>this._handleKeydown(w)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,W.off(document,e1))}_handleFocusin(w){const{trapElement:D}=this._config;if(w.target===document||w.target===D||D.contains(w.target))return;const q=se.focusableChildren(D);q.length===0?D.focus():this._lastTabNavDirection===g3?q[q.length-1].focus():q[0].focus()}_handleKeydown(w){w.key==="Tab"&&(this._lastTabNavDirection=w.shiftKey?g3:"forward")}}const w3=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",b3=".sticky-top",t1="padding-right",v3="margin-right";class bS{constructor(){this._element=document.body}getWidth(){const w=document.documentElement.clientWidth;return Math.abs(window.innerWidth-w)}hide(){const w=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,t1,D=>D+w),this._setElementAttributes(w3,t1,D=>D+w),this._setElementAttributes(b3,v3,D=>D-w)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,t1),this._resetElementAttributes(w3,t1),this._resetElementAttributes(b3,v3)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(w,D,q){const re=this.getWidth();this._applyManipulationCallback(w,ie=>{if(ie!==this._element&&window.innerWidth>ie.clientWidth+re)return;this._saveInitialAttribute(ie,D);const fe=window.getComputedStyle(ie).getPropertyValue(D);ie.style.setProperty(D,`${q(Number.parseFloat(fe))}px`)})}_saveInitialAttribute(w,D){const q=w.style.getPropertyValue(D);q&&Ie.setDataAttribute(w,D,q)}_resetElementAttributes(w,D){this._applyManipulationCallback(w,q=>{const re=Ie.getDataAttribute(q,D);re!==null?(Ie.removeDataAttribute(q,D),q.style.setProperty(D,re)):q.style.removeProperty(D)})}_applyManipulationCallback(w,D){if(c(w))D(w);else for(const q of se.find(w,this._element))D(q)}}const Vo=".bs.modal",GJ=`hide${Vo}`,KJ=`hidePrevented${Vo}`,_3=`hidden${Vo}`,E3=`show${Vo}`,QJ=`shown${Vo}`,YJ=`resize${Vo}`,ZJ=`click.dismiss${Vo}`,JJ=`mousedown.dismiss${Vo}`,XJ=`keydown.dismiss${Vo}`,eX=`click${Vo}.data-api`,A3="modal-open",C3="show",vS="modal-static",tX={backdrop:!0,focus:!0,keyboard:!0},nX={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Yh extends oe{constructor(w,D){super(w,D),this._dialog=se.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new bS,this._addEventListeners()}static get Default(){return tX}static get DefaultType(){return nX}static get NAME(){return"modal"}toggle(w){return this._isShown?this.hide():this.show(w)}show(w){this._isShown||this._isTransitioning||W.trigger(this._element,E3,{relatedTarget:w}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(A3),this._adjustDialog(),this._backdrop.show(()=>this._showElement(w)))}hide(){this._isShown&&!this._isTransitioning&&(W.trigger(this._element,GJ).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(C3),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){W.off(window,Vo),W.off(this._dialog,Vo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new m3({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new y3({trapElement:this._element})}_showElement(w){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const D=se.findOne(".modal-body",this._dialog);D&&(D.scrollTop=0),p(this._element),this._element.classList.add(C3),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,W.trigger(this._element,QJ,{relatedTarget:w})},this._dialog,this._isAnimated())}_addEventListeners(){W.on(this._element,XJ,w=>{w.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),W.on(window,YJ,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),W.on(this._element,JJ,w=>{W.one(this._element,ZJ,D=>{this._element===w.target&&this._element===D.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(A3),this._resetAdjustments(),this._scrollBar.reset(),W.trigger(this._element,_3)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(W.trigger(this._element,KJ).defaultPrevented)return;const w=this._element.scrollHeight>document.documentElement.clientHeight,D=this._element.style.overflowY;D==="hidden"||this._element.classList.contains(vS)||(w||(this._element.style.overflowY="hidden"),this._element.classList.add(vS),this._queueCallback(()=>{this._element.classList.remove(vS),this._queueCallback(()=>{this._element.style.overflowY=D},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const w=this._element.scrollHeight>document.documentElement.clientHeight,D=this._scrollBar.getWidth(),q=D>0;if(q&&!w){const re=v()?"paddingLeft":"paddingRight";this._element.style[re]=`${D}px`}if(!q&&w){const re=v()?"paddingRight":"paddingLeft";this._element.style[re]=`${D}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(w,D){return this.each(function(){const q=Yh.getOrCreateInstance(this,w);if(typeof w=="string"){if(q[w]===void 0)throw new TypeError(`No method named "${w}"`);q[w](D)}})}}W.on(document,eX,'[data-bs-toggle="modal"]',function(U){const w=se.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&U.preventDefault(),W.one(w,E3,q=>{q.defaultPrevented||W.one(w,_3,()=>{u(this)&&this.focus()})});const D=se.findOne(".modal.show");D&&Yh.getInstance(D).hide(),Yh.getOrCreateInstance(w).toggle(this)}),Pe(Yh),b(Yh);const _l=".bs.offcanvas",I3=".data-api",rX=`load${_l}${I3}`,T3="show",S3="showing",x3="hiding",P3=".offcanvas.show",sX=`show${_l}`,iX=`shown${_l}`,oX=`hide${_l}`,R3=`hidePrevented${_l}`,N3=`hidden${_l}`,aX=`resize${_l}`,cX=`click${_l}${I3}`,lX=`keydown.dismiss${_l}`,uX={backdrop:!0,keyboard:!0,scroll:!1},dX={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class El extends oe{constructor(w,D){super(w,D),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return uX}static get DefaultType(){return dX}static get NAME(){return"offcanvas"}toggle(w){return this._isShown?this.hide():this.show(w)}show(w){this._isShown||W.trigger(this._element,sX,{relatedTarget:w}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new bS().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(S3),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(T3),this._element.classList.remove(S3),W.trigger(this._element,iX,{relatedTarget:w})},this._element,!0))}hide(){this._isShown&&(W.trigger(this._element,oX).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(x3),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(T3,x3),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new bS().reset(),W.trigger(this._element,N3)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const w=!!this._config.backdrop;return new m3({className:"offcanvas-backdrop",isVisible:w,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:w?()=>{this._config.backdrop!=="static"?this.hide():W.trigger(this._element,R3)}:null})}_initializeFocusTrap(){return new y3({trapElement:this._element})}_addEventListeners(){W.on(this._element,lX,w=>{w.key==="Escape"&&(this._config.keyboard?this.hide():W.trigger(this._element,R3))})}static jQueryInterface(w){return this.each(function(){const D=El.getOrCreateInstance(this,w);if(typeof w=="string"){if(D[w]===void 0||w.startsWith("_")||w==="constructor")throw new TypeError(`No method named "${w}"`);D[w](this)}})}}W.on(document,cX,'[data-bs-toggle="offcanvas"]',function(U){const w=se.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&U.preventDefault(),d(this))return;W.one(w,N3,()=>{u(this)&&this.focus()});const D=se.findOne(P3);D&&D!==w&&El.getInstance(D).hide(),El.getOrCreateInstance(w).toggle(this)}),W.on(window,rX,()=>{for(const U of se.find(P3))El.getOrCreateInstance(U).show()}),W.on(window,aX,()=>{for(const U of se.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(U).position!=="fixed"&&El.getOrCreateInstance(U).hide()}),Pe(El),b(El);const k3={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},hX=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,pX=(U,w)=>{const D=U.nodeName.toLowerCase();return w.includes(D)?!hX.has(D)||!!fX.test(U.nodeValue):w.filter(q=>q instanceof RegExp).some(q=>q.test(D))},mX={allowList:k3,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},gX={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},yX={entry:"(string|element|function|null)",selector:"(string|element)"};class wX extends Ve{constructor(w){super(),this._config=this._getConfig(w)}static get Default(){return mX}static get DefaultType(){return gX}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(w=>this._resolvePossibleFunction(w)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(w){return this._checkContent(w),this._config.content={...this._config.content,...w},this}toHtml(){const w=document.createElement("div");w.innerHTML=this._maybeSanitize(this._config.template);for(const[re,ie]of Object.entries(this._config.content))this._setContent(w,ie,re);const D=w.children[0],q=this._resolvePossibleFunction(this._config.extraClass);return q&&D.classList.add(...q.split(" ")),D}_typeCheckConfig(w){super._typeCheckConfig(w),this._checkContent(w.content)}_checkContent(w){for(const[D,q]of Object.entries(w))super._typeCheckConfig({selector:D,entry:q},yX)}_setContent(w,D,q){const re=se.findOne(q,w);re&&((D=this._resolvePossibleFunction(D))?c(D)?this._putElementInTemplate(l(D),re):this._config.html?re.innerHTML=this._maybeSanitize(D):re.textContent=D:re.remove())}_maybeSanitize(w){return this._config.sanitize?(function(D,q,re){if(!D.length)return D;if(re&&typeof re=="function")return re(D);const ie=new window.DOMParser().parseFromString(D,"text/html"),fe=[].concat(...ie.body.querySelectorAll("*"));for(const Te of fe){const Ue=Te.nodeName.toLowerCase();if(!Object.keys(q).includes(Ue)){Te.remove();continue}const it=[].concat(...Te.attributes),ct=[].concat(q["*"]||[],q[Ue]||[]);for(const Qe of it)pX(Qe,ct)||Te.removeAttribute(Qe.nodeName)}return ie.body.innerHTML})(w,this._config.allowList,this._config.sanitizeFn):w}_resolvePossibleFunction(w){return _(w,[void 0,this])}_putElementInTemplate(w,D){if(this._config.html)return D.innerHTML="",void D.append(w);D.textContent=w.textContent}}const bX=new Set(["sanitize","allowList","sanitizeFn"]),_S="fade",n1="show",vX=".tooltip-inner",O3=".modal",D3="hide.bs.modal",Ty="hover",ES="focus",AS="click",_X={AUTO:"auto",TOP:"top",RIGHT:v()?"left":"right",BOTTOM:"bottom",LEFT:v()?"right":"left"},EX={allowList:k3,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},AX={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Zh extends oe{constructor(w,D){if(Ey===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(w,D),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return EX}static get DefaultType(){return AX}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),W.off(this._element.closest(O3),D3,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const w=W.trigger(this._element,this.constructor.eventName("show")),D=(h(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(w.defaultPrevented||!D)return;this._disposePopper();const q=this._getTipElement();this._element.setAttribute("aria-describedby",q.getAttribute("id"));const{container:re}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(re.append(q),W.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(q),q.classList.add(n1),"ontouchstart"in document.documentElement)for(const ie of[].concat(...document.body.children))W.on(ie,"mouseover",f);this._queueCallback(()=>{W.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!W.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(n1),"ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))W.off(w,"mouseover",f);this._activeTrigger[AS]=!1,this._activeTrigger[ES]=!1,this._activeTrigger[Ty]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),W.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(w){const D=this._getTemplateFactory(w).toHtml();if(!D)return null;D.classList.remove(_S,n1),D.classList.add(`bs-${this.constructor.NAME}-auto`);const q=(re=>{do re+=Math.floor(1e6*Math.random());while(document.getElementById(re));return re})(this.constructor.NAME).toString();return D.setAttribute("id",q),this._isAnimated()&&D.classList.add(_S),D}setContent(w){this._newContent=w,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(w){return this._templateFactory?this._templateFactory.changeContent(w):this._templateFactory=new wX({...this._config,content:w,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[vX]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(w){return this.constructor.getOrCreateInstance(w.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(_S)}_isShown(){return this.tip&&this.tip.classList.contains(n1)}_createPopper(w){const D=_(this._config.placement,[this,w,this._element]),q=_X[D.toUpperCase()];return Xu(this._element,w,this._getPopperConfig(q))}_getOffset(){const{offset:w}=this._config;return typeof w=="string"?w.split(",").map(D=>Number.parseInt(D,10)):typeof w=="function"?D=>w(D,this._element):w}_resolvePossibleFunction(w){return _(w,[this._element,this._element])}_getPopperConfig(w){const D={placement:w,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:q=>{this._getTipElement().setAttribute("data-popper-placement",q.state.placement)}}]};return{...D,..._(this._config.popperConfig,[void 0,D])}}_setListeners(){const w=this._config.trigger.split(" ");for(const D of w)if(D==="click")W.on(this._element,this.constructor.eventName("click"),this._config.selector,q=>{const re=this._initializeOnDelegatedTarget(q);re._activeTrigger[AS]=!(re._isShown()&&re._activeTrigger[AS]),re.toggle()});else if(D!=="manual"){const q=D===Ty?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),re=D===Ty?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");W.on(this._element,q,this._config.selector,ie=>{const fe=this._initializeOnDelegatedTarget(ie);fe._activeTrigger[ie.type==="focusin"?ES:Ty]=!0,fe._enter()}),W.on(this._element,re,this._config.selector,ie=>{const fe=this._initializeOnDelegatedTarget(ie);fe._activeTrigger[ie.type==="focusout"?ES:Ty]=fe._element.contains(ie.relatedTarget),fe._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},W.on(this._element.closest(O3),D3,this._hideModalHandler)}_fixTitle(){const w=this._element.getAttribute("title");w&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",w),this._element.setAttribute("data-bs-original-title",w),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(w,D){clearTimeout(this._timeout),this._timeout=setTimeout(w,D)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(w){const D=Ie.getDataAttributes(this._element);for(const q of Object.keys(D))bX.has(q)&&delete D[q];return w={...D,...typeof w=="object"&&w?w:{}},w=this._mergeConfigObj(w),w=this._configAfterMerge(w),this._typeCheckConfig(w),w}_configAfterMerge(w){return w.container=w.container===!1?document.body:l(w.container),typeof w.delay=="number"&&(w.delay={show:w.delay,hide:w.delay}),typeof w.title=="number"&&(w.title=w.title.toString()),typeof w.content=="number"&&(w.content=w.content.toString()),w}_getDelegateConfig(){const w={};for(const[D,q]of Object.entries(this._config))this.constructor.Default[D]!==q&&(w[D]=q);return w.selector=!1,w.trigger="manual",w}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(w){return this.each(function(){const D=Zh.getOrCreateInstance(this,w);if(typeof w=="string"){if(D[w]===void 0)throw new TypeError(`No method named "${w}"`);D[w]()}})}}b(Zh);const CX=".popover-header",IX=".popover-body",TX={...Zh.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},SX={...Zh.DefaultType,content:"(null|string|element|function)"};class r1 extends Zh{static get Default(){return TX}static get DefaultType(){return SX}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[CX]:this._getTitle(),[IX]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(w){return this.each(function(){const D=r1.getOrCreateInstance(this,w);if(typeof w=="string"){if(D[w]===void 0)throw new TypeError(`No method named "${w}"`);D[w]()}})}}b(r1);const CS=".bs.scrollspy",xX=`activate${CS}`,M3=`click${CS}`,PX=`load${CS}.data-api`,fm="active",IS="[href]",L3=".nav-link",RX=`${L3}, .nav-item > ${L3}, .list-group-item`,NX={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},kX={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Sy extends oe{constructor(w,D){super(w,D),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return NX}static get DefaultType(){return kX}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const w of this._observableSections.values())this._observer.observe(w)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(w){return w.target=l(w.target)||document.body,w.rootMargin=w.offset?`${w.offset}px 0px -30%`:w.rootMargin,typeof w.threshold=="string"&&(w.threshold=w.threshold.split(",").map(D=>Number.parseFloat(D))),w}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(W.off(this._config.target,M3),W.on(this._config.target,M3,IS,w=>{const D=this._observableSections.get(w.target.hash);if(D){w.preventDefault();const q=this._rootElement||window,re=D.offsetTop-this._element.offsetTop;if(q.scrollTo)return void q.scrollTo({top:re,behavior:"smooth"});q.scrollTop=re}}))}_getNewObserver(){const w={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(D=>this._observerCallback(D),w)}_observerCallback(w){const D=fe=>this._targetLinks.get(`#${fe.target.id}`),q=fe=>{this._previousScrollData.visibleEntryTop=fe.target.offsetTop,this._process(D(fe))},re=(this._rootElement||document.documentElement).scrollTop,ie=re>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=re;for(const fe of w){if(!fe.isIntersecting){this._activeTarget=null,this._clearActiveClass(D(fe));continue}const Te=fe.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ie&&Te){if(q(fe),!re)return}else ie||Te||q(fe)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const w=se.find(IS,this._config.target);for(const D of w){if(!D.hash||d(D))continue;const q=se.findOne(decodeURI(D.hash),this._element);u(q)&&(this._targetLinks.set(decodeURI(D.hash),D),this._observableSections.set(D.hash,q))}}_process(w){this._activeTarget!==w&&(this._clearActiveClass(this._config.target),this._activeTarget=w,w.classList.add(fm),this._activateParents(w),W.trigger(this._element,xX,{relatedTarget:w}))}_activateParents(w){if(w.classList.contains("dropdown-item"))se.findOne(".dropdown-toggle",w.closest(".dropdown")).classList.add(fm);else for(const D of se.parents(w,".nav, .list-group"))for(const q of se.prev(D,RX))q.classList.add(fm)}_clearActiveClass(w){w.classList.remove(fm);const D=se.find(`${IS}.${fm}`,w);for(const q of D)q.classList.remove(fm)}static jQueryInterface(w){return this.each(function(){const D=Sy.getOrCreateInstance(this,w);if(typeof w=="string"){if(D[w]===void 0||w.startsWith("_")||w==="constructor")throw new TypeError(`No method named "${w}"`);D[w]()}})}}W.on(window,PX,()=>{for(const U of se.find('[data-bs-spy="scroll"]'))Sy.getOrCreateInstance(U)}),b(Sy);const Jh=".bs.tab",OX=`hide${Jh}`,DX=`hidden${Jh}`,MX=`show${Jh}`,LX=`shown${Jh}`,BX=`click${Jh}`,$X=`keydown${Jh}`,UX=`load${Jh}`,FX="ArrowLeft",B3="ArrowRight",jX="ArrowUp",$3="ArrowDown",TS="Home",U3="End",Xh="active",F3="fade",SS="show",j3=".dropdown-toggle",xS=`:not(${j3})`,V3='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',PS=`.nav-link${xS}, .list-group-item${xS}, [role="tab"]${xS}, ${V3}`,VX=`.${Xh}[data-bs-toggle="tab"], .${Xh}[data-bs-toggle="pill"], .${Xh}[data-bs-toggle="list"]`;class ef extends oe{constructor(w){super(w),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),W.on(this._element,$X,D=>this._keydown(D)))}static get NAME(){return"tab"}show(){const w=this._element;if(this._elemIsActive(w))return;const D=this._getActiveElem(),q=D?W.trigger(D,OX,{relatedTarget:w}):null;W.trigger(w,MX,{relatedTarget:D}).defaultPrevented||q&&q.defaultPrevented||(this._deactivate(D,w),this._activate(w,D))}_activate(w,D){w&&(w.classList.add(Xh),this._activate(se.getElementFromSelector(w)),this._queueCallback(()=>{w.getAttribute("role")==="tab"?(w.removeAttribute("tabindex"),w.setAttribute("aria-selected",!0),this._toggleDropDown(w,!0),W.trigger(w,LX,{relatedTarget:D})):w.classList.add(SS)},w,w.classList.contains(F3)))}_deactivate(w,D){w&&(w.classList.remove(Xh),w.blur(),this._deactivate(se.getElementFromSelector(w)),this._queueCallback(()=>{w.getAttribute("role")==="tab"?(w.setAttribute("aria-selected",!1),w.setAttribute("tabindex","-1"),this._toggleDropDown(w,!1),W.trigger(w,DX,{relatedTarget:D})):w.classList.remove(SS)},w,w.classList.contains(F3)))}_keydown(w){if(![FX,B3,jX,$3,TS,U3].includes(w.key))return;w.stopPropagation(),w.preventDefault();const D=this._getChildren().filter(re=>!d(re));let q;if([TS,U3].includes(w.key))q=D[w.key===TS?0:D.length-1];else{const re=[B3,$3].includes(w.key);q=C(D,w.target,re,!0)}q&&(q.focus({preventScroll:!0}),ef.getOrCreateInstance(q).show())}_getChildren(){return se.find(PS,this._parent)}_getActiveElem(){return this._getChildren().find(w=>this._elemIsActive(w))||null}_setInitialAttributes(w,D){this._setAttributeIfNotExists(w,"role","tablist");for(const q of D)this._setInitialAttributesOnChild(q)}_setInitialAttributesOnChild(w){w=this._getInnerElement(w);const D=this._elemIsActive(w),q=this._getOuterElement(w);w.setAttribute("aria-selected",D),q!==w&&this._setAttributeIfNotExists(q,"role","presentation"),D||w.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(w,"role","tab"),this._setInitialAttributesOnTargetPanel(w)}_setInitialAttributesOnTargetPanel(w){const D=se.getElementFromSelector(w);D&&(this._setAttributeIfNotExists(D,"role","tabpanel"),w.id&&this._setAttributeIfNotExists(D,"aria-labelledby",`${w.id}`))}_toggleDropDown(w,D){const q=this._getOuterElement(w);if(!q.classList.contains("dropdown"))return;const re=(ie,fe)=>{const Te=se.findOne(ie,q);Te&&Te.classList.toggle(fe,D)};re(j3,Xh),re(".dropdown-menu",SS),q.setAttribute("aria-expanded",D)}_setAttributeIfNotExists(w,D,q){w.hasAttribute(D)||w.setAttribute(D,q)}_elemIsActive(w){return w.classList.contains(Xh)}_getInnerElement(w){return w.matches(PS)?w:se.findOne(PS,w)}_getOuterElement(w){return w.closest(".nav-item, .list-group-item")||w}static jQueryInterface(w){return this.each(function(){const D=ef.getOrCreateInstance(this);if(typeof w=="string"){if(D[w]===void 0||w.startsWith("_")||w==="constructor")throw new TypeError(`No method named "${w}"`);D[w]()}})}}W.on(document,BX,V3,function(U){["A","AREA"].includes(this.tagName)&&U.preventDefault(),d(this)||ef.getOrCreateInstance(this).show()}),W.on(window,UX,()=>{for(const U of se.find(VX))ef.getOrCreateInstance(U)}),b(ef);const td=".bs.toast",HX=`mouseover${td}`,qX=`mouseout${td}`,zX=`focusin${td}`,WX=`focusout${td}`,GX=`hide${td}`,KX=`hidden${td}`,QX=`show${td}`,YX=`shown${td}`,H3="hide",s1="show",i1="showing",ZX={animation:"boolean",autohide:"boolean",delay:"number"},JX={animation:!0,autohide:!0,delay:5e3};class xy extends oe{constructor(w,D){super(w,D),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return JX}static get DefaultType(){return ZX}static get NAME(){return"toast"}show(){W.trigger(this._element,QX).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(H3),p(this._element),this._element.classList.add(s1,i1),this._queueCallback(()=>{this._element.classList.remove(i1),W.trigger(this._element,YX),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(W.trigger(this._element,GX).defaultPrevented||(this._element.classList.add(i1),this._queueCallback(()=>{this._element.classList.add(H3),this._element.classList.remove(i1,s1),W.trigger(this._element,KX)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(s1),super.dispose()}isShown(){return this._element.classList.contains(s1)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(w,D){switch(w.type){case"mouseover":case"mouseout":this._hasMouseInteraction=D;break;case"focusin":case"focusout":this._hasKeyboardInteraction=D}if(D)return void this._clearTimeout();const q=w.relatedTarget;this._element===q||this._element.contains(q)||this._maybeScheduleHide()}_setListeners(){W.on(this._element,HX,w=>this._onInteraction(w,!0)),W.on(this._element,qX,w=>this._onInteraction(w,!1)),W.on(this._element,zX,w=>this._onInteraction(w,!0)),W.on(this._element,WX,w=>this._onInteraction(w,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(w){return this.each(function(){const D=xy.getOrCreateInstance(this,w);if(typeof w=="string"){if(D[w]===void 0)throw new TypeError(`No method named "${w}"`);D[w](this)}})}}return Pe(xy),b(xy),{Alert:ne,Button:we,Carousel:Nr,Collapse:ml,Dropdown:Tr,Modal:Yh,Offcanvas:El,Popover:r1,ScrollSpy:Sy,Tab:ef,Toast:xy,Tooltip:Zh}})})(JE)),JE.exports}OKe();const DKe=new cJ,MKe=p7(Gxe).use(GVe,{config:hWe}).use(NKe).use(NHe,{queryClient:DKe}).use(dGe,{position:qv.TOP_RIGHT,timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1});MKe.mount("#app");export{At as $,jKe as A,Th as B,vo as C,ln as D,As as E,Pr as F,Wa as G,J7 as H,Dr as I,v0 as J,ULe as K,Qv as L,UKe as M,Kv as N,IE as O,tZe as P,Wi as Q,ve as R,ur as S,Rn as T,ut as U,rt as V,Bc as W,K as X,In as Y,E7 as Z,kI as _,tQe as a,sQe as a$,qs as a0,Vs as a1,oz as a2,ore as a3,Do as a4,Tt as a5,qe as a6,le as a7,Po as a8,us as a9,UHe as aA,v7 as aB,Fi as aC,pA as aD,Qk as aE,lh as aF,GKe as aG,VI as aH,Yk as aI,zKe as aJ,qKe as aK,FI as aL,dA as aM,Bse as aN,jse as aO,TQe as aP,zie as aQ,Se as aR,az as aS,VR as aT,Vg as aU,GZ as aV,WVe as aW,yo as aX,nQe as aY,lie as aZ,rQe as a_,Ure as aa,Sr as ab,dO as ac,Le as ad,aZe as ae,If as af,rl as ag,rv as ah,an as ai,Yr as aj,hn as ak,Nd as al,rV as am,fT as an,ke as ao,Xk as ap,ma as aq,ioe as ar,cae as as,Qj as at,Og as au,lj as av,Sw as aw,uh as ax,vn as ay,hSe as az,fA as b,C0 as b$,hA as b0,oQe as b1,Joe as b2,LI as b3,no as b4,cs as b5,t_ as b6,Oie as b7,nl as b8,op as b9,hE as bA,fSe as bB,uGe as bC,fWe as bD,$Ke as bE,mte as bF,Eo as bG,jn as bH,ure as bI,AE as bJ,uA as bK,as as bL,jR as bM,Oc as bN,wce as bO,WKe as bP,zk as bQ,BI as bR,Vie as bS,br as bT,Mj as bU,dl as bV,mA as bW,Lj as bX,dae as bY,$j as bZ,Aae as b_,uQe as ba,KKe as bb,kg as bc,gg as bd,uJ as be,_k as bf,wz as bg,hWe as bh,uxe as bi,_xe as bj,wxe as bk,gt as bl,vt as bm,rr as bn,dSe as bo,Ar as bp,hb as bq,Pw as br,L2 as bs,$a as bt,jI as bu,An as bv,aa as bw,wt as bx,nZe as by,w0 as bz,ip as c,dce as c$,cO as c0,wA as c1,Jj as c2,Wae as c3,zae as c4,wb as c5,Gae as c6,lae as c7,b2 as c8,V7 as c9,sV as cA,xae as cB,bj as cC,Voe as cD,MI as cE,eO as cF,nO as cG,HI as cH,sj as cI,Eae as cJ,EQe as cK,_Qe as cL,vQe as cM,Lg as cN,Gl as cO,wQe as cP,Fj as cQ,bQe as cR,Cae as cS,Rae as cT,NQe as cU,zj as cV,OQe as cW,eQe as cX,xoe as cY,yoe as cZ,kb as c_,rp as ca,Jae as cb,Ng as cc,Yd as cd,kie as ce,Gj as cf,vA as cg,woe as ch,K7 as ci,Wj as cj,RQe as ck,SQe as cl,Zj as cm,PQe as cn,xQe as co,qI as cp,sO as cq,rO as cr,Dae as cs,Mse as ct,E0 as cu,G7 as cv,lQe as cw,QKe as cx,UI as cy,tl as cz,sp as d,Su as d$,lce as d0,uce as d1,Yae as d2,aO as d3,cce as d4,ox as d5,Hoe as d6,hQe as d7,Aj as d8,fQe as d9,X7e as dA,da as dB,sh as dC,Hr as dD,Jf as dE,oS as dF,$5 as dG,M_ as dH,We as dI,Zc as dJ,Y0 as dK,z5 as dL,q5 as dM,QE as dN,lS as dO,G5 as dP,W5 as dQ,Tg as dR,vw as dS,vr as dT,Jc as dU,f5 as dV,Hs as dW,Lv as dX,yt as dY,HUe as dZ,Fs as d_,kj as da,Dj as db,ece as dc,tV as dd,lO as de,L7 as df,r_ as dg,Xi as dh,boe as di,mj as dj,Xae as dk,Xoe as dl,yQe as dm,gQe as dn,ZO as dp,nV as dq,rg as dr,W7 as ds,kQe as dt,H9 as du,lee as dv,Cce as dw,Rxe as dx,db as dy,tu as dz,xn as e,h0 as e0,XUe as e1,nZ as e2,U7e as e3,Ih as e4,B5 as e5,fZ as e6,uS as e7,hZ as e8,rZ as e9,fZe as ea,hZe as eb,Z7e as ec,nje as ed,jv as ee,J7e as ef,e3 as f,Lt as g,pt as h,Xt as i,Q as j,pqe as k,ii as l,Cf as m,Kd as n,Lp as o,Jn as p,qqe as q,Ct as r,_c as s,qk as t,Bz as u,FKe as v,BKe as w,VKe as x,Qr as y,f7 as z};
