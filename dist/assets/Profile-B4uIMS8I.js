import{_ as I,u as W,r as p,o as O,f as _,g as n,h as i,i as A,j as s,n as g,k as z,l as o,F as U,m as E,p as k,w as c,v as f,y as h,A as P,z as j,q}from"./index-NVPnfjv5.js";const H={class:"profile-page"},J={class:"profile-hero padding-large"},X={class:"container"},G={class:"row"},K={class:"col-12"},Q={class:"profile-header text-center"},Y={class:"profile-avatar"},Z=["src"],ss={class:"profile-name"},es={class:"profile-email"},ts={class:"profile-level"},as={class:"level-badge"},ls={class:"level-progress"},os={class:"profile-stats padding-large"},ns={class:"container"},is={class:"row"},rs={class:"col-lg-3 col-md-6 mb-4"},ds={class:"stat-card"},cs={class:"stat-content"},us={class:"stat-value"},vs={class:"col-lg-3 col-md-6 mb-4"},ps={class:"stat-card"},fs={class:"stat-content"},ms={class:"stat-value"},ys={class:"col-lg-3 col-md-6 mb-4"},gs={class:"stat-card"},bs={class:"stat-content"},ws={class:"stat-value"},_s={class:"col-lg-3 col-md-6 mb-4"},ks={class:"stat-card"},hs={class:"stat-content"},Ps={class:"stat-value"},Cs={class:"profile-content padding-large"},Ns={class:"container"},As={class:"row"},Us={class:"col-lg-3"},Es={class:"profile-nav"},Ds=["onClick"],xs={class:"col-lg-9"},Fs={class:"profile-tab-content"},Ms={key:0,class:"tab-panel"},Vs={class:"form-section"},$s={class:"form-group"},Ss={class:"form-group"},Bs={class:"form-group"},Ts={class:"form-group"},Rs={key:1,class:"tab-panel"},Ls={class:"security-section"},Is={class:"security-item"},Ws={key:2,class:"tab-panel"},Os={class:"activity-list"},zs={class:"activity-icon"},js={class:"activity-content"},qs={class:"activity-time"},Hs={key:0,class:"activity-amount"},Js={key:0,class:"amount-positive"},Xs={key:1,class:"amount-negative"},Gs={key:3,class:"tab-panel"},Ks={class:"settings-section"},Qs={class:"setting-item"},Ys={class:"setting-toggle"},Zs={class:"setting-item"},se={class:"setting-toggle"},ee={class:"setting-item"},te={class:"setting-toggle"},ae={class:"modal-header"},le={class:"modal-body"},oe={class:"form-group"},ne={class:"form-group"},ie={class:"form-group"},re={class:"modal-actions"},de={__name:"Profile",setup(ce){W();const{currentUser:r,updateUserData:D}=_(),m=p("personal"),y=p(!1),x=p([{id:"personal",name:"Personal Info",icon:"fas fa-user"},{id:"security",name:"Security",icon:"fas fa-shield-alt"},{id:"activity",name:"Activity",icon:"fas fa-history"},{id:"settings",name:"Settings",icon:"fas fa-cog"}]),a=p({displayName:"",email:"",avatar:"",bio:"",location:"",level:"F0",experience:0,tokenBalance:0,totalEarned:0,referralCount:0,referralEarnings:0,referralCode:"",daysActive:0,createdAt:null}),v=p({emailNotifications:!0,pushNotifications:!0,darkMode:!0}),u=p({currentPassword:"",newPassword:"",confirmPassword:""}),b=p([]),C=async()=>{if(r.value)try{const{getUserData:l}=_(),e=await l();e.success&&e.data.transactions?b.value=e.data.transactions.slice(0,10).map((t,d)=>({id:d+1,title:t.type||"Transaction",description:t.description||`${t.fromToken} to ${t.toToken}`,amount:t.amount||0,icon:F(t.type),timestamp:t.timestamp?new Date(t.timestamp):new Date})):b.value=[]}catch(l){console.error("Failed to load recent activities:",l),b.value=[]}},F=l=>{const e={swap:"fas fa-exchange-alt",referral:"fas fa-users",task:"fas fa-tasks",game:"fas fa-gamepad",checkin:"fas fa-calendar-check",default:"fas fa-circle"};return e[l]||e.default},M=()=>{console.log("Edit avatar clicked")},V=async()=>{try{await D({displayName:a.value.displayName,bio:a.value.bio,location:a.value.location}),alert("Profile updated successfully!")}catch(l){alert("Failed to update profile: "+l.message)}},$=async()=>{if(u.value.newPassword!==u.value.confirmPassword){alert("New passwords do not match!");return}console.log("Changing password..."),alert("Password changed successfully!"),y.value=!1,u.value={currentPassword:"",newPassword:"",confirmPassword:""}},S=()=>{alert("2FA setup functionality will be implemented here")},B=()=>{alert("Wallet management functionality will be implemented here")},T=()=>{console.log("Settings saved:",v.value),alert("Settings saved successfully!")},R=l=>{const t=new Date-l,d=Math.floor(t/(1e3*60*60)),w=Math.floor(d/24);return w>0?`${w} day${w>1?"s":""} ago`:d>0?`${d} hour${d>1?"s":""} ago`:"Just now"},N=async()=>{if(r.value)try{const{getUserData:l}=_(),e=await l();if(e.success){const t=e.data,d=t.createdAt?new Date(t.createdAt.toDate()):new Date,L=Math.floor((new Date-d)/(1e3*60*60*24));a.value={displayName:t.displayName||r.value.displayName||"",email:t.email||r.value.email||"",avatar:t.photoURL||r.value.photoURL||"",bio:t.bio||"",location:t.location||"",level:t.level||"F0",experience:t.experience||0,tokenBalance:t.tokenBalance||0,totalEarned:t.totalEarned||0,referralCount:t.referralCount||0,referralEarnings:t.referralEarnings||0,referralCode:t.referralCode||"",daysActive:L,createdAt:d}}else a.value={displayName:r.value.displayName||"",email:r.value.email||"",avatar:r.value.photoURL||"",bio:"",location:"",level:"F0",experience:0,tokenBalance:0,totalEarned:0,referralCount:0,referralEarnings:0,referralCode:"",daysActive:0,createdAt:new Date}}catch(l){console.error("Failed to load user profile:",l),a.value={displayName:r.value.displayName||"",email:r.value.email||"",avatar:r.value.photoURL||"",bio:"",location:"",level:"F0",experience:0,tokenBalance:0,totalEarned:0,referralCount:0,referralEarnings:0,referralCode:"",daysActive:0,createdAt:new Date}}};return O(async()=>{await N(),await C()}),watch(r,async l=>{l?(await N(),await C()):(a.value={displayName:"",email:"",avatar:"",bio:"",location:"",level:"F0",experience:0,tokenBalance:0,totalEarned:0,referralCount:0,referralEarnings:0,referralCode:"",daysActive:0,createdAt:null},b.value=[])}),(l,e)=>(i(),n("div",H,[A(z),s("section",J,[s("div",X,[s("div",G,[s("div",K,[s("div",Q,[s("div",Y,[s("img",{src:a.value.avatar||"/src/assets/images/default-avatar.png",alt:"Profile Avatar"},null,8,Z),s("button",{class:"avatar-edit-btn",onClick:M},[...e[15]||(e[15]=[s("i",{class:"fas fa-camera"},null,-1)])])]),s("h1",ss,o(a.value.displayName||"User"),1),s("p",es,o(a.value.email),1),s("div",ts,[s("span",as,o(a.value.level),1),s("span",ls,"Level "+o(a.value.level)+" - "+o(a.value.experience)+"/1000 XP",1)])])])])])]),s("section",os,[s("div",ns,[s("div",is,[s("div",rs,[s("div",ds,[e[17]||(e[17]=s("div",{class:"stat-icon"},[s("i",{class:"fas fa-coins"})],-1)),s("div",cs,[s("h3",us,o(a.value.tokenBalance||0),1),e[16]||(e[16]=s("p",{class:"stat-label"},"$PPO Balance",-1))])])]),s("div",vs,[s("div",ps,[e[19]||(e[19]=s("div",{class:"stat-icon"},[s("i",{class:"fas fa-trophy"})],-1)),s("div",fs,[s("h3",ms,o(a.value.totalEarned||0),1),e[18]||(e[18]=s("p",{class:"stat-label"},"Total Earned",-1))])])]),s("div",ys,[s("div",gs,[e[21]||(e[21]=s("div",{class:"stat-icon"},[s("i",{class:"fas fa-users"})],-1)),s("div",bs,[s("h3",ws,o(a.value.referralCount||0),1),e[20]||(e[20]=s("p",{class:"stat-label"},"Referrals",-1))])])]),s("div",_s,[s("div",ks,[e[23]||(e[23]=s("div",{class:"stat-icon"},[s("i",{class:"fas fa-calendar-check"})],-1)),s("div",hs,[s("h3",Ps,o(a.value.daysActive||0),1),e[22]||(e[22]=s("p",{class:"stat-label"},"Days Active",-1))])])])])])]),s("section",Cs,[s("div",Ns,[s("div",As,[s("div",Us,[s("div",Es,[(i(!0),n(U,null,E(x.value,t=>(i(),n("button",{key:t.id,onClick:d=>m.value=t.id,class:k(["nav-tab",{active:m.value===t.id}])},[s("i",{class:k(t.icon)},null,2),s("span",null,o(t.name),1)],10,Ds))),128))])]),s("div",xs,[s("div",Fs,[m.value==="personal"?(i(),n("div",Ms,[e[30]||(e[30]=s("h2",{class:"tab-title"},"Personal Information",-1)),s("div",Vs,[s("div",$s,[e[24]||(e[24]=s("label",null,"Display Name",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.value.displayName=t),class:"form-control",placeholder:"Enter your display name"},null,512),[[f,a.value.displayName]])]),s("div",Ss,[e[25]||(e[25]=s("label",null,"Email",-1)),c(s("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=t=>a.value.email=t),class:"form-control",disabled:""},null,512),[[f,a.value.email]]),e[26]||(e[26]=s("small",{class:"form-text"},"Email cannot be changed",-1))]),s("div",Bs,[e[27]||(e[27]=s("label",null,"Bio",-1)),c(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.bio=t),class:"form-control",rows:"4",placeholder:"Tell us about yourself..."},null,512),[[f,a.value.bio]])]),s("div",Ts,[e[28]||(e[28]=s("label",null,"Location",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>a.value.location=t),class:"form-control",placeholder:"Enter your location"},null,512),[[f,a.value.location]])]),s("button",{class:"btn btn-primary",onClick:V},[...e[29]||(e[29]=[s("i",{class:"fas fa-save"},null,-1),h(" Save Changes ",-1)])])])])):g("",!0),m.value==="security"?(i(),n("div",Rs,[e[34]||(e[34]=s("h2",{class:"tab-title"},"Security Settings",-1)),s("div",Ls,[s("div",Is,[e[31]||(e[31]=s("div",{class:"security-info"},[s("h4",null,"Change Password"),s("p",null,"Update your account password")],-1)),s("button",{class:"btn btn-outline-primary",onClick:e[4]||(e[4]=t=>y.value=!0)}," Change Password ")]),s("div",{class:"security-item"},[e[32]||(e[32]=s("div",{class:"security-info"},[s("h4",null,"Two-Factor Authentication"),s("p",null,"Add an extra layer of security to your account")],-1)),s("button",{class:"btn btn-outline-primary",onClick:S}," Setup 2FA ")]),s("div",{class:"security-item"},[e[33]||(e[33]=s("div",{class:"security-info"},[s("h4",null,"Connected Wallets"),s("p",null,"Manage your connected cryptocurrency wallets")],-1)),s("button",{class:"btn btn-outline-primary",onClick:B}," Manage Wallets ")])])])):g("",!0),m.value==="activity"?(i(),n("div",Ws,[e[35]||(e[35]=s("h2",{class:"tab-title"},"Recent Activity",-1)),s("div",Os,[(i(!0),n(U,null,E(b.value,t=>(i(),n("div",{key:t.id,class:"activity-item"},[s("div",zs,[s("i",{class:k(t.icon)},null,2)]),s("div",js,[s("h5",null,o(t.title),1),s("p",null,o(t.description),1),s("small",qs,o(R(t.timestamp)),1)]),t.amount?(i(),n("div",Hs,[t.amount>0?(i(),n("span",Js,"+"+o(t.amount)+" $PPO",1)):(i(),n("span",Xs,o(t.amount)+" $PPO",1))])):g("",!0)]))),128))])])):g("",!0),m.value==="settings"?(i(),n("div",Gs,[e[43]||(e[43]=s("h2",{class:"tab-title"},"Account Settings",-1)),s("div",Ks,[s("div",Qs,[e[37]||(e[37]=s("div",{class:"setting-info"},[s("h4",null,"Email Notifications"),s("p",null,"Receive email updates about your account")],-1)),s("div",Ys,[c(s("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=t=>v.value.emailNotifications=t),id:"emailNotif"},null,512),[[P,v.value.emailNotifications]]),e[36]||(e[36]=s("label",{for:"emailNotif"},null,-1))])]),s("div",Zs,[e[39]||(e[39]=s("div",{class:"setting-info"},[s("h4",null,"Push Notifications"),s("p",null,"Receive push notifications in your browser")],-1)),s("div",se,[c(s("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=t=>v.value.pushNotifications=t),id:"pushNotif"},null,512),[[P,v.value.pushNotifications]]),e[38]||(e[38]=s("label",{for:"pushNotif"},null,-1))])]),s("div",ee,[e[41]||(e[41]=s("div",{class:"setting-info"},[s("h4",null,"Dark Mode"),s("p",null,"Use dark theme for better experience")],-1)),s("div",te,[c(s("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=t=>v.value.darkMode=t),id:"darkMode"},null,512),[[P,v.value.darkMode]]),e[40]||(e[40]=s("label",{for:"darkMode"},null,-1))])]),s("button",{class:"btn btn-primary",onClick:T},[...e[42]||(e[42]=[s("i",{class:"fas fa-save"},null,-1),h(" Save Settings ",-1)])])])])):g("",!0)])])])])]),y.value?(i(),n("div",{key:0,class:"modal-overlay",onClick:e[14]||(e[14]=t=>y.value=!1)},[s("div",{class:"modal-content",onClick:e[13]||(e[13]=j(()=>{},["stop"]))},[s("div",ae,[e[45]||(e[45]=s("h3",null,"Change Password",-1)),s("button",{class:"close-btn",onClick:e[8]||(e[8]=t=>y.value=!1)},[...e[44]||(e[44]=[s("i",{class:"fas fa-times"},null,-1)])])]),s("div",le,[s("div",oe,[e[46]||(e[46]=s("label",null,"Current Password",-1)),c(s("input",{type:"password","onUpdate:modelValue":e[9]||(e[9]=t=>u.value.currentPassword=t),class:"form-control"},null,512),[[f,u.value.currentPassword]])]),s("div",ne,[e[47]||(e[47]=s("label",null,"New Password",-1)),c(s("input",{type:"password","onUpdate:modelValue":e[10]||(e[10]=t=>u.value.newPassword=t),class:"form-control"},null,512),[[f,u.value.newPassword]])]),s("div",ie,[e[48]||(e[48]=s("label",null,"Confirm New Password",-1)),c(s("input",{type:"password","onUpdate:modelValue":e[11]||(e[11]=t=>u.value.confirmPassword=t),class:"form-control"},null,512),[[f,u.value.confirmPassword]])]),s("div",re,[s("button",{class:"btn btn-primary",onClick:$},[...e[49]||(e[49]=[s("i",{class:"fas fa-key"},null,-1),h(" Change Password ",-1)])]),s("button",{class:"btn btn-secondary",onClick:e[12]||(e[12]=t=>y.value=!1)}," Cancel ")])])])])):g("",!0),A(q)]))}},ve=I(de,[["__scopeId","data-v-9da3cac3"]]);export{ve as default};
