import{_ as A,r as u,e as k,g as n,n as v,h as a,j as s,p as y,l as i,aV as H,aW as I,G as T,i as N,y as _,J as z,F as j,m as q,q as E,k as G}from"./index-NVPnfjv5.js";const J={name:"TaskNotification",props:{show:{type:Boolean,default:!1},type:{type:String,default:"success",validator:d=>["success","error","info","warning"].includes(d)},title:{type:String,default:""},message:{type:String,default:""},reward:{type:Number,default:0},newBalance:{type:Number,default:0}},emits:["close"],setup(d,{emit:t}){const r=u(d.show),e=k(()=>`notification-${d.type}`),f=k(()=>{const o={success:"fas fa-check-circle",error:"fas fa-exclamation-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation-triangle"};return o[d.type]||o.info});return{showNotification:r,notificationType:e,iconClass:f,closeNotification:()=>{r.value=!1,t("close")},updateShow:o=>{r.value=o}}},watch:{show(d){this.showNotification=d}}},Y={class:"notification-content"},K={class:"notification-icon"},Q={class:"notification-text"},U={key:0,class:"reward-info"},X={class:"reward-amount"},Z={class:"new-balance"};function $(d,t,r,e,f,w){return e.showNotification?(a(),n("div",{key:0,class:y(["task-notification",e.notificationType])},[s("div",Y,[s("div",K,[s("i",{class:y(e.iconClass)},null,2)]),s("div",Q,[s("h4",null,i(r.title),1),s("p",null,i(r.message),1),r.reward?(a(),n("div",U,[s("span",X,"+"+i(r.reward)+" PPO",1),s("span",Z,"New Balance: "+i(r.newBalance)+" PPO",1)])):v("",!0)]),s("button",{onClick:t[0]||(t[0]=(...m)=>e.closeNotification&&e.closeNotification(...m)),class:"close-btn"},[...t[1]||(t[1]=[s("i",{class:"fas fa-times"},null,-1)])])])],2)):v("",!0)}const ss=A(J,[["render",$],["__scopeId","data-v-d27fb6b2"]]),es={name:"TaskSystem",components:{TaskNotification:ss},setup(){const{tasks:d,userBalance:t,isLoading:r,error:e,walletAddress:f,completeTask:w,totalRewards:m,completedTasksCount:o,totalTasksCount:b,progressPercentage:L}=I(),{isConnected:x}=H(),F=k(()=>f.value?`${f.value.slice(0,6)}...${f.value.slice(-4)}`:""),O=k(()=>x.value),D=l=>l.type==="one_time"&&l.completed?!1:l.lastCompleted?Date.now()-l.lastCompleted>=l.cooldown:!0,V=k(()=>{const l=d.value.find(c=>c.id==="connect_wallet");return l?l.completed:!1}),p=u(!1),P=u("success"),B=u(""),S=u(""),W=u(0),R=u(0),h=(l,c,C,g=0,M=0)=>{P.value=l,B.value=c,S.value=C,W.value=g,R.value=M,p.value=!0,setTimeout(()=>{p.value=!1},5e3)};return{tasks:d,userBalance:t,isLoading:r,error:e,totalRewards:m,isConnected:O,shortAddress:F,completeTask:async l=>{const c=await w(l);c.success?h("success","Task Completed!",`${c.task.name} has been completed successfully!`,c.reward,c.newBalance):h("error","Task Failed",c.error||"Failed to complete task")},claimAllRewards:async()=>{h("info","Feature Coming Soon","Claim all rewards feature will be implemented soon!")},syncWalletBalance:async()=>{h("info","Sync Feature","Wallet balance sync feature will be implemented soon!")},isTaskAvailable:D,getCooldownTime:l=>{if(!l.lastCompleted)return"";const c=l.cooldown-(Date.now()-l.lastCompleted);if(c<=0)return"";const C=Math.floor(c/(1e3*60*60)),g=Math.floor(c%(1e3*60*60)/(1e3*60));return C>0?`${C}h ${g}m`:`${g}m`},showNotification:p,notificationType:P,notificationTitle:B,notificationMessage:S,notificationReward:W,notificationNewBalance:R,closeNotification:()=>{p.value=!1},isConnectWalletCompleted:V,completedTasksCount:o,totalTasksCount:b,progressPercentage:L}}},ts={class:"task-system"},os={key:0,class:"alert alert-danger"},ns={class:"balance-section"},as={class:"balance-card"},is={class:"balance-amount"},ls={class:"amount"},cs={class:"balance-actions"},ds=["disabled"],rs={class:"progress-section"},fs={class:"progress-card"},ms={class:"progress-info"},_s={class:"percentage"},us={class:"progress-bar"},vs={key:1,class:"rewards-section"},ws={class:"rewards-card"},ks={class:"rewards-amount"},ys={class:"amount"},bs=["disabled"],ps={key:0,class:"fas fa-spinner fa-spin"},hs={key:1,class:"fas fa-gift"},Cs={class:"tasks-section"},gs={class:"tasks-grid"},Ts={class:"task-header"},Ns={class:"task-icon"},As={class:"task-info"},Ps={class:"task-reward"},Bs={class:"reward-amount"},Ss={class:"task-status"},Ws={key:0,class:"status-completed"},Rs={key:1,class:"status-cooldown"},Ls={key:2,class:"status-available"},xs={class:"task-actions"},Fs=["onClick","disabled"],Os={key:0,class:"fas fa-spinner fa-spin"},Ds={key:1,class:"fas fa-check"},Vs={key:1,class:"btn btn-success btn-sm",disabled:""},Ms={key:2,class:"btn btn-secondary btn-sm",disabled:""},Hs={key:0,class:"cooldown-timer"},Is={class:"wallet-status"},zs={class:"status-icon"},js={key:0,class:"fas fa-wallet"},qs={key:1,class:"fas fa-wallet-slash"},Es={class:"status-info"},Gs={key:0},Js={key:1},Ys={key:0,class:"task-reminder"},Ks={class:"reminder-card"},Qs={class:"reminder-content"},Us=["disabled"],Xs={key:0,class:"fas fa-spinner fa-spin"},Zs={key:1,class:"fas fa-check"};function $s(d,t,r,e,f,w){const m=T("TaskNotification");return a(),n("div",ts,[N(m,{show:e.showNotification,type:e.notificationType,title:e.notificationTitle,message:e.notificationMessage,reward:e.notificationReward,"new-balance":e.notificationNewBalance,onClose:e.closeNotification},null,8,["show","type","title","message","reward","new-balance","onClose"]),e.error?(a(),n("div",os,[t[3]||(t[3]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),_(" "+i(e.error),1)])):v("",!0),s("div",ns,[s("div",as,[t[6]||(t[6]=s("div",{class:"balance-header"},[s("i",{class:"fas fa-coins"}),s("h3",null,"Your Balance")],-1)),s("div",is,[s("span",ls,i(e.userBalance),1),t[4]||(t[4]=s("span",{class:"currency"},"PPO",-1))]),s("div",cs,[s("button",{onClick:t[0]||(t[0]=(...o)=>e.syncWalletBalance&&e.syncWalletBalance(...o)),class:"btn btn-outline-primary btn-sm",disabled:!e.isConnected},[...t[5]||(t[5]=[s("i",{class:"fas fa-sync-alt"},null,-1),_(" Sync Wallet ",-1)])],8,ds)])])]),s("div",rs,[t[7]||(t[7]=s("h4",null,"Daily Progress",-1)),s("div",fs,[s("div",ms,[s("span",null,i(e.completedTasksCount)+"/"+i(e.totalTasksCount)+" tasks completed",1),s("span",_s,i(e.progressPercentage)+"%",1)]),s("div",us,[s("div",{class:"progress-fill",style:z({width:`${e.progressPercentage}%`})},null,4)])])]),e.totalRewards>0?(a(),n("div",vs,[s("div",ws,[t[9]||(t[9]=s("div",{class:"rewards-header"},[s("i",{class:"fas fa-gift"}),s("h4",null,"Available Rewards")],-1)),s("div",ks,[s("span",ys,i(e.totalRewards),1),t[8]||(t[8]=s("span",{class:"currency"},"PPO",-1))]),s("button",{onClick:t[1]||(t[1]=(...o)=>e.claimAllRewards&&e.claimAllRewards(...o)),class:"btn btn-success",disabled:!e.isConnected||e.isLoading},[e.isLoading?(a(),n("i",ps)):(a(),n("i",hs)),_(" "+i(e.isLoading?"Claiming...":"Claim All Rewards"),1)],8,bs)])])):v("",!0),s("div",Cs,[t[16]||(t[16]=s("h4",null,"Available Tasks",-1)),s("div",gs,[(a(!0),n(j,null,q(e.tasks,o=>(a(),n("div",{key:o.id,class:y(["task-card",{completed:o.completed,unavailable:!e.isTaskAvailable(o)&&!o.completed}])},[s("div",Ts,[s("div",Ns,[s("i",{class:y(o.icon)},null,2)]),s("div",As,[s("h5",null,i(o.name),1),s("p",null,i(o.description),1)]),s("div",Ps,[s("span",Bs,i(o.reward),1),t[10]||(t[10]=s("span",{class:"reward-currency"},"PPO",-1))])]),s("div",Ss,[o.completed?(a(),n("div",Ws,[...t[11]||(t[11]=[s("i",{class:"fas fa-check-circle"},null,-1),s("span",null,"Completed",-1)])])):e.isTaskAvailable(o)?(a(),n("div",Ls,[...t[13]||(t[13]=[s("i",{class:"fas fa-play-circle"},null,-1),s("span",null,"Available",-1)])])):(a(),n("div",Rs,[...t[12]||(t[12]=[s("i",{class:"fas fa-clock"},null,-1),s("span",null,"On Cooldown",-1)])]))]),s("div",xs,[!o.completed&&e.isTaskAvailable(o)?(a(),n("button",{key:0,onClick:b=>e.completeTask(o.id),class:"btn btn-primary btn-sm",disabled:!e.isConnected||e.isLoading},[e.isLoading?(a(),n("i",Os)):(a(),n("i",Ds)),_(" "+i(e.isLoading?"Completing...":"Complete Task"),1)],8,Fs)):o.completed?(a(),n("button",Vs,[...t[14]||(t[14]=[s("i",{class:"fas fa-check-circle"},null,-1),_(" Completed ",-1)])])):(a(),n("button",Ms,[...t[15]||(t[15]=[s("i",{class:"fas fa-clock"},null,-1),_(" On Cooldown ",-1)])]))]),o.lastCompleted&&!e.isTaskAvailable(o)?(a(),n("div",Hs,[s("small",null," Available in: "+i(e.getCooldownTime(o)),1)])):v("",!0)],2))),128))])]),s("div",Is,[s("div",{class:y(["status-card",{connected:e.isConnected,disconnected:!e.isConnected}])},[s("div",zs,[e.isConnected?(a(),n("i",js)):(a(),n("i",qs))]),s("div",Es,[s("h5",null,i(e.isConnected?"Wallet Connected":"Wallet Disconnected"),1),e.isConnected?(a(),n("p",Gs,i(e.shortAddress),1)):(a(),n("p",Js,"Connect your wallet to complete tasks"))])],2),e.isConnected&&!e.isConnectWalletCompleted?(a(),n("div",Ys,[s("div",Ks,[t[19]||(t[19]=s("div",{class:"reminder-icon"},[s("i",{class:"fas fa-lightbulb"})],-1)),s("div",Qs,[t[17]||(t[17]=s("h6",null,"Complete Connect Wallet Task",-1)),t[18]||(t[18]=s("p",null,` Don't forget to complete the "Connect Wallet" task to earn 50 PPO! `,-1)),s("button",{onClick:t[2]||(t[2]=o=>e.completeTask("connect_wallet")),class:"btn btn-primary btn-sm",disabled:e.isLoading},[e.isLoading?(a(),n("i",Xs)):(a(),n("i",Zs)),_(" "+i(e.isLoading?"Completing...":"Complete Task"),1)],8,Us)])])])):v("",!0)])])}const se=A(es,[["render",$s],["__scopeId","data-v-ad4919b1"]]),ee={name:"Tasks",components:{Header:G,Footer:E,TaskSystem:se}},te={class:"tasks-page"},oe={class:"page-content"},ne={class:"container"};function ae(d,t,r,e,f,w){const m=T("Header"),o=T("TaskSystem"),b=T("Footer");return a(),n("div",te,[N(m),s("div",oe,[s("div",ne,[t[0]||(t[0]=s("div",{class:"page-header"},[s("h1",null,"Daily Tasks & Rewards"),s("p",null,"Complete tasks to earn PPO tokens and boost your balance")],-1)),N(o)])]),N(b)])}const me=A(ee,[["render",ae],["__scopeId","data-v-45c4be4c"]]);export{me as default};
