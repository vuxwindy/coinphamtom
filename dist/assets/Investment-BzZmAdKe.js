import{_ as ue,r as R,bC as We,aV as le,be as ce,bD as pe,g as Z,h as G,j as l,w as Ye,i as Ut,v as Ke,n as Et,y as fe,l as B,I as Ge,D as Xe,bE as On,bj as qe,bh as Ot,bk as Ze,bF as _n,z as Qe,bz as $n,e as lt,p as Nn,u as Pn,K as Sn,o as ve,f as In,C as An,s as Bn,k as Mn,F as Cn,m as Dn,bG as Rn,q as Fn,bi as ne}from"./index-NVPnfjv5.js";import{a as g,g as Mt,b as je,c as st,d as At,e as ot,h as C,i as Y,t as Un,j as Ln,k as Vn,l as de,m as tn,n as en,o as be,q as he,r as Kt,s as zn,u as Hn,v as Jn,w as Gt,x as St,z as Wn,y as Yn,p as Kn,f as Lt}from"./units-DNEuDEAD.js";const Gn="/logo-123.png";function Xn(r,t,e,n,s){g(!1,`invalid codepoint at offset ${t}; ${r}`,"bytes",e)}function nn(r,t,e,n,s){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let a=0;for(let i=t+1;i<e.length&&e[i]>>6===2;i++)a++;return a}return r==="OVERRUN"?e.length-t-1:0}function qn(r,t,e,n,s){return r==="OVERLONG"?(g(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),nn(r,t,e))}const Zn=Object.freeze({error:Xn,ignore:nn,replace:qn});function Qn(r,t){t==null&&(t=Zn.error);const e=Mt(r,"bytes"),n=[];let s=0;for(;s<e.length;){const a=e[s++];if(a>>7===0){n.push(a);continue}let i=null,o=null;if((a&224)===192)i=1,o=127;else if((a&240)===224)i=2,o=2047;else if((a&248)===240)i=3,o=65535;else{(a&192)===128?s+=t("UNEXPECTED_CONTINUE",s-1,e,n):s+=t("BAD_PREFIX",s-1,e,n);continue}if(s-1+i>=e.length){s+=t("OVERRUN",s-1,e,n);continue}let u=a&(1<<8-i-1)-1;for(let c=0;c<i;c++){let f=e[s];if((f&192)!=128){s+=t("MISSING_CONTINUE",s,e,n),u=null;break}u=u<<6|f&63,s++}if(u!==null){if(u>1114111){s+=t("OUT_OF_RANGE",s-1-i,e,n,u);continue}if(u>=55296&&u<=57343){s+=t("UTF16_SURROGATE",s-1-i,e,n,u);continue}if(u<=o){s+=t("OVERLONG",s-1-i,e,n,u);continue}n.push(u)}}return n}function sn(r,t){g(typeof r=="string","invalid string value","str",r);let e=[];for(let n=0;n<r.length;n++){const s=r.charCodeAt(n);if(s<128)e.push(s);else if(s<2048)e.push(s>>6|192),e.push(s&63|128);else if((s&64512)==55296){n++;const a=r.charCodeAt(n);g(n<r.length&&(a&64512)===56320,"invalid surrogate pair","str",r);const i=65536+((s&1023)<<10)+(a&1023);e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(i&63|128)}else e.push(s>>12|224),e.push(s>>6&63|128),e.push(s&63|128)}return new Uint8Array(e)}function jn(r){return r.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function ts(r,t){return jn(Qn(r,t))}const z=32,re=new Uint8Array(z),es=["then"],Xt={},rn=new WeakMap;function kt(r){return rn.get(r)}function xe(r,t){rn.set(r,t)}function Rt(r,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw e.error=t,e}function ie(r,t,e){return r.indexOf(null)>=0?t.map((n,s)=>n instanceof pt?ie(kt(n),n,e):n):r.reduce((n,s,a)=>{let i=t.getValue(s);return s in n||(e&&i instanceof pt&&(i=ie(kt(i),i,e)),n[s]=i),n},{})}class pt extends Array{#t;constructor(...t){const e=t[0];let n=t[1],s=(t[2]||[]).slice(),a=!0;e!==Xt&&(n=t,s=[],a=!1),super(n.length),n.forEach((u,c)=>{this[c]=u});const i=s.reduce((u,c)=>(typeof c=="string"&&u.set(c,(u.get(c)||0)+1),u),new Map);if(xe(this,Object.freeze(n.map((u,c)=>{const f=s[c];return f!=null&&i.get(f)===1?f:null}))),this.#t=[],this.#t==null&&this.#t,!a)return;Object.freeze(this);const o=new Proxy(this,{get:(u,c,f)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const $=je(c,"%index");if($<0||$>=this.length)throw new RangeError("out of result range");const v=u[$];return v instanceof Error&&Rt(`index ${$}`,v),v}if(es.indexOf(c)>=0)return Reflect.get(u,c,f);const b=u[c];if(b instanceof Function)return function(...$){return b.apply(this===f?u:this,$)};if(!(c in u))return u.getValue.apply(this===f?u:this,[c])}return Reflect.get(u,c,f)}});return xe(o,kt(this)),o}toArray(t){const e=[];return this.forEach((n,s)=>{n instanceof Error&&Rt(`index ${s}`,n),t&&n instanceof pt&&(n=n.toArray(t)),e.push(n)}),e}toObject(t){const e=kt(this);return e.reduce((n,s,a)=>(st(s!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),ie(e,this,t)),{})}slice(t,e){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),e==null&&(e=this.length),e<0&&(e+=this.length,e<0&&(e=0)),e>this.length&&(e=this.length);const n=kt(this),s=[],a=[];for(let i=t;i<e;i++)s.push(this[i]),a.push(n[i]);return new pt(Xt,s,a)}filter(t,e){const n=kt(this),s=[],a=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Rt(`index ${i}`,o),t.call(e,o,i,this)&&(s.push(o),a.push(n[i]))}return new pt(Xt,s,a)}map(t,e){const n=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&Rt(`index ${s}`,a),n.push(t.call(e,a,s,this))}return n}getValue(t){const e=kt(this).indexOf(t);if(e===-1)return;const n=this[e];return n instanceof Error&&Rt(`property ${JSON.stringify(t)}`,n.error),n}static fromItems(t,e){return new pt(Xt,t,e)}}function ke(r){let t=Vn(r);return st(t.length<=z,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:z,offset:t.length}),t.length!==z&&(t=ot(At([re.slice(t.length%z),t]))),t}class yt{name;type;localName;dynamic;constructor(t,e,n,s){C(this,{name:t,type:e,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){g(!1,t,this.localName,e)}}class ae{#t;#e;constructor(){this.#t=[],this.#e=0}get data(){return At(this.#t)}get length(){return this.#e}#n(t){return this.#t.push(t),this.#e+=t.length,t.length}appendWriter(t){return this.#n(ot(t.data))}writeBytes(t){let e=ot(t);const n=e.length%z;return n&&(e=ot(At([e,re.slice(n)]))),this.#n(e)}writeValue(t){return this.#n(ke(t))}writeUpdatableValue(){const t=this.#t.length;return this.#t.push(re),this.#e+=z,e=>{this.#t[t]=ke(e)}}}class ye{allowLoose;#t;#e;#n;#s;#r;constructor(t,e,n){C(this,{allowLoose:!!e}),this.#t=ot(t),this.#n=0,this.#s=null,this.#r=n??1024,this.#e=0}get data(){return Y(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#e}get bytes(){return new Uint8Array(this.#t)}#i(t){if(this.#s)return this.#s.#i(t);this.#n+=t,st(this.#r<1||this.#n<=this.#r*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#r} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ot(this.#t),offset:this.#e,length:t,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#a(t,e,n){let s=Math.ceil(e/z)*z;return this.#e+s>this.#t.length&&(this.allowLoose&&n&&this.#e+e<=this.#t.length?s=e:st(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ot(this.#t),length:this.#t.length,offset:this.#e+s})),this.#t.slice(this.#e,this.#e+s)}subReader(t){const e=new ye(this.#t.slice(this.#e+t),this.allowLoose,this.#r);return e.#s=this,e}readBytes(t,e){let n=this.#a(0,t,!!e);return this.#i(t),this.#e+=n.length,n.slice(0,t)}readValue(){return Un(this.readBytes(z))}readIndex(){return Ln(this.readBytes(z))}}function Te(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function an(r,...t){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function Ee(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function ns(r,t){an(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ss=r=>r instanceof Uint8Array,rs=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),is=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!is)throw new Error("Non little-endian hardware is not supported");function as(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function on(r){if(typeof r=="string"&&(r=as(r)),!ss(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}class os{clone(){return this._cloneInto()}}function us(r){const t=n=>r().update(on(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}const qt=BigInt(2**32-1),Oe=BigInt(32);function ls(r,t=!1){return t?{h:Number(r&qt),l:Number(r>>Oe&qt)}:{h:Number(r>>Oe&qt)|0,l:Number(r&qt)|0}}function cs(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:a,l:i}=ls(r[s],t);[e[s],n[s]]=[a,i]}return[e,n]}const ps=(r,t,e)=>r<<e|t>>>32-e,fs=(r,t,e)=>t<<e|r>>>32-e,ds=(r,t,e)=>t<<e-32|r>>>64-e,hs=(r,t,e)=>r<<e-32|t>>>64-e,[un,ln,cn]=[[],[],[]],ys=BigInt(0),Ft=BigInt(1),ms=BigInt(2),gs=BigInt(7),ws=BigInt(256),vs=BigInt(113);for(let r=0,t=Ft,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],un.push(2*(5*n+e)),ln.push((r+1)*(r+2)/2%64);let s=ys;for(let a=0;a<7;a++)t=(t<<Ft^(t>>gs)*vs)%ws,t&ms&&(s^=Ft<<(Ft<<BigInt(a))-Ft);cn.push(s)}const[bs,xs]=cs(cn,!0),_e=(r,t,e)=>e>32?ds(r,t,e):ps(r,t,e),$e=(r,t,e)=>e>32?hs(r,t,e):fs(r,t,e);function ks(r,t=24){const e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let i=0;i<10;i++)e[i]=r[i]^r[i+10]^r[i+20]^r[i+30]^r[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,u=(i+2)%10,c=e[u],f=e[u+1],b=_e(c,f,1)^e[o],$=$e(c,f,1)^e[o+1];for(let v=0;v<50;v+=10)r[i+v]^=b,r[i+v+1]^=$}let s=r[2],a=r[3];for(let i=0;i<24;i++){const o=ln[i],u=_e(s,a,o),c=$e(s,a,o),f=un[i];s=r[f],a=r[f+1],r[f]=u,r[f+1]=c}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)e[o]=r[i+o];for(let o=0;o<10;o++)r[i+o]^=~e[(o+2)%10]&e[(o+4)%10]}r[0]^=bs[n],r[1]^=xs[n]}e.fill(0)}class me extends os{constructor(t,e,n,s=!1,a=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Te(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=rs(this.state)}keccak(){ks(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ee(this);const{blockLen:e,state:n}=this;t=on(t);const s=t.length;for(let a=0;a<s;){const i=Math.min(e-this.pos,s-a);for(let o=0;o<i;o++)n[this.pos++]^=t[a++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:s}=this;t[n]^=e,(e&128)!==0&&n===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Ee(this,!1),an(t),this.finish();const e=this.state,{blockLen:n}=this;for(let s=0,a=t.length;s<a;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,a-s);t.set(e.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Te(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(ns(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:s,rounds:a,enableXOF:i}=this;return t||(t=new me(e,n,s,i,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=n,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Ts=(r,t,e)=>us(()=>new me(t,r,e)),Es=Ts(1,136,256/8);let pn=!1;const fn=function(r){return Es(r)};let dn=fn;function gt(r){const t=Mt(r,"data");return Y(dn(t))}gt._=fn;gt.lock=function(){pn=!0};gt.register=function(r){if(pn)throw new TypeError("keccak256 is locked");dn=r};Object.freeze(gt);const Os=BigInt(0),_s=BigInt(36);function Ne(r){r=r.toLowerCase();const t=r.substring(2).split(""),e=new Uint8Array(40);for(let s=0;s<40;s++)e[s]=t[s].charCodeAt(0);const n=Mt(gt(e));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(t[s]=t[s].toUpperCase()),(n[s>>1]&15)>=8&&(t[s+1]=t[s+1].toUpperCase());return"0x"+t.join("")}const ge={};for(let r=0;r<10;r++)ge[String(r)]=String(r);for(let r=0;r<26;r++)ge[String.fromCharCode(65+r)]=String(10+r);const Pe=15;function $s(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let t=r.split("").map(n=>ge[n]).join("");for(;t.length>=Pe;){let n=t.substring(0,Pe);t=parseInt(n,10)%97+t.substring(n.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}const Ns=(function(){const r={};for(let t=0;t<36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];r[e]=BigInt(t)}return r})();function Ps(r){r=r.toLowerCase();let t=Os;for(let e=0;e<r.length;e++)t=t*_s+Ns[r[e]];return t}function jt(r){if(g(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const t=Ne(r);return g(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===r,"bad address checksum","address",r),t}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){g(r.substring(2,4)===$s(r),"bad icap checksum","address",r);let t=Ps(r.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Ne("0x"+t)}g(!1,"invalid address","address",r)}const ut={};function y(r,t){let e=!1;return t<0&&(e=!0,t*=-1),new F(ut,`${e?"":"u"}int${t}`,r,{signed:e,width:t})}function O(r,t){return new F(ut,`bytes${t||""}`,r,{size:t})}const Se=Symbol.for("_ethers_typed");class F{type;value;#t;_typedSymbol;constructor(t,e,n,s){s==null&&(s=null),de(ut,t,"Typed"),C(this,{_typedSymbol:Se,type:e,value:n}),this.#t=s,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#t}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#t===!0?-1:this.#t===!1?this.value.length:null}static from(t,e){return new F(ut,t,e)}static uint8(t){return y(t,8)}static uint16(t){return y(t,16)}static uint24(t){return y(t,24)}static uint32(t){return y(t,32)}static uint40(t){return y(t,40)}static uint48(t){return y(t,48)}static uint56(t){return y(t,56)}static uint64(t){return y(t,64)}static uint72(t){return y(t,72)}static uint80(t){return y(t,80)}static uint88(t){return y(t,88)}static uint96(t){return y(t,96)}static uint104(t){return y(t,104)}static uint112(t){return y(t,112)}static uint120(t){return y(t,120)}static uint128(t){return y(t,128)}static uint136(t){return y(t,136)}static uint144(t){return y(t,144)}static uint152(t){return y(t,152)}static uint160(t){return y(t,160)}static uint168(t){return y(t,168)}static uint176(t){return y(t,176)}static uint184(t){return y(t,184)}static uint192(t){return y(t,192)}static uint200(t){return y(t,200)}static uint208(t){return y(t,208)}static uint216(t){return y(t,216)}static uint224(t){return y(t,224)}static uint232(t){return y(t,232)}static uint240(t){return y(t,240)}static uint248(t){return y(t,248)}static uint256(t){return y(t,256)}static uint(t){return y(t,256)}static int8(t){return y(t,-8)}static int16(t){return y(t,-16)}static int24(t){return y(t,-24)}static int32(t){return y(t,-32)}static int40(t){return y(t,-40)}static int48(t){return y(t,-48)}static int56(t){return y(t,-56)}static int64(t){return y(t,-64)}static int72(t){return y(t,-72)}static int80(t){return y(t,-80)}static int88(t){return y(t,-88)}static int96(t){return y(t,-96)}static int104(t){return y(t,-104)}static int112(t){return y(t,-112)}static int120(t){return y(t,-120)}static int128(t){return y(t,-128)}static int136(t){return y(t,-136)}static int144(t){return y(t,-144)}static int152(t){return y(t,-152)}static int160(t){return y(t,-160)}static int168(t){return y(t,-168)}static int176(t){return y(t,-176)}static int184(t){return y(t,-184)}static int192(t){return y(t,-192)}static int200(t){return y(t,-200)}static int208(t){return y(t,-208)}static int216(t){return y(t,-216)}static int224(t){return y(t,-224)}static int232(t){return y(t,-232)}static int240(t){return y(t,-240)}static int248(t){return y(t,-248)}static int256(t){return y(t,-256)}static int(t){return y(t,-256)}static bytes1(t){return O(t,1)}static bytes2(t){return O(t,2)}static bytes3(t){return O(t,3)}static bytes4(t){return O(t,4)}static bytes5(t){return O(t,5)}static bytes6(t){return O(t,6)}static bytes7(t){return O(t,7)}static bytes8(t){return O(t,8)}static bytes9(t){return O(t,9)}static bytes10(t){return O(t,10)}static bytes11(t){return O(t,11)}static bytes12(t){return O(t,12)}static bytes13(t){return O(t,13)}static bytes14(t){return O(t,14)}static bytes15(t){return O(t,15)}static bytes16(t){return O(t,16)}static bytes17(t){return O(t,17)}static bytes18(t){return O(t,18)}static bytes19(t){return O(t,19)}static bytes20(t){return O(t,20)}static bytes21(t){return O(t,21)}static bytes22(t){return O(t,22)}static bytes23(t){return O(t,23)}static bytes24(t){return O(t,24)}static bytes25(t){return O(t,25)}static bytes26(t){return O(t,26)}static bytes27(t){return O(t,27)}static bytes28(t){return O(t,28)}static bytes29(t){return O(t,29)}static bytes30(t){return O(t,30)}static bytes31(t){return O(t,31)}static bytes32(t){return O(t,32)}static address(t){return new F(ut,"address",t)}static bool(t){return new F(ut,"bool",!!t)}static bytes(t){return new F(ut,"bytes",t)}static string(t){return new F(ut,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new F(ut,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===Se}static dereference(t,e){if(F.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}class Ss extends yt{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let n=F.dereference(e,"string");try{n=jt(n)}catch(s){return this._throwError(s.message,e)}return t.writeValue(n)}decode(t){return jt(tn(t.readValue(),20))}}class Is extends yt{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function hn(r,t,e){let n=[];if(Array.isArray(e))n=e;else if(e&&typeof e=="object"){let u={};n=t.map(c=>{const f=c.localName;return st(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:e}),st(!u[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:e}),u[f]=!0,e[f]})}else g(!1,"invalid tuple value","tuple",e);g(t.length===n.length,"types/value length mismatch","tuple",e);let s=new ae,a=new ae,i=[];t.forEach((u,c)=>{let f=n[c];if(u.dynamic){let b=a.length;u.encode(a,f);let $=s.writeUpdatableValue();i.push(v=>{$(v+b)})}else u.encode(s,f)}),i.forEach(u=>{u(s.length)});let o=r.appendWriter(s);return o+=r.appendWriter(a),o}function yn(r,t){let e=[],n=[],s=r.subReader(0);return t.forEach(a=>{let i=null;if(a.dynamic){let o=r.readIndex(),u=s.subReader(o);try{i=a.decode(u)}catch(c){if(be(c,"BUFFER_OVERRUN"))throw c;i=c,i.baseType=a.name,i.name=a.localName,i.type=a.type}}else try{i=a.decode(r)}catch(o){if(be(o,"BUFFER_OVERRUN"))throw o;i=o,i.baseType=a.name,i.name=a.localName,i.type=a.type}if(i==null)throw new Error("investigate");e.push(i),n.push(a.localName||null)}),pt.fromItems(e,n)}class As extends yt{coder;length;constructor(t,e,n){const s=t.type+"["+(e>=0?e:"")+"]",a=e===-1||t.dynamic;super("array",s,n,a),C(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let n=0;n<this.length;n++)e.push(t);return e}encode(t,e){const n=F.dereference(e,"array");Array.isArray(n)||this._throwError("expected array value",n);let s=this.length;s===-1&&(s=n.length,t.writeValue(n.length)),en(n.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let i=0;i<n.length;i++)a.push(this.coder);return hn(t,a,n)}decode(t){let e=this.length;e===-1&&(e=t.readIndex(),st(e*z<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*z,length:t.dataLength}));let n=[];for(let s=0;s<e;s++)n.push(new Is(this.coder));return yn(t,n)}}class Bs extends yt{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const n=F.dereference(e,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class mn extends yt{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=ot(e);let n=t.writeValue(e.length);return n+=t.writeBytes(e),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class Ms extends mn{constructor(t){super("bytes",t)}decode(t){return Y(super.decode(t))}}class Cs extends yt{size;constructor(t,e){let n="bytes"+String(t);super(n,n,e,!1),C(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,e){let n=ot(F.dereference(e,this.type));return n.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(n)}decode(t){return Y(t.readBytes(this.size))}}const Ds=new Uint8Array([]);class Rs extends yt{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes(Ds)}decode(t){return t.readBytes(0),null}}const Fs=BigInt(0),Us=BigInt(1),Ls=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Vs extends yt{size;signed;constructor(t,e,n){const s=(e?"int":"uint")+t*8;super(s,s,n,!1),C(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let n=he(F.dereference(e,this.type)),s=Kt(Ls,z*8);if(this.signed){let a=Kt(s,this.size*8-1);(n>a||n<-(a+Us))&&this._throwError("value out-of-bounds",e),n=zn(n,8*z)}else(n<Fs||n>Kt(s,this.size*8))&&this._throwError("value out-of-bounds",e);return t.writeValue(n)}decode(t){let e=Kt(t.readValue(),this.size*8);return this.signed&&(e=Hn(e,this.size*8)),e}}class zs extends mn{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,sn(F.dereference(e,"string")))}decode(t){return ts(super.decode(t))}}class Zt extends yt{coders;constructor(t,e){let n=!1;const s=[];t.forEach(i=>{i.dynamic&&(n=!0),s.push(i.type)});const a="tuple("+s.join(",")+")";super("tuple",a,e,n),C(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(n=>{t.push(n.defaultValue())});const e=this.coders.reduce((n,s)=>{const a=s.localName;return a&&(n[a]||(n[a]=0),n[a]++),n},{});return this.coders.forEach((n,s)=>{let a=n.localName;!a||e[a]!==1||(a==="length"&&(a="_length"),t[a]==null&&(t[a]=t[s]))}),Object.freeze(t)}encode(t,e){const n=F.dereference(e,"tuple");return hn(t,this.coders,n)}decode(t){return yn(t,this.coders)}}function Vt(r){return gt(sn(r))}function H(r){const t=new Set;return r.forEach(e=>t.add(e)),Object.freeze(t)}const Hs="external public payable override",Js=H(Hs.split(" ")),gn="constant external internal payable private public pure view override",Ws=H(gn.split(" ")),wn="constructor error event fallback function receive struct",vn=H(wn.split(" ")),bn="calldata memory storage payable indexed",Ys=H(bn.split(" ")),Ks="tuple returns",Gs=[wn,bn,Ks,gn].join(" "),Xs=H(Gs.split(" ")),qs={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Zs=new RegExp("^(\\s*)"),Qs=new RegExp("^([0-9]+)"),js=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),xn=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),kn=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class tt{#t;#e;get offset(){return this.#t}get length(){return this.#e.length-this.#t}constructor(t){this.#t=0,this.#e=t.slice()}clone(){return new tt(this.#e)}reset(){this.#t=0}#n(t=0,e=0){return new tt(this.#e.slice(t,e).map(n=>Object.freeze(Object.assign({},n,{match:n.match-t,linkBack:n.linkBack-t,linkNext:n.linkNext-t}))))}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=this.#n(this.#t+1,t.match+1);return this.#t=t.match+1,e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;this.#t<t.match-1;){const n=this.peek().linkNext;e.push(this.#n(this.#t+1,n)),this.#t=n}return this.#t=t.match+1,e}peek(){if(this.#t>=this.#e.length)throw new Error("out-of-bounds");return this.#e[this.#t]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&&t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#t++,t}toString(){const t=[];for(let e=this.#t;e<this.#e.length;e++){const n=this.#e[e];t.push(`${n.type}:${n.text}`)}return`<TokenString ${t.join(" ")}>`}}function wt(r){const t=[],e=i=>{const o=a<r.length?JSON.stringify(r[a]):"$EOI";throw new Error(`invalid token ${o} at ${a}: ${i}`)};let n=[],s=[],a=0;for(;a<r.length;){let i=r.substring(a),o=i.match(Zs);o&&(a+=o[1].length,i=r.substring(a));const u={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(u);let c=qs[i[0]]||"";if(c){if(u.type=c,u.text=i[0],a++,c==="OPEN_PAREN")n.push(t.length-1),s.push(t.length-1);else if(c=="CLOSE_PAREN")n.length===0&&e("no matching open bracket"),u.match=n.pop(),t[u.match].match=t.length-1,u.depth--,u.linkBack=s.pop(),t[u.linkBack].linkNext=t.length-1;else if(c==="COMMA")u.linkBack=s.pop(),t[u.linkBack].linkNext=t.length-1,s.push(t.length-1);else if(c==="OPEN_BRACKET")u.type="BRACKET";else if(c==="CLOSE_BRACKET"){let f=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const b=t.pop().text;f=b+f,t[t.length-1].value=je(b)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=f}continue}if(o=i.match(js),o){if(u.text=o[1],a+=u.text.length,Xs.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(kn)){u.type="TYPE";continue}u.type="ID";continue}if(o=i.match(Qs),o){u.text=o[1],u.type="NUMBER",a+=u.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${a}`)}return new tt(t.map(i=>Object.freeze(i)))}function Ie(r,t){let e=[];for(const n in t.keys())r.has(n)&&e.push(n);if(e.length>1)throw new Error(`conflicting types: ${e.join(", ")}`)}function te(r,t){if(t.peekKeyword(vn)){const e=t.pop().text;if(e!==r)throw new Error(`expected ${r}, got ${e}`)}return t.popType("ID")}function ht(r,t){const e=new Set;for(;;){const n=r.peekType("KEYWORD");if(n==null||t&&!t.has(n))break;if(r.pop(),e.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);e.add(n)}return Object.freeze(e)}function Tn(r){let t=ht(r,Ws);return Ie(t,H("constant payable nonpayable".split(" "))),Ie(t,H("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function dt(r,t){return r.popParams().map(e=>I.from(e,t))}function En(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return he(r.pop().text);throw new Error("invalid gas")}return null}function $t(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}const tr=new RegExp(/^(.*)\[([0-9]*)\]$/);function Ae(r){const t=r.match(kn);if(g(t,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(t[2]){const e=parseInt(t[2]);g(e!==0&&e<=32,"invalid bytes length","type",r)}else if(t[3]){const e=parseInt(t[3]);g(e!==0&&e<=256&&e%8===0,"invalid numeric width","type",r)}return r}const M={},X=Symbol.for("_ethers_internal"),Be="_ParamTypeInternal",Me="_ErrorInternal",Ce="_EventInternal",De="_ConstructorInternal",Re="_FallbackInternal",Fe="_FunctionInternal",Ue="_StructInternal";class I{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,n,s,a,i,o,u){if(de(t,M,"ParamType"),Object.defineProperty(this,X,{value:Be}),i&&(i=Object.freeze(i.slice())),s==="array"){if(o==null||u==null)throw new Error("")}else if(o!=null||u!=null)throw new Error("");if(s==="tuple"){if(i==null)throw new Error("")}else if(i!=null)throw new Error("");C(this,{name:e,type:n,baseType:s,indexed:a,components:i,arrayLength:o,arrayChildren:u})}format(t){if(t==null&&(t="sighash"),t==="json"){const n=this.name||"";if(this.isArray()){const a=JSON.parse(this.arrayChildren.format("json"));return a.name=n,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(a=>JSON.parse(a.format(t)))),JSON.stringify(s)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map(n=>n.format(t)).join(t==="full"?", ":",")+")":e+=this.type,t!=="sighash"&&(this.indexed===!0&&(e+=" indexed"),t==="full"&&this.name&&(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map(s=>n.arrayChildren.walk(s,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map((s,a)=>n.components[a].walk(s,e))}return e(this.type,t)}#t(t,e,n,s){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,o=e.slice();o.forEach((u,c)=>{i.#t(t,u,n,f=>{o[c]=f})}),s(o);return}if(this.isTuple()){const i=this.components;let o;if(Array.isArray(e))o=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");o=i.map(u=>{if(!u.name)throw new Error("cannot use object value with unnamed components");if(!(u.name in e))throw new Error(`missing value for component ${u.name}`);return e[u.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((u,c)=>{i[c].#t(t,u,n,f=>{o[c]=f})}),s(o);return}const a=n(this.type,e);a.then?t.push((async function(){s(await a)})()):s(a)}async walkAsync(t,e){const n=[],s=[t];return this.#t(n,t,e,a=>{s[0]=a}),n.length&&await Promise.all(n),s[0]}static from(t,e){if(I.isParamType(t))return t;if(typeof t=="string")try{return I.from(wt(t),e)}catch{g(!1,"invalid param type","obj",t)}else if(t instanceof tt){let o="",u="",c=null;ht(t,H(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(u="tuple",c=t.popParams().map(A=>I.from(A)),o=`tuple(${c.map(A=>A.format()).join(",")})`):(o=Ae(t.popType("TYPE")),u=o);let f=null,b=null;for(;t.length&&t.peekType("BRACKET");){const A=t.pop();f=new I(M,"",o,u,null,c,b,f),b=A.value,o+=A.text,u="array",c=null}let $=null;if(ht(t,Ys).has("indexed")){if(!e)throw new Error("");$=!0}const E=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new I(M,E,o,u,$,c,b,f)}const n=t.name;g(!n||typeof n=="string"&&n.match(xn),"invalid name","obj.name",n);let s=t.indexed;s!=null&&(g(e,"parameter cannot be indexed","obj.indexed",t.indexed),s=!!s);let a=t.type,i=a.match(tr);if(i){const o=parseInt(i[2]||"-1"),u=I.from({type:i[1],components:t.components});return new I(M,n||"",a,"array",s,null,o,u)}if(a==="tuple"||a.startsWith("tuple(")||a.startsWith("(")){const o=t.components!=null?t.components.map(c=>I.from(c)):null;return new I(M,n||"",a,"tuple",s,o,null,null)}return a=Ae(t.type),new I(M,n||"",a,a,s,null,null,null)}static isParamType(t){return t&&t[X]===Be}}class Nt{type;inputs;constructor(t,e,n){de(t,M,"Fragment"),n=Object.freeze(n.slice()),C(this,{type:e,inputs:n})}static from(t){if(typeof t=="string"){try{Nt.from(JSON.parse(t))}catch{}return Nt.from(wt(t))}if(t instanceof tt)switch(t.peekKeyword(vn)){case"constructor":return ft.from(t);case"error":return K.from(t);case"event":return it.from(t);case"fallback":case"receive":return ct.from(t);case"function":return at.from(t);case"struct":return _t.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return ft.from(t);case"error":return K.from(t);case"event":return it.from(t);case"fallback":case"receive":return ct.from(t);case"function":return at.from(t);case"struct":return _t.from(t)}st(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}g(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return ft.isFragment(t)}static isError(t){return K.isFragment(t)}static isEvent(t){return it.isFragment(t)}static isFunction(t){return at.isFragment(t)}static isStruct(t){return _t.isFragment(t)}}class ee extends Nt{name;constructor(t,e,n,s){super(t,e,s),g(typeof n=="string"&&n.match(xn),"invalid identifier","name",n),s=Object.freeze(s.slice()),C(this,{name:n})}}function zt(r,t){return"("+t.map(e=>e.format(r)).join(r==="full"?", ":",")+")"}class K extends ee{constructor(t,e,n){super(t,"error",e,n),Object.defineProperty(this,X,{value:Me})}get selector(){return Vt(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const e=[];return t!=="sighash"&&e.push("error"),e.push(this.name+zt(t,this.inputs)),e.join(" ")}static from(t){if(K.isFragment(t))return t;if(typeof t=="string")return K.from(wt(t));if(t instanceof tt){const e=te("error",t),n=dt(t);return $t(t),new K(M,e,n)}return new K(M,t.name,t.inputs?t.inputs.map(I.from):[])}static isFragment(t){return t&&t[X]===Me}}class it extends ee{anonymous;constructor(t,e,n,s){super(t,"event",e,n),Object.defineProperty(this,X,{value:Ce}),C(this,{anonymous:s})}get topicHash(){return Vt(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const e=[];return t!=="sighash"&&e.push("event"),e.push(this.name+zt(t,this.inputs)),t!=="sighash"&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){return e=(e||[]).map(s=>I.from(s)),new it(M,t,e,!1).topicHash}static from(t){if(it.isFragment(t))return t;if(typeof t=="string")try{return it.from(wt(t))}catch{g(!1,"invalid event fragment","obj",t)}else if(t instanceof tt){const e=te("event",t),n=dt(t,!0),s=!!ht(t,H(["anonymous"])).has("anonymous");return $t(t),new it(M,e,n,s)}return new it(M,t.name,t.inputs?t.inputs.map(e=>I.from(e,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[X]===Ce}}class ft extends Nt{payable;gas;constructor(t,e,n,s,a){super(t,e,n),Object.defineProperty(this,X,{value:De}),C(this,{payable:s,gas:a})}format(t){if(st(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const e=[`constructor${zt(t,this.inputs)}`];return this.payable&&e.push("payable"),this.gas!=null&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(ft.isFragment(t))return t;if(typeof t=="string")try{return ft.from(wt(t))}catch{g(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof tt){ht(t,H(["constructor"]));const e=dt(t),n=!!ht(t,Js).has("payable"),s=En(t);return $t(t),new ft(M,"constructor",e,n,s)}return new ft(M,"constructor",t.inputs?t.inputs.map(I.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[X]===De}}class ct extends Nt{payable;constructor(t,e,n){super(t,"fallback",e),Object.defineProperty(this,X,{value:Re}),C(this,{payable:n})}format(t){const e=this.inputs.length===0?"receive":"fallback";if(t==="json"){const n=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:n})}return`${e}()${this.payable?" payable":""}`}static from(t){if(ct.isFragment(t))return t;if(typeof t=="string")try{return ct.from(wt(t))}catch{g(!1,"invalid fallback fragment","obj",t)}else if(t instanceof tt){const e=t.toString(),n=t.peekKeyword(H(["fallback","receive"]));if(g(n,"type must be fallback or receive","obj",e),t.popKeyword(H(["fallback","receive"]))==="receive"){const o=dt(t);return g(o.length===0,"receive cannot have arguments","obj.inputs",o),ht(t,H(["payable"])),$t(t),new ct(M,[],!0)}let a=dt(t);a.length?g(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(o=>o.format("minimal")).join(", ")):a=[I.from("bytes")];const i=Tn(t);if(g(i==="nonpayable"||i==="payable","fallback cannot be constants","obj.stateMutability",i),ht(t,H(["returns"])).has("returns")){const o=dt(t);g(o.length===1&&o[0].type==="bytes","invalid fallback outputs","obj.outputs",o.map(u=>u.format("minimal")).join(", "))}return $t(t),new ct(M,a,i==="payable")}if(t.type==="receive")return new ct(M,[],!0);if(t.type==="fallback"){const e=[I.from("bytes")],n=t.stateMutability==="payable";return new ct(M,e,n)}g(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[X]===Re}}class at extends ee{constant;outputs;stateMutability;payable;gas;constructor(t,e,n,s,a,i){super(t,"function",e,s),Object.defineProperty(this,X,{value:Fe}),a=Object.freeze(a.slice()),C(this,{constant:n==="view"||n==="pure",gas:i,outputs:a,payable:n==="payable",stateMutability:n})}get selector(){return Vt(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t))),outputs:this.outputs.map(n=>JSON.parse(n.format(t)))});const e=[];return t!=="sighash"&&e.push("function"),e.push(this.name+zt(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(zt(t,this.outputs))),this.gas!=null&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){return e=(e||[]).map(s=>I.from(s)),new at(M,t,"view",e,[],null).selector}static from(t){if(at.isFragment(t))return t;if(typeof t=="string")try{return at.from(wt(t))}catch{g(!1,"invalid function fragment","obj",t)}else if(t instanceof tt){const n=te("function",t),s=dt(t),a=Tn(t);let i=[];ht(t,H(["returns"])).has("returns")&&(i=dt(t));const o=En(t);return $t(t),new at(M,n,a,s,i,o)}let e=t.stateMutability;return e==null&&(e="payable",typeof t.constant=="boolean"?(e="view",t.constant||(e="payable",typeof t.payable=="boolean"&&!t.payable&&(e="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(e="nonpayable")),new at(M,t.name,e,t.inputs?t.inputs.map(I.from):[],t.outputs?t.outputs.map(I.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[X]===Fe}}class _t extends ee{constructor(t,e,n){super(t,"struct",e,n),Object.defineProperty(this,X,{value:Ue})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return _t.from(wt(t))}catch{g(!1,"invalid struct fragment","obj",t)}else if(t instanceof tt){const e=te("struct",t),n=dt(t);return $t(t),new _t(M,e,n)}return new _t(M,t.name,t.inputs?t.inputs.map(I.from):[])}static isFragment(t){return t&&t[X]===Ue}}const rt=new Map;rt.set(0,"GENERIC_PANIC");rt.set(1,"ASSERT_FALSE");rt.set(17,"OVERFLOW");rt.set(18,"DIVIDE_BY_ZERO");rt.set(33,"ENUM_RANGE_ERROR");rt.set(34,"BAD_STORAGE_DATA");rt.set(49,"STACK_UNDERFLOW");rt.set(50,"ARRAY_RANGE_ERROR");rt.set(65,"OUT_OF_MEMORY");rt.set(81,"UNINITIALIZED_FUNCTION_CALL");const er=new RegExp(/^bytes([0-9]*)$/),nr=new RegExp(/^(u?int)([0-9]*)$/);let se=null,Le=1024;function sr(r,t,e,n){let s="missing revert data",a=null;const i=null;let o=null;if(e){s="execution reverted";const c=Mt(e);if(e=Y(e),c.length===0)s+=" (no data present; likely require(false) occurred",a="require(false)";else if(c.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(Y(c.slice(0,4))==="0x08c379a0")try{a=n.decode(["string"],c.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[a]},s+=`: ${JSON.stringify(a)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(Y(c.slice(0,4))==="0x4e487b71")try{const f=Number(n.decode(["uint256"],c.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[f]},a=`Panic due to ${rt.get(f)||"UNKNOWN"}(${f})`,s+=`: ${a}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const u={to:t.to?jt(t.to):null,data:t.data||"0x"};return t.from&&(u.from=jt(t.from)),Jn(s,"CALL_EXCEPTION",{action:r,data:e,reason:a,transaction:u,invocation:i,revert:o})}class Ht{#t(t){if(t.isArray())return new As(this.#t(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new Zt(t.components.map(n=>this.#t(n)),t.name);switch(t.baseType){case"address":return new Ss(t.name);case"bool":return new Bs(t.name);case"string":return new zs(t.name);case"bytes":return new Ms(t.name);case"":return new Rs(t.name)}let e=t.type.match(nr);if(e){let n=parseInt(e[2]||"256");return g(n!==0&&n<=256&&n%8===0,"invalid "+e[1]+" bit length","param",t),new Vs(n/8,e[1]==="int",t.name)}if(e=t.type.match(er),e){let n=parseInt(e[1]);return g(n!==0&&n<=32,"invalid bytes length","param",t),new Cs(n,t.name)}g(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map(s=>this.#t(I.from(s)));return new Zt(e,"_").defaultValue()}encode(t,e){en(e.length,t.length,"types/values length mismatch");const n=t.map(i=>this.#t(I.from(i))),s=new Zt(n,"_"),a=new ae;return s.encode(a,e),a.data}decode(t,e,n){const s=t.map(i=>this.#t(I.from(i)));return new Zt(s,"_").decode(new ye(e,n,Le))}static _setDefaultMaxInflation(t){g(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),Le=t}static defaultAbiCoder(){return se==null&&(se=new Ht),se}static getBuiltinCallException(t,e,n){return sr(t,e,n,Ht.defaultAbiCoder())}}class rr{fragment;name;signature;topic;args;constructor(t,e,n){const s=t.name,a=t.format();C(this,{fragment:t,name:s,signature:a,topic:e,args:n})}}class ir{fragment;name;args;signature;selector;value;constructor(t,e,n,s){const a=t.name,i=t.format();C(this,{fragment:t,name:a,args:n,signature:i,selector:e,value:s})}}class ar{fragment;name;args;signature;selector;constructor(t,e,n){const s=t.name,a=t.format();C(this,{fragment:t,name:s,args:n,signature:a,selector:e})}}class Ve{hash;_isIndexed;static isIndexed(t){return!!(t&&t._isIndexed)}constructor(t){C(this,{hash:t,_isIndexed:!0})}}const ze={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},He={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let t="unknown panic code";return r>=0&&r<=255&&ze[r.toString()]&&(t=ze[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${t})`}}};class Tt{fragments;deploy;fallback;receive;#t;#e;#n;#s;constructor(t){let e=[];typeof t=="string"?e=JSON.parse(t):e=t,this.#n=new Map,this.#t=new Map,this.#e=new Map;const n=[];for(const i of e)try{n.push(Nt.from(i))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(i)}:`,o.message)}C(this,{fragments:Object.freeze(n)});let s=null,a=!1;this.#s=this.getAbiCoder(),this.fragments.forEach((i,o)=>{let u;switch(i.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}C(this,{deploy:i});return;case"fallback":i.inputs.length===0?a=!0:(g(!s||i.payable!==s.payable,"conflicting fallback fragments",`fragments[${o}]`,i),s=i,a=s.payable);return;case"function":u=this.#n;break;case"event":u=this.#e;break;case"error":u=this.#t;break;default:return}const c=i.format();u.has(c)||u.set(c,i)}),this.deploy||C(this,{deploy:ft.from("constructor()")}),C(this,{fallback:s,receive:a})}format(t){const e=t?"minimal":"full";return this.fragments.map(s=>s.format(e))}formatJson(){const t=this.fragments.map(e=>e.format("json"));return JSON.stringify(t.map(e=>JSON.parse(e)))}getAbiCoder(){return Ht.defaultAbiCoder()}#r(t,e,n){if(Gt(t)){const a=t.toLowerCase();for(const i of this.#n.values())if(a===i.selector)return i;return null}if(t.indexOf("(")===-1){const a=[];for(const[i,o]of this.#n)i.split("(")[0]===t&&a.push(o);if(e){const i=e.length>0?e[e.length-1]:null;let o=e.length,u=!0;F.isTyped(i)&&i.type==="overrides"&&(u=!1,o--);for(let c=a.length-1;c>=0;c--){const f=a[c].inputs.length;f!==o&&(!u||f!==o-1)&&a.splice(c,1)}for(let c=a.length-1;c>=0;c--){const f=a[c].inputs;for(let b=0;b<e.length;b++)if(F.isTyped(e[b])){if(b>=f.length){if(e[b].type==="overrides")continue;a.splice(c,1);break}if(e[b].type!==f[b].baseType){a.splice(c,1);break}}}}if(a.length===1&&e&&e.length!==a[0].inputs.length){const i=e[e.length-1];(i==null||Array.isArray(i)||typeof i!="object")&&a.splice(0,1)}if(a.length===0)return null;if(a.length>1&&n){const i=a.map(o=>JSON.stringify(o.format())).join(", ");g(!1,`ambiguous function description (i.e. matches ${i})`,"key",t)}return a[0]}const s=this.#n.get(at.from(t).format());return s||null}getFunctionName(t){const e=this.#r(t,null,!1);return g(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#r(t,null,!1)}getFunction(t,e){return this.#r(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#n.keys());e.sort((n,s)=>n.localeCompare(s));for(let n=0;n<e.length;n++){const s=e[n];t(this.#n.get(s),n)}}#i(t,e,n){if(Gt(t)){const a=t.toLowerCase();for(const i of this.#e.values())if(a===i.topicHash)return i;return null}if(t.indexOf("(")===-1){const a=[];for(const[i,o]of this.#e)i.split("(")[0]===t&&a.push(o);if(e){for(let i=a.length-1;i>=0;i--)a[i].inputs.length<e.length&&a.splice(i,1);for(let i=a.length-1;i>=0;i--){const o=a[i].inputs;for(let u=0;u<e.length;u++)if(F.isTyped(e[u])&&e[u].type!==o[u].baseType){a.splice(i,1);break}}}if(a.length===0)return null;if(a.length>1&&n){const i=a.map(o=>JSON.stringify(o.format())).join(", ");g(!1,`ambiguous event description (i.e. matches ${i})`,"key",t)}return a[0]}const s=this.#e.get(it.from(t).format());return s||null}getEventName(t){const e=this.#i(t,null,!1);return g(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#i(t,null,!1)}getEvent(t,e){return this.#i(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#e.keys());e.sort((n,s)=>n.localeCompare(s));for(let n=0;n<e.length;n++){const s=e[n];t(this.#e.get(s),n)}}getError(t,e){if(Gt(t)){const s=t.toLowerCase();if(He[s])return K.from(He[s].signature);for(const a of this.#t.values())if(s===a.selector)return a;return null}if(t.indexOf("(")===-1){const s=[];for(const[a,i]of this.#t)a.split("(")[0]===t&&s.push(i);if(s.length===0)return t==="Error"?K.from("error Error(string)"):t==="Panic"?K.from("error Panic(uint256)"):null;if(s.length>1){const a=s.map(i=>JSON.stringify(i.format())).join(", ");g(!1,`ambiguous error description (i.e. ${a})`,"name",t)}return s[0]}if(t=K.from(t).format(),t==="Error(string)")return K.from("error Error(string)");if(t==="Panic(uint256)")return K.from("error Panic(uint256)");const n=this.#t.get(t);return n||null}forEachError(t){const e=Array.from(this.#t.keys());e.sort((n,s)=>n.localeCompare(s));for(let n=0;n<e.length;n++){const s=e[n];t(this.#t.get(s),n)}}_decodeParams(t,e){return this.#s.decode(t,e)}_encodeParams(t,e){return this.#s.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);g(n,"unknown error","fragment",t),t=n}return g(St(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,St(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);g(n,"unknown error","fragment",t),t=n}return At([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);g(n,"unknown function","fragment",t),t=n}return g(St(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,St(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);g(n,"unknown function","fragment",t),t=n}return At([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const a=this.getFunction(t);g(a,"unknown function","fragment",t),t=a}let n="invalid length for result data";const s=ot(e);if(s.length%32===0)try{return this.#s.decode(t.outputs,s)}catch{n="could not decode result data"}st(!1,n,"BAD_DATA",{value:Y(s),info:{method:t.name,signature:t.format()}})}makeError(t,e){const n=Mt(t,"data"),s=Ht.getBuiltinCallException("call",e,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const o=Y(n.slice(0,4)),u=this.getError(o);if(u)try{const c=this.#s.decode(u.inputs,n.slice(4));s.revert={name:u.name,signature:u.format(),args:c},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(e);return i&&(s.invocation={method:i.name,signature:i.signature,args:i.args}),s}encodeFunctionResult(t,e){if(typeof t=="string"){const n=this.getFunction(t);g(n,"unknown function","fragment",t),t=n}return Y(this.#s.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const a=this.getEvent(t);g(a,"unknown event","eventFragment",t),t=a}st(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const s=(a,i)=>a.type==="string"?Vt(i):a.type==="bytes"?gt(Y(i)):(a.type==="bool"&&typeof i=="boolean"?i=i?"0x01":"0x00":a.type.match(/^u?int/)?i=tn(i):a.type.match(/^bytes/)?i=Wn(i,32):a.type==="address"&&this.#s.encode(["address"],[i]),Yn(Y(i),32));for(e.forEach((a,i)=>{const o=t.inputs[i];if(!o.indexed){g(a==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,a);return}a==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?g(!1,"filtering with tuples or arrays not supported","contract."+o.name,a):Array.isArray(a)?n.push(a.map(u=>s(o,u))):n.push(s(o,a))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,e){if(typeof t=="string"){const i=this.getEvent(t);g(i,"unknown event","eventFragment",t),t=i}const n=[],s=[],a=[];return t.anonymous||n.push(t.topicHash),g(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((i,o)=>{const u=e[o];if(i.indexed)if(i.type==="string")n.push(Vt(u));else if(i.type==="bytes")n.push(gt(u));else{if(i.baseType==="tuple"||i.baseType==="array")throw new Error("not implemented");n.push(this.#s.encode([i.type],[u]))}else s.push(i),a.push(u)}),{data:this.#s.encode(s,a),topics:n}}decodeEventLog(t,e,n){if(typeof t=="string"){const v=this.getEvent(t);g(v,"unknown event","eventFragment",t),t=v}if(n!=null&&!t.anonymous){const v=t.topicHash;g(Gt(n[0],32)&&n[0].toLowerCase()===v,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],a=[],i=[];t.inputs.forEach((v,E)=>{v.indexed?v.type==="string"||v.type==="bytes"||v.baseType==="tuple"||v.baseType==="array"?(s.push(I.from({type:"bytes32",name:v.name})),i.push(!0)):(s.push(v),i.push(!1)):(a.push(v),i.push(!1))});const o=n!=null?this.#s.decode(s,At(n)):null,u=this.#s.decode(a,e,!0),c=[],f=[];let b=0,$=0;return t.inputs.forEach((v,E)=>{let A=null;if(v.indexed)if(o==null)A=new Ve(null);else if(i[E])A=new Ve(o[$++]);else try{A=o[$++]}catch(J){A=J}else try{A=u[b++]}catch(J){A=J}c.push(A),f.push(v.name||null)}),pt.fromItems(c,f)}parseTransaction(t){const e=Mt(t.data,"tx.data"),n=he(t.value!=null?t.value:0,"tx.value"),s=this.getFunction(Y(e.slice(0,4)));if(!s)return null;const a=this.#s.decode(s.inputs,e.slice(4));return new ir(s,s.selector,a,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new rr(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=Y(t),n=this.getError(St(e,0,4));if(!n)return null;const s=this.#s.decode(n.inputs,St(e,4));return new ar(n,n.selector,s)}static from(t){return t instanceof Tt?t:typeof t=="string"?new Tt(JSON.parse(t)):typeof t.formatJson=="function"?new Tt(t.formatJson()):typeof t.format=="function"?new Tt(t.format("json")):new Tt(t)}}const Bt=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"baseURI",type:"string"}],name:"BaseURISet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amountPPO",type:"uint256"},{indexed:!1,internalType:"uint32",name:"daysClaimed",type:"uint32"}],name:"Claimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"bronzeBP",type:"uint256"},{indexed:!1,internalType:"uint256",name:"silverBP",type:"uint256"},{indexed:!1,internalType:"uint256",name:"goldBP",type:"uint256"}],name:"DailyRatesUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"enum PPOPackage.Tier",name:"tier",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amountBNB",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ppoPerDay",type:"uint256"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"ppoPriceInBnb",type:"uint256"}],name:"PPOPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[]",name:"newThresholds",type:"uint256[]"}],name:"ThresholdsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"treasury",type:"address"}],name:"TreasuryUpdated",type:"event"},{inputs:[],name:"DAY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DURATION_DAYS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PPO",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum PPOPackage.Tier",name:"tier",type:"uint8"}],name:"dailyRateBPByTier",outputs:[{internalType:"uint256",name:"rateBasisPoints",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"getPackagesOfOwner",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"enum PPOPackage.Tier",name:"tier",type:"uint8"},{internalType:"uint64",name:"startTime",type:"uint64"},{internalType:"uint64",name:"endTime",type:"uint64"},{internalType:"uint64",name:"lastClaimAt",type:"uint64"},{internalType:"uint256",name:"buyAmountBNB",type:"uint256"},{internalType:"uint256",name:"ppoPerDay",type:"uint256"},{internalType:"uint256",name:"pendingPPO",type:"uint256"}],internalType:"struct PPOPackage.PackageInfoResponse[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"address",name:"ppoToken_",type:"address"},{internalType:"address payable",name:"treasury_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"packages",outputs:[{internalType:"enum PPOPackage.Tier",name:"tier",type:"uint8"},{internalType:"uint64",name:"startTime",type:"uint64"},{internalType:"uint64",name:"endTime",type:"uint64"},{internalType:"uint64",name:"lastClaimAt",type:"uint64"},{internalType:"uint256",name:"buyAmountBNB",type:"uint256"},{internalType:"uint256",name:"ppoPerDay",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"pending",outputs:[{internalType:"uint256",name:"amountPPO",type:"uint256"},{internalType:"uint64",name:"newLastClaimAt",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"ppoPriceInBnb",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"baseURI_",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bronzeBP",type:"uint256"},{internalType:"uint256",name:"silverBP",type:"uint256"},{internalType:"uint256",name:"goldBP",type:"uint256"}],name:"setDailyRatesBP",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_ppoPriceInBnb",type:"uint256"}],name:"setPPOPriceInBnb",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"newThresholds",type:"uint256[]"}],name:"setThresholds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"newTreasury",type:"address"}],name:"setTreasury",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"thresholds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenInfo",outputs:[{components:[{internalType:"enum PPOPackage.Tier",name:"tier",type:"uint8"},{internalType:"uint64",name:"startTime",type:"uint64"},{internalType:"uint64",name:"endTime",type:"uint64"},{internalType:"uint64",name:"lastClaimAt",type:"uint64"},{internalType:"uint256",name:"buyAmountBNB",type:"uint256"},{internalType:"uint256",name:"ppoPerDay",type:"uint256"}],internalType:"struct PPOPackage.PackageInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenTier",outputs:[{internalType:"enum PPOPackage.Tier",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"treasury",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"}];function oe(r,t){const e=Math.pow(10,t);return Math.floor(r*e)/e}const or={class:"w-full max-w-[600px] shadow-2xl rounded-2xl border border-purple-500! bg-purple-800 mx-auto"},ur={class:"flex flex-col items-center p-6 sm:p-8 space-y-4"},lr=["disabled"],cr=["disabled"],pr={key:0,class:"mr-2"},fr={key:0,class:"mt-4 text-center"},dr={class:"text-lg text-white font-bold"},hr={key:0,class:"mt-2 text-purple-200 text-sm"},yr=870,mr=.05,gr={__name:"MysteryBox",emits:["mint"],setup(r,{emit:t}){const e=t,n=R(""),s=R(null),a=R(0),i=R(null),o=R(!1),u=We(),{address:c}=le(),f=ce(),{ppoPackageAddress:b}=pe();async function $(){if(!c.value){u.error("Please connect your wallet first!");return}if(n.value<.01){u.error("Minimum BNB is 0.01");return}o.value=!0;try{const v=Kn(n.value.toString(),18),E=await qe(Ot,{chainId:f.value,abi:Bt,address:b.value,functionName:"mint",args:[],value:v,gas:BigInt(3e5)}),A=await Ze(Ot,{chainId:f.value,hash:E}),J=new Tt(Bt),L=A.logs.map(Q=>{try{return J.parseLog(Q)}catch{return null}}).find(Q=>Q&&Q.name==="Minted");if(L){const{tokenId:Q,to:et,tier:vt,amountBNB:q,ppoPerDay:nt}=L.args;i.value={tokenId:Q,to:et,tier:+vt?.toString(),amountBNB:Lt(q,18),ppoPerDay:Lt(nt,18)},console.log("mintResult",i?.value),u.success(`Mint successful! NFT #${Q} (${["Bronze","Silver","Gold"][vt]})
BNB: ${i.value.amountBNB}
PPO/day: ${i.value.ppoPerDay}`),s.value=["Bronze NFT","Silver NFT","Gold NFT"][vt],a.value=Math.floor(n.value*yr/mr),n.value="",e("minted",i.value)}else u.error("Minted event not found!")}catch(v){u.error("Mint failed!"),console.error(v)}finally{o.value=!1}}return(v,E)=>(G(),Z("div",or,[l("div",ur,[E[2]||(E[2]=l("div",{class:"w-32 h-32 sm:w-40 sm:h-40 bg-gradient-to-br from-pink-500 to-purple-500 rounded-xl shadow-lg flex items-center justify-center"},[l("img",{src:Gn,alt:"Bronze NFT",class:"w-full h-full object-cover rounded-full scale-[1.7]"})],-1)),E[3]||(E[3]=l("h2",{class:"!text-white text-xl sm:text-2xl font-bold text-center"}," Mystery Box ",-1)),E[4]||(E[4]=l("p",{class:"!mb-[16px] text-purple-200 text-center !text-[16px]"}," Enter BNB amount to open the box and receive NFT & PPO instantly ",-1)),Ye(l("input",{type:"number","onUpdate:modelValue":E[0]||(E[0]=A=>n.value=A),placeholder:"Enter BNB amount",class:"w-full px-4 py-2 sm:px-5 sm:py-3 rounded-2xl border-2 border-purple-400 bg-white text-purple-900 text-base sm:text-lg font-semibold shadow focus:border-purple-600 focus:shadow-lg transition duration-200 outline-none",disabled:o.value},null,8,lr),[[Ke,n.value,void 0,{number:!0}]]),l("button",{onClick:$,class:"w-full py-3 sm:py-4 rounded-2xl! bg-gradient-to-r from-purple-400 to-purple-700 text-white text-base sm:text-lg font-bold shadow hover:from-purple-700 hover:to-purple-400 hover:shadow-xl transition duration-200 flex items-center justify-center",disabled:o.value},[o.value?(G(),Z("span",pr,[...E[1]||(E[1]=[l("svg",{class:"w-6 h-6 animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)])])):Et("",!0),fe(" "+B(o.value?"Opening...":"Open Box"),1)],8,cr),Ut(On,{name:"fade"},{default:Ge(()=>[s.value?(G(),Z("div",fr,[l("p",dr,"You received: "+B(s.value),1),i.value?(G(),Z("div",hr,[l("div",null,"NFT ID: "+B(i.value.tokenId),1),l("div",null,"Tier: "+B(["Bronze","Silver","Gold"][i.value.tier]),1),l("div",null,"BNB: "+B(i.value.amountBNB),1),l("div",null,"PPO/day: "+B(Xe(oe)(i.value.ppoPerDay)),1)])):Et("",!0)])):Et("",!0)]),_:1})])]))}},wr=ue(gr,[["__scopeId","data-v-06e0a41a"]]),vr={class:"relative text-white rounded-2xl shadow-2xl min-w-[320px] max-w-[90vw] h-min"},br={__name:"Dialog",props:{open:Boolean},emits:["close"],setup(r,{emit:t}){const e=t,n=()=>e("close");return(s,a)=>r.open?(G(),Z("div",{key:0,class:"fixed inset-0 z-[9999] flex justify-center bg-purple-900/60 max-h-[100vh] overflow-y-auto pt-[80px]",onClick:Qe(n,["self"])},[l("div",vr,[_n(s.$slots,"default"),l("button",{class:"absolute top-4 right-4 bg-purple-600 hover:bg-purple-800 text-white rounded-lg! px-4 font-semibold transition focus:outline-none focus:ring-2 focus:ring-purple-400 cursor-pointer",onClick:n}," X ")])])):Et("",!0)}},xr="/nft/ppo-bronze.png",kr="/nft/ppo-silver.png",Tr="/nft/ppo-gold.png";var Qt={exports:{}},Er=Qt.exports,Je;function Or(){return Je||(Je=1,(function(r,t){(function(e,n){r.exports=n()})(Er,(function(){var e=1e3,n=6e4,s=36e5,a="millisecond",i="second",o="minute",u="hour",c="day",f="week",b="month",$="quarter",v="year",E="date",A="Invalid Date",J=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var m=["th","st","nd","rd"],p=x%100;return"["+x+(m[(p-20)%10]||m[p]||m[0])+"]"}},et=function(x,m,p){var w=String(x);return!w||w.length>=m?x:""+Array(m+1-w.length).join(p)+x},vt={s:et,z:function(x){var m=-x.utcOffset(),p=Math.abs(m),w=Math.floor(p/60),h=p%60;return(m<=0?"+":"-")+et(w,2,"0")+":"+et(h,2,"0")},m:function x(m,p){if(m.date()<p.date())return-x(p,m);var w=12*(p.year()-m.year())+(p.month()-m.month()),h=m.clone().add(w,b),k=p-h<0,T=m.clone().add(w+(k?-1:1),b);return+(-(w+(p-h)/(k?h-T:T-h))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:b,y:v,w:f,d:c,D:E,h:u,m:o,s:i,ms:a,Q:$}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},q="en",nt={};nt[q]=Q;var Jt="$isDayjsObject",N=function(x){return x instanceof Wt||!(!x||!x[Jt])},d=function x(m,p,w){var h;if(!m)return q;if(typeof m=="string"){var k=m.toLowerCase();nt[k]&&(h=k),p&&(nt[k]=p,h=k);var T=m.split("-");if(!h&&T.length>1)return x(T[0])}else{var S=m.name;nt[S]=m,h=S}return!w&&h&&(q=h),h||!w&&q},P=function(x,m){if(N(x))return x.clone();var p=typeof m=="object"?m:{};return p.date=x,p.args=arguments,new Wt(p)},_=vt;_.l=d,_.i=N,_.w=function(x,m){return P(x,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var Wt=(function(){function x(p){this.$L=d(p.locale,null,!0),this.parse(p),this.$x=this.$x||p.x||{},this[Jt]=!0}var m=x.prototype;return m.parse=function(p){this.$d=(function(w){var h=w.date,k=w.utc;if(h===null)return new Date(NaN);if(_.u(h))return new Date;if(h instanceof Date)return new Date(h);if(typeof h=="string"&&!/Z$/i.test(h)){var T=h.match(J);if(T){var S=T[2]-1||0,D=(T[7]||"0").substring(0,3);return k?new Date(Date.UTC(T[1],S,T[3]||1,T[4]||0,T[5]||0,T[6]||0,D)):new Date(T[1],S,T[3]||1,T[4]||0,T[5]||0,T[6]||0,D)}}return new Date(h)})(p),this.init()},m.init=function(){var p=this.$d;this.$y=p.getFullYear(),this.$M=p.getMonth(),this.$D=p.getDate(),this.$W=p.getDay(),this.$H=p.getHours(),this.$m=p.getMinutes(),this.$s=p.getSeconds(),this.$ms=p.getMilliseconds()},m.$utils=function(){return _},m.isValid=function(){return this.$d.toString()!==A},m.isSame=function(p,w){var h=P(p);return this.startOf(w)<=h&&h<=this.endOf(w)},m.isAfter=function(p,w){return P(p)<this.startOf(w)},m.isBefore=function(p,w){return this.endOf(w)<P(p)},m.$g=function(p,w,h){return _.u(p)?this[w]:this.set(h,p)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(p,w){var h=this,k=!!_.u(w)||w,T=_.p(p),S=function(xt,W){var mt=_.w(h.$u?Date.UTC(h.$y,W,xt):new Date(h.$y,W,xt),h);return k?mt:mt.endOf(c)},D=function(xt,W){return _.w(h.toDate()[xt].apply(h.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(W)),h)},U=this.$W,V=this.$M,j=this.$D,Pt="set"+(this.$u?"UTC":"");switch(T){case v:return k?S(1,0):S(31,11);case b:return k?S(1,V):S(0,V+1);case f:var bt=this.$locale().weekStart||0,Ct=(U<bt?U+7:U)-bt;return S(k?j-Ct:j+(6-Ct),V);case c:case E:return D(Pt+"Hours",0);case u:return D(Pt+"Minutes",1);case o:return D(Pt+"Seconds",2);case i:return D(Pt+"Milliseconds",3);default:return this.clone()}},m.endOf=function(p){return this.startOf(p,!1)},m.$set=function(p,w){var h,k=_.p(p),T="set"+(this.$u?"UTC":""),S=(h={},h[c]=T+"Date",h[E]=T+"Date",h[b]=T+"Month",h[v]=T+"FullYear",h[u]=T+"Hours",h[o]=T+"Minutes",h[i]=T+"Seconds",h[a]=T+"Milliseconds",h)[k],D=k===c?this.$D+(w-this.$W):w;if(k===b||k===v){var U=this.clone().set(E,1);U.$d[S](D),U.init(),this.$d=U.set(E,Math.min(this.$D,U.daysInMonth())).$d}else S&&this.$d[S](D);return this.init(),this},m.set=function(p,w){return this.clone().$set(p,w)},m.get=function(p){return this[_.p(p)]()},m.add=function(p,w){var h,k=this;p=Number(p);var T=_.p(w),S=function(V){var j=P(k);return _.w(j.date(j.date()+Math.round(V*p)),k)};if(T===b)return this.set(b,this.$M+p);if(T===v)return this.set(v,this.$y+p);if(T===c)return S(1);if(T===f)return S(7);var D=(h={},h[o]=n,h[u]=s,h[i]=e,h)[T]||1,U=this.$d.getTime()+p*D;return _.w(U,this)},m.subtract=function(p,w){return this.add(-1*p,w)},m.format=function(p){var w=this,h=this.$locale();if(!this.isValid())return h.invalidDate||A;var k=p||"YYYY-MM-DDTHH:mm:ssZ",T=_.z(this),S=this.$H,D=this.$m,U=this.$M,V=h.weekdays,j=h.months,Pt=h.meridiem,bt=function(W,mt,Dt,Yt){return W&&(W[mt]||W(w,k))||Dt[mt].slice(0,Yt)},Ct=function(W){return _.s(S%12||12,W,"0")},xt=Pt||function(W,mt,Dt){var Yt=W<12?"AM":"PM";return Dt?Yt.toLowerCase():Yt};return k.replace(L,(function(W,mt){return mt||(function(Dt){switch(Dt){case"YY":return String(w.$y).slice(-2);case"YYYY":return _.s(w.$y,4,"0");case"M":return U+1;case"MM":return _.s(U+1,2,"0");case"MMM":return bt(h.monthsShort,U,j,3);case"MMMM":return bt(j,U);case"D":return w.$D;case"DD":return _.s(w.$D,2,"0");case"d":return String(w.$W);case"dd":return bt(h.weekdaysMin,w.$W,V,2);case"ddd":return bt(h.weekdaysShort,w.$W,V,3);case"dddd":return V[w.$W];case"H":return String(S);case"HH":return _.s(S,2,"0");case"h":return Ct(1);case"hh":return Ct(2);case"a":return xt(S,D,!0);case"A":return xt(S,D,!1);case"m":return String(D);case"mm":return _.s(D,2,"0");case"s":return String(w.$s);case"ss":return _.s(w.$s,2,"0");case"SSS":return _.s(w.$ms,3,"0");case"Z":return T}return null})(W)||T.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(p,w,h){var k,T=this,S=_.p(w),D=P(p),U=(D.utcOffset()-this.utcOffset())*n,V=this-D,j=function(){return _.m(T,D)};switch(S){case v:k=j()/12;break;case b:k=j();break;case $:k=j()/3;break;case f:k=(V-U)/6048e5;break;case c:k=(V-U)/864e5;break;case u:k=V/s;break;case o:k=V/n;break;case i:k=V/e;break;default:k=V}return h?k:_.a(k)},m.daysInMonth=function(){return this.endOf(b).$D},m.$locale=function(){return nt[this.$L]},m.locale=function(p,w){if(!p)return this.$L;var h=this.clone(),k=d(p,w,!0);return k&&(h.$L=k),h},m.clone=function(){return _.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},x})(),we=Wt.prototype;return P.prototype=we,[["$ms",a],["$s",i],["$m",o],["$H",u],["$W",c],["$M",b],["$y",v],["$D",E]].forEach((function(x){we[x[1]]=function(m){return this.$g(m,x[0],x[1])}})),P.extend=function(x,m){return x.$i||(x(m,Wt,P),x.$i=!0),P},P.locale=d,P.isDayjs=N,P.unix=function(x){return P(1e3*x)},P.en=nt[q],P.Ls=nt,P.p={},P}))})(Qt)),Qt.exports}var _r=Or();const It=$n(_r),$r={class:"pool-card p-[16px] md:p-[30px]"},Nr={class:"pool-header"},Pr={class:"pool-icon"},Sr={key:0,src:xr,alt:"Bronze NFT",class:"w-full h-full object-cover rounded-full"},Ir={key:1,src:kr,alt:"Silver NFT",class:"w-full h-full object-cover rounded-full"},Ar={key:2,src:Tr,alt:"Gold NFT",class:"w-full h-full object-cover rounded-full"},Br={class:"pool-info"},Mr={class:"pool-name"},Cr={class:"pool-stats"},Dr={class:"stat-row"},Rr={class:"stat-value"},Fr={class:"stat-row"},Ur={class:"stat-value"},Lr={class:"stat-row"},Vr={class:"stat-value"},zr={class:"stat-row"},Hr={class:"stat-value"},Jr={class:"pool-actions"},Wr=["disabled"],Yr={__name:"InvestNFTCard",props:{nft:{type:Object,required:!0}},emits:["claimed","details"],setup(r,{emit:t}){const e=r,n=t,{address:s}=le(),a=ce(),i=We(),{ppoPackageAddress:o}=pe(),u=lt(()=>e.nft.tier===0?"Bozen NFT":e.nft.tier===1?"Silver NFT":e.nft.tier===2?"Gold NFT":""),c=lt(()=>It().isAfter(It(e.nft.startTime?.toString()*1e3))&&It().isBefore(It(e.nft.endTime?.toString()*1e3))),f=lt(()=>It(e.nft.endTime?.toString()*1e3).diff(It(e.nft.startTime?.toString()*1e3),"day")),b=lt(()=>Lt(e.nft.buyAmountBNB?.toString(),18)),$=lt(()=>oe(Lt(e.nft.ppoPerDay?.toString(),18),5)),v=lt(()=>oe(Lt(e.nft.pendingPPO?.toString(),18),5)),E=R(!1);async function A(){if(!s.value){i.error("Please connect your wallet first!");return}E.value=!0;try{const J=await qe(Ot,{account:s.value,chainId:a.value,abi:Bt,address:o.value,functionName:"claim",args:[+e.nft.tokenId?.toString()]});console.log("Claiming PPO...",+e.nft.tokenId?.toString()),await Ze(Ot,{chainId:a.value,hash:J}),n("claimed"),i.success("Claim successful!")}catch(J){i.error("Claim failed!"),console.error(J)}finally{E.value=!1}}return(J,L)=>(G(),Z("div",$r,[l("div",Nr,[l("div",Pr,[e.nft.tier===0?(G(),Z("img",Sr)):e.nft.tier===1?(G(),Z("img",Ir)):e.nft.tier===2?(G(),Z("img",Ar)):Et("",!0)]),l("div",Br,[l("h3",Mr,B(u.value),1)]),l("div",{class:Nn(["pool-status",c.value?"active":"inactive"])},B(c.value?"Active":"Inactive"),3)]),l("div",Cr,[l("div",Dr,[L[0]||(L[0]=l("span",{class:"stat-label"},"Lock Period",-1)),l("span",Rr,B(f.value)+" days",1)]),l("div",Fr,[L[1]||(L[1]=l("span",{class:"stat-label"},"Min Stake",-1)),l("span",Ur,B(b.value)+" BNB",1)]),l("div",Lr,[L[2]||(L[2]=l("span",{class:"stat-label"},"PPO per day",-1)),l("span",Vr,B($.value)+" PPO",1)]),l("div",zr,[L[3]||(L[3]=l("span",{class:"stat-label"},"Pending PPO",-1)),l("span",Hr,B(v.value)+" PPO",1)])]),l("div",Jr,[l("button",{class:"btn btn-linear",onClick:A,disabled:!c.value||E.value},[L[4]||(L[4]=l("i",{class:"fas fa-lock me-2"},null,-1)),fe(" "+B(E.value?"Claiming...":"Claim Now"),1)],8,Wr)])]))}},Kr=ue(Yr,[["__scopeId","data-v-b0770ee8"]]),Gr={class:"investment-page"},Xr={class:"investment-overview padding-large"},qr={class:"container"},Zr={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Qr={class:"col-lg-12 col-md-6 mb-4"},jr={class:"stat-card"},ti={class:"stat-content"},ei={class:"stat-value"},ni={class:"col-lg-12 col-md-6 mb-4"},si={class:"stat-card"},ri={class:"stat-content"},ii={class:"stat-value"},ai={key:0,class:"personal-stats padding-large bg-gradient"},oi={class:"container"},ui={class:"row"},li={class:"col-lg-3 col-md-6 mb-4"},ci={class:"stat-card personal"},pi={class:"stat-content"},fi={class:"stat-value"},di={class:"col-lg-3 col-md-6 mb-4"},hi={class:"stat-card personal"},yi={class:"stat-content"},mi={class:"stat-value"},gi={class:"col-lg-3 col-md-6 mb-4"},wi={class:"stat-card personal"},vi={class:"stat-content"},bi={class:"stat-value"},xi={class:"col-lg-3 col-md-6 mb-4"},ki={class:"stat-card personal"},Ti={class:"stat-content"},Ei={class:"stat-value"},Oi={class:"staking-pools padding-large bg-dark"},_i={class:"container relative"},$i={class:"flex justify-end md:mb-[-80px]"},Ni={class:"row"},Pi={class:"col-12"},Si={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[24px]"},Ii={class:"modal-header"},Ai={class:"modal-body"},Bi={class:"stake-form"},Mi={class:"form-group"},Ci={class:"input-group"},Di={class:"balance-info"},Ri={class:"stake-preview"},Fi={class:"preview-item"},Ui={class:"preview-item"},Li={class:"preview-item"},Vi=["disabled"],zi={__name:"Investment",setup(r){Pn();const{currentUser:t,getUserData:e}=In(),{isWalletConnected:n}=Sn(),s=R(!1),a=R(!1),i=R(null),o=R(""),u=R(0),c=R([]),{address:f}=le(),{ppoPackageAddress:b}=pe(),$=ce();R(!1),R(""),R("info");const v=R({totalNfts:"-",totalMyNfts:"-",totalEarned:"125,000",apy:"15.8",totalStakers:"12,450"}),E=lt(()=>n.value?{totalStaked:"45,000",totalEarned:"2,500",apy:"15.8",totalStakers:"1"}:{totalStaked:"0",totalEarned:"0",apy:"0",totalStakers:"0"});R([{id:1,name:"Flexible Staking",description:"Stake and unstake anytime with no lock period",icon:"fas fa-unlock",apy:8.5,lockPeriod:"No lock",minStake:100,totalStaked:"850,000",status:"active"},{id:2,name:"30-Day Lock",description:"Lock your tokens for 30 days for higher rewards",icon:"fas fa-lock",apy:12.5,lockPeriod:"30 days",minStake:500,totalStaked:"1,200,000",status:"active"},{id:3,name:"90-Day Lock",description:"Long-term staking with maximum rewards",icon:"fas fa-lock",apy:18.5,lockPeriod:"90 days",minStake:1e3,totalStaked:"400,000",status:"active"},{id:4,name:"VIP Staking",description:"Exclusive staking for large holders",icon:"fas fa-crown",apy:25,lockPeriod:"180 days",minStake:1e4,totalStaked:"0",status:"coming-soon"}]);const A=R([{id:1,poolName:"Flexible Staking",amount:500,earned:12.5,stakeDate:new Date("2024-01-15"),progress:100},{id:2,poolName:"30-Day Lock",amount:1e3,earned:45.2,stakeDate:new Date("2024-02-01"),progress:75}]);R([{id:1,token1:"PPO",token2:"ETH",token1Icon:"/src/assets/images/ppo-icon.png",token2Icon:"/src/assets/images/eth-icon.png",description:"PPO/ETH liquidity pool",apy:45.2,tvl:2.5,rewards:"PPO + ETH"},{id:2,token1:"PPO",token2:"USDT",token1Icon:"/src/assets/images/ppo-icon.png",token2Icon:"/src/assets/images/usdt-icon.png",description:"PPO/USDT liquidity pool",apy:38.7,tvl:1.8,rewards:"PPO + USDT"}]);const J=R([{id:1,date:new Date("2024-02-15"),type:"stake",amount:500,status:"completed"},{id:2,date:new Date("2024-02-10"),type:"unstake",amount:250,status:"completed"},{id:3,date:new Date("2024-02-05"),type:"claim",amount:12.5,status:"completed"}]),L=lt(()=>{if(!i.value||!o.value)return 0;const N=parseFloat(o.value),d=i.value.apy;return(N*d/100/12).toFixed(2)}),Q=lt(()=>{if(!i.value||!o.value)return!1;const N=parseFloat(o.value);return N>=i.value.minStake&&N<=u.value}),et=()=>{i.value=null,o.value=""},vt=()=>{o.value=u.value.toString()},q=async()=>{if(!(!f.value||!b.value))try{const N=await ne(Ot,{address:b.value,abi:Bt,functionName:"getPackagesOfOwner",args:[f.value],chainId:$.value});console.log("User NFTs:",N),c.value=N;try{const d=await ne(Ot,{address:b.value,abi:Bt,functionName:"totalSupply",chainId:$.value});v.value.totalNfts=d.toLocaleString()}catch(d){console.error("Error loading totalSupply:",d),v.value.totalNfts="-"}try{const d=await ne(Ot,{address:b.value,abi:Bt,functionName:"balanceOf",args:[f.value],chainId:$.value});v.value.totalMyNfts=d.toLocaleString()}catch(d){console.error("Error loading balanceOf:",d),v.value.totalMyNfts="-"}}catch(N){console.error("Error loading NFTs:",N)}},nt=async()=>{if(Q.value)try{console.log(`Staking ${o.value} PPO in ${i.value.name}`),A.value.push({id:Date.now(),poolName:i.value.name,amount:parseFloat(o.value),earned:0,stakeDate:new Date,progress:0}),J.value.unshift({id:Date.now(),date:new Date,type:"stake",amount:parseFloat(o.value),status:"completed"}),et()}catch(N){console.error("Staking failed:",N)}};ve(async()=>{if(console.log("Investment component mounted"),t.value)try{const N=await e();N.success&&(u.value=N.data.tokenBalance||0)}catch(N){console.error("Failed to load user data:",N)}});const Jt=async()=>{if(t.value)try{const N=await e();N.success&&(u.value=N.data.tokenBalance||0)}catch(N){console.error("Failed to load user data:",N)}};return ve(()=>{Jt(),q(),setInterval(q,6e4)}),An(f,q),(N,d)=>(G(),Z("div",Gr,[Ut(Mn),d[25]||(d[25]=Bn('<section class="investment-hero padding-large" data-v-d0cb6545><div class="container" data-v-d0cb6545><div class="row" data-v-d0cb6545><div class="col-12" data-v-d0cb6545><div class="investment-header text-center" data-v-d0cb6545><h1 class="investment-title" data-v-d0cb6545>Investment</h1></div></div></div></div></section>',1)),l("section",Xr,[l("div",qr,[l("div",Zr,[l("div",Qr,[l("div",jr,[d[5]||(d[5]=l("div",{class:"stat-icon"},[l("i",{class:"fas fa-wallet"})],-1)),l("div",ti,[l("h3",ei,B(v.value.totalNfts),1),d[4]||(d[4]=l("p",{class:"stat-label"},"Total NFTs",-1))])])]),l("div",ni,[l("div",si,[d[7]||(d[7]=l("div",{class:"stat-icon"},[l("i",{class:"fas fa-chart-line"})],-1)),l("div",ri,[l("h3",ii,B(v.value.totalMyNfts),1),d[6]||(d[6]=l("p",{class:"stat-label"},"Total My NFTs",-1))])])])])])]),Xe(n)?(G(),Z("section",ai,[l("div",oi,[d[16]||(d[16]=l("div",{class:"row"},[l("div",{class:"col-12"},[l("h2",{class:"section-title text-center mb-5"}," Your Investment Summary ")])],-1)),l("div",ui,[l("div",li,[l("div",ci,[d[9]||(d[9]=l("div",{class:"stat-icon"},[l("i",{class:"fas fa-wallet"})],-1)),l("div",pi,[l("h3",fi,B(E.value.totalStaked),1),d[8]||(d[8]=l("p",{class:"stat-label"},"Your Total Staked",-1))])])]),l("div",di,[l("div",hi,[d[11]||(d[11]=l("div",{class:"stat-icon"},[l("i",{class:"fas fa-chart-line"})],-1)),l("div",yi,[l("h3",mi,B(E.value.totalEarned),1),d[10]||(d[10]=l("p",{class:"stat-label"},"Your Total Earned",-1))])])]),l("div",gi,[l("div",wi,[d[13]||(d[13]=l("div",{class:"stat-icon"},[l("i",{class:"fas fa-percentage"})],-1)),l("div",vi,[l("h3",bi,B(E.value.apy)+"%",1),d[12]||(d[12]=l("p",{class:"stat-label"},"Your Average APY",-1))])])]),l("div",xi,[l("div",ki,[d[15]||(d[15]=l("div",{class:"stat-icon"},[l("i",{class:"fas fa-coins"})],-1)),l("div",Ti,[l("h3",Ei,B(u.value),1),d[14]||(d[14]=l("p",{class:"stat-label"},"Available Balance",-1))])])])])])])):Et("",!0),l("section",Oi,[l("div",_i,[l("div",$i,[l("button",{class:"bg-pink-600 hover:bg-pink-700 text-white font-semibold px-6 py-2 rounded-xl! shadow-lg z-10",onClick:d[0]||(d[0]=P=>a.value=!0)}," Invest ")]),l("div",Ni,[l("div",Pi,[d[17]||(d[17]=l("h2",{class:"section-title text-center mb-5"},"My NFTs",-1)),l("div",Si,[(G(!0),Z(Cn,null,Dn(c.value,P=>(G(),Rn(Kr,{key:P.tier+"-"+P.startTime,nft:P,onClaimed:q},null,8,["nft"]))),128))])])])])]),s.value?(G(),Z("div",{key:1,class:"modal-overlay",onClick:et},[l("div",{class:"staking-modal",onClick:d[2]||(d[2]=Qe(()=>{},["stop"]))},[l("div",Ii,[l("h3",null,"Stake "+B(i.value?.name),1),l("button",{class:"close-btn",onClick:et},[...d[18]||(d[18]=[l("i",{class:"fas fa-times"},null,-1)])])]),l("div",Ai,[l("div",Bi,[l("div",Mi,[d[20]||(d[20]=l("label",null,"Amount to Stake",-1)),l("div",Ci,[Ye(l("input",{"onUpdate:modelValue":d[1]||(d[1]=P=>o.value=P),type:"number",class:"form-control",placeholder:"Enter amount",min:"0"},null,512),[[Ke,o.value]]),d[19]||(d[19]=l("span",{class:"input-suffix"},"PPO",-1))]),l("div",Di,[l("span",null,"Available: "+B(u.value)+" PPO",1),l("button",{class:"btn-link",onClick:vt}," Max ")])]),l("div",Ri,[l("div",Fi,[d[21]||(d[21]=l("span",null,"APY:",-1)),l("span",null,B(i.value?.apy)+"%",1)]),l("div",Ui,[d[22]||(d[22]=l("span",null,"Lock Period:",-1)),l("span",null,B(i.value?.lockPeriod),1)]),l("div",Li,[d[23]||(d[23]=l("span",null,"Estimated Rewards (30 days):",-1)),l("span",null,B(L.value)+" PPO",1)])]),l("button",{class:"btn btn-linear btn-large w-100",onClick:nt,disabled:!Q.value},[...d[24]||(d[24]=[l("i",{class:"fas fa-lock me-2"},null,-1),fe("Confirm Stake ",-1)])],8,Vi)])])])])):Et("",!0),Ut(br,{open:a.value,onClose:d[3]||(d[3]=P=>a.value=!1)},{default:Ge(()=>[Ut(wr,{onMinted:q})]),_:1},8,["open"]),Ut(Fn)]))}},Wi=ue(zi,[["__scopeId","data-v-d0cb6545"]]);export{Wi as default};
